<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[æŠ€æœ¯åˆ†äº«ç¬¬13æœŸ]]></title>
      <url>%2Fpost%2Fknowledage-share-13%2F</url>
      <content type="text"><![CDATA[åˆæ˜¯å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´æ²¡æœ‰æ›´æ–°ï¼Œæžœç„¶åˆæ˜¯ä¸å®šæœŸæ›´æ–°ï¼Œæ–‡ç« çš„æœ‰äº›å†…å®¹ä¹Ÿæ˜¯å¾ˆä¹…ä»¥å‰ç§¯ç´¯çš„ï¼Œå¹¶ä¸æ˜¯å› ä¸ºå¤ªæ‡’ï¼Œè€Œæ˜¯ç¡®å®žæ²¡æœ‰å¤ªå¤šçš„ç²¾åŠ›ã€‚ é¢˜å›¾ä¸ºé›¨ä¸­çš„æœ›äº¬SOHOï¼Œä»Šå¹´å…¨å›½çš„é›¨æ°´ç‰¹åˆ«å¤šï¼ŒåŒ—äº¬äº¦æ˜¯å¦‚æ­¤ã€‚å—æ–¹çš„é±¼ç±³ä¹‹ä¹¡åœ°åŒºå‡ºçŽ°äº†ä¸¥é‡çš„æ´ªç¾ï¼Œä¸çŸ¥é“ä»Šå¹´çš„ç²®é£Ÿäº§é‡ä¼šå—å¤šå¤§å½±å“ã€‚æˆ‘ä»¬çš„åœ°çƒåœ¨äººç±»ç¿»å¤©è¦†åœ°çš„å˜æ›´åŽå®žåœ¨ç»å—ä¸äº†å¤ªå¤šçš„hackï¼Œæ„¿é›¨å­£æ—©æ—¥è¿‡åŽ»ã€‚ èµ„æº1.bocker bocker=bash + dockerï¼Œå…¶åˆ©ç”¨100å¤šè¡Œbashä»£ç å®žçŽ°çš„ç®€æ˜“ç‰ˆçš„dockerï¼Œä½¿ç”¨åˆ°çš„åº•å±‚æŠ€æœ¯è·Ÿdockeræ˜¯ä¸€è‡´çš„ï¼ŒåŒ…æ‹¬chrootã€namespaceã€cgroupã€‚ 2.kubectx å¤©å¤©æ“ä½œk8sçš„å·¥ç¨‹å¸ˆä¸€å®šå°‘ä¸äº†ä½¿ç”¨kubectlå‘½ä»¤ï¼Œè€Œç”¨kubectlå‘½ä»¤çš„å·¥ç¨‹å¸ˆä¸€å®šä¼šç‰¹åˆ«çƒ¦å¤©å¤©è¾“å…¥-n ${namespace}è¿™æ ·çš„æ“ä½œï¼Œè¯¥å·¥å…·å¯ä»¥çœåŽ»è¾“å…¥namespaceçš„æ“ä½œã€‚åˆšå¼€å§‹çš„æ—¶å€™ä¸æ˜¯å¤ªä¹ æƒ¯è¯¥å·¥å…·ï¼Œç›´åˆ°è¿‘æœŸæ‰æ„ŸçŸ¥åˆ°è¯¥å·¥å…·çš„ä»·å€¼ã€‚ðŸ¤¦â€â™‚ï¸ 3.KubeOperator k8sé›†ç¾¤çš„å®‰è£…æ“ä½œåŸºæœ¬ä¸Šéƒ½æ˜¯é»‘å±æ¥å®Œæˆçš„ï¼ŒåŒæ—¶é›†ç¾¤è§„æ¨¡è¾ƒå¤§æ—¶ï¼Œè¿˜éœ€è¦ä¸€äº›è‡ªåŠ¨åŒ–çš„æ‰‹æ®µæ¥è§£å†³å®‰è£…å’Œè¿ç»´ç‰©ç†æœºçš„é—®é¢˜ã€‚KubeOperatoræä¾›äº†ç•Œé¢åŒ–çš„æ“ä½œæ¥å®Œæˆk8sé›†ç¾¤çš„é…ç½®ã€å®‰è£…ã€å‡çº§ç­‰çš„æ“ä½œï¼Œåº•å±‚ä¹Ÿæ˜¯è°ƒç”¨äº†ansibleæ¥ä½œä¸ºè‡ªåŠ¨åŒ–çš„å·¥å…·ã€‚è¯¥é¡¹ç›®å·²ç»åŠ å…¥CNCFï¼ŒæœŸæœ›åŽé¢å¯ä»¥åšçš„åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œç»™k8sé›†ç¾¤çš„è¿ç»´å¸¦æ¥ä¾¿åˆ©ã€‚ 4.awesome-operators k8sç”Ÿæ€çš„operatoréžå¸¸ç«çˆ†ï¼Œä½œä¸ºk8sæ‰©å±•èƒ½åŠ›çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œè¯¥é¡¹ç›®æ±‡æ€»äº†å¸¸è§çš„operatoré¡¹ç›®ã€‚ 5.chaos-mesh pingcapå¼€æºçš„Kubernetesçš„æ··æ²Œå·¥ç¨‹é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨CRDçš„æ–¹å¼æ¥æ³¨å…¥æ•…éšœåˆ°Kubernetesé›†ç¾¤ä¸­ã€‚ 6.devops-exercises DevOpsç›¸å…³çš„ä¸€äº›é¢è¯•é¢˜ï¼Œæ¶‰åŠåˆ°çš„æ–¹é¢è¿˜æ˜¯æ¯”è¾ƒå…¨çš„ã€‚ 7.shell2http å¯ä»¥å°†shellè„šæœ¬æ”¾åˆ°ä¸šåŠ¡é¡µé¢ä¸Šæ‰§è¡Œçš„å·¥å…·ï¼Œåœ¨webé¡µé¢ä¸Šç‚¹å‡»æŒ‰é’®åŽï¼Œä¼šæ‰§è¡Œshellè„šæœ¬ï¼Œshellè„šæœ¬çš„è¾“å‡ºä¼šåœ¨webé¡µé¢ä¸Šæ˜¾ç¤ºã€‚ 8.Google Shell é£Žæ ¼æŒ‡å— Googleç¼–ç¨‹è§„èŒƒè¿˜æ˜¯æ¯”è¾ƒæœ‰æƒå¨æ€§çš„ï¼Œæ­¤ä¸ºShellçš„ç¼–ç è§„èŒƒã€‚ 9.shellcheck Shellä½œä¸ºå¼±ç±»åž‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œç¨æœ‰ä¸æ…Žè¿˜æ˜¯éžå¸¸å®¹æ˜“å†™é”™è¯­æ³•çš„ï¼Œè‡³å°‘å¾ˆå¤šçš„è¯­æ³•æˆ‘æ˜¯è®°ä¸ä½çš„ï¼Œæ¯æ¬¡éƒ½æ˜¯è¾¹æŸ¥è¯­æ³•è¾¹å†™ðŸ¤¦â€ã€‚è¯¥é¡¹ç›®ä¸ºShellçš„é™æ€æ£€æŸ¥å·¥å…·ï¼Œç”¨æ¥æ£€æŸ¥å¯èƒ½çš„è¯­æ³•é”™è¯¯ï¼Œåœ¨Githubä¸Šçš„startæ•°é‡è¿˜æ˜¯éžå¸¸é«˜çš„ã€‚ ä¸ä»…æ”¯æŒå‘½ä»¤è¡Œå·¥å…·æ£€æŸ¥ï¼Œè€Œä¸”è¿˜å¯ä»¥è·Ÿå¸¸ç”¨çš„ç¼–è¾‘å™¨é›†æˆï¼ˆæ¯”å¦‚vimã€vscodeï¼‰ï¼Œç”¨æ¥å®žçŽ°è¾¹å†™è¾¹æ£€æŸ¥çš„æ•ˆæžœã€‚è¿˜æä¾›äº†webç•Œé¢ï¼Œå¯ä»¥å°†shellè„šæœ¬è¾“å…¥åˆ°webç•Œé¢ä¸Šæ¥åœ¨çº¿æ£€æŸ¥ã€‚ 10.teambition é˜¿é‡Œçš„ä¸€æ¬¾çš„è¿œç¨‹åä½œå·¥å…·ï¼Œç±»ä¼¼äºŽå›½å¤–slack+trelloçš„ç»“åˆç‰ˆï¼Œåœ¨äº§å“è®¾è®¡ä¸Šèƒ½çœ‹åˆ°å¤ªå¤šåœ°æ–¹å€Ÿé‰´äº†trelloï¼Œéžå¸¸åƒæ˜¯trelloçš„æœ¬åœŸåŒ–ç‰ˆæœ¬ï¼Œæ›´è´´è¿‘å›½äººçš„ä½¿ç”¨ä¹ æƒ¯ï¼Œå¯ç”¨äºŽç®¡ç†å›¢é˜Ÿå’Œä¸ªäººçš„ä»»åŠ¡ã€‚ 11.IcePanel IcePanelä¸ºvscodeçš„ä¸€æ¬¾æ’ä»¶ï¼Œæä¾›äº†k8sä¸€äº›åŸºç¡€å¯¹è±¡çš„ç¼–è¾‘ç”Ÿæˆå™¨ï¼Œé€šè¿‡uiçš„ç•Œé¢å³å¯ç”Ÿæˆk8sçš„ConfigMapã€Deploymentã€Serviceç­‰å¯¹è±¡ã€‚ Play with Kubernetes ä¸€ä¸ªæä¾›åœ¨çº¿çš„kubernetesé›†ç¾¤çš„å·¥å…·ï¼Œåœ¨ç•Œé¢ä¸Šç‚¹ä¸€ä¸‹æŒ‰é’®å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªk8sé›†ç¾¤ï¼Œä¸éœ€è¦æ³¨å†Œï¼Œéžå¸¸æ–¹ä¾¿ï¼Œä½†åˆ›å»ºçš„é›†ç¾¤åªæœ‰å››ä¸ªå°æ—¶çš„ä½¿ç”¨æ—¶é—´ã€‚å¯ä»¥ç”¨æ¥ç†Ÿæ‚‰k8sçš„åŸºæœ¬æ“ä½œï¼Œæˆ–è€…è¯•éªŒä¸€äº›åŠŸèƒ½ã€‚ ç²¾å½©æ–‡ç« 1.è…¾è®¯è‡ªç ”ä¸šåŠ¡ä¸Šäº‘ï¼šä¼˜åŒ–Kubernetesé›†ç¾¤è´Ÿè½½çš„æŠ€æœ¯æ–¹æ¡ˆæŽ¢è®¨ k8sè™½ç„¶åœ¨æœåŠ¡å™¨çš„èµ„æºåˆ©ç”¨çŽ‡ä¸Šæ¯”èµ·ä¼ ç»Ÿçš„ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºéƒ¨ç½²æœåŠ¡æ–¹å¼æœ‰äº†éžå¸¸å¤§çš„æå‡ï¼Œæœ¬æ–‡ç»“åˆå®žè·µç»éªŒï¼Œä»Žpodã€nodeã€hpaç­‰å¤šä¸ªç»´æŠ¤æ¥ä¼˜åŒ–ä»¥ä¾¿è¿›ä¸€æ­¥çš„åŽ‹æ¦¨æœåŠ¡å™¨çš„èµ„æºã€‚ ä¹¦ç±1.[Linuxå¼€æºç½‘ç»œå…¨æ ˆè¯¦è§£ï¼šä»ŽDPDKåˆ°OpenFlow])(http://product.china-pub.com/8061094) è¯¥ä¹¦å¯ä»¥ä½œä¸ºå…¨é¢äº†è§£å¼€æºè½¯ä»¶ç½‘ç»œçš„ç›¸å…³æŠ€æœ¯ï¼Œæ¶‰åŠåˆ°Linuxè™šæ‹Ÿç½‘ç»œã€DPDKã€OpenStackã€å®¹å™¨ç›¸å…³ç½‘ç»œç­‰çŸ¥è¯†ã€‚ 2.Kubernetes ç½‘ç»œæƒå¨æŒ‡å—ï¼šåŸºç¡€ã€åŽŸç†ä¸Žå®žè·µ è¯¥ä¹¦å¯ä»¥ä½œä¸ºå…¨é¢äº†è§£k8sç›¸å…³çš„å®¹å™¨ç½‘ç»œçš„ç›¸å…³æŠ€æœ¯ï¼Œå¦‚æžœå¯¹k8så‘¨è¾¹çš„è™šæ‹Ÿç½‘ç»œçŸ¥è¯†æœ‰æ‰€å…¨é¢äº†è§£ï¼Œè¯¥ä¹¦ç±è¿˜æ˜¯æ¯”è¾ƒé€‚åˆçš„ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ‰‹åŠ¨æ›´æ–°Custom Resourceä¸­çš„statuséƒ¨åˆ†]]></title>
      <url>%2Fpost%2Fupdate-cr-status%2F</url>
      <content type="text"><![CDATA[åœ¨k8sä¸­çš„å†…ç½®èµ„æºå¾ˆå¤šéƒ½æœ‰statuséƒ¨åˆ†ï¼Œæ¯”å¦‚deploymentï¼Œç”¨æ¥æ ‡è¯†å½“å‰èµ„æºçš„çŠ¶æ€ä¿¡æ¯ã€‚åŒæ ·åœ¨CRDçš„ä½“ç³»ä¸­ï¼Œä¹Ÿéƒ½æœ‰statuséƒ¨åˆ†ã€‚è¿™äº›statuséƒ¨åˆ†ä¿¡æ¯ï¼Œæ˜¯ç”±operatoræ¥è´Ÿè´£ç»´æŠ¤çš„ã€‚ å¦‚æžœç›´æŽ¥é‡‡ç”¨kubectl editçš„æ–¹å¼æ¥ä¿®æ”¹statuséƒ¨åˆ†ä¿¡æ¯ï¼Œä¼šå‘çŽ°æ˜¯æ— æ³•ç›´æŽ¥ä¿®æ”¹statuséƒ¨åˆ†çš„ï¼Œå› ä¸ºstatusæ˜¯æ— æ³•ä¿®æ”¹æˆåŠŸçš„ï¼Œå› ä¸ºstatuséƒ¨åˆ†æ˜¯CRçš„ä¸€ä¸ªå­èµ„æºã€‚ å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„æ–¹å¼æ¥å®Œæˆä¿®æ”¹ é¦–å…ˆè¦å‡†å¤‡ä¸€ä¸ªå®Œæ•´çš„yamlæ–‡ä»¶ï¼ŒåŒ…å«äº†statuséƒ¨åˆ†ä¿¡æ¯ è¿™ä¸ªçš„æ ¼å¼å¿…é¡»ä¸ºjson 1234567891011121314&#123; &quot;apiVersion&quot;: &quot;kuring.me/v1alpha1&quot;, &quot;kind&quot;: &quot;Certificate&quot;, &quot;metadata&quot;: &#123; &quot;name&quot;: &quot;test&quot;, &quot;namespace&quot;: &quot;default&quot; &#125;, &quot;spec&quot;: &#123; &quot;secretName&quot;: &quot;test&quot; &#125;, &quot;status&quot;: &#123; &quot;phase&quot;: &quot;pending&quot; &#125;&#125; èŽ·å–ç³»ç»Ÿçš„TOKENä¿¡æ¯ é€šå¸¸åœ¨kube-systemä¸‹ä¼šæœ‰adminçš„ServiceAccountï¼Œä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„Secretæ¥å­˜æ”¾è¯¥ServiceAccountçš„tokenä¿¡æ¯ã€‚æ‰§è¡Œkubectl get secret -n kube-system admin-token-r2bvt -o yamlèŽ·å–åˆ°tokenä¿¡æ¯ï¼Œå¹¶å…¶ä¸­çš„tokenéƒ¨åˆ†è¿›è¡Œbase64è§£ç ã€‚ æ‰§è¡Œå¦‚ä¸‹çš„è„šæœ¬ éœ€è¦å°†å…¶ä¸­çš„å˜é‡ä¿¡æ¯ä¿®æ”¹ä¸€ä¸‹ 1234567891011#!/bin/bashobj_file=$1kind=certificatesAPISERVER=https://10.0.0.100:6443namespace=defaultTOKEN=eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi1yMmJ2dCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6ImRiY2IyNzUzLWE5OGMtMTFlYS04NGVjLTAwMTYzZTAwOGU3MCIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTphZG1pbiJ9.tX3jyNh-GEuZQg-hmy7igqh9vpTAz8Jh9uEv-diZ5XWjX9JYhxwD9nxTQvCcvzY7iPIbvxQfW2GHDZISPoopX0vQy9mQ7npVitrOvFovk06plefI5Gxjdft6vdpt-ArsGTpm7-s9G-3aBg5x41h3Cdgyv-W-ypFlCr9dKu9K7BcRIXSq_GQlq5TBmd-LKFXoer4QGwkn7geq5-ziMk_lY21jIGVdIkq9IRiH8NWuCl7l8i6nQESQDUUpMyKDCqkJqUFV8UkrQL7TfqurFP36_TUAQTh2ZAE8nFnrKRoa09BnjT-FoPO6Jnq6COQjk3PGDHV8LKNDAjCCrs0A53IYGwobj=nginx-testecho &quot;begin to patch $obj the file &quot;$&#123;obj_file&#125;curl -XPATCH -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/merge-patch+json&quot; --header &quot;Authorization: Bearer $TOKEN&quot; --insecure -d @$&#123;obj_file&#125; $APISERVER/apis/kuring.me/v1alpha1/namespaces/$&#123;namespace&#125;/$&#123;kind&#125;/$obj/status]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux Bridge brctlå‘½ä»¤]]></title>
      <url>%2Fpost%2Fbrctl%2F</url>
      <content type="text"><![CDATA[æŸ¥çœ‹ç½‘æ¡¥è®¾å¤‡ä»¥åŠç«¯å£ä½¿ç”¨brctl showå¯ä»¥æŸ¥çœ‹æœ¬åœ°ä¸Šçš„æ‰€æœ‰çš„ç½‘æ¡¥è®¾å¤‡ä»¥åŠæŽ¥åˆ°ç½‘æ¡¥è®¾å¤‡ä¸Šçš„æ‰€æœ‰ç½‘ç»œè®¾å¤‡ã€‚ æŸ¥çœ‹ç½‘æ¡¥è®¾å¤‡çš„macåœ°å€è¡¨æ‰§è¡Œbrctl showmacs ${dev}ï¼Œå¸¸ç”¨æ¥æŽ’æŸ¥ä¸€äº›åŒ…ä¸¢åœ¨ç½‘æ¡¥ä¸Šçš„åœºæ™¯ã€‚å…¶ä¸­port noä¸ºç½‘æ¡¥é€šè¿‡macåœ°å€å­¦ä¹ åˆ°çš„æŸä¸ªmacåœ°å€æ‰€åœ¨çš„ç½‘æ¡¥ç«¯å£å·ã€‚12345678910$ brctl showmacs br0port no mac addr is local? ageing timer 1 02:50:89:59:ac:4b no 3.9669 02:e2:14:78:d7:92 no 0.57 1 0a:1e:01:dc:67:87 no 10.23 1 0a:60:3c:ca:a8:85 no 6.04 1 0e:01:ce:d6:fc:66 no 8.36 1 0e:0c:f8:6c:08:75 no 56.7358 0e:49:85:f6:a1:40 no 1.3022 0e:c0:99:b0:d9:f9 no 0.85 æŸ¥çœ‹ç½‘æ¡¥è®¾å¤‡çš„æŸä¸ªç«¯å£çš„æŒ‚è½½è®¾å¤‡åœ¨ä¸Šæ–‡ä¸­ä¸­å¯ä»¥èŽ·å–åˆ°æŸä¸ªmacåœ°å€å¯¹åº”çš„ç½‘æ¡¥è®¾å¤‡çš„ç«¯å£å·ï¼Œè¦æƒ³çŸ¥é“æŸä¸ªç½‘æ¡¥è®¾å¤‡çš„ç«¯å£å·å¯¹åº”çš„è®¾å¤‡å¯ä»¥ä½¿ç”¨brctl showstp ${dev}å‘½ä»¤ã€‚ 123456789101112131415161718192021222324252627brctl showstp br0br0 bridge id 8000.ae90501b5b47 designated root 8000.ae90501b5b47 root port 0 path cost 0 max age 20.00 bridge max age 20.00 hello time 2.00 bridge hello time 2.00 forward delay 15.00 bridge forward delay 15.00 ageing time 300.00 hello timer 0.03 tcn timer 0.00 topology change timer 0.00 gc timer 62.37 flagsbond0.11 (1) port id 8001 state forwarding designated root 8000.ae90501b5b47 path cost 100 designated bridge 8000.ae90501b5b47 message age timer 0.00 designated port 8001 forward delay timer 0.00 designated cost 0 hold timer 0.00 flagsveth02b41ce8 (20) port id 8014 state forwarding designated root 8000.ae90501b5b47 path cost 2 designated bridge 8000.ae90501b5b47 message age timer 0.00 designated port 8014 forward delay timer 0.00 designated cost 0 hold timer 0.00 flags hairpin mode 1]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æœ¬åœ°è¿žæŽ¥è¿œç¨‹çš„å†…ç½‘k8sé›†ç¾¤]]></title>
      <url>%2Fpost%2Flocal-connect-remote-k8s%2F</url>
      <content type="text"><![CDATA[åœ¨æ—¥å¸¸å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šéœ€è¦åœ¨æœ¬åœ°å¼€å‘çš„ç¨‹åºéœ€è¦åœ¨k8sä¸­è°ƒè¯•çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼Œå†™äº†ä¸€ä¸ªoperatorã€‚å¦‚æžœæ­¤æ—¶ï¼Œæœ¬åœ°åˆæ²¡æœ‰å¯ä»¥ç›´æŽ¥å¯è¾¾çš„k8sé›†ç¾¤ï¼Œæ¯”å¦‚k8sæ˜¯åœ¨å…¬æœ‰äº‘çš„vpcçŽ¯å¢ƒå†…ï¼Œå¤–é¢æ— æ³•ç›´æŽ¥è®¿é—®ã€‚æ­¤æ—¶ï¼Œsshåˆæ˜¯å¯ä»¥ç›´æŽ¥é€šè¿‡å…¬ç½‘vipè®¿é—®çš„vpcçš„ç½‘ç»œå†…çš„ã€‚ä¸ºäº†æ»¡è¶³æ­¤ç±»éœ€è¦ï¼Œå¯ä»¥é‡‡ç”¨ssh tunnelçš„æ–¹å¼æ¥æ‰“é€šæœ¬åœ°è·Ÿè¿œç¨‹çš„k8sé›†ç¾¤ã€‚ 1. æœ¬åœ°å»ºç«‹ssh tunnelåˆ°è¿œç¨‹é›†ç¾¤ç½‘ç»œmacç”¨æˆ·å¯ä»¥é€šè¿‡SSH TUNNELè¿™ä¸ªè½¯ä»¶æ¥åœ¨ç•Œé¢ä¸Šè‡ªåŠ¨åŒ–é…ç½®ï¼Œå…·ä½“çš„é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š éœ€è¦å¢žåŠ ä¸€ä¸ªsshçš„åŠ¨æ€ä»£ç†ï¼Œç›‘å¬æœ¬åœ°çš„9909ç«¯å£å·ã€‚ 2. å°†è¿œç¨‹é›†ç¾¤çš„kubeconfigæ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ°å°†k8sé›†ç¾¤ä¸­~/.kube/configæ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ°çš„~/.kube/configç›®å½•ä¸‹ 3. åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œkubectlå‘½ä»¤åœ¨å‘½ä»¤è¡Œä¸­é…ç½®httpå’Œhttpsä»£ç† 12export http_proxy=127.0.0.1:9909export https_proxy=127.0.0.1:9909 ç„¶åŽè‡³æ­¤å°±å¯ä»¥é€šè¿‡kubectlå‘½ä»¤æ¥è®¿é—®è¿œç¨‹çš„k8sé›†ç¾¤äº†ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[conntrackä»‹ç»]]></title>
      <url>%2Fpost%2Fconntrack%2F</url>
      <content type="text"><![CDATA[conntrackæ˜¯netfilteræä¾›çš„è¿žæŽ¥è·Ÿè¸ªæœºåˆ¶ï¼Œå…è®¸å†…æ ¸è¯†åˆ«å‡ºæ•°æ®åŒ…å±žäºŽå“ªä¸ªè¿žæŽ¥ã€‚æ˜¯iptableså®žçŽ°çŠ¶æ€åŒ¹é…(-m state)ä»¥åŠnatçš„åŸºç¡€ï¼Œç”±å•ç‹¬çš„å†…æ ¸æ¨¡å—nf_conntrackå®žçŽ°ã€‚ conntrackåœ¨å›¾ä¸­æœ‰ä¸¤å¤„ï¼Œä¸€å¤„ä½äºŽpreroutingï¼Œä¸€å¤„ä½äºŽoutputã€‚ä¸»æœºè‡ªèº«è¿›ç¨‹äº§ç”Ÿçš„æ•°æ®åŒ…ä¼šç»è¿‡outputé“¾çš„conntrackï¼Œä¸»æœºçš„ç½‘ç»œè®¾å¤‡æŽ¥æ”¶åˆ°çš„æ•°æ®åŒ…ä¼šé€šè¿‡preroutingé“¾çš„conntrackã€‚ æ¯ä¸ªé€šè¿‡conntrackçš„æ•°æ®åŒ…ï¼Œå†…æ ¸ä¼šåˆ¤æ–­æ˜¯å¦ä¸ºæ–°çš„è¿žæŽ¥ã€‚å¦‚æžœæ˜¯æ–°çš„è¿žæŽ¥ï¼Œåˆ™åœ¨è¿žæŽ¥è·Ÿè¸ªè¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•ã€‚å¦‚æžœæ˜¯å·²æœ‰è¿žæŽ¥ï¼Œä¼šæ›´æ–°è¿žæŽ¥è·Ÿè¸ªè¡¨ä¸­çš„è®°å½•ã€‚ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œconntrackå¹¶ä¸ä¼šä¿®æ”¹æ•°æ®åŒ…ï¼Œå¦‚dnatã€snatï¼Œè€Œä»…ä»…æ˜¯ç»´æŠ¤è¿žæŽ¥è·Ÿè¸ªè¡¨ã€‚ è¿žæŽ¥è·Ÿè¸ªè¡¨çš„å†…å®¹/proc/net/nf_conntrackå¯ä»¥çœ‹åˆ°è¿žæŽ¥è·Ÿè¸ªè¡¨çš„æ‰€æœ‰å†…å®¹ï¼Œé€šè¿‡hashè¡¨æ¥å®žçŽ°ã€‚ 1ipv4 2 tcp 6 117 TIME_WAIT src=10.45.4.124 dst=10.45.8.10 sport=36903 dport=8080 src=10.45.8.10 dst=10.45.4.124 sport=8080 dport=36903 [ASSURED] mark=0 zone=0 use=2 117: è¯¥è¿žæŽ¥çš„ç”Ÿå­˜æ—¶é—´ï¼Œæ¯ä¸ªè¿žæŽ¥éƒ½æœ‰ä¸€ä¸ªtimeoutå€¼ï¼Œå¯ä»¥é€šè¿‡å†…æ ¸å‚æ•°è¿›è¡Œè®¾ç½®ï¼Œå¦‚æžœè¶…è¿‡è¯¥æ—¶é—´è¿˜æ²¡æœ‰æŠ¥æ–‡åˆ°è¾¾ï¼Œè¯¥è¿žæŽ¥å°†ä¼šåˆ é™¤ã€‚å¦‚æžœæœ‰æ–°çš„æ•°æ®åˆ°è¾¾ï¼Œè¯¥è®¡æ•°ä¼šè¢«é‡ç½®ã€‚ TIME_WAIT: å½“å‰è¯¥è¿žæŽ¥çš„æœ€æ–°çŠ¶æ€ æ¶‰åŠåˆ°çš„å†…æ ¸å‚æ•° net.netfilter.nf_conntrack_buckets: ç”¨æ¥è®¾ç½®hashè¡¨çš„å¤§å° net.netfilter.nf_conntrack_max: ç”¨æ¥è®¾ç½®è¿žæŽ¥è·Ÿè¸ªè¡¨çš„æ•°æ®æ¡æ•°ä¸Šé™ iptablesä¸Žconntrackçš„å…³ç³»iptablesä½¿ç”¨-m stateæ¨¡å—æ¥ä»Žè¿žæŽ¥è·Ÿè¸ªè¡¨æŸ¥æ‰¾æ•°æ®åŒ…çš„çŠ¶æ€ï¼Œä¸Šé¢ä¾‹å­ä¸­çš„TIME_WAITå³ä¸ºè¿žæŽ¥è·Ÿè¸ªè¡¨ä¸­çš„çŠ¶æ€ï¼Œä½†è¿™äº›çŠ¶æ€å¯¹åº”åˆ°iptableä¸­å°±åªæœ‰äº”ç§çŠ¶æ€ã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº”ç§çŠ¶æ€æ˜¯è·Ÿå…·ä½“çš„åè®®æ˜¯tcpã€udpæ— å…³çš„ã€‚ çŠ¶æ€ å«ä¹‰ NEW åŒ¹é…è¿žæŽ¥çš„ç¬¬ä¸€ä¸ªåŒ… ESTABLISHED NEWçŠ¶æ€åŽï¼Œå¦‚æžœå¯¹ç«¯æœ‰å›žå¤åŒ…ï¼Œæ­¤æ—¶è¿žæŽ¥çŠ¶æ€ä¸ºNEW RELATED ä¸æ˜¯å¤ªå¥½ç†è§£ï¼Œå½“å·²ç»æœ‰ä¸€ä¸ªçŠ¶æ€ä¸ºESTABLISHEDè¿žæŽ¥åŽï¼Œå¦‚æžœåˆäº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„è¿žæŽ¥å¹¶ä¸”è·Ÿæ­¤æ—¶å…³è”çš„ï¼Œé‚£ä¹ˆè¯¥è¿žæŽ¥å°±æ˜¯RELATEDçŠ¶æ€çš„ã€‚å¯¹äºŽftpåè®®è€Œè¨€ï¼Œæœ‰æŽ§åˆ¶è¿žæŽ¥å’Œæ•°æ®è¿žæŽ¥ï¼ŒæŽ§åˆ¶è¿žæŽ¥è¦å…ˆå»ºç«‹ä¸ºESTABLISHEDï¼Œæ•°æ®è¿žæŽ¥å°±å˜ä¸ºæŽ§åˆ¶è¿žæŽ¥çš„RELATEDã€‚é‚£ä¹ˆconntrackæ€Žä¹ˆèƒ½å¤Ÿè¯†åˆ«åˆ°ä¸¤ä¸ªè¿žæŽ¥æ˜¯æœ‰å…³è”çš„å‘¢ï¼Œå³èƒ½å¤Ÿè¯†åˆ«å‡ºåè®®ç›¸å…³çš„å†…å®¹ï¼Œè¿™å°±éœ€è¦é€šè¿‡æ‰©å±•æ¨¡å—æ¥å®Œæˆäº†ï¼Œæ¯”å¦‚ftpå°±éœ€è¦nf_conntrack_ftp INVALID æ— æ³•è¯†åˆ«çš„æˆ–è€…æœ‰çŠ¶æ€çš„æ•°æ®åŒ… UNTRACKED åŒ¹é…å¸¦æœ‰NOTRACKæ ‡ç­¾çš„æ•°æ®åŒ…ï¼Œrawè¡¨å¯ä»¥å°†æ•°æ®åŒ…æ ‡è®°ä¸ºNOTRACKï¼Œè¿™ç§æ•°æ®åŒ…çš„è¿žæŽ¥çŠ¶æ€ä¸ºNOTRACK conntrack-tools12# æŸ¥çœ‹è¿žæŽ¥è·Ÿè¸ªè¡¨conntrack -L reference äº‘è®¡ç®—åº•å±‚æŠ€æœ¯-netfilteræ¡†æž¶ç ”ç©¶]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ovså…¥é—¨]]></title>
      <url>%2Fpost%2Fovs%2F</url>
      <content type="text"><![CDATA[æŽ§åˆ¶å™¨å‘ä¸Šæä¾›æŽ¥å£ï¼Œç”¨æ¥ä¾›åº”ç”¨ç¨‹åºè°ƒç”¨ï¼Œæ­¤æŽ¥å£æˆä¸ºåŒ—å‘æŽ¥å£ï¼›æŽ§åˆ¶å™¨å‘ä¸‹è°ƒç”¨æŽ¥å£ï¼ŒæŽ§åˆ¶ç½‘ç»œè®¾å¤‡ï¼Œæ­¤æŽ¥å£æˆä¸ºå—å‘æŽ¥å£ã€‚ OpenFlowæ˜¯æŽ§åˆ¶å™¨å’Œç½‘ç»œè®¾å¤‡ä¹‹é—´äº’é€šçš„å—å‘åè®®ï¼ŒOpenvSwitch ç”¨äºŽåˆ›å»ºè½¯ä»¶çš„è™šæ‹Ÿäº¤æ¢æœºã€‚ åŽŸç† ç”¨æˆ·æ€è¿›ç¨‹ ovsdbï¼šæœ¬åœ°æ•°æ®åº“ï¼Œå­˜å‚¨ovsçš„é…ç½®ä¿¡æ¯ vswitchdï¼šovs-ofctlç”¨æ¥è·Ÿè¯¥å‘½ä»¤é€šè®¯ï¼Œä¸‹å‘æµè¡¨è§„åˆ™ install OpenvSwitch on CentOS 7123456789101112131415# å®‰è£…ä¾èµ–yum install openssl-devel python-sphinx gcc make python-devel openssl-devel kernel-devel graphviz kernel-debug-devel autoconf automake rpm-build redhat-rpm-config libtool python-twisted-core python-zope-interface PyQt4 desktop-file-utils libcap-ng-devel groff checkpolicy selinux-policy-devel gcc-c++ python-six unbound unbound-devel -ymkdir -p ~/rpmbuild/SOURCES &amp;&amp; cd ~/rpmbuild/SOURCES# ä¸‹è½½ovsæºç wget https://www.openvswitch.org/releases/openvswitch-2.12.0.tar.gztar zvxf openvswitch-2.12.0.tar.gz# æž„å»ºrpmåŒ…rpmbuild -bb --nocheck openvswitch-2.12.0/rhel/openvswitch-fedora.spec# å®‰è£…rpmåŒ…yum localinstall /root/rpmbuild/RPMS/x86_64/openvswitch-2.12.0-1.el7.x86_64.rpmsystemctl start openvswitch.service åœ¨ç¼–è¯‘çš„æ—¶å€™æœ‰å¦‚ä¸‹æŠ¥é”™ï¼š 123 File &quot;/usr/lib64/python2.7/site-packages/jinja2/sandbox.py&quot;, line 22, in &lt;module&gt; from markupsafe import EscapeFormatterImportError: cannot import name EscapeFormatter æ˜¯å› ä¸ºmarkupsafeçš„ç‰ˆæœ¬ä¸å¯¹å¯¼è‡´çš„ï¼Œè§£å†³æ–¹æ³•ä¸ºå®‰è£…åˆé€‚çš„ç‰ˆæœ¬ï¼š 12pip uninstall markupsafepip install markupsafe==0.23 vlanå®žéªŒ123# åˆ›å»ºè™šæ‹Ÿäº¤æ¢æœºovs_brovs-vsctl add-br ovs_brovs-vsctl add-port ovs_br first_port flow tableè¯•éªŒ 11234567891011121314151617181920212223242526272829303132# åˆ›å»ºnamespaceip netns add ns1ip netns add ns2# åˆ›å»ºveth pairè®¾å¤‡ip link add veth1 type veth peer name veth1_brip link add veth2 type veth peer name veth2_br# è®¾ç½®veth pairè®¾å¤‡çš„namespaceip link set veth1 netns ns1ip link set veth2 netns ns2# åˆ›å»ºOVSç½‘æ¡¥ovs-vsctl add-br ovs1# å°†veth pairè®¾å¤‡å¦ä¸€ç«¯ç»‘åˆ°ç½‘æ¡¥ovs1ovs-vsctl add-port ovs1 veth1_brovs-vsctl add-port ovs1 veth2_br# å¯åŠ¨veth pairip netns exec ns1 ip link set veth1 upip netns exec ns2 ip link set veth2 upip link set veth1_br upip link set veth2_br up# è®¾ç½®veth1å’Œveth2çš„ipåœ°å€ip netns exec ns1 ip addr add 192.168.1.100 dev veth1ip netns exec ns2 ip addr add 192.168.1.200 dev veth2# é…ç½®è·¯ç”±ip netns exec ns1 route add -net 192.168.1.0 netmask 255.255.255.0 dev veth1ip netns exec ns2 route add -net 192.168.1.0 netmask 255.255.255.0 dev veth2 å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹åˆšæ‰çš„æ“ä½œï¼š 1234567891011121314151617181920212223242526272829303132# å¯ä»¥çœ‹åˆ°åˆšæ‰åˆ›å»ºçš„ç½‘æ¡¥$ ovs-vsctl list-brovs1# æŸ¥çœ‹ç½‘æ¡¥çš„ç«¯å£$ ovs-vsctl list-ports ovs1veth1_brveth2_br# æŸ¥çœ‹ç½‘æ¡¥çš„çŠ¶æ€$ ovs-vsctl show4ec35070-a763-4748-878a-c3784b5938a4 Bridge &quot;ovs1&quot; Port &quot;veth1_br&quot; Interface &quot;veth1_br&quot; Port &quot;ovs1&quot; Interface &quot;ovs1&quot; type: internal Port &quot;veth2_br&quot; Interface &quot;veth2_br&quot; ovs_version: &quot;2.12.0&quot;# æŸ¥çœ‹interfaceçš„çŠ¶æ€ï¼Œè·Ÿportæ˜¯ä¸€ä¸€å¯¹åº”çš„$ ovs-vsctl list interface veth1_br...mac : []mac_in_use : &quot;32:13:6b:99:91:2b&quot;mtu : 1500mtu_request : []name : &quot;veth1_br&quot;ofport : 1 # ovs portç¼–å·... æŽ¥ä¸‹æ¥æµ‹è¯•ä¸€ä¸‹ç½‘ç»œçš„è¿žé€šæ€§æ˜¯æ²¡é—®é¢˜çš„ã€‚ 1ip netns exec ns1 ping 192.168.1.200 æŸ¥çœ‹å½“å‰æµè¡¨ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸€æ¡é»˜è®¤çš„è§„åˆ™ï¼Œè¯¥æ¡è§„åˆ™ç”¨æ¥å®žçŽ°äº¤æ¢æœºçš„åŸºæœ¬åŠ¨ä½œã€‚ 12$ ovs-ofctl dump-flows ovs1 cookie=0x0, duration=1428.955s, table=0, n_packets=22, n_bytes=1676, priority=0 actions=NORMAL å°†ä¸Šè¿°è§„åˆ™åˆ é™¤ï¼Œå†æ‰§è¡Œpingå‘½ä»¤å‘çŽ°å·²ç»ä¸é€šã€‚è¯´æ˜Žè¯¥é»˜è®¤è§„åˆ™ä¼šå°†æµé‡åœ¨ç«¯å£ä¹‹é—´è¿›è¡Œè½¬å‘ã€‚ 1ovs-ofctl del-flows ovs1 æ–°å¢žåŠ å¦‚ä¸‹ä¸¤æ¡è§„åˆ™ï¼Œç”¨æ¥è¡¨ç¤ºå°†port 1çš„æµé‡è½¬å‘åˆ°port 3ï¼Œå°†port 3çš„æµé‡è½¬å‘åˆ°port 1ã€‚å…¶ä¸­çš„1å’Œ3åˆ†åˆ«ä¸ºportç¼–å·ï¼Œä½¿ç”¨ovs-vsctl list interface veth1_brå‘½ä»¤ä¸­çš„ofportå¯ä»¥çœ‹åˆ°ã€‚ 123456ovs-ofctl add-flow ovs1 &quot;priority=1,in_port=1,actions=output:3&quot;ovs-ofctl add-flow ovs1 &quot;priority=2,in_port=3,actions=output:1&quot;$ ovs-ofctl dump-flows ovs1 cookie=0x0, duration=69.378s, table=0, n_packets=4, n_bytes=280, priority=1,in_port=&quot;veth1_br&quot; actions=output:&quot;veth2_br&quot; cookie=0x0, duration=69.063s, table=0, n_packets=4, n_bytes=280, priority=2,in_port=&quot;veth2_br&quot; actions=output:&quot;veth1_br&quot; å†æ‰§è¡Œpingå‘½ä»¤ï¼Œå‘çŽ°å¯ä»¥pingé€šäº†ã€‚ é‡æ–°å¢žåŠ ä¸€æ¡ä¼˜å…ˆçº§æ›´é«˜çš„è§„åˆ™ï¼Œå°†port 1çš„æ•°æ®dropæŽ‰ã€‚æ­¤æ—¶å†pingå‘çŽ°å·²ç»ä¸é€šäº†ã€‚ 1ovs-ofctl add-flow ovs1 &quot;priority=3,in_port=1,actions=drop&quot; å¤štableæŽ¥ä¸‹æ¥æ¸…ç†æŽ‰è§„åˆ™ï¼Œå¹¶å°†è§„åˆ™é‡æ–°å†™å…¥åˆ°table1ä¸­ï¼Œé»˜è®¤è§„åˆ™æ˜¯å†™å…¥åˆ°table0ä¸­çš„ 123ovs-ofctl del-flows ovs1ovs-ofctl add-flow ovs1 &quot;table=1,priority=1,in_port=1,actions=output:3&quot;ovs-ofctl add-flow ovs1 &quot;table=1,priority=2,in_port=3,actions=output:1&quot; æ­¤æ—¶å†æ‰§è¡Œpingå‘½ä»¤ï¼Œå‘çŽ°ç½‘ç»œæ˜¯ä¸é€šçš„ã€‚å› ä¸ºtable0ä¸­æ²¡æœ‰åŒ¹é…æˆåŠŸï¼ŒåŒ…è¢«dropæŽ‰äº†ã€‚ å†å¢žåŠ å¦‚ä¸‹è§„åˆ™ï¼Œå³å°†table 0çš„è§„åˆ™å‘é€åˆ°table 1å¤„ç†ï¼Œæ­¤æ—¶å¯ä»¥pingé€šã€‚ 1ovs-ofctl add-flow ovs1 &quot;table=0,actions=goto_table=1&quot; group tableæ‰§è¡Œovs-ofctl del-flows ovs1é‡æ–°æ¸…ç†æŽ‰è§„åˆ™ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æŸ¥çœ‹group tableå†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°å†…å®¹ä¸ºç©ºã€‚ 12# ovs-ofctl -O OpenFlow13 dump-groups ovs1OFPST_GROUP_DESC reply (OF1.3) (xid=0x2): æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®Œæˆæ•°æ®åŒ…ä»Žtable0 -&gt; group table -&gt; table1çš„è¿‡ç¨‹ï¼ŒçœŸæ­£æ•°æ®å¤„ç†åœ¨table1ä¸­ã€‚ 12345678910# åˆ›å»ºä¸€ä¸ªgroup tableï¼Œå…¶ä½œç”¨ä¸ºå°†æ•°æ®åŒ…å‘é€åˆ°table 1ovs-ofctl add-group ovs1 &quot;group_id=1,type=select,bucket=resubmit(,1)&quot;# å°†port 1å’Œ3 çš„æ•°æ®å‘å¾€group table 1ovs-ofctl add-flow ovs1 &quot;table=0,in_port=1,actions=group:1&quot;ovs-ofctl add-flow ovs1 &quot;table=0,in_port=3,actions=group:1&quot;# table 1ä¸ºçœŸæ­£è¦å¤„ç†æ•°æ®çš„é€»è¾‘ovs-ofctl add-flow ovs1 &quot;table=1,priority=1,in_port=1,actions=output:3&quot;ovs-ofctl add-flow ovs1 &quot;table=1,priority=2,in_port=3,actions=output:1&quot; æ­¤æ—¶å†æ‰§è¡Œpingå‘½ä»¤ï¼Œå‘çŽ°æ˜¯å¯ä»¥pingé€šçš„ã€‚ æ¸…ç†æ“ä½œ123456# åˆ é™¤ç½‘æ¡¥ovs-vsctl del-br ovs1ip link delete veth1_brip link delete veth2_brip netns del ns1ip netns del ns2 å¸¸ç”¨æ“ä½œ ovs-appctl fdb/show ovs1: æŸ¥çœ‹macåœ°å€è¡¨ ovs-ofctl show ovs1: å¯ä»¥æŸ¥çœ‹ç½‘æ¡¥çš„ç«¯å£å· ovs-vsctl set bridge ovs1 stp_enable=false: å¼€å¯ç½‘æ¡¥çš„ç”Ÿæˆæ ‘åè®® ovs-appctl ofproto/trace ovs1 in_port=1,dl_dst=7a:42:0a:ca:04:65: å¯ç”¨æ¥éªŒè¯ä¸€ä¸ªåŒ…åˆ°è¾¾ç½‘æ¡¥åŽçš„å¤„ç†æµç¨‹ reference CentOS 7 å®‰è£… Open vSwitch OpenvSwitchåˆæŽ¢ - FLOWç¯‡ Open vSwitch (OVS) commands for troubleshooting]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[kube-proxy iptablesè§„åˆ™åˆ†æž]]></title>
      <url>%2Fpost%2Fkube-proxy-iptables%2F</url>
      <content type="text"><![CDATA[kube-proxyé»˜è®¤ä½¿ç”¨iptablesè§„åˆ™æ¥åšk8sé›†ç¾¤å†…éƒ¨çš„è´Ÿè½½å‡è¡¡ï¼Œæœ¬æ–‡é€šè¿‡ä¾‹å­æ¥åˆ†æžåˆ›å»ºçš„iptabelsè§„åˆ™ã€‚ ä¸»è¦çš„è‡ªå®šä¹‰é“¾æ¶‰åŠåˆ°ä¸€ä¸‹ä¸€äº›ï¼š KUBE-SERVICESï¼š è®¿é—®é›†ç¾¤å†…æœåŠ¡çš„CLusterIPæ•°æ®åŒ…å…¥å£ï¼Œæ ¹æ®åŒ¹é…åˆ°çš„ç›®æ ‡ip+portå°†æ•°æ®åŒ…åˆ†å‘åˆ°ç›¸åº”çš„KUBE-SVC-xxxé“¾ä¸Šã€‚ä¸€ä¸ªServiceå¯¹åº”ä¸€æ¡è§„åˆ™ã€‚ç”±OUTPUTé“¾è°ƒç”¨ã€‚ KUBE-NODEPORTS: ç”¨æ¥åŒ¹é…nodeportç«¯å£å·ï¼Œå¹¶å°†è§„åˆ™è½¬å‘åˆ°KUBE-SVC-xxxã€‚ä¸€ä¸ªNodePortç±»åž‹çš„Serviceä¸€æ¡ã€‚åœ¨KUBE-SERVICESé“¾çš„æœ€åŽè¢«è°ƒç”¨ KUBE-SVC-xxxï¼šç›¸å½“äºŽæ˜¯è´Ÿè½½å‡è¡¡ï¼Œå°†æµé‡åˆ©ç”¨randomæ¨¡å—å‡åˆ†åˆ°KUBE-SEP-xxxé“¾ä¸Šã€‚ KUBE-SEP-xxxï¼šé€šè¿‡dnatè§„åˆ™å°†è¿žæŽ¥çš„ç›®çš„åœ°å€å’Œç«¯å£å·åšdnatï¼Œä»ŽServiceçš„ClusterIPæˆ–è€…NodePortè½¬æ¢ä¸ºåŽç«¯çš„pod ip KUBE-MARK-MASQ: ä½¿ç”¨markå‘½ä»¤ï¼Œå¯¹æ•°æ®åŒ…è®¾ç½®æ ‡è®°0x4000/0x4000ã€‚åœ¨KUBE-POSTROUTINGé“¾ä¸Šæœ‰MARKæ ‡è®°çš„æ•°æ®åŒ…è¿›è¡Œä¸€æ¬¡MASQUERADEï¼Œå³SNATï¼Œä¼šç”¨èŠ‚ç‚¹ipæ›¿æ¢æºipåœ°å€ã€‚ çŽ¯å¢ƒå‡†å¤‡åˆ›å»ºnginx deployment 123456789101112131415161718192021222324252627apiVersion: apps/v1beta2kind: Deploymentmetadata: labels: app: nginx-svc version: nginx name: nginx namespace: defaultspec: replicas: 2 selector: matchLabels: app: nginx-svc template: metadata: labels: app: nginx-svc version: nginx spec: containers: - image: 'nginx:1.9.0' name: nginx ports: - containerPort: 443 protocol: TCP - containerPort: 80 protocol: TCP åˆ›å»ºserviceå¯¹è±¡ 12345678910111213141516apiVersion: v1kind: Servicemetadata: name: nginx-svc namespace: defaultspec: ports: - name: '80' port: 8000 protocol: TCP targetPort: 80 nodePort: 31080 selector: app: nginx-svc sessionAffinity: None type: NodePort æäº¤åŽåˆ›å»ºå‡ºæ¥çš„ä¿¡æ¯å¦‚ä¸‹ï¼š Service ClusterIPï¼š192.168.249.119 nginx podçš„ä¸¤ä¸ªipåœ°å€ï¼š10.254.9.148 10.254.6.217 ä½¿ç”¨clusteripè®¿é—®çš„æƒ…å†µé€šè¿‡ä¸‹é¢çš„KUBE-SERVICESé“¾åŒ¹é…åˆ°KUBE-SVC-xxxé“¾ï¼ŒåŽé¢çš„iptabelsè§„åˆ™ä¼šè·Ÿnodeportä¸€è‡´ï¼Œç»è¿‡äº†ä¸€æ¬¡dnatè½¬æ¢ï¼Œå…¶æºipåœ°å€å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ 12345678910111213-A KUBE-SERVICES ! -s 10.254.0.0/18 -d 192.168.249.119/32 -p tcp -m comment --comment &quot;default/nginx-svc:80 cluster IP&quot; -m tcp --dport 8000 -j KUBE-MARK-MASQ-A KUBE-SERVICES -d 192.168.249.119/32 -p tcp -m comment --comment &quot;default/nginx-svc:80 cluster IP&quot; -m tcp --dport 8000 -j KUBE-SVC-Y5VDFIEGM3DY2PZE# ä½¿ç”¨randomæ¨¡å—ï¼Œ50%æ¦‚çŽ‡è¿›å…¥åˆ°KUBE-SEP-JY4YVH4LP7UWS56Ké“¾ä¸­ï¼Œ50%æ¦‚çŽ‡è¿›å…¥åˆ°KUBE-SEP-JELAHTLD2S3MLAIG-A KUBE-SVC-Y5VDFIEGM3DY2PZE -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-JY4YVH4LP7UWS56K-A KUBE-SVC-Y5VDFIEGM3DY2PZE -j KUBE-SEP-JELAHTLD2S3MLAIG-A KUBE-SEP-JY4YVH4LP7UWS56K -s 10.254.6.217/32 -j KUBE-MARK-MASQ# DNATè§„åˆ™-A KUBE-SEP-JY4YVH4LP7UWS56K -p tcp -m tcp -j DNAT --to-destination 10.254.6.217:80-A KUBE-SEP-JELAHTLD2S3MLAIG -s 10.254.9.148/32 -j KUBE-MARK-MASQ-A KUBE-SEP-JELAHTLD2S3MLAIG -p tcp -m tcp -j DNAT --to-destination 10.254.9.148:80 ä½¿ç”¨nodeportè®¿é—®çš„æƒ…å†µk8sé’ˆå¯¹NodePortåˆ›å»ºäº†KUBE-NODEPORTSé“¾ï¼Œåœ¨åŒ…ç¦»å¼€å®¿ä¸»æœºå‘å¾€ç›®çš„podæ—¶è¿˜ä¼šåšä¸€æ¬¡snatï¼Œæœ€ç»ˆpodçœ‹åˆ°çš„æºipåœ°å€ä¸ºnodeçš„ipã€‚ 123456# PREROUTINGé˜¶æ®µè§„åˆ™-A KUBE-NODEPORTS -p tcp -m comment --comment &quot;default/nginx-svc:80&quot; -m tcp --dport 31080 -j KUBE-MARK-MASQ-A KUBE-NODEPORTS -p tcp -m comment --comment &quot;default/nginx-svc:80&quot; -m tcp --dport 31080 -j KUBE-SVC-Y5VDFIEGM3DY2PZE# POSTROUTINGé˜¶æ®µè§„åˆ™ï¼Œä»…NodePortæ¨¡å¼ä¼šç”¨åˆ°-A KUBE-POSTROUTING -m comment --comment &quot;kubernetes service traffic requiring SNAT&quot; -m mark --mark 0x4000/0x4000 -j MASQUERADE ä¸Šé¢ç”¨åˆ°äº†KUBE-MARK-MASQé“¾ 12# è®¾ç½®mark-A KUBE-MARK-MASQ -j MARK --set-xmark 0x4000/0x4000 KUBE-MARK-MASQé“¾çš„ä½œç”¨ä»…ä¸ºmarkï¼Œå¾ˆå¤šåœ°æ–¹éƒ½æœ‰è°ƒç”¨è¯¥é“¾ï¼Œå¦‚ä½¿ç”¨NodePortè®¿é—®Serviceçš„KUBE-NODEPORTSé“¾ã€‚ 12# åŒ¹é…mark-A KUBE-POSTROUTING -m comment --comment &quot;kubernetes service traffic requiring SNAT&quot; -m mark --mark 0x4000/0x4000 -j MASQUERADE ä¸Šé¢çš„åŒ¹é…markè§„åˆ™åœ¨POSTROUTINGé˜¶æ®µï¼Œç”¨äºŽåŒ¹é…markä¸º0x4000/0x4000çš„æ•°æ®åŒ…ï¼Œå¹¶è¿›è¡Œä¸€æ¬¡MASQUERADEè½¬æ¢ï¼Œå°†ipåŒ…æ›¿æ¢ä¸ºå®¿ä¸»ä¸Šçš„ipåœ°å€ã€‚ åŠ å…¥è¿™é‡Œä¸åšMASQUERADEï¼Œæµé‡å‘åˆ°ç›®çš„çš„podåŽï¼Œpodå›žåŒ…æ—¶ç›®çš„åœ°å€ä¸ºå‘èµ·ç«¯çš„æºåœ°å€ï¼Œè€Œå‘èµ·ç«¯çš„æºåœ°å€å¾ˆå¯èƒ½æ˜¯åœ¨k8sé›†ç¾¤å¤–éƒ¨çš„ï¼Œæ­¤æ—¶podå‘å›žçš„åŒ…æ˜¯ä¸èƒ½å›žåˆ°å‘èµ·ç«¯çš„ã€‚NodePortè·ŸClusterIPçš„æœ€å¤§ä¸åŒå°±æ˜¯NodePortçš„å‘èµ·ç«¯å¾ˆå¯èƒ½æ˜¯åœ¨é›†ç¾¤å¤–éƒ¨çš„ï¼Œä»Žè€Œè¿™é‡Œå¿…é¡»åšä¸€å±‚SNATè½¬æ¢ã€‚ åœ¨ä¸Šè¿°åˆ†æžä¸­ï¼Œè®¿é—®NodePortç±»åž‹çš„Serviceä¼šç»è¿‡snatï¼Œä»Žè€ŒæœåŠ¡ç«¯çš„podä¸èƒ½èŽ·å–åˆ°æ­£ç¡®çš„å®¢æˆ·ç«¯ipã€‚å¯ä»¥è®¾ç½®Serviceçš„spec.externalTrafficPolicyä¸ºLocalï¼Œæ­¤æ—¶iptablesè§„åˆ™åªä¼šå°†ipåŒ…è½¬å‘ç»™è¿è¡Œåœ¨è¿™å°å®¿ä¸»æœºä¸Šçš„podï¼Œè€Œä¸éœ€è¦ç»è¿‡snatã€‚podå›žåŒ…æ—¶ï¼Œç›´æŽ¥å›žå¤æºipåœ°å€å³å¯ï¼Œæ­¤æ—¶æºipåœ°å€æ˜¯å¯è¾¾çš„ï¼Œå› ä¸ºæºipåœ°å€è·Ÿå®¿ä¸»æœºæ˜¯å¯è¾¾çš„ã€‚å¦‚æžœæ‰€åœ¨çš„å®¿ä¸»æœºä¸Šæ²¡æœ‰podï¼Œé‚£ä¹ˆæ­¤æ—¶æµé‡å°±ä¸å¯ä»¥è½¬å‘ï¼Œæ­¤ä¸ºé™åˆ¶ã€‚ ä½¿ç”¨LoadBalancerç±»åž‹è®¿é—®çš„æƒ…å†µexternalTrafficPolicyä¸ºlocal123456789101112131415-A KUBE-SERVICES -d 10.149.30.186/32 -p tcp -m comment --comment &quot;acs-system/nginx-ingress-lb-cloudbiz:http loadbalancer IP&quot; -m tcp --dport 80 -j KUBE-FW-76HLDRT5IPNSMPF5-A KUBE-FW-76HLDRT5IPNSMPF5 -m comment --comment &quot;acs-system/nginx-ingress-lb-cloudbiz:http loadbalancer IP&quot; -j KUBE-XLB-76HLDRT5IPNSMPF5-A KUBE-FW-76HLDRT5IPNSMPF5 -m comment --comment &quot;acs-system/nginx-ingress-lb-cloudbiz:http loadbalancer IP&quot; -j KUBE-MARK-DROP# 10.149.112.0/23ä¸ºpodç½‘æ®µ-A KUBE-XLB-76HLDRT5IPNSMPF5 -s 10.149.112.0/23 -m comment --comment &quot;Redirect pods trying to reach external loadbalancer VIP to clusterIP&quot; -j KUBE-SVC-76HLDRT5IPNSMPF5-A KUBE-XLB-76HLDRT5IPNSMPF5 -m comment --comment &quot;Balancing rule 0 for acs-system/nginx-ingress-lb-cloudbiz:http&quot; -j KUBE-SEP-XZXLBWOKJBSJBGVU-A KUBE-SVC-76HLDRT5IPNSMPF5 -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-XZXLBWOKJBSJBGVU-A KUBE-SVC-76HLDRT5IPNSMPF5 -j KUBE-SEP-GP4UCOZEF3X7PGLR-A KUBE-SEP-XZXLBWOKJBSJBGVU -s 10.149.112.45/32 -j KUBE-MARK-MASQ-A KUBE-SEP-XZXLBWOKJBSJBGVU -p tcp -m tcp -j DNAT --to-destination 10.149.112.45:80-A KUBE-SEP-GP4UCOZEF3X7PGLR -s 10.149.112.46/32 -j KUBE-MARK-MASQ-A KUBE-SEP-GP4UCOZEF3X7PGLR -p tcp -m tcp -j DNAT --to-destination 10.149.112.46:80]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[docker bridge network]]></title>
      <url>%2Fpost%2Fdocker-bridge-network%2F</url>
      <content type="text"><![CDATA[docker bridgeæ˜¯é»˜è®¤çš„ç½‘ç»œæ¨¡å¼ å®¹å™¨è®¿é—®å¤–ç½‘ é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨å³å¯è®¿é—®å¤–ç½‘ã€‚ å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼šdocker run -d nginx å®¹å™¨ä¸­è®¿é—®å¤–ç½‘çš„è¯·æ±‚å¦‚www.baidu.comï¼Œå†…æ ¸åè®®æ ˆæ ¹æ®è·¯ç”±ä¿¡æ¯ï¼Œä¼šé€‰æ‹©é»˜è®¤è·¯ç”±ï¼Œå°†è¯·æ±‚å‘é€åˆ°å®¹å™¨ä¸­çš„eth0ç½‘å¡ï¼Œç›®çš„macåœ°å€ä¸ºç½‘å…³172.17.0.1çš„macåœ°å€ã€‚ 12345$ route -nKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Iface0.0.0.0 172.17.0.1 0.0.0.0 UG 0 0 0 eth0172.17.0.0 0.0.0.0 255.255.0.0 U 0 0 0 eth0 eth0ç½‘å¡æŽ¥æ”¶åˆ°æ•°æ®åŒ…åŽï¼Œä¼šå°†æ•°æ®åŒ…è½¬å‘åˆ°veth pairçš„å¦å¤–ä¸€ç«¯ï¼Œå³å®¿ä¸»æœºç½‘ç»œä¸­çš„veth6b173fdè®¾å¤‡ã€‚ veth6b173fdè®¾å¤‡æ˜¯æŒ‚åœ¨ç½‘æ¡¥ä¸Šçš„ï¼Œä¼šå°†æ•°æ®åŒ…è½¬å‘åˆ°ç½‘æ¡¥br0ï¼Œbr0å³ä¸ºç½‘å…³172.17.0.1ã€‚ br0æŽ¥æ”¶åˆ°æ•°æ®åŒ…åŽï¼Œä¼šå°†æ•°æ®åŒ…è½¬å‘ç»™å†…æ ¸åè®®æ ˆã€‚ å®¿ä¸»æœºä¸Šçš„/proc/sys/net/ipv4/ip_forwardä¸º1ï¼Œè¡¨ç¤ºè½¬å‘åŠŸèƒ½å¼€å¯ï¼Œå³ç›®çš„ipä¸æ˜¯æœ¬æœºçš„ä¼šæ ¹æ®è·¯ç”±è§„åˆ™è¿›è¡Œè½¬å‘ï¼Œè€Œä¸æ˜¯ä¸¢å¼ƒã€‚ ä»…åœ¨å®¿ä¸»æœºä¸Šå¼€å¯äº†ip_forwardåŽï¼ŒåŒ…å³ä½¿è½¬å‘äº†ï¼Œè¿˜æ˜¯æ— æ³•å›žæ¥çš„ï¼Œå› ä¸ºåŒ…ä¸­çš„æºipåœ°å€ä¸º172.17.0.1ï¼Œæ˜¯ç§æœ‰ç½‘æ®µçš„ipåœ°å€ã€‚éœ€è¦åšä¸€æ¬¡SNATæ‰å¯ä»¥ï¼Œdockerä¼šåœ¨iptabelsçš„natè¡¨ä¸­çš„postroutingé“¾ä¸­å¢žåŠ SNATè§„åˆ™ï¼Œä¸‹é¢è§„åˆ™çš„æ„æ€æ˜¯æºåœ°å€ä¸º172.17.0.0/16çš„ä¼šåšä¸€æ¬¡åœ°å€ä¼ªè£…ï¼Œå³SNATã€‚ 12345# iptables -nL -t natChain POSTROUTING (policy ACCEPT)target prot opt source destinationMASQUERADE all -- 172.17.0.0/16 0.0.0.0/0 åœ¨eth0ç½‘å¡ä¸ŠæŠ“åŒ…ï¼Œå¯ä»¥å‘çŽ°æºipå·²ç»æ˜¯eth0çš„ç½‘å¡ipåœ°å€ã€‚ ç«¯å£æ˜ å°„å‘½ä»¤æ ¼å¼ï¼š-p ${host_port}:${container_port} å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼šdocker run -d -p 8080:80 nginx æŸ¥çœ‹æœ¬åœ°çš„iptablesè§„åˆ™ 12345678910111213141516171819202122$ iptables -nL -t natChain PREROUTING (policy ACCEPT)target prot opt source destinationDOCKER all -- 0.0.0.0/0 0.0.0.0/0 ADDRTYPE match dst-type LOCALChain INPUT (policy ACCEPT)target prot opt source destinationChain OUTPUT (policy ACCEPT)target prot opt source destinationDOCKER all -- 0.0.0.0/0 !127.0.0.0/8 ADDRTYPE match dst-type LOCALChain POSTROUTING (policy ACCEPT)target prot opt source destinationMASQUERADE all -- 172.17.0.0/16 0.0.0.0/0MASQUERADE tcp -- 172.17.0.2 172.17.0.2 tcp dpt:80Chain DOCKER (2 references)target prot opt source destinationRETURN all -- 0.0.0.0/0 0.0.0.0/0## preroutingé“¾å¼•ç”¨ï¼Œå¤–é¢å‘å¾€æœ¬æœºçš„8080ç«¯å£çš„æ•°æ®åŒ…ï¼Œä¼šdnatä¸º172.17.0.2:80DNAT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:8080 to:172.17.0.2:80 ä¸¢åŒ…é—®é¢˜SNATåœ¨å¹¶å‘æ¯”è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œä¼šå­˜åœ¨å°‘é‡çš„ä¸¢åŒ…çŽ°è±¡ï¼Œå…·ä½“åŽŸå› è·Ÿconntrackæ¨¡å¼çš„å®žçŽ°æœ‰å…³ã€‚conntrackåœ¨SNATç«¯å£çš„åˆ†é…å’Œæ’å…¥conntrackè¡¨ä¹‹é—´æœ‰ä¸ªå»¶æ—¶ï¼Œå¦‚æžœåœ¨è¿™ä¸­é—´å­˜åœ¨å†²çªçš„è¯ä¼šå¯¼è‡´æ’å…¥å¤±è´¥ï¼Œä»Žè€Œå‡ºçŽ°ä¸¢åŒ…çš„é—®é¢˜ã€‚ è¯¥é—®é¢˜æ²¡æœ‰æ ¹æ²»çš„è§£å†³åŠžæ³•ï¼Œèƒ½å¤§å¤§ç¼“è§£çš„è§£å†³åŠžæ³•ä¸ºä½¿ç”¨iptabelsçš„â€“random-fullyé€‰é¡¹ï¼ŒSNATé€‰æ‹©ç«¯å£ä¸ºéšæœºï¼Œå¤§å¤§é™ä½Žå‡ºçŽ°å†²çªçš„æ¦‚çŽ‡ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux IPIPéš§é“åè®®]]></title>
      <url>%2Fpost%2Fipip%2F</url>
      <content type="text"><![CDATA[ipipåè®®ä¸ºåœ¨ipåè®®æŠ¥æ–‡çš„åŸºç¡€ä¸Šç»§ç»­å°è£…ipæŠ¥æ–‡ï¼ŒåŸºäºŽtunè®¾å¤‡å®žçŽ°ï¼Œæ˜¯ä¸€ç§ç‚¹å¯¹ç‚¹çš„é€šè®¯æŠ€æœ¯ã€‚ installipipéœ€è¦å†…æ ¸æ¨¡å—ipipçš„æ”¯æŒ 12345$ modprobe ipip$ lsmod | grep ipipipip 13465 0tunnel4 13252 1 ipipip_tunnel 25163 1 ipip å®žæˆ˜ ä¸¤å°ä¸»æœºï¼š172.16.5.126(host1)å’Œ172.16.5.127(host2) åœ¨host1ä¸Šåˆ›å»ºtun1è®¾å¤‡ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 12345678910111213141516171819202122# ç”¨æ¥åˆ›å»ºtun1è®¾å¤‡ï¼Œå¹¶ipipåè®®çš„å¤–å±‚ipï¼Œç›®çš„ipä¸º172.16.5.127ï¼Œ æºipä¸º172.16.5.126ip tunnel add tun1 mode ipip remote 172.16.5.127 local 172.16.5.126# ç»™tun1è®¾å¤‡å¢žåŠ ipåœ°å€ï¼Œå¹¶è®¾ç½®tun1è®¾å¤‡çš„å¯¹ç«¯ipåœ°å€ä¸º10.10.200.10ip addr add 10.10.100.10 peer 10.10.200.10 dev tun1ip link set tun1 up$ ifconfig tun1tun1: flags=209&lt;UP,POINTOPOINT,RUNNING,NOARP&gt; mtu 1480 inet 10.10.100.10 netmask 255.255.255.255 destination 10.10.200.10 tunnel txqueuelen 1000 (IPIP Tunnel) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0# å¢žåŠ ä¸€æ¡è·¯ç”±ï¼Œæ‰€æœ‰åˆ°è¾¾10.10.200.10çš„è¯·æ±‚ä¼šç»è¿‡è®¾å¤‡tun1$ route -nKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Iface0.0.0.0 172.16.7.253 0.0.0.0 UG 0 0 0 eth010.10.200.10 0.0.0.0 255.255.255.255 UH 0 0 0 tun1172.16.0.0 0.0.0.0 255.255.248.0 U 0 0 0 eth0 åŒæ ·åœ¨host2ä¸Šåˆ›å»ºtun1è®¾å¤‡ï¼š 123ip tunnel add tun1 mode ipip remote 172.16.5.126 local 172.16.5.127ip addr add 10.10.200.10 peer 10.10.100.10 dev tun1ip link set tun1 up å¹¶åˆ†åˆ«åœ¨host1å’Œhost2ä¸Šæ‰“å¼€ip_forwardåŠŸèƒ½ 1echo 1 &gt; /proc/sys/net/ipv4/ip_forward ç„¶åŽåœ¨host1ä¸Šping 10.10.200.10ï¼Œå¯ä»¥pingé€šã€‚ åœ¨host1çš„tun1ä¸ŠæŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°æ­£å¸¸çš„pingåŒ…ã€‚ åœ¨host1çš„eth1ä¸ŠæŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æ˜¯ipipçš„æ•°æ®åŒ…äº†ã€‚ tun1.pcap æ¸…ç†çŽ°åœºåˆ†åˆ«åœ¨ä¸¤å°ä¸»æœºä¸Šæ‰§è¡Œ 1ip link delete tun0 ref ä»€ä¹ˆæ˜¯ IP éš§é“ï¼ŒLinux æ€Žä¹ˆå®žçŽ°éš§é“é€šä¿¡ï¼Ÿ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸­çš„tap/tunè®¾å¤‡]]></title>
      <url>%2Fpost%2Ftap-tun%2F</url>
      <content type="text"><![CDATA[Linuxè™šæ‹Ÿç½‘ç»œè®¾å¤‡tap/tuntap/tunå¸¸ç”¨äºŽéš§é“é€šè®¯ï¼Œé€šè¿‡ä¸€ä¸ªå­—ç¬¦è®¾å¤‡æ¥å®žçŽ°ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„é€šè®¯ï¼Œå­—ç¬¦è®¾å¤‡ä¸€ç«¯è¿žæŽ¥ç€ç”¨æˆ·ç©ºé—´ï¼Œä¸€ç«¯è¿žæŽ¥ç€å†…æ ¸ç©ºé—´ã€‚ ä¸Žç‰©ç†ç½‘å¡çš„æœ€å¤§ä¸åŒæ˜¯ï¼Œtap/tunçš„æ•°æ®æºæ¥è‡ªäºŽç”¨æˆ·æ€çš„ç¨‹åºï¼Œè€Œç‰©ç†ç½‘å¡çš„æ•°æ®æºæ¥è‡ªäºŽç‰©ç†é“¾è·¯ã€‚ å¯¹åº”çš„å­—ç¬¦è®¾å¤‡æ–‡ä»¶ä½ç½®ï¼š tap: /dev/tap0 tun: /dev/net/tun å½“åº”ç”¨ç¨‹åºæ‰“å¼€å­—ç¬¦è®¾å¤‡æ–‡ä»¶æ—¶ï¼Œé©±åŠ¨ç¨‹åºä¼šåˆ›å»ºå¹¶æ³¨å†Œç›¸åº”çš„è™šæ‹Ÿè®¾å¤‡æŽ¥å£ï¼Œä»¥tunXæˆ–tapXå‘½åã€‚åº”ç”¨ç¨‹åºå…³é—­è®¾å¤‡æ–‡ä»¶æ—¶ï¼Œé©±åŠ¨ç¨‹åºä¼šåˆ é™¤tunXå’ŒtapXç½‘ç»œè™šæ‹Ÿè®¾å¤‡ï¼Œå¹¶åˆ é™¤å»ºç«‹èµ·æ¥çš„è·¯ç”±ä¿¡æ¯ã€‚ ä¸¤ä¸ªè®¾å¤‡çš„ä¸åŒç‚¹ï¼š tapæ˜¯ä¸€ä¸ªäºŒå±‚ç½‘ç»œè®¾å¤‡ï¼Œåªèƒ½å¤„ç†äºŒå±‚çš„ä»¥å¤ªç½‘å¸§ï¼Œå¯ä»¥ä¸Žç‰©ç†ç½‘å¡åšæ¡¥æŽ¥ tunæ˜¯ä¸€ä¸ªç‚¹å¯¹ç‚¹çš„ä¸‰å±‚ç½‘ç»œè®¾å¤‡ï¼Œåªèƒ½å¤„ç†å¤„ç†ä¸‰å±‚çš„IPæ•°æ®åŒ…ï¼Œæ— æ³•ä¸Žç‰©ç†ç½‘å¡åšæ¡¥æŽ¥ï¼Œå¯ä»¥é€šè¿‡ä¸‰å±‚äº¤æ¢æ–¹å¼ä¸Žç‰©ç†ç½‘å¡è¿žé€šã€‚Linuxä¸‹çš„éš§é“åè®®åŸºäºŽè¯¥tunè®¾å¤‡å®žçŽ°ï¼Œå¦‚ipipã€greã€‚ 1234567891011121314151617181920212223242526 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ APP â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚â”€ â”€ â”€ â”€ â”€ â”€â”‚ /dev/net/tun â”œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ tunX â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Network Stack â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ tunè®¾å¤‡åº”ç”¨ä¸¾ä¾‹123456789101112131415161718192021222324252627282930313233 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ APP A â”‚ â”‚ APP B â”‚â—€â” â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ 1â”‚ â”‚ â”‚ â”‚ 5â”‚ â”‚ â”‚ â”‚ â”‚ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”¼ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”‚â”€ â”€ â”€ â”€ â”¼ â”€ â”€ â”€ â”€ â”€ â”‚ â”‚ â”‚ â”‚ â”‚ 4â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ Network Stack â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ 6â”‚ 3â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â” â”‚ â”‚ â”‚ â”‚10.1.1.11 â”‚ eth0 â”‚ â”‚ tun0 â”‚ 192.168.1.11 â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ 7â”‚ â”‚ â–¼ 10.1.1.100 / 192.168.1.100 åº”ç”¨ç¨‹åºAè¦å‘é€æ•°æ®åˆ°å…¶ä»–ç‰©ç†æœº192.168.1.100ï¼Œç”±äºŽç‰©ç†ç½‘ç»œçŽ¯å¢ƒä¸‹åªæœ‰10.1.1.11å’Œ10.1.1.100æ˜¯ç›¸äº’è¿žé€šçš„ï¼Œ192.168.1.11å’Œ192.168.1.100æ˜¯ä¸é€šçš„ï¼Œä¸ºäº†192.168.1.11å’Œ192.168.1.100èƒ½å¤Ÿè¿›è¡Œé€šè®¯ï¼Œéœ€è¦å°†æ•°æ®åŒ…è¿›è¡Œä¸€æ¬¡å°è£…ã€‚ åº”ç”¨ç¨‹åºBæ˜¯é€šè¿‡æ‰“å¼€å­—ç¬¦è®¾å¤‡æ–‡ä»¶/dev/net/tun0çš„æ–¹å¼æ¥æ‰“å¼€ç½‘ç»œè®¾å¤‡ æµç¨‹å¦‚ä¸‹ï¼š Aæž„é€ æ•°æ®åŒ…ï¼Œç›®çš„ipä¸º192.168.1.100ï¼Œå¹¶å‘é€ç»™åè®®æ ˆ åè®®æ ˆæ ¹æ®æ•°æ®åŒ…ä¸­çš„ipåœ°å€ï¼ŒåŒ¹é…è·¯ç”±è§„åˆ™ï¼Œè¦ä»Žtun0å‡ºåŽ» å†…æ ¸åè®®æ ˆå°†æ•°æ®åŒ…å‘é€ç»™tun0ç½‘ç»œè®¾å¤‡ tun0å‘é€åº”ç”¨ç¨‹åºBæ‰“å¼€ï¼ŒäºŽæ˜¯å°†æ•°æ®å‘é€ç»™åº”ç”¨ç¨‹åºB Bæ”¶åˆ°æ•°æ®åŒ…åŽï¼Œåœ¨ç”¨æˆ·æ€æž„é€ ä¸€ä¸ªæ–°çš„æ•°æ®åŒ…ï¼ŒæºIPä¸ºeth0çš„IP 10.1.1.11ï¼Œç›®çš„IPä¸ºé…ç½®çš„å¯¹ç«¯10.1.1.100ï¼Œå¹¶å°è£…åŽŸæ¥çš„æ•°æ®åŒ… åè®®æ ˆæ ¹æ®å½“å‰æ•°æ®åŒ…çš„IPåœ°å€é€‰æ‹©è·¯ç”±ï¼Œå°†æ•°æ®åŒ…å‘é€ç»™eth0 reference è¯¦è§£äº‘è®¡ç®—ç½‘ç»œåº•å±‚æŠ€æœ¯â€”â€”è™šæ‹Ÿç½‘ç»œè®¾å¤‡ tap/tun åŽŸç†è§£æž Linux ç½‘ç»œå·¥å…·è¯¦è§£ä¹‹ ip tuntap å’Œ tunctl åˆ›å»º tap/tun è®¾å¤‡ Linuxè™šæ‹Ÿç½‘ç»œè®¾å¤‡ä¹‹tun/tap]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹ç½‘å¡æ··æ‚æ¨¡å¼]]></title>
      <url>%2Fpost%2Fif-promiscuous%2F</url>
      <content type="text"><![CDATA[ç½‘å¡çš„æ··æ‚æ¨¡å¼æ˜¯æŒ‡ç½‘å¡å°†å…¶æŽ¥æ”¶çš„æ‰€æœ‰æµé‡éƒ½äº¤ç»™cpuã€‚éžæ··æ‚æ¨¡å¼ä¸‹ï¼Œç½‘å¡ä»…æŽ¥æ”¶ç›®çš„macåœ°å€æ˜¯è‡ªå·±macåœ°å€çš„å•æ’­ï¼Œä»¥åŠå¤šæ’­å’Œå¹¿æ’­åŒ…ï¼Œå¯ä»¥çœ‹å‡ºæ··æ‚æ¨¡å¼æ˜¯å·¥ä½œåœ¨äºŒå±‚çš„ã€‚ é€šè¿‡ifconfig eth0çš„æ–¹å¼ï¼Œå¦‚æžœè¾“å‡ºä¸­åŒ…å«äº†PROMISCå­—æ®µï¼Œè¯´æ˜Žç½‘å¡å¤„äºŽæ··æ‚æ¨¡å¼ã€‚ä½†æ˜¯å¦‚æžœifconfig å‘½ä»¤çš„è¾“å‡ºä¸­æœªåŒ…å«PROMISCå­—æ®µï¼Œå¹¶ä¸èƒ½è¯´æ˜Žç½‘å¡å¤„äºŽéžæ··æ‚æ¨¡å¼ä¸‹ã€‚ å¯ä»¥é€šè¿‡æŸ¥çœ‹ cat /sys/class/net/bond0/flags çš„è¾“å‡ºå¾—çŸ¥ï¼Œå¦‚æžœç½®ä½äº†0x100ï¼Œè¯´æ˜Žå¤„äºŽæ··æ‚æ¨¡å¼ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸­çš„veth pairè®¾å¤‡]]></title>
      <url>%2Fpost%2Fveth-pair%2F</url>
      <content type="text"><![CDATA[veth pairæ˜¯ä¸€å¯¹è™šæ‹Ÿçš„ç½‘ç»œè®¾å¤‡ï¼Œä¸¤ä¸ªç½‘ç»œè®¾å¤‡å½¼æ­¤è¿žæŽ¥ã€‚å¸¸ç”¨äºŽä¸¤ä¸ªnetwork namespaceä¹‹é—´çš„è¿žæŽ¥ï¼Œå¦‚æžœåœ¨åŒä¸€ä¸ªå‘½åç©ºé—´ä¸‹æœ‰å¾ˆå¤šçš„é™åˆ¶ã€‚ 12345678910111213141516171819202122232425â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚â”‚ â”‚â”‚ network protocol â”‚â”‚ â”‚â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ eth0 â”‚ â”‚ veth0 â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ veth1 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â–¼ physical network å®žæˆ˜vethè®¾å¤‡çš„pingæµ‹è¯•1. åªç»™ä¸€ä¸ªvethè®¾å¤‡é…ç½®ipçš„æƒ…å†µæµ‹è¯•ç»™veth0é…ç½®ip 192.168.100.10ï¼Œå¯ä»¥çœ‹åˆ°ä¸»æœºçš„è·¯ç”±è¡¨ä¸­å¢žåŠ äº†ç›®çš„åœ°ä¸º192.168.100.0çš„è®°å½• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162[root@localhost vagrant]# ip link add veth0 type veth peer name veth1[root@localhost vagrant]# ip addr add 192.168.100.10/24 dev veth0[root@localhost vagrant]# ip addr add 192.168.100.11/24 dev veth1## å› ä¸ºvethåˆ›å»ºå®ŒåŽé»˜è®¤ä¸å¯ç”¨ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰è·¯ç”±[root@localhost vagrant]# routeKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Ifacedefault gateway 0.0.0.0 UG 100 0 0 eth010.0.2.0 0.0.0.0 255.255.255.0 U 100 0 0 eth0192.168.33.0 0.0.0.0 255.255.255.0 U 101 0 0 eth1## å¯ç”¨veth0åŽå¢žåŠ è·¯ç”±[root@localhost vagrant]# ip link set veth0 up[root@localhost vagrant]# routeKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Ifacedefault gateway 0.0.0.0 UG 100 0 0 eth010.0.2.0 0.0.0.0 255.255.255.0 U 100 0 0 eth0192.168.33.0 0.0.0.0 255.255.255.0 U 101 0 0 eth1192.168.100.0 0.0.0.0 255.255.255.0 U 0 0 0 veth0## å¯ç”¨veth1åŽå±…ç„¶åˆå¢žåŠ äº†ä¸€æ¡è·¯ç”±ä¿¡æ¯[root@localhost vagrant]# ip link set veth1 up[root@localhost vagrant]# ip addr1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 52:54:00:26:10:60 brd ff:ff:ff:ff:ff:ff inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic eth0 valid_lft 86214sec preferred_lft 86214sec inet6 fe80::5054:ff:fe26:1060/64 scope link valid_lft forever preferred_lft forever3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 08:00:27:98:06:20 brd ff:ff:ff:ff:ff:ff inet 192.168.33.11/24 brd 192.168.33.255 scope global noprefixroute eth1 valid_lft forever preferred_lft forever inet6 fe80::a00:27ff:fe98:620/64 scope link valid_lft forever preferred_lft forever4: veth1@veth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000 link/ether e2:15:95:0a:1f:da brd ff:ff:ff:ff:ff:ff inet 192.168.100.11/24 scope global veth1 valid_lft forever preferred_lft forever inet6 fe80::e015:95ff:fe0a:1fda/64 scope link valid_lft forever preferred_lft forever5: veth0@veth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000 link/ether b2:2c:f6:e4:74:c5 brd ff:ff:ff:ff:ff:ff inet 192.168.100.10/24 scope global veth0 valid_lft forever preferred_lft forever inet6 fe80::b02c:f6ff:fee4:74c5/64 scope link valid_lft forever preferred_lft forever[root@localhost vagrant]# routeKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Ifacedefault gateway 0.0.0.0 UG 100 0 0 eth010.0.2.0 0.0.0.0 255.255.255.0 U 100 0 0 eth0192.168.33.0 0.0.0.0 255.255.255.0 U 101 0 0 eth1192.168.100.0 0.0.0.0 255.255.255.0 U 0 0 0 veth0192.168.100.0 0.0.0.0 255.255.255.0 U 0 0 0 veth1 é»˜è®¤æƒ…å†µä¸‹arpè¡¨å¦‚ä¸‹ï¼š 123456# arpAddress HWtype HWaddress Flags Mask Ifacelocalhost.localdomain (incomplete) veth0192.168.33.1 ether 0a:00:27:00:00:00 C eth1gateway ether 52:54:00:12:35:02 C eth010.0.2.3 ether 52:54:00:12:35:03 C eth0 ä½¿ç”¨pingå‘½ä»¤ping -I veth0 192.168.100.11 -c 2ï¼Œé»˜è®¤æƒ…å†µä¸‹veth1å’Œveth0ä¼šæŽ¥æ”¶åˆ°arpæŠ¥æ–‡ï¼Œä½†å¹¶æ²¡æœ‰arpçš„å“åº”æŠ¥æ–‡ã€‚è¿™æ˜¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹æœ‰äº›arpå†…æ ¸å‚æ•°çš„é™åˆ¶ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è§£å†³arpçš„é™åˆ¶ã€‚ 12345echo 1 &gt; /proc/sys/net/ipv4/conf/veth1/accept_localecho 1 &gt; /proc/sys/net/ipv4/conf/veth0/accept_localecho 0 &gt; /proc/sys/net/ipv4/conf/all/rp_filterecho 0 &gt; /proc/sys/net/ipv4/conf/veth0/rp_filterecho 0 &gt; /proc/sys/net/ipv4/conf/veth1/rp_filter veth pairè®¾å¤‡çš„åˆ é™¤12# åˆ é™¤veth0åŽä¼šè‡ªåŠ¨åˆ é™¤veth1$ ip link delete veth0 containerä¸Žhost veth pairçš„å…³ç³»veth pairçš„å…¶ä¸­ä¸€ä¸ªè®¾å¤‡ä½äºŽcontainerä¸­å¤‡ä½äºŽcontainerä¸­ï¼Œå¦å¤–ä¸€ä¸ªè®¾å¤‡ä½äºŽhost network namespaceä¸­ï¼Œå¦‚ä½•çŸ¥é“containerä¸­çš„eth0å’Œhost network namesapceä¸­çš„vethè®¾å¤‡çš„å¯¹åº”å…³ç³»å‘¢ï¼Ÿ åŽŸç†ä¸ºveth pairè®¾å¤‡éƒ½æœ‰ä¸€ä¸ªifindexå’Œiflinkå€¼ï¼Œï¼Œå®¹å™¨ä¸­çš„eth0è®¾å¤‡çš„ifindexå€¼è·Ÿhost network namespaceä¸­çš„å¯¹åº”veth pairè®¾å¤‡çš„iflinkå€¼ç›¸ç­‰ï¼Œåä¹‹äº¦ç„¶ã€‚ åœ¨å®¹å™¨ä¸­æ‰¾åˆ°eth0çš„iflinkæ–¹æ³•ä¸€ èŽ·å–iflinkå€¼ï¼šcat /sys/class/net/eth0/iflink ä¹Ÿå¯ç”¨æ­¤æ–¹æ³•èŽ·å–ifindexå€¼ï¼šcat /sys/class/net/eth0/ifindex æ–¹æ³•äºŒ 123$ ip link show eth03: eth0@if18: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue state UP link/ether 96:5f:80:a3:a3:01 brd ff:ff:ff:ff:ff:ff å…¶ä¸­çš„3ä¸ºeth0çš„ifindexã€‚18ä¸ºeth0çš„iflinkï¼Œå³å¯¹åº”çš„veth pairçš„å¦å¤–ä¸€ä¸ªè®¾å¤‡çš„ifindexã€‚ host network namespaceä¸­æ‰¾åˆ°å¯¹åº”ifindexå€¼çš„veth pairè®¾å¤‡12345$ ip addr 18: veth0e09999e@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master br0 state UP group default link/ether de:b0:74:89:e8:3e brd ff:ff:ff:ff:ff:ff link-netnsid 4 inet6 fe80::dcb0:74ff:fe89:e83e/64 scope link valid_lft forever preferred_lft forever å…¶ä¸­çš„18ä¸ºifindexï¼Œ3ä¸ºå¯¹åº”çš„veth pairçš„ifindexã€‚ reference Linux è™šæ‹Ÿç½‘ç»œè®¾å¤‡ veth-pair è¯¦è§£ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº† Linuxè™šæ‹Ÿç½‘ç»œè®¾å¤‡ä¹‹veth]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æŠ€æœ¯åˆ†äº«ç¬¬12æœŸ]]></title>
      <url>%2Fpost%2Fknowledage-share-12%2F</url>
      <content type="text"><![CDATA[è·ç¦»ä¸Šæ¬¡çš„çŸ¥è¯†åˆ†äº«ç³»åˆ—å·²ç»è¿‡åŽ»äº†åŠå¹´ä¹‹ä¹…ï¼Œéš¾ä»¥æƒ³è±¡ã€‚åœ¨è¯¥ç³»åˆ—çš„å¼€å§‹æˆ‘å°±è¯´è¿‡è¯¥ç³»åˆ—æ˜¯ä¸å®šæœŸçš„ï¼Œæžœä¸é£Ÿè¨€ï¼Œåªæ˜¯è¿™æ¬¡çš„ä¸å®šæœŸæœ‰äº›ä¹…ðŸ˜“ã€‚è¯¥ç³»åˆ—ä¼šç»§ç»­ä¸‹åŽ»ï¼Œä½†èŠ‚å¥ä»ç„¶æ˜¯ä¸å®šæœŸçš„ï¼Œä½†åº”è¯¥ä¸ä¼šé—´éš”åŠå¹´ä¹‹å·¨äº†ã€‚ é¢˜å›¾æ¥è‡ªé¦–é’¢å·¥ä¸šé—å€å…¬å›­ï¼Œé¦–é’¢äºŽ2010å¹´å®Œæˆäº†æ¬è¿åˆ°å”å±±å¸‚çš„å·¥ä½œï¼Œä½äºŽçŸ³æ™¯å±±çš„å·¥åŽ‚è¢«åºŸå¼ƒã€‚2019å¹´å›½åº†èŠ‚å‰å¤•ä»¥å…¬å›­çš„å½¢å¼éƒ¨åˆ†å¯¹å¤–å¼€æ”¾ï¼Œè·Ÿæ™®é€šå…¬å›­ä¸åŒçš„åœ°æ–¹åœ¨äºŽä¿ç•™äº†å¾ˆå¤šä¹‹å‰çš„å·¥åŽ‚å»ºç­‘åŠå¤§åž‹ç”Ÿäº§æœºæ¢°ï¼Œè¶³å¤Ÿç¡¬æ ¸ï¼Œéžå¸¸åŽŸæ±åŽŸå‘³ã€‚ 2022å¹´è¦ä¸¾åŠžçš„å†¬å¥¥ä¼šä¹Ÿéžå¸¸æ˜Žæ™ºçš„å°†åœºåœ°é€‰æ‹©åœ¨äº†è¯¥å…¬å›­ï¼Œé¢„è®¡å°†æ¥ä¼šæœ‰å¾ˆå¤šçš„åœºé¦†ä½äºŽè¯¥å…¬å›­å†…ä¸”å¯¹å¤–å¼€æ”¾ã€‚ å›½å†…å¾ˆå¤šçš„åœ°å¸‚éƒ½æœ‰ä¸€äº›ç±»ä¼¼çš„å»ºç­‘ï¼Œæ¯”å¦‚90å¹´ä»£ä¸‹å²—æ½®ä¹‹å‰çš„ä¸€äº›å›½ä¼å·¥åŽ‚ï¼Œæˆ‘çŸ¥é“çš„æµŽå—çš„æœºåºŠåŽ‚å°±æœ‰å¾ˆå¤šä¸ªï¼Œä½†å¾ˆå¤šè¿™äº›å€’é—­å…³é—¨çš„å·¥åŽ‚åŽæ¥çš„å»ºç­‘åŠåœ°çš®éƒ½ç»™å–æŽ‰äº†ï¼Œå»ºç­‘ç‰©ä¹Ÿç›´æŽ¥ç»™æ‹†æŽ‰äº†ï¼Œæ®Šä¸çŸ¥å…¶è¡ç”Ÿä»·å€¼ä¹Ÿæ˜¯æœ‰ä¸å°‘çš„ã€‚ä½äºŽåŒ—äº¬é…’ä»™æ¡¥çš„798å°±æ˜¯ä¸ªéžå¸¸å¥½çš„æ”¹é€ æ¡ˆä¾‹ï¼Œ798å›­åŒºçš„å»ºç­‘ç¨åŠ æ”¹é€ ï¼Œç»™å¾ˆå¤šè‰ºæœ¯å·¥ä½œå®¤æä¾›äº†éžå¸¸å¥½çš„åŠžå…¬åœºåœ°ï¼Œä¹Ÿæ˜¯åŸŽå¸‚ä¸­çš„ä¸€ä¸ªäº®çœ¼çš„åç‰‡ã€‚ èµ„æº1.MessagePack jsonä½œä¸ºä¸€ç§å¸¸è§çš„æ•°æ®åºåˆ—åŒ–æ–¹æ¡ˆï¼Œå­˜åœ¨å ç”¨ç©ºé—´è¿‡å¤šã€ååºåˆ—åŒ–è¿‡äºŽæ¶ˆè€—cpuçš„é—®é¢˜ã€‚MessagePackæ˜¯ä¸€ç§åŸºäºŽäºŒè¿›åˆ¶çš„é«˜æ•ˆè½»é‡çš„æ•°æ®åºåˆ—åŒ–æ–¹æ¡ˆï¼Œæ”¯æŒæ•°æ®çš„åŽ‹ç¼©ï¼Œæ”¯æŒä¸°å¯Œçš„ç¼–ç¨‹è¯­è¨€ã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œå¯ä»¥çœ‹å‡ºåŽŸ27å­—èŠ‚çš„jsonæ•°æ®è½¬æ¢ä¸ºMessagePackåŽä»…å ç”¨äº†18å­—èŠ‚ã€‚ å¦å¤–ï¼Œæ®ä»Šæ—¥å¤´æ¡çš„åŽ‹æµ‹ï¼Œè¦æ¯”Thriftçš„äºŒè¿›åˆ¶åºåˆ—åŒ–æ–¹æ¡ˆæ›´é«˜æ•ˆä¸€äº›ã€‚ 2.GoAst Viewer Golangä¸­çš„astã€parserã€tokenåŒ…å¯ç”¨æ¥å¯¹golangçš„æºç è¿›è¡Œè¯­æ³•åˆ†æžï¼Œå¹¶æž„å»ºå‡ºASTæ ‘ã€‚GoAst Vieweræ”¯æŒåœ¨çº¿è¾“å…¥Golangæºç æ¥æž„å»ºASTæ ‘ã€‚ 3.KubeEdge IoTç›®å‰æ­£åœ¨å¤§åŠ›å‘å±•ï¼Œè¾¹ç¼˜è®¾å¤‡çš„è®¡ç®—èƒ½åŠ›åœ¨é€æ¸å¢žå¼ºï¼ŒåŒæ—¶å¤„ç†çš„æ•°æ®é‡çš„éœ€æ±‚æ­£åœ¨å¿«é€Ÿå¢žåŠ ï¼Œè€Œæ•°æ®ä¸­å¿ƒçš„æ•°æ®å¤„ç†èƒ½åŠ›ã€ç½‘ç»œå¸¦å®½ã€æ‰©å±•èƒ½åŠ›å¹¶æ²¡æœ‰å¤ªå¤šçš„å¢žå¼ºï¼Œæœªæ¥åŠ¿å¿…ä¼šå°†éƒ¨åˆ†è®¡ç®—èƒ½åŠ›ä¸‹æ”¾åˆ°è¾¹ç¼˜è®¾å¤‡ï¼Œä»¥é™ä½Žæ•°æ®ä¸­å¿ƒçš„æˆæœ¬ã€‚ åŽä¸ºå¼€æºçš„KubeEdgeä¸ºåŸºäºŽKubernetesçš„è¾¹ç¼˜è®¡ç®—å¹³å°ï¼Œæ”¯æŒè¾¹ç¼˜é›†ç¾¤çš„ç¼–æŽ’å’Œç®¡ç†ã€‚ 4.Mycat å›½å†…å¼€æºçš„å…³ç³»åž‹æ•°æ®åº“ä¸­é—´ä»¶ï¼Œæ”¯æŒMySQLã€Oracleç­‰å¸¸è§çš„å…³ç³»åž‹æ•°æ®åº“ã€‚å…³ç³»åž‹æ•°æ®åº“å•è¡¨è¿‡å¤§å¯¼è‡´æ€§èƒ½ä¸‹é™åŽçš„è§£å†³æ€è·¯å¾€å¾€æ˜¯åˆ†åº“åˆ†è¡¨ï¼Œåˆ†åº“åˆ†è¡¨åŽéœ€è¦å¢žåŠ ä¸­é—´ä»¶å±‚æ¥è§£å†³å¤šä¸ªæ•°æ®åº“å¤šå¼ è¡¨çš„æ•°æ®å¢žåˆ æ”¹æŸ¥é—®é¢˜ï¼Œè€ŒMycatæ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚ å½“ç„¶Mycatçš„åŠŸèƒ½ä¸ä»…é™äºŽæ­¤ï¼Œæ¯”å¦‚æ”¯æŒè·¨åº“çš„ä¸¤å¼ è¡¨joinã€Mycat-eyeå¯ä»¥æ¥ç›‘æŽ§Mycatç­‰ï¼Œæ›´å¤šåŠŸèƒ½è¯·å‚ç…§å®˜æ–¹ç½‘ç«™ã€‚ 5.WeChat Format ä¸€æ¬¾è½¬æ¢markdownæ ¼å¼çš„æ–‡æ¡£ä¸ºå¾®ä¿¡å…¬ä¼—å·æŽ’ç‰ˆçš„å·¥å…·ï¼ŒæŽ’ç‰ˆæ¯”è¾ƒç²¾ç¾Žï¼ŒæŽ¨èä¸€è¯•ã€‚ 6.GitNote ä¸€æ¬¾åŸºäºŽgitçš„ç¬”è®°ç®¡ç†è½¯ä»¶ï¼Œå¯ä»¥å°†ç¬”è®°å­˜æ”¾åˆ°Githubä¸­ï¼Œæ”¯æŒå¤šç§å›¾åºŠæ’ä»¶ï¼Œæ”¯æŒå¤šä¸ªå¹³å°ï¼ˆè¿˜æ²¡æœ‰ç§»åŠ¨ç«¯ï¼‰ï¼Œæ”¯æŒå¯Œæ–‡æœ¬ç¼–è¾‘å’ŒMarkdownç¼–è¾‘ã€‚ç”±äºŽç¬”è®°æ˜¯å¯ä»¥åŒæ­¥Githubä¸Šçš„ï¼Œå¯ä»¥åšåˆ°æ°¸ä¹…ä¿å­˜å’Œç‰ˆæœ¬æŽ§åˆ¶ï¼Œè€Œä¸”ç¬”è®°çš„å­˜æ”¾ç›®å½•å’Œæ ¼å¼ä¸å—è¯¥å·¥å…·çš„å½±å“ï¼Œå¯ä»¥è¯´æ˜¯å®Œå…¨æ²¡æœ‰ä¾µå…¥æ€§ï¼Œè„±ç¦»äº†è¯¥å·¥å…·ä»ç„¶å¯ä»¥é€šè¿‡ç›´æŽ¥ç¼–è¾‘gité¡¹ç›®çš„æ–¹å¼æ¥å‘å¸ƒç¬”è®°ã€‚ 7.Vlangå¼€æºå•¦ Vè¯­è¨€å®£å¸ƒå¼€æºï¼Œä»ŽVè¯­è¨€çš„ç‰¹æ€§ä¸Šçœ‹åˆ°äº†å¾ˆå¤šGolangçš„å½±å­ï¼Œå¹¶æœªçœ‹åˆ°è€³ç›®ä¸€æ–°çš„ç‰¹æ€§ã€‚ 8.krew ä¸€æ¬¾kubectlçš„pluninç®¡ç†å·¥å…·ï¼Œmacå¹³å°ä¸‹æœ‰brewåŒ…ç®¡ç†å·¥å…·ï¼Œéšç€kubectlçš„pluginæœºåˆ¶çš„æˆç†Ÿï¼Œpluginç®¡ç†å·¥å…·åº”è¿è€Œç”Ÿã€‚ 9.cert-manager è¿è¡Œåœ¨k8sä¸Šçš„è¯ä¹¦ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç­¾å‘è¯ä¹¦ï¼ŒåŸºäºŽCRDå®žçŽ°ã€‚ Letâ€™s Encryptæä¾›äº†å…è´¹çš„tlsè¯ä¹¦ï¼Œä½†è¯ä¹¦æœ‰æœ‰æ•ˆæœŸé™åˆ¶ï¼Œè¿‡æœŸåŽéœ€è¦æ‰‹å·¥é‡æ–°ç”³è¯·è¯ä¹¦ï¼Œcert-managerå¯ä»¥åšåˆ°ä»ŽLetâ€™s Encryptè‡ªåŠ¨ç”³è¯·è¯ä¹¦ï¼Œå¹¶è¿‡æœŸåŽé‡æ–°ç”³è¯·è¯ä¹¦ã€‚ 10.cmatrix ä¸€æ¬¾é»‘å®¢å¸å›½æ•ˆæžœçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé™¤äº†ç‚«é…·ä¹Ÿæ²¡å•¥å…¶ä»–ç”¨é€”äº†ã€‚ 11.boxes boxesä¸ºä¸€æ¬¾æœ‰è¶£çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥æ˜¾ç¤ºå¾ˆå¤šç¥žå¥‡æ•ˆæžœã€‚ 1234567891011121314 __ _,--=&quot;=--,_ __ / \.&quot; .-. &quot;./ \ / ,/ _ : : _ \/` \ \ `| /o\ :_: /o\ |\__/ `-&apos;| :=&quot;~` _ `~&quot;=: | \` (_) `/ .-&quot;-. \ | / .-&quot;-..---&#123; &#125;--| /,.-&apos;-.,\ |--&#123; &#125;---. ) (_)_)_) \_/`~-===-~`\_/ (_(_(_) (( Different all twisty a ) ) of in maze are you, (( passages little. ) ) (&apos;---------------------------------------&apos; 12.rally ä¸€æ¬¾elasticsearchçš„åŽ‹æµ‹å·¥å…·ã€‚ 13.tekton Googleå¼€æºçš„ä¸€æ¬¾åŸºäºŽKubernetesçš„åº”ç”¨å‘å¸ƒæ¡†æž¶ï¼ŒGoogleåœ¨äº‘åŽŸç”Ÿç”Ÿæ€ä¸­å‡ºå“ä¸€èˆ¬è´¨é‡éƒ½æ¯”è¾ƒé«˜ï¼Œä¸»è¦ç”¨æ¥åšCI/CDã€‚ 14.kubectl-debug ä¸€æ¬¾åŸºäºŽkubectlæ’ä»¶çš„debugå·¥å…·ï¼ŒåŸºç¡€é•œåƒä½¿ç”¨nicolaka/netshoot(å†…ç½®äº†å¤§é‡çš„ç½‘ç»œæŽ’æŸ¥å·¥å…·)ï¼Œå¯ç”¨äºŽkubernetesé›†ç¾¤ä¸­å¿«é€Ÿå®šä½é—®é¢˜ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¯¥å·¥å…·çš„åˆç‰ˆæ˜¯ä½œè€…åœ¨å‚åŠ pingcapé¢è¯•æ—¶çš„å°ä½œä¸šã€‚ 15.Monocular Rancherå‡ºå“çš„ä¸€æ¬¾åŸºäºŽç®¡ç†helm chartçš„uiå·¥å…·ã€‚ 16.gitmoji githubä¸Šçš„å¼€æºé¡¹ç›®ä¸­ç»å¸¸ä¼šçœ‹åˆ°ä¸€äº›git commit messageä¸­åŒ…å«äº†mojiè¡¨æƒ…ï¼Œè€Œä¸”æœ‰è¶Šæ¥è¶Šå¤šçš„è¶‹åŠ¿ï¼Œè¿™äº›mojiè¡¨æƒ…ä¸ç´§ç´§æ˜¯å¥½çŽ©ï¼Œè€Œä¸”è¿˜éžå¸¸ç”ŸåŠ¨å½¢è±¡çš„è¡¨è¾¾äº†commit messageçš„å«ä¹‰ï¼Œå¹¶ä¸”éžå¸¸é†’ç›®ï¼Œä½†è¿™äº›mojiè¡¨æƒ…å¯ä¸åº”è¯¥æ˜¯æ»¥ç”¨çš„ã€‚è¯¥ç½‘ç«™è®°å½•äº†ä¸€äº›å¸¸ç”¨çš„mojiè¡¨æƒ…åœ¨git commitä¸­çš„å«ä¹‰ã€‚ ç²¾å½©æ–‡ç« 1.Monitoring and Tuning the Linux Networking Stack: Receiving Data æœ¬æ–‡è®²è§£äº†ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¾¾ç½‘å¡åŽæ˜¯æ€Žä¹ˆä¸€æ­¥æ­¥ä»Žç½‘å¡ -&gt; æ“ä½œç³»ç»Ÿ -&gt; åº”ç”¨ç¨‹åºï¼Œå¹¶è®²è§£äº†Linuxä¸­çš„å®žçŽ°æ–¹å¼ã€‚ ç»å¤§å¤šæ•°çš„å·¥ç¨‹å¸ˆå¯¹äºŽè¿™ä¸€å—çš„çŸ¥è¯†æ˜¯è¾ƒä¸ºæ¨¡ç³Šçš„ï¼Œå»ºè®®ä¸€è¯»ã€‚ è§†é¢‘https://mp.weixin.qq.com/s?__biz=MzU3OTc1Njk4MQ==&amp;mid=2247486851&amp;idx=1&amp;sn=d0322f6d1a59c21e977488d9701d0476&amp;chksm=fd607b59ca17f24fb07f60b8f488e602ac7e75302c999c206938682387e1d3cac44feb67b208&amp;mpshare=1&amp;scene=1&amp;srcid=%23rd åŠå¹´å¤šå‰æ¯”è¾ƒç«çš„è§†é¢‘ï¼Œä½†æˆ‘è¿˜æ˜¯ç»å¸¸ä¼šæƒ³èµ·æ¥ï¼Œç»™å¤§å®¶é‡æ¸©ä¸€ä¸‹ã€‚ è§†é¢‘ä¸­ä¸ºæ­å·žä¸€å°ä¼™æ·±å¤œéª‘è½¦é€†è¡Œè¢«äº¤è­¦æ‹¦ä¸‹åŽæƒ…ç»ªå´©æºƒï¼Œå¤±å£°ç—›å“­ã€‚å°ä¼™æ¯æ™šåŠ ç­åˆ°åä¸€äºŒç‚¹ï¼Œä¸€æ–¹é¢å¥³æœ‹å‹åœ¨å‚¬ç€ç»™é€è¯åŒ™ï¼Œå¦ä¸€æ–¹é¢å…¬å¸è¿˜åœ¨å‚¬ç€èµ¶å›žå…¬å¸ï¼Œå†åŠ ä¸Šè¢«äº¤è­¦æ‹¦ä¸‹ï¼Œæœ€ç»ˆæ¥è‡ªä¸‰æ–¹é¢çš„å‚¬ä¿ƒå¯¼è‡´ç§¯åŽ‹åœ¨å°ä¼™å†…å¿ƒé•¿ä¹…ä»¥æ¥çš„åŽ‹åŠ›çˆ†å‘è€Œæƒ…ç»ªå¤±æŽ§ã€‚éš”ç€å±å¹•éƒ½èƒ½æ„Ÿå—åˆ°å°ä¼™é•¿æœŸä»¥æ¥çš„åŽ‹åŠ›ï¼Œæˆ‘çŒœæƒ³å¦‚æžœç»™ä»–ä¸€äº›è‡ªç”±çš„æ—¶é—´ï¼Œä»–ä¸€å®šä¼šé€‰æ‹©ç‹¬è‡ªä¸€äººåˆ°ä¸€ä¸ªå®‰é™çš„åœ°æ–¹è¿‡ä¸Šä¸€æ®µæ—¶é—´ä¸Žä¸–éš”ç»çš„ç”Ÿæ´»ã€‚ ç”Ÿæ´»æœ¬ä¸æ˜“ï¼Œåœ¨è§‰å¤§å¤šæ•°çš„æˆå¹´äººç”Ÿæ´»ä¸­æ²¡æœ‰ç®€å•äºŒå­—ï¼Œç¥æ„¿å„ä½ç”Ÿæ´»å¦‚æ„ï¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹debugå†…æ ¸coredump]]></title>
      <url>%2Fpost%2Flinux-debug-crash%2F</url>
      <content type="text"><![CDATA[Linuxå†…æ ¸ä¼šå­˜åœ¨ä¸€äº›ä¸¥é‡çš„bugï¼Œå¯¼è‡´å†…æ ¸crashï¼Œä¼šåœ¨/var/crashç›®å½•ä¸‹äº§ç”Ÿç±»ä¼¼â€127.0.0.1-2019-09-30-21:33:38â€œè¿™ç§çš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«äº†vmcoreæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¯¹äºŽdebug å†…æ ¸crashçš„åŽŸå› éžå¸¸æœ‰å¸®åŠ©ã€‚ æœ¬æ–‡åœ¨CentOS 7ä¸‹æ“ä½œã€‚ æ‰§è¡Œyum install crashæ¥å®‰è£…crash å¦å¤–è¿˜éœ€è¦ä¸¤ä¸ªrpmåŒ…ï¼škernel-debuginfo-3.10.0-957.el7.x86_64.rpm å’Œ kernel-debuginfo-common-x86_64-3.10.0-957.el7.x86_64.rpmï¼Œéœ€è¦å…³æ³¨ä¸‹æ“ä½œç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬ï¼Œè¿™ä¸¤ä¸ªrpmåŒ…å¯ä»¥é€šè¿‡æœç´¢å¼•æ“Žæ‰¾åˆ°ã€‚ ä¸‹åˆ°åŒ…åŽå³å¯æ‰§è¡Œrpm -ivh *.rpmçš„æ–¹å¼æ¥å®‰è£…rpmåŒ…ã€‚ åœ¨æœºå™¨ä¸Šæ‰§è¡Œcrash /usr/lib/debug/lib/modules/3.10.0-957.el7.x86_64/vmlinux /var/crash/xx/vmcoreè¿›è¡Œdebugï¼Œå¯ä»¥è¾“å…¥btå‘½ä»¤æ¥æŸ¥çœ‹æ ˆä¿¡æ¯ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[go modä½¿ç”¨]]></title>
      <url>%2Fpost%2Fgo-mod%2F</url>
      <content type="text"><![CDATA[go modä»Ž1.11å¼€å§‹å·²ç»æˆä¸ºäº†goçš„é»˜è®¤åŒ…ç®¡ç†å·¥å…·ï¼Œæœ¬æ–‡è®°å½•go modçš„ä¸€äº›ä½¿ç”¨ç»éªŒã€‚ è¦æƒ³ä½¿ç”¨go modï¼Œéœ€è¦å°†goå‡çº§åˆ°1.11æˆ–è€…æ›´é«˜ç‰ˆæœ¬ã€‚ åœ¨æ²¡æœ‰go modä¹‹å‰ï¼Œé¡¹ç›®æºç å¿…é¡»æ˜¯æ”¾åœ¨GOPATHç›®å½•ä¸‹çš„ï¼Œæœ‰äº†go modä¹‹åŽé¡¹ç›®å³å¯ä»¥æ”¾åœ¨GOPATHç›®å½•ä¸‹ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨éžGOPATHçš„ç›®å½•ä¸‹ï¼Œåœ¨GOPATHç›®å½•ä¸‹åœ¨æ‰§è¡Œæ—¶éœ€è¦æŒ‡å®šçŽ¯å¢ƒå˜é‡GO111MODULE=on,å…·ä½“çš„å†™æ³•å¯ä»¥æ˜¯GO111MODULE=on go mod init ç”±äºŽä¼—æ‰€å‘¨çŸ¥çš„åŽŸå› ï¼Œgoçš„åŒ…ç›¸å¯¹è¿˜æ˜¯æ¯”è¾ƒéš¾ä¸‹è½½çš„ï¼Œå¾ˆå¤šæƒ…å†µä¸‹è¿˜æ˜¯éœ€è¦vendorç›®å½•å­˜åœ¨çš„ï¼Œå¹¶å°†vendorç›®å½•ä¸­çš„åŒ…ä¸€å¹¶æäº¤åˆ°ä»£ç åº“ä¸­ã€‚å¯ä»¥ä½¿ç”¨go mod vendorå‘½ä»¤æ¥å®Œæˆï¼Œæ‰§è¡Œè¯¥å‘½ä»¤åŽä¼šå°†æœ¬åœ°ä¸‹è½½çš„åŒ…copyåˆ°vendorç›®å½•ä¸‹ã€‚ å‘1 æç¤ºunknown revision1234# GO111MODULE=on go get gitlab.aa-inc.com/bb@v2go: finding gitlab.aa-inc.com/bb v2go: finding gitlab.aa-inc.com v2go get gitlab.aa-inc.com/bb@v2: unknown revision v2 åœ¨èŽ·å–å•ä¸ªåŒ…çš„æ—¶å€™æç¤ºunknown revisioné”™è¯¯ï¼ŒåŽå‘çŽ°æ˜¯go geté»˜è®¤æ˜¯ä½¿ç”¨çš„httpsåè®®ï¼Œè€Œä¸æ˜¯gitåè®®ï¼Œè€Œgitä»“åº“çš„httpsåè®®ä¸æ”¯æŒå¯¼è‡´çš„ï¼Œè§£å†³åŠžæ³•ä¸º: 1git config --global url.&quot;git@gitlab.aa-inc.com:&quot;.insteadOf &quot;https://gitlab.aa-inc.com/&quot; å‚è€ƒæ–‡æ¡£ Go æ¯æ—¥æ¼«è°ˆâ€”â€”Go Module çš„ä¸€äº›å‘]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ—¥å¸¸å·¥ä½œä¸­ç»å¸¸ç”¨åˆ°çš„å‘½ä»¤]]></title>
      <url>%2Fpost%2Foften-command%2F</url>
      <content type="text"><![CDATA[shellçš„å‘½ä»¤åƒåƒä¸‡ï¼Œå·¥ä½œä¸­æ€»æœ‰äº›å‘½ä»¤æ˜¯ç»å¸¸ä½¿ç”¨åˆ°çš„ï¼Œæœ¬æ–‡è®°å½•ä¸€äº›å¸¸ç”¨åˆ°çš„å‘½ä»¤ï¼Œç”¨äºŽæé«˜æ•ˆçŽ‡ã€‚ pythonå¿«é€Ÿå¼€å¯ä¸€ä¸ªhttp server python -m SimpleHTTPServer 8080 awkæŒ‰ç…§,æ‰“å°å‡ºä¸€æ¯ä¸€åˆ— awk -F, &#39;{for(i=1;i&lt;=NF;i++){print $i;}}&#39; docker registry åˆ—å‡ºé•œåƒï¼šcurl http://127.0.0.1:5000/v2/_catalog?n=1000 æŸ¥è¯¢é•œåƒçš„tag: curl http://127.0.0.1:5000/v2/nginx/tags/listï¼Œå¦‚æžœé‡åˆ°é•œåƒåç±»ä¼¼aa/bbçš„æƒ…å†µï¼Œéœ€è¦è½¬ç§»ä¸€ä¸‹ curl http://127.0.0.1:5000/v2/aa\/bb/tags/list]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxè™šæ‹Ÿç½‘ç»œè®¾å¤‡ - tap/tun]]></title>
      <url>%2Fpost%2Flinux-network-tap-tun%2F</url>
      <content type="text"><![CDATA[Linuxè™šæ‹Ÿç½‘ç»œè®¾å¤‡ - tap/tuntap/tunå¸¸ç”¨äºŽéš§é“é€šè®¯ï¼Œé€šè¿‡ä¸€ä¸ªå­—ç¬¦è®¾å¤‡æ¥å®žçŽ°ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„é€šè®¯ï¼Œå­—ç¬¦è®¾å¤‡ä¸€ç«¯è¿žæŽ¥ç€ç”¨æˆ·ç©ºé—´ï¼Œä¸€ç«¯è¿žæŽ¥ç€å†…æ ¸ç©ºé—´ã€‚ å¯¹åº”çš„å­—ç¬¦è®¾å¤‡æ–‡ä»¶ä½ç½®ï¼š tap: /dev/tap0 tun: /dev/net/tun å½“åº”ç”¨ç¨‹åºæ‰“å¼€å­—ç¬¦è®¾å¤‡æ–‡ä»¶æ—¶ï¼Œé©±åŠ¨ç¨‹åºä¼šåˆ›å»ºå¹¶æ³¨å†Œç›¸åº”çš„è™šæ‹Ÿè®¾å¤‡æŽ¥å£ï¼Œä»¥tunXæˆ–tapXå‘½åã€‚åº”ç”¨ç¨‹åºå…³é—­è®¾å¤‡æ–‡ä»¶æ—¶ï¼Œé©±åŠ¨ç¨‹åºä¼šåˆ é™¤tunXå’ŒtapXç½‘ç»œè™šæ‹Ÿè®¾å¤‡ï¼Œå¹¶åˆ é™¤å»ºç«‹èµ·æ¥çš„è·¯ç”±ä¿¡æ¯ã€‚ ä¸¤ä¸ªè®¾å¤‡çš„ä¸åŒç‚¹ï¼š tapæ˜¯ä¸€ä¸ªäºŒå±‚ç½‘ç»œè®¾å¤‡ï¼Œåªèƒ½å¤„ç†äºŒå±‚çš„ä»¥å¤ªç½‘å¸§ tunæ˜¯ä¸€ä¸ªç‚¹å¯¹ç‚¹çš„ä¸‰å±‚ç½‘ç»œè®¾å¤‡ï¼Œåªèƒ½å¤„ç†å¤„ç†ä¸‰å±‚çš„IPæ•°æ®åŒ… 1234567891011121314151617181920212223242526 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ APP â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚â”€ â”€ â”€ â”€ â”€ â”€â”‚ /dev/net/tun â”œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ tunX â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Network Stack â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ tunè®¾å¤‡åº”ç”¨ä¸¾ä¾‹123456789101112131415161718192021222324252627282930313233 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ APP A â”‚ â”‚ APP B â”‚â—€â” â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ 1â”‚ â”‚ â”‚ â”‚ 5â”‚ â”‚ â”‚ â”‚ â”‚ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”¼ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”‚â”€ â”€ â”€ â”€ â”¼ â”€ â”€ â”€ â”€ â”€ â”‚ â”‚ â”‚ â”‚ â”‚ 4â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ Network Stack â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ 6â”‚ 3â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â” â”‚ â”‚ â”‚ â”‚10.1.1.11 â”‚ eth0 â”‚ â”‚ tun0 â”‚ 192.168.1.11 â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ 7â”‚ â”‚ â–¼ 10.1.1.100 / 192.168.1.100 åº”ç”¨ç¨‹åºAè¦å‘é€æ•°æ®åˆ°å…¶ä»–ç‰©ç†æœº192.168.1.100ï¼Œç”±äºŽç‰©ç†ç½‘ç»œçŽ¯å¢ƒä¸‹åªæœ‰10.1.1.11å’Œ10.1.1.100æ˜¯ç›¸äº’è¿žé€šçš„ï¼Œ192.168.1.11å’Œ192.168.1.100æ˜¯ä¸é€šçš„ï¼Œä¸ºäº†192.168.1.11å’Œ192.168.1.100èƒ½å¤Ÿè¿›è¡Œé€šè®¯ï¼Œéœ€è¦å°†æ•°æ®åŒ…è¿›è¡Œä¸€æ¬¡å°è£…ã€‚ åº”ç”¨ç¨‹åºBæ˜¯é€šè¿‡æ‰“å¼€å­—ç¬¦è®¾å¤‡æ–‡ä»¶/dev/net/tun0çš„æ–¹å¼æ¥æ‰“å¼€ç½‘ç»œè®¾å¤‡ æµç¨‹å¦‚ä¸‹ï¼š Aæž„é€ æ•°æ®åŒ…ï¼Œç›®çš„ipä¸º192.168.1.100ï¼Œå¹¶å‘é€ç»™åè®®æ ˆ åè®®æ ˆæ ¹æ®æ•°æ®åŒ…ä¸­çš„ipåœ°å€ï¼ŒåŒ¹é…è·¯ç”±è§„åˆ™ï¼Œè¦ä»Žtun0å‡ºåŽ» å†…æ ¸åè®®æ ˆå°†æ•°æ®åŒ…å‘é€ç»™tun0ç½‘ç»œè®¾å¤‡ tun0å‘é€åº”ç”¨ç¨‹åºBæ‰“å¼€ï¼ŒäºŽæ˜¯å°†æ•°æ®å‘é€ç»™åº”ç”¨ç¨‹åºB Bæ”¶åˆ°æ•°æ®åŒ…åŽï¼Œåœ¨ç”¨æˆ·æ€æž„é€ ä¸€ä¸ªæ–°çš„æ•°æ®åŒ…ï¼ŒæºIPä¸ºeth0çš„IP 10.1.1.11ï¼Œç›®çš„IPä¸ºé…ç½®çš„å¯¹ç«¯10.1.1.100ï¼Œå¹¶å°è£…åŽŸæ¥çš„æ•°æ®åŒ… åè®®æ ˆæ ¹æ®å½“å‰æ•°æ®åŒ…çš„IPåœ°å€é€‰æ‹©è·¯ç”±ï¼Œå°†æ•°æ®åŒ…å‘é€ç»™eth0 reference è¯¦è§£äº‘è®¡ç®—ç½‘ç»œåº•å±‚æŠ€æœ¯â€”â€”è™šæ‹Ÿç½‘ç»œè®¾å¤‡ tap/tun åŽŸç†è§£æž Linux ç½‘ç»œå·¥å…·è¯¦è§£ä¹‹ ip tuntap å’Œ tunctl åˆ›å»º tap/tun è®¾å¤‡ Linuxè™šæ‹Ÿç½‘ç»œè®¾å¤‡ä¹‹tun/tap]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åŒ—äº¬è‡ªé©¾é’æµ·ç”˜è‚ƒå¤§çŽ¯çº¿ç³»åˆ— - 5]]></title>
      <url>%2Fpost%2Fqinghai-5%2F</url>
      <content type="text"><![CDATA[è¡Œç¨‹ï¼šæµ·å—è—æ—è‡ªæ²»å·žé»‘é©¬æ²³ä¹¡ï¼ˆ9:30ï¼‰ -&gt; èŒ¶å¡ç›æ¹–ï¼ˆ11:30 - 15:00ï¼‰-&gt; æŸ´è¾¾æœ¨ç›†åœ° -&gt; å¯é²å…‹æ¹–ï¼ˆ18:00 - 18:30ï¼‰ -&gt; å¤§æŸ´æ—¦é•‡ï¼ˆ21:00ï¼‰ è·¯ç¨‹ï¼š500+å…¬é‡Œ æ—¥æœŸï¼š2019.4.22 ä»Šå¤©æ˜¯æ•´ä¸ªè¡Œç¨‹çš„ç¬¬äº”å¤©ï¼Œç¬¬å››å¤©æ™šä¸Šåˆ°è¾¾äº†é’æµ·æ¹–è¥¿ç«¯çš„é»‘é©¬æ²³ä¹¡ï¼Œä»Šå¤©çš„ä¸»è¦è¡Œç¨‹æ˜¯èŒ¶å¡ç›æ¹–ï¼Œä»¥åŠæ¨ªç©¿å‡ ä¹Žæ•´ä¸ªæŸ´è¾¾æœ¨ç›†åœ°ã€‚ é»‘é©¬æ²³æ—¥å‡º é»‘é©¬æ²³åœ°å¤„é’æµ·æ¹–æœ€è¥¿ç«¯ï¼Œå¾€ä¸œè¾¹çœ‹åŽ»æ˜¯å¹³é™çš„æ¹–æ°´ï¼Œå®Œå…¨æ²¡æœ‰ä»»ä½•é®æŒ¡ï¼ŒåŠ ä¸Šé«˜åŽŸçš„ç©ºæ°”é€šé€æ€§ç‰¹åˆ«å¥½ï¼Œå†µä¸”åœ°å¤„å¹²æ—±åœ°å¸¦ï¼Œä»¥æ™´å¤©ä¸ºä¸»ï¼Œæ˜¯ä¸ªçœ‹æ—¥å‡ºçš„ç»ä½³åœ°ç‚¹ã€‚ ä»Žé»‘é©¬æ²³èµ¶å¾€èŒ¶å¡é•‡éœ€è¦ç»è¿‡æ©¡çš®å±±ï¼Œæ©¡çš®å±±å£çš„æµ·æ‹”åœ¨3800ç±³+ï¼Œæ˜¯æ•´ä¸ªè¡Œç¨‹ä¸­çš„æµ·æ‹”æœ€é«˜ç‚¹ã€‚æ­¤æ—¶çš„æ©¡çš®å±±è¿˜å®Œå…¨æ˜¯ä¸€åº§é›ªå±±ï¼Œæ˜¯æ•´ä¸ªè¡Œç¨‹ä¸­çš„ç¬¬äºŒæ¬¡åˆ°è¾¾é›ªå±±ã€‚åŒæ—¶ä¹Ÿæ˜¯ç”±äºŽè¿™äº›å±±è„‰çš„åŽŸå› ï¼Œæ‰é˜»éš”äº†é’æµ·æ¹–å’ŒèŒ¶å¡ç›æ¹–ï¼Œä½¿å…¶åˆ†åˆ«æˆä¸ºäº†åªè¿›ä¸å‡ºçš„å’¸æ°´æ¹–ã€‚ èŒ¶å¡ç›æ¹– èŒ¶å¡ç›æ¹–å‡ ä¹Žæ˜¯é’æµ·æ—…æ¸¸çš„æ¯•ç«Ÿä¹‹åœ°ï¼Œæ— è®ºæ˜¯çŽ¯é’æµ·æ¹–å°çŽ¯çº¿ï¼Œè¿˜æ˜¯é’æµ·ç”˜è‚ƒå¤§çŽ¯çº¿ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç½‘çº¢æ™¯ç‚¹ï¼Œç½‘ç»œä¸Šæœ‰å¤ªå¤šç©¿ç€çº¢è‰²è£™å­çš„æ¼‚äº®çš„å°å§å§çš„ç…§ç‰‡å’Œè§†é¢‘ã€‚ èŒ¶å¡ç›æ¹–åœ°å¤„æŸ´è¾¾æœ¨ç›†åœ°ï¼Œå‘¨è¾¹åœ°åŠ¿è¾ƒä½Žï¼Œåœ¨ç¦»ç›æ¹–åå‡ å…¬é‡Œçš„åœ°æ–¹æ¹–æ³Šå°±æ¸…æ™°å¯è§ï¼Œå¤©ä¸Šçš„ç™½äº‘å€’å½±åœ¨æ¹–ä¸­ï¼Œå®›å¦‚ä¸€é¢é•œå­ï¼Œå› æ­¤ç´ æœ‰â€œå¤©ç©ºä¹‹å¢ƒâ€ä¹‹ç§°ã€‚è¿œå¤„çš„æ˜†ä»‘å±±è„‰å’Œç¥è¿žå±±è„‰çš„é›ªå±±æ¸…æ™°å¯è§ï¼Œç”±äºŽå¤©ç©ºå¤ªè¿‡é€å½»ï¼Œä½¿å¸¸å¹´ç”Ÿæ´»åœ¨åŽåŒ—åœ°åŒºçš„æˆ‘å¾ˆéš¾åˆ¤æ–­å‡ºé›ªå±±çš„è·ç¦»ã€‚ (å›¾ä¸ºé‡‡ç›èˆ¹) èŒ¶å¡ç›æ¹–çš„å¼€å‘åˆ©ç”¨ç›¸å½“å……åˆ†ï¼Œä¸€æ–¹é¢æ˜¯ç”¨æ¥å¼€å‘é‡‡ç›ï¼Œå¹¶å»ºæœ‰ç›åŽ‚ï¼Œæ¹–é¢ä¸Šå¯ä»¥çœ‹åˆ°å¼€é‡‡ç›çŸ¿çš„èˆ¹åªã€‚å¦ä¸€æ–¹é¢ï¼Œé€šè¿‡æ—…æ¸¸æ¥è¿›ä¸€æ­¥æœ€å¤§åŒ–å…¶ä»·å€¼ï¼Œå…¶å®žæ•´ä¸ªæŸ´è¾¾æœ¨ç›†åœ°æœ‰å¾ˆå¤šçš„ç›æ¹–ï¼Œä½†æœ€ä¸ºå¤§ä¼—æ‰€ç†ŸçŸ¥çš„ä»…æ­¤ä¸€å®¶ã€‚è€Œä¸”æ—…æ¸¸è·Ÿé‡‡ç›æ˜¯å®Œå…¨åˆ†ç¦»çš„ï¼Œäº’ä¸ç›¸å¹²ï¼Œæ¯•ç«Ÿå¤§éƒ¨åˆ†æ¸¸å®¢éƒ½æ˜¯æ¥æ‹ç…§çš„ï¼Œæ—…æ¸¸å ç”¨çš„ç›æ¹–é¢ç§¯æ¯”é‡ç›¸å¯¹è¾ƒå°ã€‚ èŒ¶å¡ç›æ¹–çš„å«ç›é‡å®žåœ¨å¤ªé«˜ï¼Œå¤§éƒ¨åˆ†åœ°æ–¹æ¹–é¢çš„æ°´éƒ½è¾ƒæµ…ï¼Œä»…æœ‰è–„è–„çš„ä¸€å±‚ï¼Œä¸‹é¢å…¨æ˜¯æ²‰ç§¯çš„ç›çŸ¿ï¼Œæˆ‘æ­¤è¡Œå¹¶æ²¡æœ‰çœ‹åˆ°æœ‰æ•°ç±³æ·±çš„æ¹–æ°´ã€‚å¾ˆå¤šåœ°æ–¹æ˜¯å¯ä»¥ç©¿ç€é´å­è¿›å…¥åˆ°é‡Œé¢çš„ï¼Œä½†è¦å°å¿ƒç›å‘ï¼Œçœ‹ä¼¼å¹³å¦çš„ç›çŸ¿å…¶å®žæœ‰å¾ˆå¤šçš„æš—æ´žï¼Œå¾ˆå®¹æ˜“å°±é™·è¿›åŽ»ï¼Œå¥½åœ¨æ¸¸å®¢èƒ½åŽ»çš„åœ°æ–¹ç›æ´žéƒ½ç»™å µä½äº†ï¼Œæ²¡å•¥å®‰å…¨é—®é¢˜ã€‚ä¸Šå›¾ä¸­é»„è‰²çš„ç½‘çŠ¶ç»“æž„ä¸ºé˜²æ­¢æ¸¸å®¢é™·å…¥çš„ç›–å­ã€‚ æ­»æµ·çš„å«ç›é‡è‚¯å®šæ²¡æœ‰ç›æ¹–çš„å«é‡é«˜çš„ï¼Œå°šä¸”äººä½“å¯ä»¥æ¼‚æµ®åœ¨è¡¨é¢ï¼Œæˆ‘æƒ³èŒ¶å¡ç›æ¹–å¦‚æžœæœ‰è¾ƒæ·±çš„åœ°æ–¹ï¼Œäººä½“ä¸€å®šæ˜¯å¯ä»¥æ¼‚æµ®åœ¨è¡¨é¢çš„ï¼Œå¯æƒœç›æ¹–å¹¶æœªæä¾›è¯¥é¡¹æ—…æ¸¸ä½“éªŒæœåŠ¡ï¼Œè¦ä¸è¿˜çœŸæƒ³ä¸€è¯•ã€‚ èŒ¶å¡ç›æ¹–çš„æœ€ä½³æ‹ç…§æ—¶æœºæ˜¯æ¸…æ™¨å’Œå‚æ™šï¼Œä¸­åˆçƒˆæ—¥å½“å¤´çš„æ—¶å€™æ™’å¾—äººå¾ˆä¸èˆ’æœï¼Œç´«å¤–çº¿ç›¸å½“å¼ºçƒˆï¼Œå°¤å…¶æ˜¯å¯¹äºŽæˆ‘è¿™ç§æ²¡æœ‰å¢¨é•œè£…å¤‡çš„è¿‘è§†çœ¼æ¸¸å®¢ã€‚åœ¨çƒˆæ—¥ä¸‹ï¼ŒåŽ»æ‹äººåƒä¹Ÿå¾ˆéš¾æ‹çš„æ¼‚äº®ï¼Œçœ¼ç›æ˜¯å¾ˆéš¾çå¼€çš„ï¼Œæ‰‹æœºåœ¨æ‹äººåƒæ—¶ï¼Œç”±äºŽèƒŒæ™¯å®žåœ¨å¤ªäº®ï¼Œäººåƒæ€»æ˜¯ä¼šåé»‘ä¸€äº›ã€‚å¯¹äºŽæˆ‘è€Œè¨€ï¼Œæ˜¯å¾ˆéš¾åšåˆ°æ—©èµ·çš„ï¼Œä¹Ÿå°±èµ¶ä¸ä¸Šæ¸…æ™¨çš„èŒ¶å¡ç›æ¹–ï¼Œå®žé™…ä¸Šåˆ°è¾¾ç›æ¹–æ™¯åŒºçš„æ—¶å€™å·²ç»æ˜¯ä¸­åˆäº†ã€‚ (ç›æ¹–çš„è·¯éƒ½æ˜¯ç”¨ç›ç»“æ™¶é“ºæˆçš„ï¼Œå¥½ä¸å¥¢ä¾ˆ) (åœ¨æ¹–ä¸­çš„æ²‰æ·€ç‰©æžå‡ºæ¥éšæ‰‹ä¸€æ”¥éƒ½èƒ½æˆä¸ºä¸€ä¸ªå¤§ç–™ç˜©) æŸ´è¾¾æœ¨ç›†åœ°æ¸¸è§ˆå®ŒèŒ¶å¡ç›æ¹–å·²ç»æ˜¯ä¸‹åˆä¸‰ç‚¹é’Ÿäº†ï¼ŒæŽ¥ä¸‹æ¥è¿˜æœ‰400å¤šå…¬é‡Œçš„è·¯ç¨‹è¦èµ°ï¼Œå¥½åœ¨é«˜åŽŸçš„å¤©é»‘æ—¶é—´è¦åˆ°æ™šä¸Šå…«ç‚¹åŠã€‚ç¦»å¼€èŒ¶å¡é•‡åŽï¼Œå°±è¿›å…¥äº†æ¼«é•¿çš„æŸ´è¾¾æœ¨ç›†åœ°ã€‚ æˆ‘åŽŸä»¥ä¸ºæŸ´è¾¾æœ¨ç›†åœ°æ˜¯å±žäºŽæ–°ç–†åœ°åŒºçš„ï¼ŒåŽæ¥ä¸€çœ‹åœ°å›¾æ‰å‘çŽ°å½»å¤´å½»å°¾çš„å±žäºŽé’æµ·çœï¼Œå¤¹åœ¨æ˜†ä»‘å±±ã€ç¥è¿žå±±å’Œé˜¿å°”é‡‘å±±ä¸‰å¤§å±±è„‰ä¹‹é—´ï¼Œè€Œä»Šå¤©çš„è¡Œç¨‹å‡ ä¹Žå°±æ˜¯æ¨ªç©¿æ•´ä¸ªæŸ´è¾¾æœ¨ç›†åœ°ã€‚ åˆšç¦»å¼€èŒ¶å¡é•‡ï¼Œè¿˜èƒ½çœ‹åˆ°ä¸€äº›ç‰§æ°‘å…»çš„æˆç¾¤çš„ç‰›ç¾Šï¼Œåœ°ä¸Šä¹Ÿé•¿æœ‰ä¸€äº›æž¯è‰ï¼Œä½†åŽæ¥åœ°ä¸Šéšç€æž¯è‰çš„å‡å°‘ï¼Œç‰›ç¾Šä¹Ÿå°±çœ‹ä¸åˆ°äº†ã€‚åˆ°åŽé¢å‡ ä¹Žå°±æ˜¯æˆˆå£ï¼Œçœ‹ä¸åˆ°ä»»ä½•çš„åŠ¨ç‰©ï¼Œå®Œå…¨çš„è’åŽŸï¼Œè®©æˆ‘æƒ³èµ·äº†ã€ŠåŒ—æ–¹çš„ç©ºåœ°ã€‹ä¸­æè¿°çš„ç¾Œå¡˜æ— äººåŒºä¸­çš„ç”»é¢ï¼Œæˆ‘æ„Ÿè§‰æ— äººåŒºä¸­ä¹Ÿä¸è¿‡å¦‚æ­¤ç½¢äº†ã€‚åœ°ç†è¯¾æœ¬ä¸Šè¯´æŸ´è¾¾æœ¨ç›†åœ°æ˜¯â€œèšå®ç›†â€ï¼ŒçŸ¿äº§èµ„æºå¼‚å¸¸ä¸°å¯Œï¼ŒæŠ›å¼€è¿™äº›åŸ‹è—åœ¨åœ°åº•ä¸‹çš„çŸ¿äº§ä¸è¯´ï¼Œä½†å°±æ„Ÿå®˜è€Œè¨€ï¼Œæ˜¯æžå…¶çš„è’å‡‰ã€‚å¥½åœ¨ä¸€è·¯ä¸Šï¼Œæ€»æœ‰é›ªå±±é™ªä¼´ï¼Œä¹Ÿä¸è‡³äºŽå¤ªå­¤å•ã€‚ä¸€è·¯ä¸Šæœ‰å¾ˆå¤šåŠ¨ç‰©å‡ºæ²¡çš„æŒ‡ç¤ºç‰Œï¼Œå¥½æƒ³çœ‹åˆ°ä¸€ä¸ªæ´»ç‰©ï¼Œä½†éƒ½ä»¥å¤±æœ›å‘Šç»ˆã€‚ ç”±äºŽåœ°å¹¿äººç¨€ï¼Œè¿™æ®µé«˜é€Ÿå…¬è·¯çš„ç®¡ç†ä¹Ÿç›¸å¯¹ç®€é™‹ï¼Œæ›¾çœ‹åˆ°äº†ä¸€è¾†å½“åœ°çš„ä¸‰è½®è½¦åœ¨é«˜é€Ÿçš„å¿«è½¦é“ä¸Šé€†è¡Œï¼Œå“å¾—æˆ‘ä¸€è„¸æ‡µï¼Œä¼°è®¡æ˜¯è¦æŒ‰æ­£å¸¸çš„è·¯çº¿è¡Œé©¶è¦å¤šèµ°å‡ºå¥½å¤šè·¯ã€‚ å¯é²å…‹æ¹– å¯é²å…‹æ¹–ä½äºŽé«˜é€Ÿå…¬è·¯æ—çš„å¤§çº¦ä¸¤å…¬é‡Œå¤„ï¼Œç”šè‡³éƒ½ä¸ç”¨ä¸‹é«˜é€Ÿå°±å¯ä»¥åˆ°è¾¾ï¼Œå±žäºŽ3Açº§æ™¯åŒºã€‚åˆ°è¾¾å¯é²å…‹æ¹–æ—¶å·²ç»æ˜¯ä¸‹åˆ6ç‚¹é’Ÿï¼Œå¯¹äºŽè¿›å…¥æ™¯åŒºæœ¬ä¸æŠ¥å¤ªå¤§çš„å¸Œæœ›ï¼Œç»è¯¢é—®æ™¯åŒºå±…ç„¶è¥ä¸šåˆ°æ™šä¸Šå…«ç‚¹é’Ÿï¼Œé«˜åŽŸåœ°åŒºæžœç„¶å¤©é»‘çš„æ™šã€‚æ™¯åŒºä¸»è¦æ˜¯ä¸€ä¸ªåŒå¤§çš„å¯é²å…‹æ¹–ï¼Œå¯ä¾›æ¸¸çŽ©çš„åœ°æ–¹ç‰¹åˆ«å°‘ï¼Œç®€å•æ‹ç…§èµ°äººã€‚å¦‚æžœåœ¨è¿™é‡Œæ‹å¼ ç…§ï¼Œæ‹¿ç»™åˆ«äººçœ‹ï¼Œè¯´æ˜¯é’æµ·æ¹–æ‹çš„ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿçœ‹å¾—å‡ºç ´ç»½ã€‚å¦‚æžœæ—¶é—´ç´§è¿«ï¼Œè¯¥æ™¯åŒºå®Œå…¨å¯ä»¥ä¸åŽ»å‚è§‚ã€‚ å¯é²å…‹æ¹–æ™¯åŒºæ—è¾¹è¿˜æœ‰ä¸ªæ¯”å…¶æ›´å¤§çš„æ‰˜ç´ æ¹–ï¼Œæ‰˜ç´ æ¹–æ˜¯å¯é²å…‹æ¹–çš„ä¸‰å€å¤§å°ï¼Œå¯é²å…‹æ¹–çš„æ¹–æ°´æœ€ç»ˆä¼šæµå…¥æ‰˜ç´ æ¹–ä¸­ã€‚æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯ï¼Œå¯é²å…‹æ¹–çš„æ¹–æ°´å±žäºŽæ·¡æ°´æ¹–ï¼Œè€Œæ‰˜ç´ æ¹–å´å±žäºŽå…¸åž‹çš„å†…é™†å’¸æ°´æ¹–ã€‚å’¸æ°´æ¹–çš„å½¢æˆç¦»ä¸å¼€å°é—­çš„çŽ¯å¢ƒï¼Œæ‰˜ç´ æ¹–ç”±äºŽæ²¡æœ‰æŽ’æ°´æ¸ é“ï¼Œåªèƒ½é è’¸å‘æ¥æ¶ˆè€—æ°´åˆ†ï¼Œæ°´åˆ†è¢«è’¸å‘åŽï¼Œæ°´åˆ†ä¸­çš„ç›åˆ†å´ä¸ä¼šè¢«è’¸å‘ï¼Œæ—¥ç§¯æœˆç´¯å°±ä¼šå½¢æˆå’¸æ°´æ¹–ã€‚è€Œå¯é²å…‹æ¹–ç”±äºŽä¼šæµå‘æ‰˜ç´ æ¹–ï¼Œæ¹–æ°´æ˜¯æµåŠ¨çš„ï¼Œå› æ­¤æ²¡æœ‰å½¢æˆå’¸æ°´æ¹–ã€‚ æ‰˜ç´ æ¹–ç¦»é«˜é€Ÿè¾ƒè¿œï¼Œè¦å¼€è½¦è¿‡åŽ»éœ€è¦æ²¿ç€å¯é²å…‹æ¹–çš„æ¹–è¾¹ï¼Œæ¥å›žè‡³å°‘è¿˜å¾—è¦ä¸€ä¸ªåŠå°æ—¶çš„æ—¶é—´ï¼Œæ—¶é—´ä¸å¤ªå…è®¸ï¼Œä¸”å¯çŽ©æ€§è¾ƒå·®ï¼Œå°±ç›´æŽ¥å¿½ç•¥äº†è¯¥æ™¯åŒºã€‚ æ‰˜ç´ æ¹–æ—è¾¹è¿˜æœ‰ä¸ªå¤–æ˜Ÿäººé—å€ï¼Œå•çœ‹æ™¯åŒºçš„åå­—æ˜¯æˆ‘ç‰¹åˆ«æ„Ÿå…´è¶£çš„ç±»åž‹ï¼Œç½‘ä¸Šä¸€æœï¼Œæ™¯åŒºå±…ç„¶æš‚æœªå¼€æ”¾! å½“å¤©ç»ˆç‚¹ - å¤§æŸ´æ—¦åˆæ˜¯åœ¨æ™šä¸Šçš„æ—¶å€™åˆ°è¾¾äº†å½“å¤©çš„ç»ˆç‚¹ç«™å¤§æŸ´æ—¦åŽ¿ã€‚ 12345678å¤©ç©ºä¹‹é•œæ¹–ç™½é›ªçš‘çš‘å±±æ¼«æ¼«æŸ´è¾¾æœ¨æ¸ºæ¸ºæ— äººçƒŸç›†åœ°å…¨æ˜¯å®å¯æƒœåªè§è‰æˆˆå£è¿žæˆç‰‡å¤œå®¿å¤§æŸ´æ—¦ æœªå®Œå¾…ç»­â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åŒ—äº¬è‡ªé©¾é’æµ·ç”˜è‚ƒå¤§çŽ¯çº¿ç³»åˆ— - 4]]></title>
      <url>%2Fpost%2Fqinghai-4%2F</url>
      <content type="text"><![CDATA[ç¬¬å››å¤© è¡Œç¨‹ï¼šè¥¿å®å¸‚ -&gt; æµ·å—è—æ—è‡ªæ²»å·žé»‘é©¬æ²³é•‡ è·¯ç¨‹ï¼š250å…¬é‡Œ æ—¥æœŸï¼š2019.4.21 ç»è¿‡äº†å‰ä¸‰å¤©çš„é•¿é€”è·‹æ¶‰ï¼Œä»Šå¤©å¼€å§‹äº†æ­£å¼çš„æ—…è¡Œã€‚æ—©ä¸Šåœ¨è¥¿å®å¸‚çš„åŽæ¶¦ä¸‡å®¶é‡‡è´­äº†ä¸€äº›é£Ÿç‰©ï¼Œå› ä¸ºè¿˜ä¸å¤ªæ¸…æ¥šæŽ¥ä¸‹æ¥çš„å¤§çŽ¯çº¿æ—…è¡Œä¸­æ²¿é€”çš„ä½å®¿é¥®é£Ÿæ¡ä»¶æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œä¹Ÿä¸å¤ªæ¸…æ¥šå¾ˆå¤šæƒ…å†µä¸‹æ˜¯å¦æœ‰è¶³å¤Ÿçš„æ—¶é—´æ¥é¥±é¤ä¸€é¡¿ï¼Œæ¯•ç«Ÿæ¯å¤©éƒ½è¦èµ¶å¾ˆå¤šçš„è·¯ã€‚ ç¬¬ä¸€ç«™ å¡”å°”å¯º å¡”å°”å¯ºé€šå¸¸éƒ½æ˜¯å¤§å®¶é’æµ·æ—…æ¸¸çš„ç¬¬ä¸€ç«™ï¼Œå› ä¸ºè·ç¦»è¥¿å®å¸‚åŒºæ¯”è¾ƒè¿‘ï¼Œå¤§æ¦‚æœ‰å‡ åå…¬é‡Œçš„è·¯ç¨‹ï¼Œå¼€è½¦ä¸€ä¸ªå°æ—¶å³å¯åˆ°è¾¾ã€‚ å¡”å°”å¯ºå±žäºŽå…¸åž‹çš„è—ä¼ ä½›æ•™åœ£åœ°ï¼Œè—ä¼ ä½›æ•™æ˜¯å—å°åº¦ä½›æ•™ã€é’è—é«˜åŽŸæœ¬åœŸçš„è‹¯æ³¢æ•™å’Œæ±‰ä¼ ä½›æ•™å½±å“çš„å…±åŒäº§ç‰©ï¼Œå› æ­¤æœ‰å¾ˆå¤šåŒºåˆ«äºŽå…¶ä»–ä½›æ•™åˆ†æ”¯çš„ç‰¹ç‚¹ã€‚å”æœæ—¶æœŸçš„æ–‡æˆå…¬ä¸»æ˜¯ä¿¡å¥‰ä½›æ•™çš„ï¼Œè¿œå«æ¾èµžå¹²å¸ƒåŽï¼Œä¸ºæ±‰æ—çš„ä½›æ•™å‘é’è—åœ°åŒºçš„æ¸—é€èµ·åˆ°äº†éžå¸¸å¤§çš„ä½œç”¨ã€‚ å¡”å°”å¯ºåœ¨è—ä¼ ä½›æ•™ä¸­çš„åœ°ä½åº”è¯¥è·Ÿäº”å°å±±å·®ä¸å¤šï¼Œä½†åŒæ—¶ä¹Ÿå¸æ”¶äº†ä¸€äº›ä¸­åŽŸé“æ•™çš„æ–‡åŒ–ï¼Œæ¯”å¦‚å¯ºå†…èƒ½çœ‹åˆ°æœ‰è¥¿çŽ‹æ¯çš„å¡‘åƒã€‚å¯ºå†…å»ºç­‘å®ä¼Ÿï¼Œé™¢è½ä¹Ÿè¾ƒå¤šï¼Œæ¯”èµ·äº”å°å±±è€Œè¨€ï¼Œé™¤äº†æ•´ä½“é¢ç§¯å°ç‚¹ï¼Œå…¶å®ƒæ–¹é¢å¹¶ä¸é€Šè‰²ã€‚ æœªèƒ½é¢†æ‚Ÿä½›æ•™çš„æˆ‘ï¼Œè‰è‰çš„å‚è§‚å¡”å°”å¯ºåŽï¼Œæ˜Žæ˜¾å‘çŽ°äº†è—ä¼ ä½›æ•™çš„å¾ˆå¤šç‰¹è‰²ï¼Œä¹Ÿå¸¦ç»™äº†æˆ‘ä¸å°‘çš„éœ‡æ’¼ã€‚ å¥½å‡ ä¸ªå¤§æ®¿çš„é™¢å†…æˆ–è€…å‘¨å›´éƒ½æœ‰è™”è¯šçš„ä½›æ•™å¾’åœ¨åšå‘¨è€Œå¤å§‹çš„æœæ‹œï¼Œå£ä¸­è¿˜æŒ¯æŒ¯æœ‰è¯ï¼Œæœ¨è´¨ç»“æž„çš„åœ°æ¿æ—©å·²ç£¨çš„å…‰æ»‘æ— æ¯”ã€‚é‚£ç§è™”è¯šã€æ‰§ç€éžå¸¸å€¼å¾—æ•¬ä½©ï¼Œè™½ç„¶ä»¥æˆ‘çŽ°åœ¨çš„é˜…åŽ†è¿˜å¾ˆéš¾ç†è§£è¿™ç§å®—æ•™è¡Œä¸ºã€‚ ç¬¬äºŒç«™ æ—¥æœˆå±±ä»Žå¡”å°”å¯ºå‡ºæ¥åŽï¼Œå·²ç»æ˜¯ä¸‹åˆä¸¤ç‚¹äº†ï¼ŒæŽ¥ä¸‹æ¥å°±è¦å¾€é’æµ·æ¹–è¿›å‘äº†ã€‚æ—¥æœˆå±±æ˜¯æ­¤è¡Œçš„å¿…ç»ä¹‹è·¯ï¼Œå±žäºŽç¥è¿žå±±è„‰çš„æ”¯è„‰ï¼Œä¹Ÿæ˜¯æ­¤è¡Œä¸­çœ‹åˆ°çš„ç¬¬ä¸€ä¸ªé›ªå±±ï¼Œæ²¿é€”æµ·æ‹”åœ¨3000ç±³ä»¥ä¸Šã€‚ è¿›å…¥æ—¥æœˆå±±ä¹‹å‰ï¼Œé˜³å…‰æ™®ç…§ï¼Œé«˜åŽŸçš„é˜³å…‰ç›¸å½“å¼ºçƒˆï¼Œéš”ç€è½¦çŽ»ç’ƒéƒ½èƒ½æ„Ÿè§‰åˆ°ã€‚ä¸€å¼€è¿›æ—¥æœˆå±±ï¼Œé›ªå±±æ¸…æ™°å¯è§ï¼Œçªç„¶ä¸‹èµ·äº†å†°é›¹ï¼Œç´§æŽ¥ç€åˆä¸‹èµ·äº†é›¨å¤¹é›ªï¼ŒåŽŸæœ¬æ²¡æœ‰ç§¯é›ªè¦†ç›–çš„å±±ä¸Šä¹ŸæŠ«ä¸Šäº†ä¸€å±‚è–„è–„çš„é“¶è£…ã€‚è¿™ä¸€åˆ‡ä»¿ä½›åœ¨é¢„ç¤ºç€ä»€ä¹ˆï¼Œä»¿ä½›åœ¨è¿ŽæŽ¥ç€è¿œé“è€Œæ¥çš„å®¢äººï¼Œåˆä»¿ä½›æ˜¯åœ¨å‘Šè¯«æˆ‘ä¸è¦æ‰“æ‰°åˆ°äº†é›ªå±±ä¸Šçš„ç¥žçµã€‚ å› ä¸ºæ—¥æœˆå±±çš„é£Žæ™¯å¤ªç¾Žï¼Œå…¨ç„¶æ²¡æœ‰äº†èµ¶è·¯çš„æƒ³æ³•ï¼Œå°±æƒ³é©»è¶³ä½“éªŒä¸€ä¸‹æ—¥æœˆå±±çš„ç¥žå¥‡ã€‚ä¸»å¹²é“æ˜¯äº¬è—é«˜é€Ÿï¼Œæœ‰æ¡å…¬è·¯å¯ä»¥é€šå¾€æ—¥æœˆå±±é£Žæ™¯åŒºï¼Œç´¢æ€§ç›´æŽ¥å¼€å¾€æ—¥æœˆå±±é£Žæ™¯åŒºã€‚åˆ°äº†æ™¯åŒºé—¨å£ï¼Œé›¨å¤¹é›ªæ¸å°ï¼Œä¸€ä¸‹è½¦å‘çŽ°ç©ºæ°”å‡‰äº†å¥½å¤šï¼ŒåŽŸæœ¬ä»…ç©¿äº†å•ä»¶è¡£æœï¼Œæ„Ÿè§‰ç«‹é©¬è¦ç©¿ç¾½ç»’æœçš„èŠ‚å¥ï¼Œç©¿äº†ä»¶å¤–å¥—ä»å†»å¾—ç›´æ‰“å“†å—¦ã€‚é«˜åŽŸçš„å¤©æ°”å°±æ˜¯è¿™èˆ¬ç¥žå¥‡ï¼Œæœ‰é˜³å…‰å’Œæ²¡æœ‰é˜³å…‰å®Œå…¨å°±æ˜¯ä¸¤ä¸ªä¸–ç•Œã€‚ æ—¥æœˆå±±é£Žæ™¯åŒºå¹¶æ²¡æœ‰å¿…è¦è¿›å…¥å‚è§‚ï¼Œå› ä¸ºæ™¯è§‚åœ¨æ™¯åŒºå¤–ä¸€è§ˆæ— ä½™ã€‚ æ™¯åŒºæ—è¾¹èƒ½çœ‹åˆ°å¾ˆå¤šé«˜åŽŸé¼ å…”ï¼Œå‘å‡ºå±å±çš„å“å£°ï¼Œè¿™çŽ©æ„ç‰¹åˆ«çˆ±æ‰“æ´žï¼Œé¼ å…”çš„æ—è¾¹å¯ä»¥çœ‹åˆ°å‡ ä¸ªæ´žã€‚ ä¹‹åŽçš„è¡Œç¨‹ä¸­åœ¨å…¬è·¯è¾¹ä¸Šçœ‹åˆ°äº†ä¸€åªæ­»åŽ»çš„é©¬åŒ¹ï¼Œé©¬çš„å¤´é¢…å·²ä¸çŸ¥æ‰€è¸ªã€‚æˆ‘æƒ³æ”¾åˆ°ä¸œéƒ¨åœ°åŒºï¼Œè¿™ç§çŽ°è±¡æ˜¯è‚¯å®šä¸ä¼šå‡ºçŽ°çš„ï¼Œæ­»åŽ»çš„é©¬å„¿è‚¯å®šè¿˜æœ‰å®ƒçš„åˆ©ç”¨ä»·å€¼ã€‚ ç¬¬ä¸‰ç«™ é’æµ·æ¹– ä»Žæ—¥æœˆå±±å‡ºæ¥æ²¿ç€G109å›½é“ç»§ç»­å‰è¡Œï¼Œä¸­é—´ç»è¿‡äº†å€’æ·Œæ²³é£Žæ™¯åŒºï¼Œå€’æ·Œæ²³æ°´æºè‡ªæ—¥æœˆå±±ï¼Œè‡ªä¸œå‘è¥¿æ³¨å…¥é’æµ·æ¹–ï¼Œæ•…åå€’æ·Œæ²³ã€‚å€’æ·Œæ²³çš„æ°´é‡ä¸å¤§ï¼ŒåŠ ä¸Šæœ¬æ¥ä¹Ÿå¾ˆéš¾åˆ†æ¸…ä¸œå—è¥¿åŒ—ï¼Œå°±å¾ˆéš¾ä½“ä¼šåˆ°å€’æ·Œæ²³çš„ç²¾å¦™ã€‚çœ‹è¯„ä»·æ™¯ç‚¹æ¯”è¾ƒå‘ï¼Œå¹¶æ²¡æœ‰è¿›å…¥å‚è§‚ã€‚ è¿‡ä¸äº†å¤šä¹…ï¼Œé’æµ·æ¹–å°±ä¼šå‡ºçŽ°åœ¨äº†çœ¼å‰ï¼Œè€Œä¸”æŽ¥ä¸‹æ¥çš„ä¸¤ä¸ªå¤šå°æ—¶ä¼šä¸€ç›´æ²¿ç€é’æµ·æ¹–å—æ²¿çš„å…¬è·¯å‰è¿›ï¼Œè¶³è¶³æœ‰ä¸€ç™¾å…¬é‡Œçš„è·ç¦»ï¼Œä¸æ„§ä¸ºä¸­å›½æœ€å¤§çš„æ¹–æ³Šã€‚é’æµ·æ¹–æœ‰ä¸ªæ¸¸å®¢åŽ»çš„è¾ƒå¤šçš„äºŒéƒŽå‰‘æ™¯åŒºï¼Œå¹¶æ²¡æœ‰è¿›å…¥ï¼Œæ®è¯´æ€§ä»·æ¯”ä¾æ—§å¾ˆä½Žï¼Œæ— éžå°±æ˜¯çœ‹æ¹–ï¼Œé’æµ·æ¹–çš„ç¾Žä»Žå“ªä¸ªè§’åº¦éƒ½èƒ½æ„Ÿå—åˆ°ã€‚ G109å›½é“è·Ÿé’æµ·æ¹–ç¨å¾®æœ‰ä¸€æ®µè·ç¦»ï¼Œæœ€è¿‘å¤„å·®ä¸å¤šæœ‰ä¸€é‡Œè·¯çš„æ ·å­ï¼Œä¸­é—´éƒ½æ˜¯è‰åŽŸï¼Œè¢«ç‰§æ°‘ç»™å›´æˆäº†ä¸€å—ä¸€å—ï¼Œå±±ç¾Šç»µç¾Šåœ¨æ‚ é—²çš„åƒç€è‰ã€‚æ‰¾äº†ä¸€å¤„ç‰§æ°‘çš„åŒºåŸŸï¼Œå¼€è½¦è¿‡åŽ»ï¼Œä¸€äºº10å…ƒçš„é—¨ç¥¨ï¼Œå³å¯åˆ°é’æµ·æ¹–è¾¹æ‹ç…§ã€‚ èº«ä¸ºæ¸¸å®¢ä¸€å®šè§‰å¾—æ¹–è¾¹çš„ç‰§æ°‘æ˜¯çœŸæ­£çš„é€é¥å¿«æ´»ï¼Œæ¯å¤©åœ¨è‡ªå·±çš„ç‰§åœºä¸Šéª‘é©¬æ”¾ç‰§ï¼Œä½åœ¨é’æµ·æ¹–ç•”ï¼Œè¿œå¤„æœ‰é›ªå±±ä½œä¼´ï¼Œå‘¼å¸ç€å‡ ä¹Žæ²¡æœ‰æ±¡æŸ“çš„ç©ºæ°”ã€‚å¯æ˜¯ä¸€æ—¦å¤©å¤©éƒ½æ˜¯è¿™æ ·çš„ç”Ÿæ´»ï¼Œåˆæœ‰å‡ ä¸ªæ¸¸å®¢å¯ä»¥æ”¾ä¸‹å°˜ä¸–é—´çš„æ‰€æœ‰è¯±æƒ‘æ¥åˆ°è¿™è¿‘ä¹Žçº¯å‡€çš„åœ°æ–¹å‘¢ï¼Ÿç‰§æ°‘ä»¬ä¹Ÿæœ‰è‡ªå·±çš„çƒ¦æ¼ï¼Œç‰§æ°‘çš„å­©å­ä¸Šå­¦æ€Žä¹ˆåŠžï¼Œç‰§æ°‘ä»¬ç”Ÿç—…äº†æ€Žä¹ˆåŠžï¼Œå„ç§ç”Ÿæ´»çš„ä¸ä¾¿åˆ©ã€‚è™½å‘¼å¸ç€æœ€æ–°é²œçš„ç©ºæ°”ï¼Œå´ä¹Ÿæ‰¿å—ç€æ€ä¼¤åŠ›å¾ˆå¼ºçš„ç´«å¤–çº¿ã€‚å†¬å¤©çš„é«˜åŽŸå¤œæ™šæƒ³æƒ³éƒ½ä¼šç‘Ÿç‘Ÿå‘æŠ–ï¼Œä½†ç‰§æ°‘ä»¬ä¹Ÿè¦å¿å—ã€‚ æˆ‘å¤©çœŸçš„ä»¥ä¸ºï¼Œé’æµ·æ¹–æœ€åˆæ˜¯çœŸæ­£çš„å¤§æµ·ï¼ŒåŽæ¥ç”±äºŽåœ°å£³è¿åŠ¨ï¼Œåœ°å£³ä¸Šå‡ï¼Œè€Œé’æµ·æ¹–å˜æˆäº†ä¸€ä¸ªå†…é™†æ¹–ã€‚å“ˆå“ˆï¼Œä¸è¿‡è¿™ä¸ªæ¥æºå¿½æ‚ äººè¿˜æ˜¯è›®ä¸é”™çš„ã€‚åŽæ¥ç»æŸ¥é˜…èµ„æ–™ï¼Œé’æµ·æ¹–çš„æœ€åˆæ˜¯ä¸€ä¸ªå†…é™†æ·¡æ°´æ¹–ï¼Œå¹¶ä¸”æ³¨å…¥é»„æ²³ã€‚åŽæ¥ç”±äºŽåœ°å£³è¿åŠ¨ï¼Œé’æµ·æ¹–æµå…¥é»„æ²³çš„å…¥å£è¢«åˆ‡æ–­ï¼Œä»Žè€Œé’æµ·æ¹–æ²¡æœ‰äº†ä»»ä½•å‡ºæ°´å£ã€‚å†åŠ ä¸Šå¤©æ°”è¾ƒä¸ºå¹²æ—±ï¼Œæ¹–æ°´çš„è’¸å‘é‡å¤§äºŽæ¹–æ°´çš„æ³¨å…¥é‡ï¼Œå¯¼è‡´æ¹–æ°´çš„ç›åˆ†æµ“åº¦é€æ¸å¢žåŠ ï¼Œä»Žè€Œå˜æˆäº†ä¸€ä¸ªå’¸æ°´æ¹–ã€‚é’æµ·å¢ƒå†…çš„å’¸æ°´æ¹–æˆå› éƒ½æ˜¯å› ä¸ºè’¸å‘é‡å¤§äºŽæ³¨å…¥é‡ï¼ŒåŒ…æ‹¬æ¯”è¾ƒå‡ºåçš„èŒ¶å¡ç›æ¹–ã€‚é’æµ·æ¹–çš„æ¹–æ°´æµ“åº¦å¹¶æ²¡æœ‰æµ·æ°´çš„æµ“åº¦é«˜ï¼Œæ¹–æ°´å¸®å¤§å®¶å°è¿‡äº†ï¼Œç¡®å®žæŒºå’¸çš„ã€‚ é’æµ·æ¹–çš„æ¹–æ°´éžå¸¸æ¸…æ¾ˆï¼Œè™½æ¹–æ°´å¾ˆå®½ï¼Œä½†ç©ºæ°”é€å½»ï¼Œä¸€çœ¼å¯ä»¥æœ›åˆ°æ²³å¯¹é¢è¿œå¤„çš„é›ªå±±ã€‚è¿œå¤„çš„äº‘æœµçœ‹èµ·æ¥éžå¸¸ä½Žï¼Œè·Ÿæ¹–æ°´è¿žåœ¨ä¸€èµ·ï¼Œå¾®é£Žå¹è¿‡ï¼Œæ¹–æ°´ä¸Šä¸€å±‚å±‚çš„æ³¢æ¾œã€‚ æ¹–è¾¹çš„å°æ°´å‘é‡Œå·²ç»æœ‰äº†é’è›™ï¼Œæ™šä¸Šçš„é’æµ·æ¹–ç•”æ¸©åº¦è¿˜æ˜¯éžå¸¸ä½Žçš„ï¼Œä¸çŸ¥é“è¿™äº›é’è›™å¤œæ™šæ˜¯æ€Žä¹ˆåº¦è¿‡çš„ã€‚å½“ç„¶è¿™äº›å°æ°´å‘çš„æ°´æ˜¯çº¯æ·¡æ°´ï¼Œäº²å°æ— è¯¯ã€‚ ç»ˆç‚¹ç«™ é»‘é©¬æ²³é•‡é»‘é©¬æ²³ä½äºŽé’æµ·æ¹–çš„è¥¿ç«¯ï¼Œå› ä¸ºæ˜¯åŽ»å¾€èŒ¶å¡ç›æ¹–çš„å¿…ç»ä¹‹åœ°ï¼Œä¸”å¯ä»¥çœ‹åˆ°é’æµ·æ¹–ï¼Œå› æ­¤é¡ºå…¶è‡ªç„¶é ç€æ—…æ¸¸è€Œç”Ÿå­˜ã€‚æ—©æ™¨èµ·æ¥çœ‹æ—¥å‡ºçš„æ˜¯ä¸ªä¸é”™çš„åœ°æ–¹ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹æœéœžå€’æ˜ åœ¨æ¹–æ°´ä¸­çš„åœºæ™¯ï¼Œå¾ˆå¤šæ¸¸å®¢éƒ½ä¼šé€‰æ‹©åœ¨é»‘é©¬æ²³è§‚æ—¥å‡ºã€‚ åˆ°è¾¾é»‘é©¬æ²³å·²ç»æ˜¯æ™šä¸Šå…«ç‚¹å¤šäº†ï¼Œæ¸©åº¦è¾ƒä½Žï¼Œç´¢æ€§æ¢ä¸Šç¾½ç»’æœï¼Œä¸€ç‚¹ä¹Ÿä¸è§‰å¾—çƒ­ã€‚ä½å®¿æ¡ä»¶æ¯”è¾ƒä¸€èˆ¬ï¼Œä½†ä»·æ ¼å´ä¸ä¾¿å®œï¼Œæ˜¯æ•´ä¸ªè¡Œç¨‹ä½çš„æ€§ä»·æ¯”æœ€ä½Žçš„å®¾é¦†äº†ã€‚æ‰¾äº†ä¸€å®¶é¤é¦†å°±é¤ï¼Œå…¨éƒ½æ˜¯ç»„å›¢çš„æ¸¸å®¢ï¼Œéžå¸¸ä¸é”™çš„é£Ÿæå´åšçš„éš¾åƒçš„ä¸è¡Œï¼Œä¸Šç­‰çš„ç‰¦ç‰›è‚‰æ”¾åˆ°é¤æ¡Œä¸ŠåŽå´åš¼ä¹Ÿåš¼ä¸çƒ‚ï¼Œçœ‹ç€æ”¾å¼ƒçš„ç‰¦ç‰›è‚‰ç”šæ˜¯å¯æƒœã€‚è¿™å¤§æ¦‚å°±æ˜¯å›½å†…å¾ˆå¤šå› æ—…æ¸¸è€Œèµ·çš„é¤é¦†çš„çœŸå®žå†™ç…§ï¼Œåæ­£èƒ½å‘ä¸€ä¸ªæ˜¯ä¸€ä¸ªï¼Œä¸è¦å›žå¤´å®¢ï¼Œå›žå›žéƒ½æ˜¯æ–°å®¢äººã€‚åšçš„çƒ‚å¯¹è‡ªå·±çš„ç”Ÿæ„å½±å“ä¸å¤§ï¼Œä½†æ¸¸å®¢åœ¨å¿ƒä¸­å¯¹äºŽå½“åœ°çš„è¯„ä»·ç¡®å®žéš¾ä»¥ç£¨ç­çš„ã€‚ æœªå®Œå¾…ç»­â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åŒ—äº¬è‡ªé©¾é’æµ·ç”˜è‚ƒå¤§çŽ¯çº¿ç³»åˆ— - 3]]></title>
      <url>%2Fpost%2Fqinghai-3%2F</url>
      <content type="text"><![CDATA[ç¬¬ä¸‰å¤© è¡Œç¨‹ï¼šå®å¤å›žæ—è‡ªæ²»åŒºä¸­å«å¸‚ä¸­å®åŽ¿ -&gt; é’æµ·çœè¥¿å®å¸‚ è·¯ç¨‹ï¼š500å…¬é‡Œ æ—¥æœŸï¼š2019.4.20 æ˜¨æ™šåˆ°é…’åº—æ¯”è¾ƒæ™šï¼Œæ—©ä¸Šæ‹‰å¼€çª—å¸˜ï¼Œä¸€æ‰€å­¦æ ¡çš„æ“åœºæ˜ å…¥çœ¼å¸˜ï¼Œä»¤æˆ‘çœ¼å‰ä¸€äº®ã€‚ç¦»å¼€æ ¡å›­å·²ç»å¤ªä¹…äº†ï¼Œçœ‹åˆ°åŒå­¦ä»¬èº«ç©¿è¿åŠ¨è£…åœ¨æ“åœºä¸Šæ´‹æº¢ç€é’æ˜¥å³äº²åˆ‡åˆé™Œç”Ÿã€‚ ç¬¬ä¸€ç«™ é»„æ²³ç•”ä»Žåœ°å›¾ä¸Šçœ‹ä¸­å®åŽ¿åŸŽç¦»é»„æ²³æ¯”è¾ƒè¿‘ï¼Œè‡ªç„¶è¦åŽ»é»„æ²³è¾¹ä¸Šèµ°ä¸€èµ°ã€‚ä½†ä¸Žä¿å¾·åŽ¿å’Œåºœè°·åŽ¿ä¸åŒçš„æ˜¯ï¼Œä¸­å®åŽ¿å¹¶ä¸å‚é»„æ²³è€Œå»ºï¼Œä¸»åŸŽåŒºè€Œæ˜¯ç¦»é»„æ²³æœ‰ä¸€å…¬é‡Œçš„è·ç¦»ã€‚æˆ‘çŒœæµ‹ä¿å¾·åŽ¿å’Œåºœè°·åŽ¿è¾¹çš„é»„æ²³åœ¨åœ°åŠ¿ä½Žæ´¼å¤„ï¼Œå³ä½¿æ²³æ°´æ³›æ»¥ä¹Ÿä¸ä¼šæ®ƒåŠåŽ¿åŸŽã€‚ä½†ä¸­å®åŽ¿åœ°åŠ¿å´æ˜¯éžå¸¸å¹³å¦ï¼Œä¸èƒ½ä¾é åœ°åŠ¿ä¼˜åŠ¿é˜»æ­¢æ³›æ»¥çš„æ²³æ°´ï¼Œå› æ­¤åŽ¿åŸŽçš„é€‰å€ç¦»é»„æ²³ç¨æœ‰è·ç¦»ã€‚ è¿œå¤„çš„é»„æ²³è¾¹ä¸Šæœ‰ä¸€ä¸ªå¤šå±‚çš„å¡”ï¼Œæ˜¯ä¸­å®åŽ¿æž¸æžåšç‰©é¦†ï¼Œä¸­å®åŽ¿æœ‰â€œå¤©ä¸‹æž¸æžå‡ºå®å¤,ä¸­å®æž¸æžç”²å¤©ä¸‹â€çš„è¯´æ³•ï¼Œå› æ­¤å»ºä¸ªæž¸æžåšç‰©é¦†è¿˜æ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚ç”±äºŽåˆ°æž¸æžåšç‰©é¦†çš„è·¯å¹¶ä¸å¥½èµ°ï¼Œè€Œä¸”ä¸èƒ½åˆ¤æ–­æ­¤åˆ»åšç‰©é¦†æ˜¯å¯¹å¤–å¼€æ”¾ï¼Œå¹¶æœªå‰å¾€å‚è§‚ã€‚ é»„æ²³æ°´æ¯”å…¶ä¸‹æ¸¸çš„åºœè°·åŽ¿çš„é»„æ²³æ°´è¦å˜é»„äº†å¾ˆå¤šï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¸€ç›´æ¯”è¾ƒå¥‡æ€ªçš„åœ°æ–¹ã€‚æ²³é“éžå¸¸å®½ï¼Œç›®æµ‹æœ‰è‡³å°‘1å…¬é‡Œçš„æ ·å­ï¼ŒçŽ°åœ¨æ˜¯æž¯æ°´æœŸï¼Œæ²³æ°´å¹¶ä¸å¤ªå¤šã€‚æ²³åºŠä¸Šæœ‰å„å¼å„æ ·çš„é¹…åµçŸ³ï¼Œä¸çŸ¥ç»è¿‡äº†å¤šå°‘æ¬¡çš„æ²³æ°´å†²åˆ·æ‰å½¢æˆäº†çŽ°åœ¨çš„å½¢çŠ¶ï¼Œæˆ‘ä»¬ä¸ªä½“çš„ç”Ÿå‘½ç›¸å¯¹é¹…åµçŸ³çš„ç”Ÿå‘½å®žåœ¨æ˜¯å¤ªçŸ­ï¼ŒæŒ‘é€‰äº†å‡ ä¸ªåƒæ¨¡åƒæ ·çš„ç•™ä½œçºªå¿µã€‚ åœ¨è·¯ä¸Š å®å¤å¢ƒå†…ï¼Œä¸€è·¯ä¸Šå¶å°”ä¼šçœ‹åˆ°ç§æ¤äº†ä¸€äº›é“ºç€åœ°è†œçš„å†œä½œç‰©ï¼Œæˆ‘çŒœæµ‹æ˜¯åœŸè±†çš„å¯èƒ½æ€§æ¯”è¾ƒå¤§ï¼ŒåŽŸå› æ˜¯å±±ä¸œçš„ç§æ¤åœŸè±†æ–¹æ³•å°±æ˜¯ç±»ä¼¼æ€è·¯ã€‚ä½†çœ‹ä¸‹ç”°åœ°ä¸­çš„åœŸè´¨ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯å°çŸ³å—ï¼Œå“ªæœ‰å¤šå°‘åœŸå£¤æˆåˆ†å‘€ï¼Œå€’æ˜¯æ‹¿ç€çŸ³å—åŽ‹ç€åœ°è†œæ¥é˜²æ­¢å¤§é£Žéžå¸¸çš„æ–¹ä¾¿ã€‚ åœ¨ç”˜è‚ƒå’Œé’æµ·æŽ¥å£¤åœ°æ–¹ï¼Œé“è·¯ä¸¤ä¾§å¤šäº†å¾ˆå¤šæ ‘æœ¨ï¼Œï¼Œå±±ä¸Šçš„è‰æœ‰å¾ˆå¤šéƒ½ç»¿äº†èµ·æ¥ï¼Œç”Ÿæœºå‹ƒå‹ƒçš„ã€‚ä¸¤å¤©ä¹‹å†…æ»¡çœ¼éƒ½æ˜¯æž¯é»„è‰²çš„ç”»é¢ï¼Œçªç„¶å‡ºçŽ°é²œç»¿è‰²è¿˜æœ‰ç‚¹ä¸é€‚åº”ã€‚ æŸ¥çœ‹é’æµ·çœçš„åœ°å›¾ä¼šå‘çŽ°ï¼Œæœ‰å¥½å‡ ä¸ªåœ°çº§å¸‚éƒ½æ˜¯å›´ç»•ç€é’æµ·æ¹–å‘½åçš„ï¼Œæµ·ä¸œå¸‚ã€æµ·å—è—æ—è‡ªæ²»å·žã€æµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·žã€æµ·åŒ—è—æ—è‡ªæ²»å·žã€‚æåˆ°æµ·å—ï¼Œä¸ç†Ÿæ‚‰çš„äººè¿˜ä»¥ä¸ºæ˜¯æµ·å—å²›å‘¢ã€‚ åœ°å›¾ä¸­è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„åœ°æ–¹ï¼Œæµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·žå±…ç„¶æœ‰ä¸¤å—åŒºåŸŸï¼Œä¸­é—´è¢«çŽ‰æ ‘ç»™åˆ†å‰²å¼€äº†ï¼Œå®Œå…¨ä¸æŽ¥å£¤ã€‚è®©æˆ‘ç«‹é©¬æƒ³åˆ°çš„æ˜¯åœ¨ä¸­å›½ç‰ˆå›¾ä¸­å¦å¤–æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯æ²³åŒ—çœçš„ä¸‰æ²³å¸‚ï¼Œä¸‰æ²³å¸‚è¢«åŒ—äº¬å¸‚å’Œå¤©æ´¥å¸‚åŒ…å›´ï¼Œåƒæ˜¯æ²³åŒ—çœçš„ä¸€ä¸ªå­¤å²›ã€‚ é’æµ·çœæœ‰è—æ—å’Œå›žæ—æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå±…ç„¶è¿˜æœ‰è’™å¤æ—ï¼Ÿè¦ä¸ä¹Ÿå°±ä¸ä¼šå«æµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·žäº†ã€‚å®žé™…ä¸Šå†…è’™å¤çš„æœ€è¥¿ç«¯è·Ÿé’æµ·çœä»…éš”äº†ç”˜è‚ƒçœä¸€æ®µç‹­é•¿çš„æ²³è¥¿èµ°å»Šï¼Œç›´çº¿è·ç¦»ä¸Šè¿˜æ˜¯ç‰¹åˆ«è¿‘çš„ã€‚è’™å¤æ—è¿å¾™åˆ°é’æµ·è¦ä»Žå…ƒæœè¯´èµ·ï¼Œæ•´ä¸ªä¸­å›½çš„ç‰ˆå›¾éƒ½æ˜¯å…ƒæœçš„å¤©ä¸‹ï¼Œè‡ªç„¶é’æµ·çœæœ‰å°±äº†è’™å¤æ—ï¼ŒåŽç»­åˆé™†é™†ç»­ç»­çš„æœ‰è’™å¤æ—è¿å¾™éƒ½é’æµ·çœã€‚ä½†é’æµ·çœçš„è’™å¤æ—è¿˜å¸æ”¶äº†éƒ¨åˆ†å½“åœ°è—æ—çš„ä¹ ä¿—ï¼Œå¾ˆéš¾è¯´æ˜¯è’™å¤æ—å…¥ä¾µè—æ—ï¼Œè¿˜æ˜¯è—æ—åŒåŒ–äº†è’™å¤æ—ã€‚ é’æµ·å¢ƒå†…çš„é’è—é«˜é€Ÿæ–½å·¥ï¼Œèµ°äº†å¾ˆé•¿ä¸€æ®µçš„éžé«˜é€Ÿï¼Œè·Ÿé’æµ·çš„æ‘åº„å’ŒåŽ¿åŸŽæœ‰äº†ç¬¬ä¸€æ¬¡è¿‘è·ç¦»æŽ¥è§¦çš„æœºä¼šã€‚é’æµ·çœçš„æµ·ä¸œå¸‚ç›¸å¯¹äºŽç”˜è‚ƒè€Œè¨€ï¼Œæ¤è¢«è¿˜æ˜¯æ¯”è¾ƒèŒ‚ç››çš„ï¼Œæ ‘æœ¨æŒºå¤šçš„ï¼Œæ²¿è·¯å¾ˆå¤šæ¢¨æ ‘ï¼Œå¼€ç€æ´ç™½çš„æ¢¨èŠ±ã€‚ç»è¿‡æ‘åº„çš„æˆ¿å±‹çœ‹èµ·æ¥ä¹Ÿä¸å·®ï¼Œå¾ˆå¤šéƒ½æ˜¯äºŒå±‚çš„å°æ¥¼ï¼Œè€Œä¸”æ‘åº„è¿˜æ˜¯æ¯”è¾ƒå¯†é›†çš„ï¼Œå¤§æ¦‚é’æµ·äººå£éƒ½èšé›†åœ¨äº†ä¸œéƒ¨åœ°åŒºã€‚æ€»ä½“ç»™æˆ‘å¤–è§‚æ„Ÿå—ï¼Œæµ·ä¸œåœ°åŒºè¦æ¯”ç”˜è‚ƒä¸œéƒ¨åœ°åŒºå¯Œè£•å¾ˆå¤šã€‚ ç¬¬äºŒç«™ è¥¿å®å¸‚ è¥¿å®å¸‚å±žäºŽä¸­å›½çš„è¥¿éƒ¨åœ°åŒºï¼Œå¦‚æžœæ”¾çœ¼åˆ°ä¸­å›½çš„åœ°å›¾ä¸­ï¼Œç›¸åŒçº¬åº¦ä¸Šï¼Œè¥¿å®ç®—æ˜¯æ¯”è¾ƒé ä¸­é—´çš„åŸŽå¸‚äº†ï¼Œå¦‚æžœä¸æ˜¯è¥¿éƒ¨äººçƒŸç¨€å°‘ï¼Œæ›´åƒæ˜¯ä¸ªä¸­éƒ¨åŸŽå¸‚ã€‚ æ™šä¸Šå…«ç‚¹é’Ÿåˆ°è¾¾è¥¿å®å¸‚ï¼Œäº‹å…ˆçŸ¥é“é’æµ·çœçš„äººå£åªæœ‰åŒºåŒº600ä¸‡ï¼Œçœä¼šåº”è¯¥ä¸å’‹åœ°ï¼Œç»“æžœè¿˜æŒºå¦æˆ‘åˆ®ç›®ç›¸çœ‹çš„ï¼ŒåŸŽåŒºé¢ç§¯æ„Ÿå®˜ä¸Šè¿˜æ˜¯æŒºå¤§çš„ï¼Œé¢‡å…·çœä¼šåŸŽå¸‚çš„è§„æ¨¡ï¼Œå„ç§å“ç‰Œåº”æœ‰å°½æœ‰ï¼Œå¤œæ™¯ä¹Ÿè¿˜ä¸é”™ã€‚ æ™šä¸Šåƒäº†ä¸€ç¢—å½“åœ°ç‰¹è‰²ç¾Šè‚ é¢ï¼Œé¢ç›¸ä¸å’‹åœ°ï¼Œåƒèµ·æ¥å‘³é“è¿˜ä¸é”™ã€‚ æ”¶ä¸ªå°¾123456äººäººéƒ½è¯´å®å¤ç¾Žç ‚çŸ³å¤§æ¼ çœ‹åˆ°å°¾ç”˜ä¸œåœ°åŒºå¾ˆè’å‡‰ä¼¼ä¹Žæ°´æºå¾ˆç´§å¼ å¤éƒ½è¡—å¤´èµ°ä¸€èµ°è½¦æ°´é©¬é¾™å¤§é«˜æ¥¼ æœªå®Œå¾…ç»­â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åŒ—äº¬è‡ªé©¾é’æµ·ç”˜è‚ƒå¤§çŽ¯çº¿ç³»åˆ— - 2]]></title>
      <url>%2Fpost%2Fqinghai-2%2F</url>
      <content type="text"><![CDATA[ç¬¬äºŒå¤© è¡Œç¨‹ï¼šå±±è¥¿çœä¿å¾·åŽ¿ -&gt; é™•è¥¿çœæ¦†æž—å¸‚åºœè°·åŽ¿ -&gt; å®å¤å›žæ—è‡ªæ²»åŒºä¸­å®åŽ¿ è·¯ç¨‹ï¼š600å…¬é‡Œ ç¬¬ä¸€ç«™ - åºœè°·åŽ¿ç¬¬ä¸€å¤©ç•™å®¿çš„ä¿å¾·åŽ¿ä¸´è¿‘é»„æ²³ï¼Œæ—©ä¸Šé†’æ¥åŽæœ¬æƒ³åŽ»é»„æ²³è¾¹çœ‹ä¸‹æ™¯è‰²ï¼Œå…¶å®žæœ€å…³å¿ƒçš„æ˜¯ä¸­æ®µé»„æ²³çš„æ²³æ°´æ˜¯ä»€ä¹ˆé¢œè‰²çš„ï¼Œå¯æƒœé»„æ²³è¾¹æ˜¯ä¸€æ¡å…¬è·¯æ²¿ç€é»„æ²³èœ¿èœ’ï¼Œè€Œä¸”å±€éƒ¨åœ¨ä¿®ï¼Œå› ä¸ºé»„æ²³çš„åœ°åŠ¿è¾ƒä½Žï¼Œè§†çº¿å—é˜»ä¸¥é‡ï¼Œè¿žé»„æ²³éƒ½æ²¡çœ‹åˆ°ã€‚ ç´¢æ€§ç›´æŽ¥å¯¼èˆªåˆ°äº†é»„æ²³å¯¹å²¸çš„åºœè°·åŽ¿ï¼Œå±±è¥¿çœä¿å¾·åŽ¿è·Ÿé™•è¥¿çœæ¦†æž—å¸‚åºœè°·åŽ¿éš”é»„æ²³ç›¸æœ›ï¼Œä»…ä¸€æ²³ä¹‹é¥ï¼Œå¯ä»¥åœ¨è·¨æ²³å¤§æ¡¥ä¸Šéžå¸¸æ–¹ä¾¿çš„åœ¨ä¸¤ä¸ªçœä¹‹é—´é€šè¡Œã€‚è·¨æ²³å¤§æ¡¥å¹¶ä¸æ˜¯ç‰¹åˆ«å®½ï¼Œä¸¤è½¦ä¼šè½¦æ˜¯æ²¡ä»»ä½•é—®é¢˜çš„ï¼Œæ¡¥ä¸Šè¿˜æœ‰ä¸€äº›è¡Œäººåœ¨é€šè¡Œã€‚ä¸Šå›¾ä¸ºè¿žæŽ¥ä¸¤çœçš„å¤§æ¡¥ï¼Œåœ¨åºœè°·åŽ¿å¯ä»¥çœ‹åˆ°â€œç§¦æ™‹ä¹‹å¥½â€œå‡ ä¸ªå¤§å­—ã€‚ ä¿å¾·åŽ¿è™½ç´§æŒ¨ç€é»„æ²³ï¼Œå´æ²¡æœ‰ä¾é ä¸Šé»„æ²³çš„ä»»ä½•ä¼˜åŠ¿ï¼Œåè€Œé»„æ²³æˆä¸ºäº†ä¸€å¤§åŠ£åŠ¿ã€‚ç›¸åï¼Œåºœè°·åŽ¿å´éžå¸¸æ˜Žæ™ºçš„ï¼Œæ¥¼æˆ¿ç¦»ç€é»„æ²³ç¨æœ‰ä¸€æ®µè·ç¦»ï¼Œé€‰æ‹©åœ¨é»„æ²³è¾¹ä¿®å»ºäº†æ»¨æ²³å…¬å›­ä¾›ä¼‘é—²å¨±ä¹ã€‚ åœ¨åºœè°·åŽ¿çš„æ»¨æ²³å…¬å›­å¯ä»¥æ¸…æ™°çœ‹åˆ°å’Œå¯¹é¢çš„å±±è¥¿çœä¿å¾·åŽ¿åŸŽï¼Œå»ºç­‘ç‰©çš„æœå‘å¤§å¤šéƒ½æ˜¯é¢å‘é»„æ²³ï¼Œæˆ–è€…é¢å‘å¯¹é¢çš„åºœè°·åŽ¿åŸŽçš„ã€‚ ç”±äºŽçŽ°åœ¨æ˜¯æž¯æ°´æœŸï¼Œäººè¡Œé“ç¦»æ²³æ°´è¿˜æœ‰ä¸€æ®µè·ç¦»ï¼Œä½†ä»å¯ä»¥çœ‹å‡ºé»„æ²³æ°´è¿˜æ˜¯ç‰¹åˆ«æ¸…æ¾ˆçš„ï¼Œè·Ÿé»„æ²³çš„æ·¤æ³¥è¿˜æ˜¯æœ‰æ¯”è¾ƒé²œæ˜Žçš„åŒºåˆ«ã€‚è·Ÿæ›´ä¸‹æ¸¸é‚£å¤¹æ‚çš„æ³¥æ²™çš„é»„æ²³æ°´ä¸€å¯¹æ¯”ï¼Œè®©äººå®Œå…¨è”æƒ³ä¸åˆ°æ˜¯ä¸€æ¡æ²³ã€‚åŽé¢çš„è¡Œç¨‹ä¸­åœ¨æ›´ä¸Šæ¸¸çœ‹åˆ°äº†å‡ æ¬¡é»„æ²³ï¼Œä½†æ²³æ°´éƒ½è¦æ¯”æ­¤æ®µçš„é»„æ²³æ°´è¦é»„ï¼Œè‡³å°‘å…°å·žçš„é»„æ²³æ°´å¤¹æ‚çš„æ³¥æ²™é‡å·²ç»éžå¸¸å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ®µé»„æ²³æ°´æ˜¯æˆ‘è§åˆ°æœ€æ¸…æ¾ˆçš„ã€‚ä¸çŸ¥é“æ˜¯å¦æˆ‘çš„åˆ¤æ–­æœ‰è¯¯ï¼Œä»Žç†è®ºä¸Šè®²åº”è¯¥è¶Šä¸‹æ¸¸é»„æ²³æ°´è¶Šé»„æ‰å¯¹çš„ã€‚ åœ¨è·¯ä¸Šä¸‹åˆä¸€ç‚¹ä»Žåºœè°·åŽ¿å‡ºå‘ï¼Œç›´å¥”è¥¿å®æ–¹å‘è€ŒåŽ»ï¼Œæœ€ç»ˆåˆ°è¾¾äº†å®å¤å›žæ—è‡ªæ²»å·žä¸­å«å¸‚ä¸­å®åŽ¿åŸŽï¼Œæœ€åˆåœ°è²Œè¿˜æ˜¯é»„åœŸé«˜å¡ï¼Œå¤§æ¦‚ä»Žæ¦†æž—å¸‚ä¹‹åŽé€æ¸æ²™æ¼ åŒ–ï¼Œåœ°ä¸Šè‰è¿˜æ²¡é•¿å‡ºæ¥ï¼Œåœ¨é«˜é€Ÿä¸Šå¾ˆéš¾åˆ¤æ–­è¿œå¤„æ˜¯è‰åŽŸï¼Œè¿˜æ˜¯å®Œå…¨çš„è’æ¼ ã€‚ ä¸Šå›¾ä¸ºåœ¨é«˜é€Ÿä¸Šçš„ç®€é™‹åŽ•æ‰€ï¼Œä¸Žå…¶è¯´æ˜¯é»„åœŸé«˜å¡åœ°è²Œï¼Œæˆ‘æ„Ÿè§‰æ›´åƒæ˜¯è’æ¼ ã€‚ æœ¬ä»¥ä¸ºåˆ°è¾¾å®å¤åŽï¼Œåœ°è²Œä¼šå˜æˆæŽ¥è¿‘äºŽè‰åŽŸï¼Œå› ä¸ºæåˆ°å®å¤æˆ‘æœ€å…ˆæƒ³åˆ°çš„æ˜¯é»„æ²³å†²ç§¯è€Œæˆçš„æ²³å¥—å¹³åŽŸã€‚ä¸€è·¯ä¸Šä¸€ç›´åœ¨æœŸç›¼ï¼Œä½†ä¸€ç›´ä¹Ÿæ²¡é‡åˆ°æ¢¦ä¸­çš„è‰è‚¥æ°´ç¾Žçš„æ²³å¥—å¹³åŽŸã€‚äº‹åŽä¸€æŸ¥èµ„æ–™æ‰å‘çŽ°ï¼Œå³ä½¿æ²³å¥—å¹³åŽŸæœ€å—çš„â€œè¥¿å¥—â€åœ°åŒºä¹Ÿåœ¨é“¶å·å¸‚å‘¨è¾¹ï¼Œè€Œæˆ‘èµ°çš„é«˜é€Ÿåœ¨é“¶å·å¸‚çš„å—è¾¹å¤§çº¦100å¤šå…¬é‡Œçš„è·ç¦»ï¼Œå¯ä»¥è¯´æ˜¯è·Ÿæ²³å¥—å¹³åŽŸæ“¦è‚©è€Œè¿‡ã€‚ä»Žå«æ˜Ÿåœ°å›¾ä¸Šå¯ä»¥æ¸…æ™°çš„çœ‹å‡ºæ²³å¥—åœ°åŒºçš„æ¤è¢«è¿˜æ˜¯æ¯”è¾ƒèŒ‚å¯†çš„ã€‚ä¸Šå›¾ä¸­ç»¿è‰²çš„çº¿ä¸ºæˆ‘ç»è¿‡çš„è·¯çº¿ã€‚ ç»ˆç‚¹ç«™ - ä¸­å®åŽ¿ æœ€ç»ˆåˆ°è¾¾äº†å®å¤å›žæ—è‡ªæ²»å·žä¸­å«å¸‚ä¸­å®åŽ¿åŸŽï¼Œåˆ°è¾¾ä¸­å®åŽ¿åŽï¼Œæ°å·§èµ¶ä¸Šäº†ä¸€æ¬¡æ²™å°˜æš´ï¼Œåœè½¦åƒé¥­çš„æ—¶å€™ï¼Œè½¦ä¸Šå·²ç»ç§¯äº†åŽšåŽšçš„ä¸€å±‚åœŸã€‚æœ¬ä»¥ä¸ºæ²™å°˜æš´åœ¨å½“åœ°æ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œé—®ä¸‹äº†å½“åœ°äººï¼Œè¯´æ˜¯æ²™å°˜æš´ä¹Ÿä¸å¸¸æœ‰ï¼Œæ²™å°˜æ˜¯ä»ŽåŒ—éƒ¨çš„è…¾æ ¼é‡Œæ²™æ¼ å¹è¿‡æ¥çš„ã€‚ä»Žä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸­å®åŽ¿ç¦»å¾—è…¾æ ¼é‡Œæ²™æ¼ è¿˜æ˜¯ç‰¹åˆ«è¿‘çš„ï¼Œåˆ®ä¸ªåŒ—é£Žï¼Œæ²™å°˜å¤©æ°”è¿˜æ˜¯éžå¸¸å®¹æ˜“å‡ºçŽ°çš„ã€‚ æ¯”è¾ƒå·§åˆçš„æ˜¯ï¼Œä¸­å®åŽ¿ä¹Ÿæ°å·§åœ¨é»„æ²³è¾¹ä¸Šï¼Œä¸€å¤©ä¹‹å†…ï¼Œé©±è½¦600å…¬é‡Œï¼Œä»Žé»„æ²³â€œå‡ â€å­—å½¢çš„å³è¾¹åˆ°è¾¾äº†å·¦è¾¹ä½ç½®ã€‚ å´é“æ˜¯ 123456789101112æ—¥è¡Œåƒä½™é‡Œèƒœä¼¼çš„å¢éª‹æœé£Ÿä¿å¾·åŽ¿å¤•å¡Œå®å®‰é•‡é»„åœŸå˜æ²™æ¼ é«˜å±±è½¬è‰åŽŸæ—©åœ¨é»„æ²³ç•”å¤•äº¦é»„æ²³è¾¹è‡ªä¸œå‘è¥¿è¡Œä½œä½•çŽ°æ­¤å†µè‹¥å›å¿ƒæœ‰ç–‘ä¸€è§ˆåœ°å›¾è§… æœªå®Œå¾…ç»­â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åŒ—äº¬è‡ªé©¾é’æµ·ç”˜è‚ƒå¤§çŽ¯çº¿ç³»åˆ— - 1]]></title>
      <url>%2Fpost%2Fqinghai-1%2F</url>
      <content type="text"><![CDATA[è¿‘æœŸæœ‰ä¸€æ®µè¾ƒä¸ºå……è£•çš„å‡æœŸï¼Œå‡ºåŽ»æ—…æ¸¸å¯¹æˆ‘è€Œè¨€æ˜¯å†åˆé€‚ä¸è¿‡çš„é€‰æ‹©ï¼Œå¸¦ç€å¯¹è¿œæ–¹ç”°é‡Žçš„é‚£ä»½å‘å¾€ã€‚ç‰¹åˆ«æœ‰æ„å‘çš„æ–¹å‘æœ‰ä¸¤ä¸ªï¼šå—ä¸‹å’Œè¥¿è¿›ã€‚ å—æ–¹çš„å¾ˆå¤šåœ°æ–¹éƒ½æœªæ›¾åŽ»è¿‡ï¼Œ æ¯”å¦‚å¼ å®¶ç•Œã€æ¡‚æž—ç­‰ï¼Œå¯ä»¥ä»ŽåŒ—äº¬å‡ºå‘ä¸€è·¯åˆ°æµ·å—ä¸‰äºšåœ°åŒºï¼Œè€Œä¸”å½“ä¸‹æ­£å·§æ˜¯çƒŸèŠ±ä¸‰æœˆä¸‹æ±Ÿå—çš„å¥½å­£èŠ‚ã€‚ å¯¹äºŽè¥¿éƒ¨åœ°åŒºå‘å¾€å·²ä¹…ï¼Œé’æµ·ã€è¥¿è—å’Œæ–°ç–†åœ°åŒºéƒ½æœªæ›¾åŽ»è¿‡ï¼Œå½“ä¸‹å››æœˆä»½ä¸æ˜¯è¥¿éƒ¨åœ°åŒºçš„æœ€ä½³æ—…æ¸¸å­£èŠ‚ï¼Œå±±åŸºæœ¬ä¸Šè¿˜éƒ½æ˜¯æž¯é»„è‰²ï¼Œè‰å„¿è¿˜åœ¨æ²‰ç¡ä¸­ã€‚ ä½†å¿ƒæƒ³å—æ–¹äº¤é€šè¾ƒä¸ºä¾¿åˆ©ï¼ŒåŽç»­ä¼šåŽ»çš„å¯èƒ½æ€§æ¯”è¾ƒå¤§ï¼Œè€Œä¸”æ™¯åŒºä¹‹é—´è·¨åº¦è¾ƒå¤§ï¼Œå¯ä»¥åˆ†å¼€æ—…æ¸¸ã€‚è€Œè¥¿éƒ¨å¾€å¾€éœ€è¦æ‹¿å‡ºä¸€å¤§æŠŠçš„æ—¶é—´æ¥çŽ©è€æ‰èƒ½å°½å…´ï¼Œå¾ˆå¤šåœ°æ–¹çš„äº¤é€šä¸æ˜¯ç‰¹åˆ«æ–¹ä¾¿ï¼Œå¾€å¾€éƒ½æ˜¯éœ€è¦å¤šä¸ªæ™¯ç‚¹ä¸€èµ·æ‰æœ€åˆ’ç®—ã€‚ å› æ­¤ï¼Œæœ€ç»ˆçš„å†³å®šæ˜¯åŒ—äº¬è‡ªé©¾ç”˜è‚ƒ-é’æµ·å¤§çŽ¯çº¿ã€‚ æ­¤åˆ»çš„æˆ‘å·²ç»ç»“æŸäº†æ•´ä¸ªè¡Œç¨‹ï¼Œè¡Œç¨‹çš„æ—¶é—´æ®µä¸º2019.4.18 - 2019.4.30ï¼Œå…±è®¡13å¤©æ—¶é—´ã€‚èµ·ç‚¹ä¸ºåŒ—äº¬å¸‚ï¼Œç»ˆç‚¹ä¸ºå±±ä¸œçœï¼Œæ•´ä¸ªçš„è¡Œç¨‹è¾¾6000å…¬é‡Œã€‚ äº‹å…ˆè®¡åˆ’çš„æ—¶é—´ä¸º12å¤©ï¼Œç•™äº†ä¸€å¤©çš„bufferï¼Œæœ€ç»ˆç”¨æ—¶ä¸º13å¤©ï¼Œæ²¡æœ‰å¤ªå¤§çš„åå·®ã€‚ç”±äºŽä¸€ç›´æ˜¯æˆ‘ä¸€äººåœ¨å¼€è½¦ï¼Œç›¸å¯¹è€Œè¨€è¿˜æ˜¯æ¯”è¾ƒç´¯çš„ï¼ŒåŸºæœ¬ä¸Šä¸€å¤©å¾—å¼€500å…¬é‡Œï¼Œå°¤å…¶æ˜¯å‰é¢å’ŒåŽé¢èµ¶è·¯çš„æ—¶é—´ï¼ŒåŸºæœ¬ä¸Šä¸€å¤©åœ¨600å…¬é‡Œä»¥ä¸Šã€‚å¤§éƒ¨åˆ†æ—¶é—´æ˜¯ä¸Šåˆåœ¨10ç‚¹ä¹‹åŽå‡ºå‘ï¼Œä¸‹åˆå¼€è½¦çš„æ—¶é—´æ¯”è¾ƒå¤šï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦æ™šä¸Šå¼€ä¸€æ®µæ—¶é—´æ‰èƒ½æ»¡è¶³ä¸€å¤©çš„è¡Œç¨‹ç›®æ ‡ã€‚å¦‚æžœæ—¶é—´æ¯”è¾ƒå……è£•ï¼ŒæŠŠæ•´ä¸ªè¡Œç¨‹æ”¾æ…¢ä¸º20å¤©ï¼Œæ„Ÿè§‰ä¼šæ¯”è¾ƒè½»æ¾ï¼Œä¼šå¯¹æ—…è¡Œæœ‰æ›´æ·±çš„ä½“ä¼šï¼Œåªæ˜¯æˆ‘æ—¶é—´ä¸å¤ªå…è®¸ã€‚ ä¸€è·¯ä¸Šç»è¿‡åŒ—äº¬ã€æ²³åŒ—ã€å±±è¥¿ã€é™•è¥¿ã€å®å¤ã€ç”˜è‚ƒã€é’æµ·ã€æ²³å—ã€å±±ä¸œè¿™äº›çœï¼Œåœ°è²ŒåŒ…æ‹¬å¹³åŽŸã€å±±è„‰ã€é»„åœŸé«˜åŽŸã€æˆˆå£ã€æ²™æ¼ ã€é»„æ²³ã€æ¹–æ³Šã€é›ªå±±ã€ç›†åœ°ç­‰åœ°è²Œã€‚ è¿™ä¸€è·¯ä¸Šé‡åˆ°çš„å¾ˆå¤šåœ°æ–¹ï¼Œä¹‹å‰åœ¨åŽ†å²å’Œåœ°ç†è¯¾æœ¬ä¸Šæ›¾ç»äº†è§£è¿‡ï¼Œå¾ˆå¤šåœ°æ–¹æœ‰æ¯”è¾ƒæ·±åŽšçš„åŽ†å²å’Œæ–‡åŒ–åº•è•´ï¼Œè‡ªå·±çš„è®¤è¯†å´æ˜¯å¾ˆæµ…è–„ï¼Œè€Œæ—…è¡Œå¯ä»¥åŠ æ·±å¯¹ä¸€ä¸ªåœ°æ–¹çš„åœ°ç†å’ŒåŽ†å²çš„è®¤è¯†ï¼Œæ­£æ‰€è°“ï¼šâ€œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œâ€ã€‚ æœ¬ç³»åˆ—æ–‡ç« å¹¶ä¸æ‰“ç®—å†™æˆå•çº¯æ¸¸è®°çš„å½¢å¼ï¼Œè€Œæ˜¯æ›´å¤šä¼šå°†æˆ‘ä¸ªäººçš„ä½“ä¼šå’Œç›¸å…³çš„åŽ†å²åœ°ç†çŸ¥è¯†èžåˆåœ¨å…¶ä¸­ï¼Œåœ¨è¿™å…¶ä¸­æŸ¥é˜…ç›¸å…³çš„èµ„æ–™å¯¹æˆ‘è€Œè¨€ä¹Ÿæ˜¯ä¸€ç§æˆé•¿ã€‚ç”±äºŽæ‰ç–å­¦æµ…ï¼Œæ‰€æŸ¥èµ„æ–™æœ‰é™ï¼Œå¾ˆå¤šè§‚ç‚¹ä¸è§å¾—æ˜¯æ­£ç¡®çš„ï¼Œæ¬¢è¿ŽæŒ‡æ­£ã€‚ ç¬¬ä¸€å¤©è¡Œç¨‹ï¼šåŒ—äº¬å¸‚ -&gt; å±±è¥¿çœå¿»å·žå¸‚ä¿å¾·åŽ¿ ä¸Šåˆ11ç‚¹ä»ŽåŒ—äº¬å‡ºå‘ï¼Œé©±è½¦700å…¬é‡Œï¼Œæ™šä¸Šå…«ç‚¹åŠåˆ°è¾¾å±±è¥¿çœå¿»å·žå¸‚ä¿å¾·åŽ¿åŸŽã€‚ å…ˆåŽç»è¿‡äº†åŽåŒ—å¹³åŽŸã€å¤ªè¡Œå±±è„‰ã€é»„åœŸé«˜åŽŸï¼ŒåŒ—äº¬å’Œæ²³åŒ—å¢ƒå†…å¤§éƒ¨åˆ†å±žäºŽåŽåŒ—å¹³åŽŸï¼Œæ²³åŒ—å’Œå±±è¥¿çœçš„äº¤ç•Œå¤„ä¸ºå¤ªè¡Œå±±è„‰ï¼ŒæœŸé—´ç©¿è¿‡äº†å¤šä¸ªéš§é“ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ•´ä¸ªçš„è¡Œç¨‹ä¸­èµ°è¿‡çš„æœ€é•¿çš„ä¸€æ®µéš§é“äº†ï¼ŒåŽç»­é™¤äº†ç¥è¿žå±±è„‰ã€å…­ç›˜å±±å¤–éš§é“å°±æ¯”è¾ƒå°‘äº†ã€‚ åˆ°äº†å±±è¥¿ï¼Œä»¥é»„åœŸé«˜å¡åœ°è²Œä¸ºä¸»ï¼Œé»„åœŸé«˜åŽŸä¹Ÿæ˜¯æ•´ä¸ªè¡Œç¨‹ä¸­çœ‹åˆ°æœ€å¤šçš„åœ°è²Œäº†ã€‚é»„åœŸé«˜åŽŸä¸œèµ·å¤ªè¡Œå±±è„‰ï¼Œè¥¿è‡³é’æµ·çœæ—¥æœˆå±±ï¼Œå—æŠµç§¦å²­ï¼ŒåŒ—è¾¾é•¿åŸŽï¼ŒåŒ…æ‹¬äº†å±±è¥¿ã€é™•è¥¿ã€å®å¤ã€ç”˜è‚ƒã€é’æµ·ã€æ²³å—ã€å†…è’™å¤7ä¸ªçœã€‚æ¯”æˆ‘å°è±¡ä¸­çš„è¦å¤§å¾—å¤šï¼Œæˆ‘å°è±¡ä¸­ä¸»è¦æ˜¯åœ¨å±±è¥¿å¢ƒå†…å’Œé™•è¥¿çš„åŒ—éƒ¨åœ°åŒºï¼Œä¸€ä¸‹å­åˆ·æ–°äº†æˆ‘çš„è®¤çŸ¥ã€‚ å¤§å®¶éƒ½çŸ¥é“ï¼Œé»„åœŸé«˜åŽŸæ˜¯æ°´åœŸæµå¤±å¯¼è‡´çŽ°åœ¨çš„åƒæ²Ÿä¸‡å£‘çš„åœ°è²Œï¼Œä¹Ÿæ˜¯å› æ­¤è€Œå¯¼è‡´é»„æ²³æ°´ç‰¹åˆ«çš„é»„ï¼Œé‚£ä¹ˆæ˜¯ä»€ä¹ˆæ—¶é—´æ®µå‘ç”Ÿçš„æ°´åœŸæµå¤±å‘¢ï¼ŸåŽ†å²ä¸Šçš„é»„åœŸé«˜åŽŸåˆæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ é»„åœŸé«˜åŽŸæœ€åˆæ˜¯è¢«æ¤è¢«èŒ‚å¯†çš„æ£®æž—æ‰€è¦†ç›–ï¼Œè€Œä¸”åœŸå£¤åœ¨æœ‰å……è¶³æ°´æºçš„æƒ…å†µä¸‹è¿˜æ˜¯ç‰¹åˆ«è‚¥æ²ƒçš„ï¼Œå¹¶éžå¤§å®¶å°è±¡ä¸­çš„æ¤è¢«å°‘çš„å¯æ€œï¼Œè¦ä¸ç„¶ä¹Ÿä¸å¯èƒ½å­•è‚²å‡ºåŽå¤æ–‡æ˜Žã€‚ç›¸åï¼Œæ­£æ˜¯ç”±äºŽé»„åœŸåœŸè´¨ç–æ¾æ˜“å¼€åž¦çš„ç‰¹ç‚¹ï¼Œæ‰å®¹æ˜“è¯žç”Ÿäººç±»æ–‡æ˜Žï¼Œå› ä¸ºæœ€æ—©çš„äººç±»æ–‡æ˜Žç”Ÿäº§å·¥å…·æ˜¯ç‰¹åˆ«ç®€é™‹çš„ï¼Œå¯¹å¤§è‡ªç„¶çš„æ”¹é€ èƒ½åŠ›ç‰¹åˆ«æœ‰é™ã€‚é»„åœŸé«˜åŽŸè¢«ç ´åçš„åŽ†å²æ—¶æœŸåŸºæœ¬ä¸Šä¼´éšç€åŽå¤æ–‡æ˜Žçš„å‘å±•ï¼Œåˆ°æ˜Žæ¸…æ—¶æœŸè¾¾åˆ°é¡¶å³°ï¼Œå»ºå›½ä¹‹åŽå¼€å§‹é€æ¸æ¢å¤ã€‚ å¾ˆéš¾æƒ³è±¡ï¼ŒåŒå¤§çš„é»„åœŸé«˜åŽŸï¼Œç«Ÿç„¶å› ä¸ºå†œè€•æ—¶ä»£çš„äººç±»å½±å“å˜æˆäº†å¦‚ä»Šè¿™å¹…æ¨¡æ ·ã€‚å‡å¦‚å†ç»™çŽ°ä»£çš„äººç±»ä¸€æ¬¡åˆ©ç”¨è‡ªç„¶çš„æœºä¼šï¼Œæˆ‘æƒ³å½“ä¸‹çš„äººç±»ä¸€å®šä¼šå–„åŠ åˆ©ç”¨è¿™ç‰‡å¹¿è¢¤çš„åœŸåœ°ï¼Œé»„æ²³ä¹Ÿè®¸ä¼šæ”¹æˆå¦å¤–ä¸€ä¸ªåå­—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œäººç±»ä¸åŒçš„æ–‡æ˜Žç¨‹åº¦å†³å®šäº†å¯¹è‡ªç„¶çš„ç ´åç¨‹åº¦ã€‚ ä½†ä»Šå¤©çš„æˆ‘ä»¬æ®Šä¸çŸ¥ä¹Ÿåœ¨å¯¹è‡ªç„¶è¿›è¡Œç€æ›´æ·±å±‚æ¬¡çš„ç ´åï¼Œå¦‚æžœæ”¾åˆ°æœªæ¥æ¥å®¡è§†æˆ‘ä»¬äººç±»ä»Šå¤©çš„ä½œä¸ºï¼Œæˆ‘ä»¬ä»Šå¤©å¯¹è¿™ä¸ªæ˜Ÿçƒçš„ç ´åè¦å¤§å¤§é«˜äºŽå†œè€•æ—¶ä»£å¯¹åœ°çƒçš„ç ´åã€‚æ¯”å¦‚ï¼Œäººç±»åœ¨è´ªå©ªçš„æ¶ˆè€—ç€åœ°çƒä¸Šçš„çŸ³æ²¹ã€ç…¤ç‚­èµ„æºï¼Œä¹Ÿè®¸åœ¨ä¸ä¹…çš„æœªæ¥ï¼Œäººç±»ä¼šå‘çŽ°åœ¨è¿™äº›ç‡ƒæ–™èµ„æºä¸­è¿˜è•´è—ç€æ— ç©·å°½çš„ä»·å€¼ï¼Œä½†æ˜¯è¿™äº›èµ„æºå·²ç»è¢«å½“ä¸‹æ„šè ¢çš„äººç±»å½“åšç‡ƒæ–™ç»™çƒ§æŽ‰äº†ã€‚ ä¸€è·¯ä¸Šé›¾éœ¾è¿˜æ˜¯æ¯”è¾ƒä¸¥é‡çš„ï¼Œå°¤å…¶æ˜¯æ²³åŒ—ä¿å®šå¢ƒå†…ã€‚ä¿å®šçš„ç©ºæ°”è´¨é‡æ˜¯æ—©æœ‰å¿ƒç†é¢„æœŸï¼Œå°è±¡ä¸­å±±è¥¿çš„æ•´ä½“ç©ºæ°”è¿˜æ˜¯éžå¸¸ä¸é”™çš„ã€‚åŽ»å¹´åŽ»è¿‡ä¸€æ¬¡äº”å°å±±ï¼Œç©¿è¿‡å‡ ä¸ªé•¿é•¿çš„éš§é“è¿›å…¥å±±è¥¿å¢ƒå†…åŽï¼Œç©ºæ°”ä¼šä¸€ä¸‹å­å¥½è½¬ï¼Œå±±è¥¿çœå¿»å·žå¸‚çš„ç©ºæ°”è·Ÿæ²³åŒ—çœä¿å®šçš„ç©ºæ°”è´¨é‡æœ‰ç€å¼ºçƒˆçš„åå·®ã€‚ä½†è¿™æ¬¡ç»“æžœå´æ¯”è¾ƒå¤±æœ›ï¼Œåœ¨æ•´ä¸ªå±±è¥¿å¢ƒå†…å¹¶æœªå‡ºçŽ°æ™´ç©ºä¸‡é‡Œï¼Œè€Œä¸”çœ‹ä¸ŠåŽ»æ›´åƒæ˜¯é›¾éœ¾ï¼Œè€Œä¸æ˜¯é˜´å¤©ã€‚ å±±è¥¿çœå¢ƒå†…æœ‰é‚£ä¹ˆå‡ æ®µé«˜é€Ÿï¼Œè¿žä¸€è¾†è½¦éƒ½çœ‹ä¸åˆ°ï¼Œè®©æˆ‘ä¸€åº¦æ€€ç–‘å·²ç»æŠµè¾¾å¤§è¥¿åŒ—çš„æ„Ÿè§‰ã€‚ æ™šä¸Šåˆ°è¾¾ä¿å¾·åŽ¿ï¼ŒåŽ¿åŸŽå‚é»„æ²³è€Œå»ºï¼Œä½äºŽæ²³é“ä¸œä¾§ã€‚ç¦»é»„æ²³ç¨è¿œçš„åœ°æ–¹æ˜¯é»„åœŸé«˜å¡ï¼Œå¤§éƒ¨åˆ†æ¥¼æˆ¿éƒ½ç¦»å»ºåœ¨ç¦»é»„æ²³è¾ƒåŠ²çš„åœ°åŠ¿å¹³å¦å¤„ï¼Œè€Œé»„åœŸé«˜å¡ä¸Šç”±äºŽåœ°åŠ¿çš„åŽŸå› æˆ¿å±‹é€æ¸å˜å°‘ã€‚ä¸€è¿›å…¥åŽ¿åŸŽï¼Œé“è·¯ä¸Šåˆ°å¤„éƒ½æ˜¯å¼€ç€è¿œå…‰ç¯çš„ï¼Œä»¿ä½›å¯¹é¢ä¸€é¢—é¢—è¡Œè¿›ä¸­çš„å¤ªé˜³ï¼Œé—ªçš„æˆ‘å®žåœ¨æœ‰äº›éš¾å—ã€‚æœ‰ç‚¹åŒªå¤·æ‰€æ€ï¼Œæ˜Žæ˜Žæœ‰è·¯ç¯ï¼Œå®žåœ¨æƒ³ä¸æ˜Žç™½è¿œå…‰ç¯çš„ç”¨é€”ã€‚çœŸæœŸæœ›æ¯ä¸ªäººä½œä¸ºç¤¾ä¼šä¸­çš„ä¸€ä»½å­ï¼Œåœ¨åšäº‹æƒ…çš„æ—¶å€™è¦å¤šä¸ºä»–äººè€ƒè™‘ä¸€åˆ†ï¼Œè€Œä¸æ˜¯ä»…é¡¾åŠè‡ªå·±çš„æ„Ÿå—ã€‚ ä¿å¾·åŽ¿åŸŽåˆ°å¤„æ‰“ç€æ‰«é»‘é™¤æ¶çš„æ ‡è¯­ï¼Œå“å¾—æˆ‘å¼€è½¦éƒ½æ ¼å¤–å°å¿ƒã€‚ç”šè‡³è¿žå°åŒºé—¨å£éƒ½æ‰“ç€å£å·ï¼Œè®©å¸‚æ°‘å¤©å¤©å›žå®¶éƒ½å¯ä»¥çœ‹åˆ°ã€‚æˆ‘æ·±çŸ¥è¶Šæ˜¯æå€¡ä»€ä¹ˆï¼Œè¯´æ˜Žè¶Šæ˜¯ç¼ºå°‘ä»€ä¹ˆã€‚åŽæ¥èµ°è¿‡å¥½å¤šåœ°æ–¹åŽï¼Œå‘çŽ°åˆ°å¤„éƒ½æ‰“ç€è¯¥å£å·ï¼Œå¹¶ä¸æ˜¯å½“åœ°ç‰¹è‰²ã€‚ å´é“æ˜¯ï¼š 123456é©±è½¦é’ç”˜å¤§çŽ¯çº¿å¤œæ™šç•™å®¿ä¿å¾·åŽ¿åŽ¿åŸŽå»ºåœ¨é»„æ²³ç•”é»„åœŸé«˜å¡æŠŠåŸŽå»ºé»„æ²³å¯¹å²¸åºœè°·åŽ¿ä¸€æ¡¥ä¹‹éš”ç§¦æ™‹ç¼˜ æœªå®Œå¾…ç»­â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æœ€é•¿å…¬å…±å­åºåˆ—å’Œæœ€é•¿å…¬å…±å­ä¸²é—®é¢˜]]></title>
      <url>%2Fpost%2Falgorithm-max-subarray-or-suborder%2F</url>
      <content type="text"><![CDATA[æœ€é•¿å…¬å…±å­ä¸²åŠå…¬å…±å­åºåˆ—é—®é¢˜å±žäºŽä¸€ç±»é—®é¢˜ï¼Œéƒ½å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„ç®—æ³•æ¥è§£æžï¼Œä¸”åŠ¨æ€è§„åˆ’æ–¹å¼æ¯”è¾ƒç±»ä¼¼ï¼Œæ¯”è¾ƒå®¹æ˜“æ··æ·†ã€‚ å®šä¹‰æœ€é•¿å…¬å…±å­ä¸²ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç›¸åŒçš„æœ€é•¿å­ä¸²ï¼Œå­—ç¬¦å¿…é¡»æ˜¯è¿žç»­çš„ æœ€é•¿å…¬å…±å­åºåˆ—ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œç›¸åŒçš„æœ€é•¿åºåˆ—ï¼Œå­—ç¬¦ä¸ä¸€å®šæ˜¯è¿žç»­çš„ æ¯”å¦‚ï¼ša[] = â€œabcdeâ€ b[] = â€œbceâ€ é‚£ä¹ˆï¼šæœ€é•¿å­ä¸²ï¼šâ€bcâ€æœ€é•¿å­åºåˆ—ï¼šâ€bceâ€ è§£æ³•å‡è®¾Aã€Båˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸² æœ€é•¿å…¬å…±å­ä¸²dp[i][j]è¡¨ç¤ºå­ä¸²A[:i]ã€B[:j]å¿…é¡»ä»¥A[i]ã€B[j]ä¸ºç»“å°¾çš„ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å¤§å­ä¸²é•¿åº¦ 12345if A[i] == B[j] &#123; dp[i][j] = dp[i-1][j-1]&#125; else &#123; dp[i][j] = 0&#125; æœ€ç»ˆdpäºŒç»´æ•°ç»„ä¸­çš„æœ€å¤§å€¼å³ä¸ºç»“æžœ æœ€é•¿å…¬å…±å­åºåˆ—dp[i][j]è¡¨ç¤ºå­ä¸²A[:i]ã€B[:j]çš„ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å¤§å­åºåˆ— 12345if A[i] == B[j] &#123; dp[i][j] = dp[i-1][j-1]&#125; else &#123; dp[i][j] = max(dp[i-1][j], dp[i][j-1])&#125; æœ€ç»ˆdp[i-1][j-1]ä¸ºç»“æžœ leetcode Delete Operation for Two Strings ï¼ˆæœ€é•¿å…¬å…±å­åºåˆ—ï¼‰ Maximum Length of Repeated Subarray ï¼ˆæœ€é•¿å…¬å…±å­ä¸²ï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[VirtualBoxç£ç›˜æ‰©å®¹]]></title>
      <url>%2Fpost%2Fvirtualbox-scaleup%2F</url>
      <content type="text"><![CDATA[ä»Šå¤©å‘çŽ°vagrantçš„å…¶ä¸­ä¸€ä¸ªè™šæ‹Ÿæœºç£ç›˜ç©ºé—´ä¸å¤Ÿäº†ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œç£ç›˜æ‰©å®¹ï¼Œä½†ä¸æœŸæœ›æ˜¯é€šè¿‡å¢žåŠ æ–°ç¡¬ç›˜çš„æ–¹å¼ï¼Œè€Œæ˜¯ç›´æŽ¥å¢žåŠ åŽŸç£ç›˜å®¹é‡çš„æ–¹å¼æ¥æ— ç¼æ‰©å®¹ã€‚ ä¿®æ”¹ç£ç›˜æ–‡ä»¶è¿›å…¥åˆ°vmç£ç›˜æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•~/VirtualBox VMs/dev_default_1531796361866_92956ä¸‹ 1234567891011121314151617181920212223% vboxmanage showhdinfo centos-vm-disk1.vmdkUUID: acbb4ffc-0580-40d6-8627-3ed24cd0beffParent UUID: baseState: createdType: normal (base)Location: /Users/lvkai/VirtualBox VMs/dev_default_1531796361866_92956/centos-vm-disk1.vmdkStorage format: VMDKFormat variant: dynamic defaultCapacity: 10000 MBytesSize on disk: 9634 MBytesEncryption: disabledIn use by VMs: dev_default_1531796361866_92956 (UUID: a153957c-e43f-4dd2-8512-f51d42dee3d3)# å°†ä¹‹å‰å­˜å‚¨çš„vmdkæ ¼å¼çš„æ–‡ä»¶å¤åˆ¶ä¸€ä»½vdiæ ¼å¼çš„æ–‡ä»¶ï¼Œç”±äºŽéœ€è¦å¤åˆ¶æ–‡ä»¶ï¼Œè¯¥å‘½ä»¤éœ€è¦æ‰§è¡Œä¸€æ®µæ—¶é—´% vboxmanage clonehd centos-vm-disk1.vmdk new-centos-vm-disk1.vdi --format vdi# å°†vdiæ ¼å¼çš„æ–‡ä»¶ä¿®æ”¹ç£ç›˜ç©ºé—´ä¸Šé™å¤§å°ä¸º80gï¼Œä½†å®žé™…å ç”¨ç£ç›˜ç©ºé—´ä»ç„¶ä¸ºä¹‹å‰çš„å¤§å°% vboxmanage modifyhd new-centos-vm-disk1.vdi --resize 81920# å°†vdiæ ¼å¼çš„æ–‡ä»¶é‡æ–°è½¬æ¢ä¸ºvmdkæ ¼å¼ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„uuid% vboxmanage clonehd new-centos-vm-disk1.vdi resized.vmdk --format vmdk0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%Clone medium created in format &apos;vmdk&apos;. UUID: 7e454b50-0681-494b-b9ca-81700d217c0a æ–°çš„ç¡¬ç›˜åˆ›å»ºå®ŒæˆåŽï¼Œåœ¨virtualboxçš„ç•Œé¢ä¸Šå°†å¯¹åº”è™šæ‹Ÿæœºçš„ç¡¬ç›˜æ›´æ¢ä¸ºresized.vmdkï¼Œå¹¶å°†ä¹‹å‰æ—§çš„centos-vm-disk1.vmdkç»™åˆ é™¤æŽ‰ã€‚ ä½¿ç”¨fdiskåˆ›å»ºæ–°çš„ç£ç›˜åˆ†åŒºä»¥ä¸Šå‘½ä»¤æ‰§è¡Œå®ŒæˆåŽï¼Œå¼€å¯è™šæ‹Ÿæœºï¼Œè¿›å…¥ç³»ç»Ÿï¼Œå¯ä»¥çœ‹åˆ°ç£ç›˜ç©ºé—´å¤§å°å˜æ›´ä¸º85.9GBï¼Œä½†æŒ‚è½½çš„ç£ç›˜ç©ºé—´å¤§å°ä»ç„¶ä¸º8.3Gï¼Œæ–°å¢žåŠ çš„ç£ç›˜ç©ºé—´ä»ç„¶å¤„äºŽæœªåˆ†é…çŠ¶æ€ã€‚ 1234567891011121314151617181920212223242526272829303132333435# fdisk -lDisk /dev/sda: 85.9 GB, 85899345920 bytes, 167772160 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x0000ca5e Device Boot Start End Blocks Id System/dev/sda1 * 2048 1026047 512000 83 Linux/dev/sda2 1026048 20479999 9726976 8e Linux LVMDisk /dev/mapper/centos-root: 8866 MB, 8866758656 bytes, 17317888 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/mapper/centos-swap: 1048 MB, 1048576000 bytes, 2048000 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytes# df -hFilesystem Size Used Avail Use% Mounted on/dev/mapper/centos-root 8.3G 7.9G 386M 96% /devtmpfs 296M 0 296M 0% /devtmpfs 307M 0 307M 0% /dev/shmtmpfs 307M 4.5M 303M 2% /runtmpfs 307M 0 307M 0% /sys/fs/cgroup/dev/sda1 497M 195M 303M 40% /bootvagrant 466G 390G 77G 84% /vagrantvagrant_data 466G 390G 77G 84% /vagrant_datatmpfs 62M 0 62M 0% /run/user/1000 æŽ¥ä¸‹æ¥éœ€è¦å°†æœªåˆ†é…çš„ç£ç›˜ç©ºé—´ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# fdisk /dev/sda# ä¾æ¬¡è¾“å…¥å¯åˆ›å»ºæ–°çš„åˆ†åŒºnpå›žè½¦å›žè½¦# ç»§ç»­è¾“å…¥pï¼Œå¯ä»¥çœ‹åˆ°ç£ç›˜çš„æƒ…å†µï¼Œå¤šå‡ºäº†/dev/sda3# /dev/sda3çš„Systemä¸ºLinuxï¼Œè€Œ/dev/sda2çš„Systemä¸ºLinux LVMCommand (m for help): pDisk /dev/sda: 85.9 GB, 85899345920 bytes, 167772160 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x0000ca5e Device Boot Start End Blocks Id System/dev/sda1 * 2048 1026047 512000 83 Linux/dev/sda2 1026048 20479999 9726976 8e Linux LVM/dev/sda3 20480000 167772159 73646080 83 Linux# ä¾æ¬¡è¾“å…¥å°†/dev/sda3æ›´æ”¹ä¸ºLVMæ ¼å¼t38epDisk /dev/sda: 85.9 GB, 85899345920 bytes, 167772160 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x0000ca5e Device Boot Start End Blocks Id System/dev/sda1 * 2048 1026047 512000 83 Linux/dev/sda2 1026048 20479999 9726976 8e Linux LVM/dev/sda3 20480000 167772159 73646080 8e Linux LVM# è¾“å…¥wåŽè¿›è¡Œä¿å­˜æ“ä½œCommand (m for help): wThe partition table has been altered!Calling ioctl() to re-read partition table.WARNING: Re-reading the partition table failed with error 16: Device or resource busy.The kernel still uses the old table. The new table will be used atthe next reboot or after you run partprobe(8) or kpartx(8)Syncing disks. å°†æ–°åˆ›å»ºçš„ç£ç›˜åˆ†åŒºæ·»åŠ åˆ°LVMåˆ†åŒºä¸­å°†æœºå™¨é‡å¯åŽï¼Œç»§ç»­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960# vgdisplay --- Volume group --- VG Name centos System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 3 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 2 Max PV 0 Cur PV 1 Act PV 1 VG Size 9.27 GiB PE Size 4.00 MiB Total PE 2374 Alloc PE / Size 2364 / 9.23 GiB Free PE / Size 10 / 40.00 MiB VG UUID cpEmYK-XFew-6ZWT-GEeY-yEou-0vLq-OJiD08# lvscan ACTIVE &apos;/dev/centos/swap&apos; [1000.00 MiB] inherit ACTIVE &apos;/dev/centos/root&apos; [&lt;8.26 GiB] inherit# pvcreate /dev/sda3 Physical volume &quot;/dev/sda3&quot; successfully created.# vgextend centos /dev/sda3 Volume group &quot;centos&quot; successfully extended# lvextend /dev/centos/root /dev/sda3 Size of logical volume centos/root changed from &lt;8.26 GiB (2114 extents) to &lt;78.49 GiB (20093 extents). Logical volume centos/root successfully resized.# xfs_growfs /dev/centos/rootmeta-data=/dev/mapper/centos-root isize=256 agcount=4, agsize=541184 blks = sectsz=512 attr=2, projid32bit=1 = crc=0 finobt=0 spinodes=0data = bsize=4096 blocks=2164736, imaxpct=25 = sunit=0 swidth=0 blksnaming =version 2 bsize=4096 ascii-ci=0 ftype=0log =internal bsize=4096 blocks=2560, version=2 = sectsz=512 sunit=0 blks, lazy-count=1realtime =none extsz=4096 blocks=0, rtextents=0data blocks changed from 2164736 to 20575232# æœ€åŽæ‰§è¡Œå‘½ä»¤å¯ä»¥çœ‹åˆ°ç£ç›˜ç©ºé—´å·²ç»å¢žåŠ # df -hFilesystem Size Used Avail Use% Mounted on/dev/mapper/centos-root 79G 7.9G 71G 11% /devtmpfs 296M 0 296M 0% /devtmpfs 307M 0 307M 0% /dev/shmtmpfs 307M 4.5M 303M 2% /runtmpfs 307M 0 307M 0% /sys/fs/cgroup/dev/sda1 497M 195M 303M 40% /bootvagrant 466G 390G 77G 84% /vagrantvagrant_data 466G 390G 77G 84% /vagrant_datatmpfs 62M 0 62M 0% /run/user/1000]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Golang GC]]></title>
      <url>%2Fpost%2Fgolang-gc%2F</url>
      <content type="text"><![CDATA[å¸¸ç”¨åžƒåœ¾å›žæ”¶æ–¹æ³•1.å¼•ç”¨è®¡æ•°ç±»ä¼¼äºŽC++ä¸­çš„æ™ºèƒ½æŒ‡é’ˆï¼Œæ¯ä¸ªå¯¹è±¡ç»´æŠ¤ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œå½“å¯¹è±¡è¢«é”€æ¯æ—¶å¼•ç”¨è®¡æ•°å‡ä¸€ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸º0æ—¶ç«‹å³å›žæ”¶å¯¹è±¡ã€‚ åœ¨PHPã€Pythonä¸­ä½¿ç”¨ï¼Œé€‚ç”¨äºŽå†…å­˜æ¯”è¾ƒç´§å¼ å’Œå®žæ—¶æ€§æ¯”è¾ƒé«˜çš„ç³»ç»Ÿã€‚ ç¼ºç‚¹ï¼š ç”±äºŽé¢‘ç¹æ›´æ–°å¼•ç”¨è®¡æ•°ï¼Œé™ä½Žäº†æ€§èƒ½ã€‚ å¾ªçŽ¯å¼•ç”¨é—®é¢˜ã€‚è§£å†³åŠžæ³•ä¸ºé¿å…å¾ªçŽ¯å¼•ç”¨ã€‚ 2.æ ‡è®°(mark)-æ¸…é™¤(sweep)åˆ†ä¸ºæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªé˜¶æ®µï¼Œç®—æ³•åœ¨70å¹´ä»£å°±æå‡ºäº†ï¼Œéžå¸¸å¤è€çš„ç®—æ³•ã€‚ è¯¥ç®—æ³•æœ‰ä¸€ä¸ªæ ‡è®°åˆå§‹çš„rootåŒºåŸŸï¼Œå’Œä¸€ä¸ªå—æŽ§å †åŒºã€‚rootåŒºåŸŸä¸»è¦æ˜¯ç¨‹åºå½“å‰çš„æ ˆå’Œå…¨å±€æ•°æ®åŒºåŸŸã€‚ ä»ŽrootåŒºåŸŸå¼€å§‹éåŽ†æ‰€æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œæ‰€æœ‰è¢«è®¿é—®åˆ°çš„å¯¹è±¡è¢«æ ‡è®°ä¸ºâ€œè¢«å¼•ç”¨â€ï¼Œæ ‡è®°å®ŒæˆåŽå¯¹æœªè¢«å¼•ç”¨çš„å¯¹è±¡è¿›è¡Œå†…å­˜å›žæ”¶ã€‚ ç¼ºç‚¹ï¼š æ ‡è®°é˜¶æ®µï¼Œéƒ½ä¼šStop The Worldï¼Œä¼šå¤§å¤§é™ä½Žæ€§èƒ½ã€‚ 3.åˆ†ä»£å›žæ”¶å°†å †åˆ’åˆ†ä¸ºä¸¤ä¸ªæˆ–è€…å¤šä¸ªä»£ç©ºé—´ï¼Œæ–°åˆ›å»ºçš„å¯¹è±¡å­˜æ”¾äºŽæ–°ç”Ÿä»£ï¼Œéšç€åžƒåœ¾å›žæ”¶çš„é‡å¤æ‰§è¡Œï¼Œç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡ä¼šè¢«æ”¾åˆ°è€å¹´ä»£ä¸­ã€‚æ–°ç”Ÿä»£å’Œè€å¹´ä»£é‡‡ç”¨ä¸åŒçš„åžƒåœ¾å›žæ”¶ç­–ç•¥ã€‚ Goåžƒåœ¾å›žæ”¶æœºåˆ¶Goä¸­é‡‡ç”¨ä¸‰è‰²æ ‡è®°ç®—æ³•ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œä½†æ˜¯å¯¹æ ‡è®°é˜¶æ®µæœ‰æ”¹è¿›ã€‚ æ­¥éª¤å¦‚ä¸‹ï¼š å¼€å§‹æ—¶ï¼Œæ‰€æœ‰çš„å¯¹è±¡å‡ä¸ºç™½è‰² ä»Žrootå¼€å§‹æ‰«ææ‰€æœ‰å¯è¾¾å¯¹è±¡ï¼Œæ ‡è®°ä¸ºç°è‰²ï¼Œæ”¾å…¥å¾…å¤„ç†é˜Ÿåˆ—ã€‚rootåŒ…æ‹¬äº†å…¨å±€æŒ‡é’ˆå’Œgoroutineæ ˆä¸Šçš„æŒ‡é’ˆã€‚ ä»Žé˜Ÿåˆ—å–å‡ºæ‰€æœ‰ç°è‰²å¯¹è±¡ï¼Œå°†å…¶å¼•ç”¨å¯¹è±¡æ ‡è®°ä¸ºç°è‰²æ”¾å…¥é˜Ÿåˆ—ï¼Œè‡ªèº«æ ‡è®°ä¸ºé»‘è‰²ã€‚ é‡å¤3ï¼Œç›´åˆ°ç°è‰²é˜Ÿåˆ—ä¸ºç©ºã€‚ å°†ç™½è‰²å¯¹è±¡è¿›è¡Œå›žæ”¶ ä¼˜ç‚¹ï¼šç”¨æˆ·ç¨‹åºå’Œæ ‡è®°æ“ä½œå¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚ è¯¦ç»†è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒSTWæœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼š gcå¼€å§‹çš„æ—¶å€™ï¼Œéœ€è¦ä¸€äº›å‡†å¤‡å·¥ä½œï¼Œå¦‚å¼€å¯write barrier re-scançš„è¿‡ç¨‹ æ¯ä¸ªå¯¹è±¡éœ€è¦ä¸€ä¸ªæ ‡è®°ä½ï¼Œgoä¸­å¹¶æœªå°†æ ‡è®°ä½å­˜æ”¾äºŽå¯¹è±¡çš„å†…å­˜åŒºåŸŸä¸­ï¼Œè€Œæ˜¯é‡‡ç”¨éžä¾µå…¥å¼çš„æ ‡è®°ä½ã€‚goå•ç‹¬ä½¿ç”¨äº†æ ‡è®°ä½å›¾åŒºåŸŸæ¥å¯¹åº”å†…å­˜ä¸­çš„å †åŒºåŸŸã€‚ write barrier: åœ¨è¿è¡Œåžƒåœ¾å›žæ”¶ç®—æ³•çš„åŒæ—¶ï¼Œåº”ç”¨ç¨‹åºåœ¨ä¸€ç›´æ‰§è¡Œï¼Œä¸Šæ–‡ä¸­æåˆ°äº†å†™å±éšœwrite barrierç”¨äºŽå°†è¿™äº›å†…å­˜çš„æ“ä½œè®°å½•ä¸‹æ¥ã€‚ GCæ—¥å¿—GCæ—¥å¿—å¯¹äºŽå®šä½é—®é¢˜è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ 1.å¼€å¯GCæ—¥å¿—å¯ä»¥å¢žåŠ çŽ¯å¢ƒå˜é‡GODEBUG=gctrace=1æ¥å¼€å¯gcæ—¥å¿—ï¼Œgcæ—¥å¿—ä¼šæ‰“å°åˆ°æ ‡å‡†é”™è¯¯ä¸­ã€‚ä¾‹å¦‚æœ‰å¦‚ä¸‹çš„ç¨‹åº: 12345678910111213package mainimport &quot;time&quot;func main() &#123; for &#123; s := make([]int, 10) for i := 0; i &lt; 10000; i++ &#123; s = append(s, i) &#125; time.Sleep(time.Nanosecond) &#125;&#125; æ‰§è¡ŒGODEBUG=gctrace=1 go run gc.goå³å¯æ‰“å°gcæ—¥å¿—åˆ°æ ‡å‡†é”™è¯¯ä¸­ã€‚ 2.GCæ—¥å¿—çš„å«ä¹‰å¯ä»¥å‚ç…§runtime 123456789gc # @#s #%: #+#+# ms clock, #+#/#/#+# ms cpu, #-&gt;#-&gt;# MB, # MB goal, # Pwhere the fields are as follows: gc # the GC number, incremented at each GC @#s time in seconds since program start #% percentage of time spent in GC since program start #+...+# wall-clock/CPU times for the phases of the GC #-&gt;#-&gt;# MB heap size at GC start, at GC end, and live heap # MB goal goal heap size # P number of processors used ä¾‹å­: gc 11557 @179.565s 2%: 0.018+1.2+0.049 ms clock, 0.14+1.1/2.3/0.90+0.39 ms cpu, 13-&gt;14-&gt;7 MB, 14 MB goal, 8 P 3.GCçš„ç›‘æŽ§å¯¹äºŽçº¿ä¸ŠGCçš„ç›‘æŽ§ï¼ŒåŸºæœ¬ä¸Šè¯»å–runtime.MemStatsç»“æž„ä¸­çš„å†…å®¹ï¼Œç„¶åŽå­˜å‚¨åˆ°æ—¶åºæ•°æ®åº“ä¸­ã€‚å…·ä½“æœ‰å¦‚ä¸‹ä¸¤ç§èŽ·å–æ–¹å¼ï¼š 123456// æ–¹å¼1memStats := &amp;runtime.MemStats&#123;&#125;runtime.ReadMemStats(memStats)// æ–¹å¼2 jsonæ ¼å¼expvar.Get(&quot;memstats&quot;).String() references Getting to Go: The Journey of Goâ€™s Garbage Collector Go: runtime]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬11æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-11%2F</url>
      <content type="text"><![CDATA[å¤è¯­æœ‰äº‘ï¼Œä¸€å¹´ä¹‹è®¡åœ¨äºŽæ˜¥ï¼Œè¿™å¥è¯å¯¹äºŽå¾ˆå¤šæ¤ç‰©è€Œè¨€å†åˆé€‚ä¸è¿‡ã€‚åœ¨ç»åŽ†äº†å¯’å†¬ä¹‹åŽï¼Œå¾ˆå¤šæ¤ç‰©é€‰æ‹©å°†æœ€ç¾Žå¥½çš„ä¸€é¢åœ¨æ˜¥å¤©é‡Œç»½æ”¾ã€‚ èµ„æº1.PagerDuty PagerDutyæ˜¯ä¸€å®¶Sasså¹³å°åŽ‚å•†ï¼Œå…¶äº§å“ä¸ºä¸€æ¬¾å‘Šè­¦å¤„ç†å¹³å°ï¼Œæä¾›äº†On-Callç®¡ç†ã€å‘Šè­¦æ”¶æ•›åˆ†ç»„ã€å‘Šè­¦æ—¶é—´æŠ¥è¡¨ï¼Œå¹¶é›†æˆäº†å¤šç§å‘Šè­¦æ–¹å¼ã€‚ 2.Fathom ä¸€æ¬¾å¼€æºçš„ç®€æ˜“ç½‘ç«™æ•°æ®åˆ†æžå·¥å…·ï¼Œç±»ä¼¼äºŽGoogle Analyticsæˆ–è€…ç™¾åº¦åˆ†æžã€‚ 3.Data Structure Visualizations è¯¥ç½‘ç«™å°†å¸¸è§çš„è®¡ç®—æœºæ•°æ®ç»“æž„ä»¥å¯è§†åŒ–çš„å½¢å¼å±•ç¤ºåœ¨äº†ç•Œé¢ä¸Šï¼Œå¯ä»¥åœ¨ç•Œé¢ä¸Šç‚¹å‡»æŒ‰é’®å®Œæˆæ’å…¥å…ƒç´ ã€åˆ é™¤å…ƒç´ ç­‰æ“ä½œï¼Œå¯¹åº”çš„æ•°æ®ç»“æž„å±•çŽ°ä¼šå®žæ—¶å‘ç”Ÿå˜åŒ–ï¼Œéžå¸¸ç›´è§‚ã€‚ 4.snowflake Twitterå¼€æºçš„åˆ†å¸ƒå¼ç®—æ³•ï¼Œå¸¸ç”¨äºŽåˆ†å¸ƒå¼idçš„ç”Ÿæˆï¼Œä½¿ç”¨æ¯«ç§’æ—¶é—´æˆ³ã€æœºå™¨idã€æ¯«ç§’å†…çš„æµæ°´å·æ¥ç”Ÿæˆéšæœºidã€‚é‡‡ç”¨æ­¤ç§æ–¹æ³•ç”Ÿæˆçš„idå¯ä»¥ä¿è¯å•æœºé€’å¢žï¼Œä½†ä¸èƒ½ä¿è¯æ˜¯å…¨å±€é€’å¢žçš„ã€‚ 5.Netlify å¾ˆå¤šäººå–œæ¬¢å°†è‡ªå·±çš„åšå®¢ç³»ç»Ÿåˆ©ç”¨Githubçš„PagesåŠŸèƒ½æ‰˜ç®¡åˆ°Githubä¸Šï¼Œä½†Github Pageså¹¶ä¸æ”¯æŒå¯¹é™æ€é¡µé¢çš„æž„å»ºï¼Œåªèƒ½å°†æž„å»ºå®ŒæˆåŽçš„é¡µé¢æŽ¨åŠ¨åˆ°Githubä¸Šã€‚Netlifyæ”¯æŒå¯¹é™æ€ç½‘ç«™çš„æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼Œä»£ç å¯ä»¥æ‰˜ç®¡äºŽGithubä¸Šï¼ŒNetlifyä¼šè‡ªåŠ¨æž„å»ºå’Œå‘å¸ƒï¼Œæ”¯æŒå…è´¹çš„httpsåè®®å’ŒCDNã€‚ ä½†å¯æƒœçš„æ˜¯ï¼Œå®žé™…æµ‹è¯•ä¸‹æ¥ï¼Œç½‘ç«™çš„è®¿é—®é€Ÿåº¦åœ¨å›½å†…ä¸æ˜¯å¾ˆç†æƒ³ã€‚ 6.996.ICU å…¨ä¸–ç•Œæœ€å¤§çš„åŒæ€§äº¤å‹ç¤¾åŒºGithubä¸Šå¼‚å¸¸ç«çˆ†çš„å£°è®¨996å·¥ä½œåˆ¶åº¦çš„é¡¹ç›®ï¼Œä¸¤å¤©çš„æ—¶é—´å†…å·²ç»çªç ´6ä¸‡å¤šStarï¼Œissueçš„æ•°é‡ä¹Ÿå·²ç»ç ´ä¸‡ï¼ˆæˆªæ­¢åˆ°2019-03-28 19:55ï¼‰ï¼Œè¦çŸ¥é“Githubä¸ŠStaræ•°æœ€å¤šçš„é¡¹ç›®freeCodeCampä¹Ÿæ‰æŽ¥è¿‘30ä¸‡Starï¼Œå…¨ä¸–ç•Œè¿è¡Œè®¾å¤‡æœ€å¤šçš„æ“ä½œç³»ç»Ÿlinuxä¹Ÿæ‰7ä¸‡å¤šStarï¼Œè¿™ç®€ç›´åˆ›é€ äº†Githubä¸ŠStaræ•°å¢žé•¿çš„å¥‡è¿¹ã€‚ å¾ˆå¤šäººåœ¨issueä¸­æåˆ°äº†åŠ ç¾¤äº¤å‹åæ§½ã€å€¾è¯‰åŠ ç­ä¸æ»¡ï¼Œç”šè‡³è¿˜æœ‰è¿‡æ¥æ‰¾ç”·ç›†å‹çš„ï¼Œæ´»è„±è„±æŠŠissueçŽ©æˆäº†è´´å§ï¼Œç•™è¨€ä¸­æ¸…ä¸€è‰²çš„æ±‰å­—ï¼Œè¯´æ˜ŽåŸºæœ¬æ˜¯ä¸­å›½äººåœ¨çŽ©ã€‚ æˆ‘ä¸ªäººå¯¹äºŽå¼ºåˆ¶996åŠ ç­çš„äº‹æƒ…ä¸æ˜¯å¾ˆèµžæˆï¼Œè™½ç„¶è¿‡åŽ»ä¸‰å¹´ä¸­æˆ‘çš„å·¥ä½œå¼ºåº¦åº”è¯¥å¤§äºŽ996ï¼Œä½†æ›´å¤šçš„æ˜¯å‡ºäºŽä¸ªäººè‡ªæ„¿å’Œå¯¹å¥åº·çš„æ— è§†ï¼Œå…¬å¸å±‚é¢å¹¶æ²¡æœ‰å¼ºåˆ¶è¦æ±‚ã€‚äººç”Ÿç¡®å®žæœ‰éžå¸¸å¤šç¾Žå¥½çš„äº‹æƒ…å¯ä»¥å‚ä¸Žå’Œäº«å—ï¼Œå¯¹äºŽç¨‹åºå‘˜è¿™ä¸ªç¾¤ä½“è€Œè¨€ï¼Œç”µè„‘å±å¹•ä¹‹å¤–çš„ä¸–ç•Œè¿˜å¾ˆå¤§ï¼Œè¿˜æœ‰å¤ªå¤šçš„é¢†åŸŸå€¼å¾—åŽ»æŽ¢ç´¢å’ŒæŒ–æŽ˜ã€‚ä½†å¦‚æžœç¡®å®žæ˜¯å› ä¸ºä¸ªäººçš„çˆ±å¥½ï¼Œåœ¨å·¥ä½œä¸­èƒ½å¤ŸèŽ·å¾—å¾ˆå¥½çš„æˆå°±æ„Ÿå’Œæ»¡è¶³æ„Ÿï¼Œ996æˆ–è€…æ›´é«˜å¼ºåº¦çš„åŠ ç­ï¼Œæˆ‘ä¸ªäººè§‰å¾—éƒ½æ˜¯å€¼å¾—çš„ã€‚ è¯´èµ·ICUï¼Œç¨‹åºå‘˜è¿™ä¸ªç¾¤çš„èŒä¸šç—…æ˜¯é¢ˆæ¤Žã€è…°æ¤Žã€è§†åŠ›ç­‰ï¼Œå¤±çœ å¤šæ¢¦ä¹Ÿæ˜¯å¤§æœ‰äººåœ¨ã€‚æˆ‘ä¸ªäººä¹Ÿç¡®å®žèº«ä½“å‡ºè¿‡ä¸€äº›é—®é¢˜è€Œä½è¿‡é™¢ï¼Œäººå¾€å¾€éƒ½æ˜¯åœ¨èº«ä½“å¥½çš„æ—¶å€™ä¸æ‡‚å¾—åŽ»é‡è§†è‡ªå·±çš„èº«ä½“ï¼Œå½“èº«ä½“ä¸€æ—¦å‡ºæ¯›ç—…çš„æ—¶å€™æ‰æ‡‚å¾—åŽ»çæƒœã€‚æˆ‘æ›¾ç»ç”Ÿç—…çš„æ—¶å€™ä¹Ÿæ˜¯é¼“åŠ±è‡ªå·±è¦å¤šé”»ç‚¼å’Œæ³¨æ„èº«ä½“ï¼Œä½†å½“èº«ä½“å¥½äº†ä¹‹åŽï¼Œå½“æ—¶çš„æ„¿æœ›åˆæŠ›åˆ°äº†è„‘åŽã€‚ èº«ä½“å‡ºçŽ°é—®é¢˜å¾€å¾€ä¸æ˜¯ä¸€æœä¸€å¤•é€ æˆçš„ï¼Œè€Œæ˜¯é•¿æœŸç§¯ç´¯çš„ç»“æžœï¼Œå°¤å…¶æ˜¯åˆšå·¥ä½œçš„å‰å‡ å¹´ï¼Œè¶ç€å¹´è½»ç¡®å®žèƒ½å¤šåŠ ç­ç†¬å¤œï¼Œä½†30å²ä¹‹åŽå¾€å¾€ä½“åŠ›å°±è·Ÿä¸ä¸Šäº†ã€‚è¿˜æ˜¯å¥‰åŠå„ä½ï¼Œåœ¨å·¥ä½œçš„æ—¶å€™å¤šæ³¨æ„ä¼‘æ¯å’ŒåŠ å¼ºé”»ç‚¼ï¼Œæ— è®ºæ˜¯996ï¼Œè¿˜æ˜¯æœä¹æ™šäº”ï¼Œéƒ½è¦å¤šæ³¨æ„ã€‚ ç²¾å½©æ–‡ç« 1.äº’è”ç½‘è¿ç»´å·¥ä½œ æ»´æ»´è¿ç»´æ€»ç›‘æ¥ä¼Ÿåœ¨2017å¹´å¯¹è¿ç»´å·¥ä½œèŒƒå›´çš„æ€è€ƒï¼Œå…¬å¸å¤„åœ¨ä¸åŒçš„é˜¶æ®µï¼Œè¿ç»´æ‰€èƒ½å¹²çš„äº‹æƒ…ä¹Ÿæœ‰æ‰€ä¸åŒã€‚ 2.æ—©ç‚¹æ‡‚è¿™å‡ ä¸ªé“ç†ï¼Œå°±ä¸å®³æ€•è¢«è£å‘˜äº† ITè¡Œä¸šä¸­çš„ä¸€äº›èŒåœºè§„åˆ™ï¼Œç¨‹åºå‘˜åœ¨ä¸­å¹´æ—¶æœŸå¦‚æžœä¸åšå¥½èŒåœºè½¬åž‹ï¼Œä¼šé€æ­¥è¢«æ›´æœ‰æ´»åŠ›æ›´æœ‰ä½“åŠ›çš„å¹´è½»äººç»™å–ä»£ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Golangä¸­çš„panicå’Œrecoverç”¨æ³•]]></title>
      <url>%2Fpost%2Fgolang-panic%2F</url>
      <content type="text"><![CDATA[golangä¸­çš„panicç”¨äºŽå¼‚å¸¸å¤„ç†ï¼Œä¸ªäººæ„Ÿè§‰æ²¡æœ‰try catch finallyæ–¹å¼ç›´è§‚å’Œæ˜“ç”¨ã€‚ func panic(v interface{})å‡½æ•°çš„ä½œç”¨ä¸ºæŠ›å‡ºä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼ŒåŒæ—¶å‡½æ•°çš„æ‰§è¡Œæµç¨‹ä¼šç»“æŸï¼Œä½†panicä¹‹å‰çš„deferè¯­å¥ä¼šæ‰§è¡Œï¼Œä¹‹åŽè¯¥goroutineä¼šç«‹å³åœæ­¢æ‰§è¡Œï¼Œè¿›è€Œå½“å‰è¿›ç¨‹ä¼šé€€å‡ºæ‰§è¡Œã€‚ func recover() interface{}å®šä¹‰åœ¨panicä¹‹å‰çš„deferè¯­å¥ä¸­ï¼Œç”¨äºŽå°†panic()è¿›è¡Œæ•èŽ·ï¼Œè¿™æ ·è§¦å‘panicæ—¶ï¼Œå½“å‰gotoutineä¸ä¼šè¢«é€€å‡ºã€‚ recoveræ‰€è¿”å›žçš„å†…å®¹ä¸ºpanicçš„å‡½æ•°å‚æ•°ï¼Œå¦‚æžœæ²¡æœ‰æ•èŽ·åˆ°panicï¼Œåˆ™è¿”å›žnilã€‚ æ³¨æ„ï¼šrecoverä»…èƒ½å®šä¹‰åœ¨deferä¸­ä½¿ç”¨ï¼Œåœ¨æ™®é€šè¯­å¥ä¸­æ— æ³•æ•èŽ·recoverå¼‚å¸¸ã€‚recoverå¯ä»¥ä¸è·Ÿpanicå®šä¹‰åœ¨åŒä¸€ä¸ªå‡½æ•°ä¸­ä½¿ç”¨ã€‚ example 1123456789import &quot;fmt&quot;func main() &#123; defer fmt.Println(1) fmt.Println(2) panic(3) fmt.Println(4) defer fmt.Println(5)&#125; panic()æ‰§è¡ŒåŽï¼Œä¼šå…ˆè°ƒç”¨deferå‡½æ•°ï¼Œç„¶åŽæ‰“å°panic: 3ï¼Œå½“å‰goroutineé€€å‡ºï¼ŒåŽç»­è¯­å¥ä¸å†æ‰§è¡Œï¼Œç¨‹åºè¾“å‡ºï¼š 1234567821panic: 3goroutine 1 [running]:main.main() /Users/lvkai/src_test/go/panic/panic.go:8 +0xd5exit status 2 example 212345678910111213141516171819package mainimport &quot;fmt&quot;func main() &#123; func() &#123; defer func() &#123; if r := recover(); r != nil &#123; fmt.Println(&quot;recover: &quot;, r) &#125; &#125;() defer fmt.Println(1) fmt.Println(2) panic(3) fmt.Println(4) defer fmt.Println(5) &#125;() fmt.Println(6)&#125; åœ¨æ‰§è¡ŒpanicåŽï¼Œè§¦å‘å½“å‰å‡½æ•°ä¸­çš„deferä¸­çš„recoverå‡½æ•°ï¼Œæ­¤æ—¶panicåŽçš„å½“å‰å‡½æ•°ä¸­çš„è¯­å¥åŒæ ·æ˜¯ä¸å†æ‰§è¡Œï¼Œä½†å½“å‰goroutineä¸ä¼šé€€å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´panicè¢«recoveråŽï¼Œä¼šå½±å“åˆ°å½“å‰å‡½æ•°ä¸­çš„åŽç»­è¯­å¥çš„æ‰§è¡Œï¼Œä½†ä¸å½±å“å½“å‰goroutineçš„ç»§ç»­æ‰§è¡Œï¼Œè¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š 123421recover: 36 example 31234567891011121314151617181920package mainimport &quot;fmt&quot;func main() &#123; func() &#123; defer func() &#123; if r := recover(); r != nil &#123; fmt.Println(&quot;recover: &quot;, r) &#125; &#125;() func() &#123; defer fmt.Println(1) panic(2) &#125;() fmt.Println(3) defer fmt.Println(4) &#125;() fmt.Println(5)&#125; recoverè·Ÿpanicå®šä¹‰åœ¨ä¸åŒçš„å‡½æ•°ä¸­ï¼Œä»ç„¶å¯ä»¥å‘æŒ¥ä½œç”¨ã€‚ 1231recover: 25]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬10æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-10%2F</url>
      <content type="text"><![CDATA[æ˜¥å›žå¤§åœ°ï¼Œé¢˜å›¾ä¸ºå³å°†èžåŒ–çš„æ²³é¢ä»¥åŠè¿˜åœ¨å†°é¢ä¸Šè¡Œèµ°çš„è·¯äººã€‚ èµ„æº1.fastThread åœ¨çº¿çš„JVMçº¿ç¨‹æ ˆåˆ†æžå·¥å…·ï¼Œé€šè¿‡ä¸Šä¼ JVM Dumpæ–‡ä»¶ï¼Œåœ¨çº¿æŸ¥çœ‹çº¿ç¨‹åˆ†æžç»“æžœã€‚ 2.å…¨çƒç©ºæ°”è´¨é‡åœ°å›¾ å¯ä»¥åœ¨çº¿æŸ¥çœ‹å…¨çƒçš„PM2.5æƒ…å†µï¼Œå¾ˆå¤šå›½å®¶çš„PM2.5éƒ½è¶…è¿‡äº†200ï¼Œä½†å¹¶ä¸åŒ…å«ä¸­å›½çš„æ•°æ®ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æ€•æ•°æ®æŠŠå…¶ä»–å›½å®¶å“æ­»çš„ç¼˜æ•…ã€‚ 3.Walle ä½¿ç”¨Python3å¼€å‘çš„CI/CDå¹³å°ï¼Œæœ‰ç›¸å¯¹å‹å¥½çš„ç•Œé¢ï¼Œç›®å‰Github Staræ•°åœ¨6000+ã€‚ 4.TrÃ¦fÉªk ä¸ºå¾®æœåŠ¡è€Œç”Ÿçš„HTTPåè®®åå‘ä»£ç†ï¼Œè‡ªå¸¦APIæŽ¥å£ã€dashboardï¼Œå¹¶æ”¯æŒKubernetes Ingressã€Mesosç­‰ï¼Œå¯åŠ¨æ€åŠ è½½é…ç½®æ–‡ä»¶ç­‰è¯¸å¤šnginxä¸å…·å¤‡çš„ç‰¹æ€§ã€‚ 5.kcptun åŸºäºŽKCPåè®®çš„UDPéš§é“ï¼ŒKCPåè®®èƒ½ä»¥æ¯” TCPæµªè´¹10%-20%çš„å¸¦å®½çš„ä»£ä»·ï¼Œæ¢å–å¹³å‡å»¶è¿Ÿé™ä½Ž 30%-40%ã€‚ 6.k3s - 5 less than k8s æœ‰äººæžäº†ä¸ªk3sé¡¹ç›®ï¼Œä½œä¸ºè½»é‡çº§çš„k8sï¼Œæ•´ä¸ªäºŒè¿›åˆ¶åŒ…åªæœ‰40Må¤§å°ã€‚é¡¹ç›®å®šä½ä¸ºè¾¹ç¼˜è®¡ç®—ã€IoTã€CIç­‰ï¼Œæ”¯æŒå¤šç§ç¡¬ä»¶å¹³å°ï¼Œè£å‰ªäº†k8sçš„å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚äº‘ä¾èµ–ï¼Œå­˜å‚¨æ’ä»¶ç­‰ï¼Œç”šè‡³è¿žk8sä¾èµ–çš„etcdå­˜å‚¨éƒ½é»˜è®¤æ›´æ¢ä¸ºäº†sqlite3ã€‚ 7.Drone åŸºäºŽGolangçš„Container Nativeçš„CDå¹³å°ï¼ŒGithubä¸Šstar 17000+ï¼Œæ’ä»¶çš„å®‰è£…ä¹Ÿæ˜¯åŸºäºŽå®¹å™¨çš„ã€‚ 8.kaniko é€šè¿‡Dockerfileæ¥æž„å»ºdockeré•œåƒï¼Œéœ€è¦dockerdè¿›ç¨‹çš„æ”¯æŒï¼Œè¿™åœ¨ç‰©ç†æœºä¸Šæ“ä½œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚è€Œå¦‚æžœè¦æƒ³åœ¨å®¹å™¨ä¸­é€šè¿‡Dockerfileæž„å»ºdockeré•œåƒå´å˜å¾—å›°éš¾èµ·æ¥ï¼Œå› ä¸ºdockerdçš„è¿è¡Œéœ€è¦rootæƒé™ï¼Œè€Œå®¹å™¨ä¸ºäº†å®‰å…¨æ˜¯ä¸å»ºè®®å¼€å¯rootæƒé™çš„ã€‚ è¯¥å·¥å…·å¯ä»¥åœ¨å®¹å™¨ä¸­ä¸è¿è¡Œdockerdçš„æƒ…å†µä¸‹é€šè¿‡Dockerfileæž„å»ºå‡ºdockeré•œåƒã€‚ 9.Nacos é˜¿é‡Œå·´å·´å¼€æºçš„å¾®æœåŠ¡æ¡†æž¶ï¼Œæ”¯æŒé…ç½®ä¸­å¿ƒã€åŠ¨æ€æœåŠ¡å‘çŽ°ã€åŠ¨æ€DNSã€‚ 10.PowerDNS Linuxä¸‹é™¤äº†bindå¤–çš„å¦ä¸€ä¸ªå¯é€‰æ‹©çš„DNSæœåŠ¡å™¨ï¼Œæ•°æ®å­˜å‚¨åœ¨mysqlä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯é€‰æ‹©çš„æ¼‚äº®UIã€‚ ç²¾å½©ä¹¦ç± ã€Šæ¿€è¡åå¹´ï¼Œæ°´å¤§é±¼å¤§ã€‹ è¦æƒ³å›žé¡¾ä¸€ä¸‹è¿‡åŽ»çš„åå¹´ä¸­éƒ½å‘ç”Ÿäº†å“ªäº›å¤§äº‹ï¼Œä¸­å›½å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Œç»æµŽé¢†åŸŸé‡Œæœ‰å“ªäº›å¤§èµ·å¤§è½ï¼Œæœ¬ä¹¦å¯ä»¥æ‹¿æ¥ä¸€è¯»ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ç½‘ä»¶R6400V2åˆ·æ¢…æž—æ•™ç¨‹]]></title>
      <url>%2Fpost%2Fr6400-merlin%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘çªå‘å¥‡æƒ³ï¼Œæƒ³æŠ˜è…¾ä¸€ä¸‹è·¯ç”±å™¨ã€‚ç»è¿‡ç ”ç©¶åŠå¤©åŽï¼Œé”å®šäº†ç½‘ä»¶R6400è¿™æ¬¾è·¯ç”±å™¨ï¼ŒåŽŸå› æ˜¯å¯é€‰æ‹©çš„ç³»ç»Ÿè¾ƒå¤šï¼Œè·ŸåŽç¡•çš„è·¯ç”±å™¨æž¶æž„ä¸€è‡´ï¼Œä¸”æ”¯æŒè¾ƒä¸ºå¼ºå¤§çš„æ¢…æž—ç³»ç»Ÿã€‚ æ•´ä¸ªåˆ·æœºçš„è¿‡ç¨‹è¿˜æ˜¯éžå¸¸ç®€å•çš„ï¼Œè™½ç„¶èŠ±äº†æˆ‘ä¸å°‘æ—¶é—´ï¼Œæœ¬æ–‡ç®€å•è®°å½•ä¸€ä¸‹ã€‚ æ‹¿åˆ°æ‰‹åŽï¼ŒR6400æ¯”æˆ‘å°è±¡ä¸­çš„è¦å¤§ä¸å°‘ï¼Œå¯ä»¥é€šè¿‡ä¸‹å›¾ä¸­çš„è‹¹æžœæ‰‹æœºè¿›è¡Œå¯¹æ¯”ã€‚ R6400æœ‰v1å’Œv2ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶ä¸­v1ç‰ˆæœ¬çš„CPUé¢‘çŽ‡ä¸º800MHzï¼Œv2ç‰ˆæœ¬çš„CPUé¢‘çŽ‡ä¸º1GHzã€‚v1ç‰ˆæœ¬çš„åˆ·æ¢…æž—ç³»ç»Ÿå’Œv2ç‰ˆæœ¬åˆ·ç³»ç»Ÿæœ‰æ‰€åŒºåˆ«ï¼Œv2ç‰ˆæœ¬éœ€è¦å…ˆåˆ·DD-WRTå›ºä»¶ä½œä¸ºè¿‡æ¸¡å›ºä»¶ï¼Œç„¶åŽå†åˆ·æ¢…æž—å›ºä»¶ã€‚ æ•´ä¸ªçš„è¿‡ç¨‹æœ€å¥½ç”¨æœ‰çº¿è¿žæŽ¥è·¯ç”±å™¨æ“ä½œï¼Œç”¨æ— çº¿ä¼šé¢‘ç¹æŽ‰çº¿ã€‚ .chkç»“å°¾çš„æ–‡ä»¶ä¸ºè¿‡æ¸¡å›ºä»¶ï¼Œ.trxä¸ºæœ€ç»ˆå›ºä»¶ã€‚ æ³¨æ„ï¼šä¸‹è½½çš„å›ºä»¶æ–‡ä»¶æœ€å¥½æ£€éªŒä¸€ä¸‹md5ï¼Œç¡®ä¿å›ºä»¶çš„æ­£ç¡®æ€§ã€‚ åˆ·dd-wrtå›ºä»¶è¿žæŽ¥ä¸Šè·¯ç”±å™¨åŽï¼Œåœ¨chromeæµè§ˆå™¨ä¸­è¾“å…¥http://www.routerlogin.netå¯è·³è½¬åˆ°ç½‘ä»¶ç®¡ç†ç³»ç»Ÿï¼Œé€šè¿‡ä¸€å †è·¯ç”±å™¨è®¾ç½®åŽä¼šé‡å¯è·¯ç”±å™¨ï¼Œç„¶åŽé‡æ–°ç™»å½•ã€‚ é€‰æ‹©â€œæ˜¯â€åŽä¼šä¸‹è½½æ–°ç½‘ä»¶å›ºä»¶ï¼Œå…¶å®žè¯¥æ­¥éª¤å¯ä»¥é€‰æ‹©â€œå¦â€å³å¯ã€‚å›ºä»¶ä¸‹è½½å®ŒæˆåŽï¼Œä¼šå‡çº§å›ºä»¶ï¼Œè·¯ç”±å™¨ä¼šè‡ªåŠ¨é‡å¯ã€‚ ä¸‹è½½DD-WRTå›ºä»¶æ–‡ä»¶â€œDDå›ºä»¶.chkâ€ï¼Œå¹¶åœ¨è·¯ç”±å™¨çš„ç®¡ç†ç•Œé¢â€œé«˜çº§ -&gt; ç®¡ç† -&gt; è·¯ç”±å™¨å‡çº§â€ä¸­ä¸Šä¼ å›ºä»¶ã€‚ è¿™é‡Œé€‰æ‹©æ˜¯ï¼Œç„¶åŽå¼€å§‹å‡çº§å›ºä»¶ï¼Œå‡çº§å®ŒæˆåŽè·¯ç”±å™¨ä¼šé‡å¯ã€‚ é‡å¯å®ŒæˆåŽï¼ŒWifiä¿¡å·å˜æˆdd-wrtï¼Œæ²¡æœ‰å¯†ç ï¼Œå¯ç›´æŽ¥è¿žæŽ¥ã€‚ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥192.168.1.1ï¼Œä¼šå‡ºçŽ°dd-wrtçš„ç•Œé¢ã€‚ç”¨æˆ·åå’Œå¯†ç å¯ä»¥ç›´æŽ¥è¾“å…¥adminï¼Œå› ä¸ºè¯¥ç³»ç»Ÿä»…ä¸ºä¸­é—´è¿‡åº¦ç³»ç»Ÿã€‚åœ¨dd-wrtè¿™ä¸ªåå·¥ç¨‹å¸ˆåŒ–çš„ç³»ç»Ÿä¸­æœ‰éžå¸¸è¯¦ç»†çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è·¯ç”±å™¨çš„CPUå’ŒMemoryç­‰çš„ç¡¬ä»¶ä¿¡æ¯ï¼Œç”šè‡³è¿˜æœ‰load averageï¼Œå¤šä¹ˆç†Ÿæ‚‰çš„æŒ‡æ ‡ã€‚ å‡çº§æ¢…æž—å›ºä»¶åœ¨dd-wrtçš„å›ºä»¶å‡çº§ä¸­é€‰æ‹©â€œR6400_380.70_0-X7.9.1-koolshare.trxâ€ï¼Œåˆ·å…¥æ¢…æž—å›ºä»¶ã€‚å¾…è·¯ç”±å™¨é‡å¯å®ŒæˆåŽï¼Œå³å®Œæˆæ¢…æž—å›ºä»¶çš„åˆ·å…¥ã€‚æ­¤æ—¶è·¯ç”±å™¨çš„Wifi SSIDå˜ä¸ºâ€œNETGEARâ€ã€‚ è®¿é—®192.168.1.1ï¼Œä¼šå‡ºçŽ°æ¢…æž—ç³»ç»Ÿçš„ç®¡ç†ç•Œé¢ï¼Œä¾æ¬¡è®¾ç½®å³å¯ã€‚ é¢˜å¤–è¯ï¼šæ— çº¿çš„å¯†ç ä¿®æ”¹å®ŒåŽï¼Œæ‚²å‰§çš„äº‹æƒ…å‘ç”Ÿäº†ï¼Œè·¯ç”±å™¨é‡å¯åŽå±…ç„¶è¿žä¸ä¸Šwifiï¼Œæç¤ºå¯†ç é”™è¯¯ã€‚ä¸å¾—ä¸æ‰¾æ¥ä¸€å°å¸¦æœ‰ç½‘å£çš„ç¬”è®°æœ¬ç”¨æœ‰çº¿è¿žæŽ¥ã€‚åœ¨æ¢…æž—ç®¡ç†ç³»ç»Ÿä¸­æŸ¥çœ‹ï¼Œæœªå‘çŽ°å¯†ç è¾“å…¥é”™è¯¯ï¼Œæ˜Žæ˜Žè¾“å…¥çš„å¯†ç æ˜¯å¯¹çš„ï¼Œä½†SSIDæ¢ä¸€ä¸ªå¯†ç å±…ç„¶å¥‡è¿¹èˆ¬çš„å¯ä»¥æ— çº¿è¿žæŽ¥äº†ï¼Œæ€€ç–‘æ˜¯ä¸€ä¸ªbugã€‚ è®¾ç½®å®ŒæˆåŽè·¯ç”±å™¨ä¼šé‡å¯ï¼Œæ­¤æ—¶ç®¡ç†ç³»ç»Ÿåœ°å€å˜æ›´ä¸º192.168.50.1ã€‚ åœ¨â€œé«˜çº§è®¾ç½® -&gt; æ— çº¿ç½‘ç»œ -&gt; ä¸“ä¸šè®¾ç½®â€ä¸­ï¼Œè°ƒæ•´åŒºåŸŸä¸ºâ€œUnited Statesâ€ï¼Œæ®è¯´å¯ä»¥åŠ å¿«é€Ÿåº¦ã€‚ è¦æƒ³ä½¿ç”¨è½¯ä»¶ä¸­å¿ƒï¼Œéœ€è¦åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¼€å¯ä¸‹å›¾é€‰é¡¹ï¼Œå¹¶é‡å¯è·¯ç”±å™¨ã€‚é‡å¯åŽï¼ŒFormat JFFS partition at next bootä¼šè‡ªåŠ¨è®¾ç½®ä¸ºfalseã€‚ ASUS Routerä¸‹è½½app â€œASUS Routerâ€ï¼Œå¯ä»¥ç›´æŽ¥è¿žæŽ¥åˆ°è·¯ç”±å™¨ï¼Œè¿™æ˜¯å› ä¸ºç½‘ä»¶çš„è·¯ç”±å™¨æž¶æž„è·ŸåŽç¡•å®Œå…¨ä¸€è‡´ã€‚ ref ç½‘ä»¶Netgear R6400 v2 å¼€ç®± åˆ·æ¢…æž—å›ºä»¶ æ¢…æž—ç³»ç»Ÿå®˜ç½‘ æ¢…æž—å›ºä»¶ä¸‹è½½åœ°å€]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[kubernetesä¸­podæ— æ³•åˆ é™¤çš„é—®é¢˜æŽ’æŸ¥]]></title>
      <url>%2Fpost%2Fdocker-rm-failed%2F</url>
      <content type="text"><![CDATA[çŽ°è±¡12345678$ cat /etc/redhat-releaseCentOS Linux release 7.2.1511 (Core)$ uname -aLinux c3-a05-136-45-10.com 3.10.0-327.el7.x86_64 #1 SMP Thu Nov 19 22:10:57 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux$ docker info | grep &quot;Storage Driver&quot;Storage Driver: devicemapper åœ¨CentOS7.2çš„ç³»ç»Ÿä¸Šï¼Œå‘çŽ°æœ‰ä¸€éƒ¨åˆ†podåœ¨deleteåŽä¸€ç›´å¤„äºŽTerminatingçŠ¶æ€ 12345678$ kubectl get pods -o wideNAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODEhttpserver-prod-1-6cb97dfbcc-25dsh 0/1 Terminating 0 55d &lt;none&gt; 10.136.45.6 &lt;none&gt;httpserver-prod-1-6cb97dfbcc-f9flb 0/1 Terminating 0 54d &lt;none&gt; 10.136.45.4 &lt;none&gt;httpserver-prod-1-6cb97dfbcc-m7sl4 0/1 Terminating 0 55d &lt;none&gt; 10.136.45.6 &lt;none&gt;httpserver-prod-1-6cb97dfbcc-pqpht 0/1 Terminating 0 55d &lt;none&gt; 10.136.45.6 &lt;none&gt;httpserver-prod-1-6cb97dfbcc-r987g 0/1 Terminating 0 55d &lt;none&gt; 10.136.45.4 &lt;none&gt;httpserver-prod-1-6cb97dfbcc-zghhr 0/1 Terminating 0 54d &lt;none&gt; 10.136.45.6 &lt;none&gt; æŸ¥çœ‹dockerçš„æ—¥å¿—å‘çŽ°æœ‰å¦‚ä¸‹æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼Œå«ä¹‰ä¸ºåœ¨åˆ é™¤podæ—¶ç”±äºŽ/var/lib/docker/overlay/*/mergedç›®å½•è¢«å…¶ä»–åº”ç”¨å ç”¨ï¼Œä»Žè€Œå¯¼è‡´å®¹å™¨æ— æ³•æ¸…é™¤ã€‚ 1234Jan 30 14:57:47 c3-a05-136-45-4.com dockerd[1510]: time=&quot;2019-01-30T14:57:47.704641914+08:00&quot; level=error msg=&quot;Error removing mounted layer e6b7378c58a34cb42c6fa7924f7a52b7a19a64b2166d7a56f363e73ecba6e5a9: remove /var/lib/docker/overlay/98a56d695c9e3d0b6a9f3b5e0e60abf7cdb3ce73e976b00e36ca59028e585a36/merged: device or resource busy&quot;Jan 30 14:57:47 c3-a05-136-45-4.com dockerd[1510]: time=&quot;2019-01-30T14:57:47.704772288+08:00&quot; level=error msg=&quot;Handler for DELETE /v1.31/containers/e6b7378c58a34cb42c6fa7924f7a52b7a19a64b2166d7a56f363e73ecba6e5a9 returned error: driver \&quot;overlay\&quot; failed to remove root filesystem for e6b7378c58a34cb42c6fa7924f7a52b7a19a64b2166d7a56f363e73ecba6e5a9: remove /var/lib/docker/overlay/98a56d695c9e3d0b6a9f3b5e0e60abf7cdb3ce73e976b00e36ca59028e585a36/merged: device or resource busy&quot;Jan 30 14:57:48 c3-a05-136-45-4.com dockerd[1510]: time=&quot;2019-01-30T14:57:48.228837657+08:00&quot; level=error msg=&quot;Error removing mounted layer 2851b80d5c45d1cac3e7384116da0ad022af21701f9aa0d9ba3598efd5723030: remove /var/lib/docker/overlay/0ff0f98e1abf43c10711f2804cae3cf37efd597016d38b4753e2af19c2e27eb9/merged: device or resource busy&quot;Jan 30 14:57:48 c3-a05-136-45-4.com dockerd[1510]: time=&quot;2019-01-30T14:57:48.228953497+08:00&quot; level=error msg=&quot;Handler for DELETE /v1.31/containers/2851b80d5c45d1cac3e7384116da0ad022af21701f9aa0d9ba3598efd5723030 returned error: driver \&quot;overlay\&quot; failed to remove root filesystem for 2851b80d5c45d1cac3e7384116da0ad022af21701f9aa0d9ba3598efd5723030: remove /var/lib/docker/overlay/0ff0f98e1abf43c10711f2804cae3cf37efd597016d38b4753e2af19c2e27eb9/merged: device or resource busy&quot; é€šè¿‡docker ps -açœ‹åˆ°å®¹å™¨çš„çŠ¶æ€ä¸ºâ€Removal In Progressâ€ã€‚é€šè¿‡docker inspectå¯ä»¥çœ‹åˆ°å®¹å™¨çš„è¿›ç¨‹å·²ç»é€€å‡ºäº†ã€‚ 123456# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESe6b7378c58a3 golang-httpserver &quot;/bin/sh -c &apos;go ru...&quot; 7 weeks ago Removal In Progress k8s_golang-httpserver_httpserver-prod-1-6cb97dfbcc-f9flb_default_9e3d2cbb-f9d4-11e8-b61c-f01fafd10a1b_0# docker inspect e6b7378c58a3 --format &apos;&#123;&#123;.State.Pid&#125;&#125;&apos;0 ä½¿ç”¨docker rmå‘½ä»¤åˆ é™¤å®¹å™¨ä¼šæŠ¥é”™ 12# docker rm e6b7378c58a3Error response from daemon: driver &quot;overlay&quot; failed to remove root filesystem for e6b7378c58a34cb42c6fa7924f7a52b7a19a64b2166d7a56f363e73ecba6e5a9: remove /var/lib/docker/overlay/98a56d695c9e3d0b6a9f3b5e0e60abf7cdb3ce73e976b00e36ca59028e585a36/merged: device or resource busy é€šè¿‡kubectl delete podså‘½ä»¤è™½ç„¶å¯ä»¥å¼ºåˆ¶åˆ é™¤podï¼Œä½†åœ¨å®¿ä¸»æœºä¸Šä»ç„¶èƒ½çœ‹åˆ°å®¹å™¨çš„çŠ¶æ€ä¸ºâ€Removal In Progressâ€ã€‚ 123# kubectl delete pods httpserver-prod-1-6cb97dfbcc-f9flb --grace-period=0 --forcewarning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely.pod &quot;httpserver-prod-1-6cb97dfbcc-f9flb&quot; force deleted é€šè¿‡æœç´¢æŒ‚è½½ç›®å½•çš„ä¿¡æ¯ï¼Œå¯ä»¥æ‰¾åˆ°æ˜¯å“ªä¸ªè¿›ç¨‹æŒ‚è½½äº†è¯¥ç›®å½•ã€‚å¯ä»¥çœ‹åˆ°æ˜¯ntpdæœåŠ¡æŒ‚è½½äº†è¯¥ç›®å½•ã€‚ 12345678910# grep -nr 98a56 /proc/*/mountinfo/proc/2725007/mountinfo:48:296 183 0:183 / /var/lib/docker/overlay/98a56d695c9e3d0b6a9f3b5e0e60abf7cdb3ce73e976b00e36ca59028e585a36/merged rw,relatime shared:88 - overlay overlay rw,lowerdir=/var/lib/docker/overlay/5e2a5f7af24e555a5afacd6a8faa406b42c51d7f2bb4cde22adcea22e0153583/root,upperdir=/var/lib/docker/overlay/98a56d695c9e3d0b6a9f3b5e0e60abf7cdb3ce73e976b00e36ca59028e585a36/upper,workdir=/var/lib/docker/overlay/98a56d695c9e3d0b6a9f3b5e0e60abf7cdb3ce73e976b00e36ca59028e585a36/work# ps -ef | grep 2725007ntp 2725007 1 0 Jan07 ? 00:00:02 /usr/sbin/ntpd -u ntp:ntp -g# ntpdè¿›ç¨‹çš„å¯åŠ¨æ—¶é—´åœ¨å®¹å™¨å¯åŠ¨ä¹‹åŽ# ps -ef | grep ntpdroot 1179644 18205 0 19:52 pts/1 00:00:00 grep --color=auto -d skip -i ntpdntp 3853149 1 0 Jan07 ? 00:00:02 /usr/sbin/ntpd -u ntp:ntp -g æŸ¥çœ‹ntpd.serviceæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œå…¶ä¸­PrivateTmp=trueï¼Œè¯¥é€‰é¡¹ç”¨äºŽæŽ§åˆ¶æœåŠ¡æ˜¯å¦ä½¿ç”¨å•ç‹¬çš„tmpç›®å½•ï¼š 123456789101112[Unit]Description=Network Time ServiceAfter=syslog.target ntpdate.service sntp.service[Service]Type=forkingEnvironmentFile=-/etc/sysconfig/ntpdExecStart=/usr/sbin/ntpd -u ntp:ntp $OPTIONSPrivateTmp=true[Install]WantedBy=multi-user.target é—®é¢˜å¤çŽ°123456789101112131415161718192021222324252627282930313233# åœ¨ç³»ç»Ÿä¸Šå¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œæ­¤æ—¶ntpdå¿…é¡»å¤„äºŽrunningçŠ¶æ€$ docker run -d httpserver:1 /bin/sh -c &quot;while : ; do sleep 1000 ; done&quot;# å¯åŠ¨å®¹å™¨$ docker run -d httpserver:1 /bin/sh -c &quot;while : ; do sleep 1000 ; done&quot;200222b438aac43bbe32a6c54e31ced0848482b9dec3e519d2f847c70c1ce801# é‡å¯ntpd$ systemctl restart ntpd$ docker stop 200222b438aa# æ­¤æ—¶å®¹å™¨çš„ç›¸å…³ä¿¡æ¯è¿˜å­˜åœ¨$ docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES200222b438aa httpserver:1 &quot;/bin/sh -c &apos;while...&quot; About a minute ago Exited (137) 7 seconds ago hardcore_yalow# å¼ºåˆ¶åˆ é™¤å®¹å™¨å¤±è´¥$ docker rm -f 200222b438aaError response from daemon: driver &quot;devicemapper&quot; failed to remove root filesystem for 200222b438aac43bbe32a6c54e31ced0848482b9dec3e519d2f847c70c1ce801: remove /var/lib/docker/devicemapper/mnt/e53342aa9cf5f43e73b6596f88939b8d3fdefaf1ca03ee95a24d867e1de6c522: device or resource busy# æ­¤æ—¶å®¹å™¨å¤„äºŽRemoval In ProgressçŠ¶æ€$ docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES200222b438aa httpserver:1 &quot;/bin/sh -c &apos;while...&quot; 2 minutes ago Removal In Progress hardcore_yalow# å†æ¬¡é‡å¯ntpdè¿›ç¨‹$ systemctl restart ntpd# å¼ºåˆ¶åˆ é™¤æˆåŠŸ$ docker rm 200222b438aa200222b438aa ç»åœ¨å¦‚ä¸‹ç‰ˆæœ¬çš„CentOS7ç³»ç»Ÿå®žéªŒï¼Œè¯¥é—®é¢˜ä¸å­˜åœ¨ã€‚ 12345678$ uname -aLinux localhost.localdomain 3.10.0-862.9.1.el7.x86_64 #1 SMP Mon Jul 16 16:29:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux$ cat /etc/redhat-releaseCentOS Linux release 7.5.1804 (Core)$ docker info | grep &quot;Storage Driver&quot;Storage Driver: overlay2 é—®é¢˜äº§ç”ŸåŽŸå› æ­¤é—®é¢˜ä¸ºSystemdå¯ç”¨PrivateTmpé€‰é¡¹åŽï¼Œå¯¼è‡´mount namespaceçš„ä¸€å¤„å†…æ ¸bugã€‚ å¤„ç†æ–¹å¼åœ¨/usr/lib/systemd/system/docker.serviceçš„[Service]ä¸­å¢žåŠ MountFlags=slaveï¼Œå¹¶é‡æ–°å¯åŠ¨dockeræœåŠ¡ï¼Œæ³¨æ„é‡å¯dockeråŽï¼Œå®¹å™¨ä¼šé‡å¯ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡é‡å¯ntpdæœåŠ¡çš„æ–¹å¼æ¥ä¸´æ—¶è§£å†³é—®é¢˜ï¼Œä½†å½“ä¸‹æ¬¡åˆ é™¤å®¹å™¨æ—¶è¿˜éœ€è¦é‡å¯ntpdã€‚ è¿˜æœ‰ä¸€ç§åŠžæ³•æ˜¯ä¿®æ”¹ntpd.serviceä¸­çš„PrivateTmp=trueï¼Œç„¶åŽé‡å¯ntpdæœåŠ¡ã€‚ refDocker æ•…éšœï¼ˆdevice or resource busyï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux Bufferä¸ŽCacheçš„å«ä¹‰]]></title>
      <url>%2Fpost%2Flinux-buffer-cache%2F</url>
      <content type="text"><![CDATA[Linuxä¸­çš„Bufferä¸ŽCacheçš„å«ä¹‰é€šå¸¸éžå¸¸å®¹æ˜“æ··æ·†ï¼Œä¸¤è€…ç¿»è¯‘æˆä¸­æ–‡éƒ½å¯ä»¥å«åšç¼“å­˜ï¼Œéƒ½æ˜¯æ•°æ®åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶å­˜å‚¨ï¼Œè€Œä¸”ç½‘ç»œä¸Šå¾ˆå¤šæ–‡ç« éƒ½æ˜¯é”™è¯¯çš„ã€‚ 1234$ free -h total used free shared buff/cache availableMem: 125G 12G 347M 9.3M 113G 113GSwap: 0B 0B 0B freeå‘½ä»¤ç›´æŽ¥å°†buffå’Œcacheå†™åˆ°äº†ä¸€å—ï¼Œè¯´æ˜Žä¸¤è€…æœ‰å¾ˆå¤šå…±åŒç‚¹ã€‚ 12345$ vmstat 1procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu----- r b swpd free buff cache si so bi bo in cs us sy id wa st 7 1 0 364076 18664 118624552 0 0 214 11198 106 118 6 4 89 1 013 1 0 349096 18664 118638192 0 0 0 1012404 171031 270124 20 13 66 2 0 è€Œé€šè¿‡vmstatå‘½ä»¤å¯ä»¥åˆ†åˆ«çœ‹åˆ°bufferå’Œcacheçš„å¤§å°ï¼Œå•ä½ä¸ºKBã€‚ ä½¿ç”¨man freeå‘½ä»¤çœ‹åˆ°çš„è§£é‡Šå¦‚ä¸‹ï¼š 123buffers: Memory used by kernel buffers (Buffers in /proc/meminfo)cache: Memory used by the page cache and slabs (Cached and Slab in /proc/meminfo) æŸ¥çœ‹procçš„manæ‰‹å†Œç»“æžœå¦‚ä¸‹ï¼š 1234567891011Buffers %lu Relatively temporary storage for raw disk blocks that shouldn&apos;t get tremendously large (20MB or so).Cached %lu In-memory cache for files read from the disk (the pagecache). Doesn&apos;t include SwapCached.SReclaimable %lu (since Linux 2.6.19) Part of Slab, that might be reclaimed, such as caches.SUnreclaim %lu (since Linux 2.6.19) Part of Slab, that cannot be reclaimed on memory pressure. ä¸Šè¿°ä¿¡æ¯ï¼Œæ–‡æ¡£å†™çš„å¹¶ä¸æ˜¯éžå¸¸æ˜Žç¡®ã€‚ å¯ä»¥çœ‹å‡ºbuffersæ˜¯ç£ç›˜æ•°æ®çš„ç¼“å­˜ï¼Œé€šå¸¸ä¸ä¼šç‰¹åˆ«å¤§ï¼Œç¼“å­˜çš„æ•°æ®åŒ…æ‹¬ç£ç›˜çš„å†™è¯·æ±‚å’Œè¯»è¯·æ±‚ã€‚å†…æ ¸ç”¨äºŽå°†åˆ†æ•£çš„å†™ç£ç›˜æ“ä½œé›†ä¸­èµ·æ¥ï¼Œæ‰¹é‡å†™å…¥ç£ç›˜ã€‚ Cachedæ˜¯æ–‡ä»¶æ•°æ®çš„ç¼“å­˜ï¼ŒåŒæ ·å¯ä»¥ç¼“å­˜è¯»è¯·æ±‚å’Œå†™è¯·æ±‚ã€‚ SlabåŒ…æ‹¬äº†SReclaimalbeå’ŒSunreclaimä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼Œå…¶ä¸­SReclaimableæ˜¯å¯å›žæ”¶éƒ¨åˆ†ï¼ŒSUnreclaimæ˜¯ä¸å¯å›žæ”¶éƒ¨åˆ†ã€‚ å…³äºŽæ–‡ä»¶å’Œç£ç›˜çš„åŒºåˆ«å¦‚ä¸‹ï¼š ç£ç›˜æ˜¯ä¸€ä¸ªå—è®¾å¤‡ï¼Œå¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºä¸Šå¯ä»¥æž„å»ºä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°ç›®å½•ä¸ŠåŽï¼Œå°±å¯ä»¥å¯¹è¯¥æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œè¯»å†™æ–‡ä»¶æ“ä½œäº†ã€‚ è¯»å†™æ™®é€šæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶æ—¶ï¼Œä¼šç»è¿‡æ–‡ä»¶ç³»ç»Ÿï¼Œç”±æ–‡ä»¶ç³»ç»Ÿè·Ÿç£ç›˜è¿›è¡Œäº¤äº’ï¼Œè€Œæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ä¸ºcacheã€‚è¯»å†™ç£ç›˜æˆ–è€…åˆ†åŒºæ—¶ï¼Œä¼šè·³è¿‡æ–‡ä»¶ç³»ç»Ÿï¼Œç›´æŽ¥å¯¹ç£ç›˜è¿›è¡Œæ“ä½œï¼Œè€Œæ“ä½œç³»ç»Ÿå¯¹ç£ç›˜çš„ç¼“å­˜ç§°ä¹‹ä¸ºbufferã€‚ ref Linux Programmerâ€™s Manual PROC[5]]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬9æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-9%2F</url>
      <content type="text"><![CDATA[å¯Œå£«å±±&amp;å¯Œå£«å‰ç”°å¸‚ï¼Œå¯Œå£«å±±çš„æµ·æ‹”é«˜è¾¾3776ç±³ï¼Œè¿œåœ¨80å…¬é‡Œå¤–çš„ä¸œäº¬éƒ½èƒ½å¤Ÿçœ‹åˆ°ã€‚ä»¤äººç§°å¥‡çš„æ˜¯ï¼Œå¯Œå£«å±±æµ·æ‹”3360ç±³ä»¥ä¸Šçš„åœŸåœ°å¹¶ä¸æ˜¯å½’æ—¥æœ¬æ”¿åºœæ‰€æœ‰ï¼Œè€Œæ˜¯å½’å¯Œå£«å±±ä¸Šçš„æµ…é—´å¯ºæ‰€æœ‰ï¼Œæ—¥æœ¬æ”¿åºœæ¯å¹´éƒ½è¦æ”¯ä»˜å¤§é‡çš„ç§Ÿé‡‘ç»™æµ…é—´å¯ºã€‚åœ¨å¯Œå£«å±±å‘¨è¾¹æ¸¸è§ˆåŽï¼Œçªç„¶èŒç”Ÿäº†ç™»é¡¶å¯Œå£«å±±çš„æƒ³æ³•ï¼Œä¸çŸ¥æ˜¯å¦æœ‰å¿—åŒé“åˆçš„é©´å‹ï¼Œå¯ä»¥ç›¸çº¦åœ¨æŸå¹´çš„å¤å­£åŽ»ä¸€èµ·å®žçŽ°æ¢¦æƒ³ã€‚ èµ„æº1.CRIU Linuxä¸‹çš„ä¸€æ¬¾å®žçŽ°checkpoint/restoreåŠŸèƒ½çš„è½¯ä»¶ï¼Œè¯¥è½¯ä»¶å¯ä»¥å†»ç»“æŸä¸ªæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œå¹¶å°†åº”ç”¨ç¨‹åºçš„å½“å‰çŠ¶æ€ä½œä¸ºcheckpointå­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶ä¸­ï¼Œæ­¤åŽæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºä¼šè¢«killã€‚ æ­¤åŽï¼Œå¯ä»¥é€šè¿‡è¯»å–ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œæ¢å¤ä¹‹å‰å†»ç»“çš„åº”ç”¨ç¨‹åºç»§ç»­æ‰§è¡Œï¼Œè€Œä¸æ˜¯ä»Žmainå‡½æ•°å¼€å§‹æ‰§è¡Œã€‚ 2.bindfs å°†ä¸€ä¸ªç›®å½•mountåˆ°å¦å¤–ä¸€ä¸ªç›®å½•çš„å·¥å…·ï¼Œåˆ©ç”¨è¯¥å‘½ä»¤å¯ä»¥å°†dockerä¸­çš„è·¯å¾„æŒ‚è½½åˆ°å®¿ä¸»æœºä¸Šã€‚å…·ä½“æ“ä½œå‘½ä»¤ç±»ä¼¼å¦‚ä¸‹ï¼š 1234PID=$(docker inspect b991b7ad105f --format &#123;&#123;.State.Pid&#125;&#125;)bindfs /proc/$PID/root /tmp/root# åˆ«å¿˜äº†å¸è½½ç›®å½•umount /tmp/root 3.å¾®è½¯äºšæ´²ç ”ç©¶é™¢-å¯¹è”ç”µè„‘ å¾®è½¯äºšæ´²ç ”ç©¶é™¢çš„è‡ªåŠ¨å¯¹å¯¹è”ç³»ç»Ÿï¼Œç»™å‡ºä¸Šè”åŽï¼Œå¯ä»¥è‡ªåŠ¨ç»™å‡ºå¤šä¸ªä¸‹è”ï¼Œæœ€ç»ˆç”Ÿæˆæ¨ªæ‰¹ã€‚ 4.bcc åŸºäºŽLinux eBPFçš„ä¸€ç³»åˆ—çš„æ€§èƒ½åˆ†æžå·¥å…·ï¼ŒåŒ…æ‹¬IOã€ç½‘ç»œç­‰å¤šä¸ªæ–¹é¢ã€‚ 5.pcstat åŸºäºŽgolangå¼€å‘çš„linuxä¸‹çš„æ–‡ä»¶ç¼“å­˜ç»Ÿè®¡å·¥å…·ã€‚ 6.Electron åˆ©ç”¨å‰ç«¯æŠ€æœ¯ï¼ˆJavaScriptã€HTMLã€CSSï¼‰æ¥æž„å»ºæ¡Œé¢ç¨‹åºçš„æ¡†æž¶ï¼Œå½“å‰å¾ˆå¤šæµè¡Œçš„æ¡Œé¢åº”ç”¨éƒ½æ˜¯ä½¿ç”¨è¯¥æŠ€æœ¯æ¥å¼€å‘çš„ï¼Œæ¯”å¦‚VSCodeã€Slackã€Atomç­‰æŠ€æœ¯ã€‚ å¾—ç›ŠäºŽES6ã€V8å¼•æ“Žå’ŒNode.jsï¼ŒJavaScriptæŠ€æœ¯å·²ç»æ¨ªè·¨å‰ç«¯ã€åŽç«¯ã€æ¡Œé¢ç«¯çš„æŠ€æœ¯æ ˆã€‚ 7.Reading-and-comprehense-linux-Kernel-network-protocol-stack è¯¥é¡¹ç›®åŒ…å«äº†å¯¹Linuxç½‘ç»œåè®®æ ˆçš„æºç ä¸­æ–‡æ³¨é‡Šï¼Œå¯¹é˜…è¯»Linuxç½‘ç»œåè®®æ ˆçš„ä»£ç æœ‰ä¸€äº›å¸®åŠ©ã€‚ ç²¾å½©æ–‡ç«  Kubernetes API ä¸Ž Operatorï¼šä¸ä¸ºäººçŸ¥çš„å¼€å‘è€…æˆ˜äº‰ï¼ˆä¸€ï¼‰ Kubernetes API ä¸Ž Operatorï¼šä¸ä¸ºäººçŸ¥çš„å¼€å‘è€…æˆ˜äº‰ï¼ˆäºŒï¼‰ ç²¾å½©è¯­å¥1. â€œä¸èƒ½ç”¨â€â€œä¸å¥½ç”¨â€â€œéœ€è¦å®šåˆ¶å¼€å‘â€ï¼Œè¿™æ‰æ˜¯è½åœ°å¼€æºåŸºç¡€è®¾æ–½é¡¹ç›®çš„ä¸‰å¤§å¸¸æ€ã€‚ â€“ å¼ ç£Šã€Šæ·±å…¥å‰–æžKubernetesã€‹ å¼€æºé¡¹ç›®åœ¨è½åœ°åˆ°å…¬å¸å†…éƒ¨å®žé™…ä½¿ç”¨æ—¶ï¼Œä¼šå‘çŽ°æœ‰è¿™æ ·æˆ–è€…é‚£æ ·çš„é—®é¢˜ã€‚å¼€æºé¡¹ç›®å¾€å¾€æ˜¯ä¸ªé€šç”¨é¡¹ç›®ï¼Œå…¬å¸åœ¨è½åœ°æ—¶ï¼Œæ€»æœ‰å…¶ç‰¹æ®Šéœ€æ±‚ä¹‹å¤„ï¼Œå¼€æºè½¯ä»¶æ— æ³•é¢é¢ä¿±åˆ°ï¼Œå¾€å¾€åªèƒ½è¦†ç›–ä¸€äº›é€šç”¨çš„éœ€æ±‚ã€‚å†åŠ ä¸Šé ç¤¾åŒºæ¥é©±åŠ¨ï¼Œåœ¨bugæ–¹é¢ã€åŠŸèƒ½æ–¹é¢è·Ÿå•†ä¸šè½¯ä»¶ä¹Ÿè¿˜æœ‰è¾ƒå¤§å·®è·ã€‚ å¨±ä¹1.ã€Šå¡žå°”è¾¾ä¼ è¯´-æ—·é‡Žä¹‹æ¯ã€‹ ä»»å¤©å ‚Switchä¸Šçš„æ¸¸æˆç¥žä½œï¼ŒåŽ†æ—¶å››å¹´æ—¶é—´ï¼Œ300äººçš„å›¢é˜Ÿå¼€å‘ï¼Œæœ€è¿‘ä¸€ç›´åœ¨çŽ©ï¼Œå·²ç»æ·±æ·±è¢«æ¸¸æˆè®¾è®¡çš„æµ·æ‹‰é²å¤§é™†æ‰€æŠ˜æœï¼Œå®Œå…¨å¼€æ”¾çš„ä¸–ç•Œï¼Œä¸åŒäºŽä¼ ç»Ÿçš„é—¯å…³ç±»æ¸¸æˆï¼Œè¯¥æ¸¸æˆçš„è‡ªç”±åº¦éžå¸¸é«˜ï¼Œæœ‰æ—¶å€™å°±å•çº¯çš„åœ¨åœ°å›¾ä¸­çžŽé€›éƒ½æ˜¯ä¸€ç§äº«å—ï¼Œéšæ—¶éƒ½ä¼šæœ‰æƒŠå–œå‘ç”Ÿã€‚ æ›¾å¤©çœŸçš„ä»¥ä¸ºï¼Œä¸€ä¸ªå•æœºæ¸¸æˆèƒ½å¥½çŽ©åˆ°å“ªé‡ŒåŽ»ï¼Œä½†åœ¨çŽ©æ¸¸æˆçš„æ¯ä¸€åˆ»éƒ½èƒ½ä½“ä¼šåˆ°åˆ¶ä½œå›¢é˜Ÿçš„ç”¨å¿ƒï¼Œå¿ƒé‡Œæ€»æ˜¯å¿µåˆ°è¿™æ‰æ˜¯æˆ‘æƒ³è¦çŽ©çš„æ¸¸æˆã€‚è‡ªä»ŽçŽ©äº†è¯¥æ¸¸æˆåŽï¼Œæ‰‹æœºä¸Šçš„æ¸¸æˆå†ä¹Ÿæ²¡æœ‰æ‰“å¼€è¿‡ã€‚æˆ‘ç”šè‡³ä¸€åº¦æ„Ÿå¹ï¼Œåœ¨å›½å†…å¿«ç³™çŒ›çš„çŽ¯å¢ƒä¸‹æ˜¯äº§ç”Ÿä¸äº†å¦‚æ­¤ç»†è…»è‰¯å¿ƒä½œå“çš„ã€‚å¦‚æžœå¤§å®¶æœ‰æœºä¼šï¼Œå¯ä»¥å°è¯•ä¸‹è¿™æ¬¾æ¸¸æˆï¼Œæˆ–è®¸ä¼šå‘çŽ°å•æœºæ¸¸æˆè¿˜å¯ä»¥åšå¾—å¦‚æ­¤å‡ºå½©ã€‚ 2.ZELDA MAPS åŒæ ·æ˜¯è·Ÿã€Šå¡žå°”è¾¾ä¼ è¯´-æ—·é‡Žä¹‹æ¯ã€‹ç›¸å…³çš„ï¼Œç”±äºŽå¡žå°”è¾¾ä¼ è¯´çš„åœ°å›¾å®žåœ¨è¿‡äºŽåºžå¤§ï¼ŒåŒ…å«äº†ç¥žåº™ã€é©¿ç«™ã€æ‘åº„ã€å›žå¿†ï¼ˆæ²¡é”™ä¸»äººå…¬Linkå¤±å¿†äº†ï¼‰ã€å„ç§æ”¯çº¿ä»»åŠ¡ã€è£…å¤‡ã€å‘€å“ˆå“ˆã€å„ç±»å¤§å°bossã€è¿·å®«ç­‰ç­‰ï¼Œæœ‰çŽ©å®¶åˆ¶ä½œäº†ä¸€æ¬¾åœ¨çº¿çš„åœ°å›¾ï¼Œå¯ä»¥åœ¨çº¿æŸ¥è¯¢åœ°å›¾ä¸­çš„å„ç±»å…ƒç´ ï¼Œä½¿ç”¨ä½“éªŒç±»ä¼¼Google Mapã€‚è¿˜åŒ…å«äº†è´¦å·ä½“ç³»ï¼Œå¯ä»¥åœ¨åœ°å›¾ä¸Šæ ‡è®°è‡ªå·±å·²ç»å®Œæˆçš„ä»»åŠ¡ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Dockerfileä¸­çš„ENTRYPOINTä¸ŽCMD]]></title>
      <url>%2Fpost%2Fdocker-entrypoint-cmd%2F</url>
      <content type="text"><![CDATA[åœ¨Dockerfileä¸­ENTRYPOINTä¸ŽCMDçš„åŠŸèƒ½ç±»ä¼¼ï¼ŒåŒæ—¶å†åŠ ä¸Šdocker runåŽé¢è¿½åŠ çš„å®¹å™¨å¯åŠ¨å‚æ•°ï¼Œæ˜¯æžå…¶å®¹æ˜“æ··æ·†çš„ã€‚è€Œä¸”åˆæŽºæ‚ç€execæ¨¡å¼å’Œshellæ¨¡å¼ã€‚ è¿™é‡Œå…ˆè¯´å‡ ä¸ªç»“è®ºï¼Œæœ‰äº†ç»“è®ºå†è·Ÿè¿›ä¸‹é¢çš„ä¾‹å­æ¥ç†è§£ä¼šæ›´å®¹æ˜“ä¸€äº›ï¼š å®žé™…ä¸Šdockerå®¹å™¨è¿›ç¨‹çš„å®Œæ•´å¯åŠ¨å‚æ•°ä¸ºENTRYPOINT CMDï¼Œå¦‚æžœæ²¡æœ‰æŒ‡å®šENTRYPOINTï¼Œdockerä¼šæä¾›ä¸€ä¸ªéšå¼çš„å€¼/bin/sh -cã€‚ docker runåŽé¢è·Ÿçš„å®¹å™¨å¯åŠ¨å‚æ•°ä»…ä¼šè¦†ç›–CMDéƒ¨åˆ†ã€‚ execæ¨¡å¼ä¸Žshellæ¨¡å¼CMDå’ŒENTRYPOINTä¸¤ä¸ªå‘½ä»¤å‡æ”¯æŒexecæ¨¡å¼å’Œshellæ¨¡å¼ã€‚ execæ¨¡å¼æ ¼å¼ç±»ä¼¼CMD [ &quot;top&quot; ]ï¼Œå½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œtopå‘½ä»¤çš„è¿›ç¨‹å·ä¸º1ã€‚ ä¸ºäº†èƒ½å¤ŸèŽ·å–åˆ°çŽ¯å¢ƒå˜é‡ï¼Œé€šå¸¸çš„å†™æ³•ä¸ºCMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]ï¼Œæ­¤æ—¶1å·è¿›ç¨‹ä¸ºshã€‚ shellæ¨¡å¼çš„å†™æ³•ä¸ºCMD topï¼Œdockerä¼šä»¥/bin/sh -c topçš„æ–¹å¼æ¥æ‰§è¡Œå‘½ä»¤ï¼Œæ­¤æ—¶å®¹å™¨çš„1å·è¿›ç¨‹ä¸ºshã€‚ å¦‚æžœéœ€è¦å®¹å™¨è¿›ç¨‹å¤„ç†å¤–éƒ¨ä¿¡å·çš„æƒ…å†µä¸‹ï¼Œshellæ¨¡å¼ä¸‹ä¿¡å·å®žé™…ä¸Šæ—¶å‘é€ç»™äº†shï¼Œè€Œä¸æ˜¯å®¹å™¨ä¸­çš„åº”ç”¨è¿›ç¨‹ã€‚ å› æ­¤æ¯”è¾ƒæŽ¨èä½¿ç”¨execæ¨¡å¼ï¼Œshellæ¨¡å¼å®žé™…ä½¿ç”¨è¾ƒå°‘ã€‚ CMD CMD [â€œparam1â€, â€œparam2â€] ä¸ºENTRYPOINTæä¾›é»˜è®¤å‚æ•°ï¼Œéœ€è¦æŒ‡å®šENTRYPOINT CMD [â€œexecutableâ€,â€param1â€,â€param2â€] execæ¨¡å¼ CMD command param1 param2 shellæ¨¡å¼ CMDä¸ºå®¹å™¨æä¾›é»˜è®¤çš„å¯åŠ¨å‘½ä»¤ï¼Œå¦‚æžœåœ¨å¯åŠ¨å®¹å™¨æ—¶é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šäº†çš„å¯åŠ¨å‚æ•°ï¼Œåˆ™è¯¥å¯åŠ¨å‚æ•°ä¼šè¦†ç›–CMDé»˜è®¤çš„å¯åŠ¨å‚æ•°ã€‚ ENTRYPOINTä¸èƒ½è¢«docker runå¢žåŠ çš„å‚æ•°è¦†ç›–ï¼Œå¯åŠ¨æ—¶è¦æ‰§è¡ŒENTRYPOINTçš„å‚æ•°ã€‚ ENTRYPOINT [â€œexecutableâ€, â€œparam1â€, â€œparam2â€] execæ¨¡å¼ ENTRYPOINT command param1 param2 shellæ¨¡å¼ execæ¨¡å¼å½“ä¸ºexecæ¨¡å¼æ—¶ï¼Œå®¹å™¨å¯åŠ¨æ—¶ï¼Œåœ¨å‘½ä»¤è¡Œä¸Šæ·»åŠ çš„å‚æ•°ä¼šè¢«è¿½åŠ åˆ°ENTRYPOINTçš„å‚æ•°åˆ—è¡¨ä¸­ã€‚ ä¾‹å¦‚ï¼š 12FROM ubuntu:latestENTRYPOINT [ &quot;echo&quot;, &quot;hello&quot; ] æ‰§è¡Œdocker run --rm 0d89e8d4425a worldï¼Œä¼šè¾“å‡ºhello world shellæ¨¡å¼å½“ENTRYPOINTä¸ºshellæ¨¡å¼æ—¶ï¼Œdocker runå¯åŠ¨åŽè¿½åŠ çš„å‚æ•°ä¼šè¢«å¿½ç•¥ã€‚ ä¾‹å¦‚ï¼š 123FROM ubuntu:latestENTRYPOINT echo hello æ‰§è¡Œdocker run --rm 0841e19b4d2e worldä»…è¾“å‡ºhelloã€‚ ENTRYPOINTå‘½ä»¤çš„è¦†ç›–ENTRYPOINTçš„å‘½ä»¤å¯ä»¥é€šè¿‡docker runä¸­å¢žåŠ --entrypointé€‰é¡¹æ¥ä½¿ç”¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„å‚æ•°è¦†ç›–ENTRYPOINTçš„å‚æ•°ã€‚ ENTRYPOINTä¸ŽCMDçš„ç»„åˆä½¿ç”¨å½“åŒæ—¶æŒ‡å®šCMDå’ŒENTRYPOINTæ¨¡å¼æ—¶ï¼Œå®žé™…ä¸Šä¸ºENTRYPOINT CMD 1234FROM ubuntu:latestENTRYPOINT [ &quot;echo&quot;, &quot;hello&quot; ]CMD [ &quot;world&quot; ] docker run --rm 7edf658370d9ä¼šè¾“å‡ºhello worldï¼Œè€Œdocker run --rm 7edf658370d9 kittyä¼šè¾“å‡ºhello kittyã€‚ æ›´å¤æ‚çš„æƒ…å†µå¯ä»¥å‚ç…§ä¸‹å›¾ï¼š å¦‚ä½•æŸ¥çœ‹ENTRYPOINTå’ŒCMDå¯ä»¥é€šè¿‡docker history ${image} --no-truncæ¥æŸ¥ç”Ÿæˆé•œåƒçš„æ‰€æœ‰Dockerfileå‘½ä»¤ ref Dockerfile reference Dockerfile ä¸­çš„ CMD ä¸Ž ENTRYPOINT]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬8æœŸ]]></title>
      <url>%2Fpost%2Fknowledage-share-8%2F</url>
      <content type="text"><![CDATA[é¢˜å›¾ä¸ºä¸­å›½é“é“åšç‰©é¦†ä¸œéƒŠé¦†ä¸­çš„æ¯›æ³½ä¸œå·åˆ—è½¦ èµ„æº1.Hawkular Hawkularä¸ºRedHatå¼€æºçš„ç›‘æŽ§è§£å†³æ–¹æ¡ˆï¼Œå®žçŽ°è¯­è¨€ä¸ºjavaï¼Œç›‘æŽ§æ•°æ®çš„åº•å±‚å­˜å‚¨å¼•æ“Žä½¿ç”¨Cassandraï¼ŒåŒ…å«äº†å‘Šè­¦åŠŸèƒ½ã€‚ç›®å‰Githubä¸Šçš„Starè¿˜è¾ƒå°‘ã€‚RedHatçš„OpenShiftå°±ä½¿ç”¨äº†è¯¥ç›‘æŽ§æ–¹æ¡ˆã€‚ 2.Kong åŸºäºŽNginx OpenRestyçš„APIç½‘å…³ï¼Œæ”¯æŒè‡ªå®šä¹‰æ’ä»¶ï¼Œæ”¯æŒæ¯”åŽŸç”Ÿnginxæ›´å¤šçš„åŠŸèƒ½ã€‚ 3.NuoDB å¼¹æ€§å¯ä¼¸ç¼©çš„å…³ç³»åž‹æ•°æ®åº“ï¼Œå…¼å®¹SQLæ ‡å‡†ã€‚å°†æ•°æ®åº“ä¸­çš„äº‹åŠ¡å’Œå­˜å‚¨è¿›è¡Œäº†åˆ†ç¦»ï¼Œå­˜å‚¨å±‚æ”¯æŒå¤šç§å­˜å‚¨ç³»ç»Ÿï¼Œæ¯”å¦‚æ–‡ä»¶ç³»ç»Ÿã€Amazon S3å’ŒHDFSã€‚å› ä¸ºå­˜å‚¨å±‚å¯ä»¥æ˜¯å¤–éƒ¨çš„å­˜å‚¨ï¼Œæ„å‘³ç€NuoDBçš„æ‰©å±•æ€§ä¼šå¤§å¤§å¢žå¼ºï¼Œä½¿å…¶éƒ¨ç½²åˆ°Kubernetesæˆä¸ºäº†æ¯”è¾ƒå®¹æ˜“çš„äº‹æƒ…ã€‚ 4.Linuxå‘½ä»¤hping3 hping3æ˜¯ä¸€ä¸ªç”¨äºŽç”Ÿæˆå’Œè§£æžtcp/ipåè®®çš„å·¥å…·ï¼Œèƒ½å¤Ÿå¯¹æ•°æ®åŒ…è¿›è¡Œå®šåˆ¶ï¼Œå¯ç”¨äºŽç«¯å£æ‰«æã€DDOSæ”»å‡»ç­‰ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„é»‘å®¢å·¥å…·ã€‚ 5.Firecracker Amazonå¼€æºçš„è½»é‡çº§çš„è™šæ‹Ÿæœºè½¯ä»¶ï¼Œä½¿ç”¨KVMæ¥åˆ›å»ºå’Œç®¡ç†è™šæ‹Ÿæœºï¼Œæ•´ä½“æž¶æž„ç±»ä¼¼Kata Containerã€‚å®¹å™¨é‡‡ç”¨cgroupå’Œnamespaceæ¥åšèµ„æºéš”ç¦»ï¼Œä½†æ˜¯åœ¨å®‰å…¨æ€§æ–¹é¢å´æ¯”è¾ƒå·®ï¼Œè½»é‡çº§çš„è™šæ‹Ÿæœºåœ¨åšåˆ°éš”ç¦»æ€§çš„åŒæ—¶ï¼Œåˆæä¾›äº†ä¸é”™çš„å¯åŠ¨é€Ÿåº¦ï¼Œæ˜¯å®¹å™¨é¢†åŸŸçš„ä¸€ä¸ªå‘å±•æ–¹å‘ã€‚ 6.NginxConfig.io NginxConfig.ioæ˜¯ä¸€æ¬¾åœ¨çº¿ç”Ÿæˆnginxé…ç½®æ–‡ä»¶çš„å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ç‚¹ç‚¹é¼ æ ‡ï¼Œåœ¨æ–‡æœ¬æ¡†ä¸­å†…å®¹çš„æ–¹å¼è½»æ¾ç”Ÿæˆnginxçš„é…ç½®æ–‡ä»¶ã€‚ 7.Caddy ä¸€æ¬¾å®žç”¨Goè¯­è¨€ç¼–å†™çš„è´Ÿè½½å‡è¡¡å·¥å…·ï¼Œé»˜è®¤å¯ç”¨HTTPSæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨Letâ€™s Encryptæ¥è‡ªåŠ¨ç­¾å‘è¯ä¹¦ã€‚é…ç½®æ–‡ä»¶çš„å†™æ³•ä¹Ÿæ¯”nginxè¦ç®€æ´ã€‚ 8.loki Grafanaå›¢é˜Ÿæœ€æ–°å‘å¸ƒçš„åŸºäºŽGoè¯­è¨€å¼€å‘çš„æ—¥å¿—èšåˆç³»ç»Ÿï¼Œlokiä¸ä¼šå¯¹æ—¥å¿—è¿›è¡Œå…¨æ–‡ç´¢å¼•ï¼Œè€Œæ˜¯ä»¥åŽ‹ç¼©èšåˆçš„æ–¹å¼è¿›è¡Œå­˜å‚¨ï¼Œå¯ä»¥å¯¹æ—¥å¿—æµé€šè¿‡æ‰“æ ‡ç­¾çš„æ–¹å¼è¿›è¡Œåˆ†ç»„ï¼Œé¡µé¢çš„å±•ç¤ºç›´æŽ¥ä½¿ç”¨grafanaã€‚å¯¹Kubernetes Podä¸­çš„logåšäº†ç‰¹åˆ«çš„æ”¯æŒï¼Œæ¯”è¾ƒé€‚åˆæŠ“å–å’Œå­˜å‚¨Kubernetes Podä¸­çš„logã€‚ ä¸ªäººæ„Ÿè§‰è¯¥å·¥å…·æœªæ¥ä¼šå¾ˆç«çˆ†ï¼Œå°¤å…¶æ˜¯è·ŸGrafanaæœ‰ç€æ— ç¼çš„æ•´åˆã€‚å¾ˆå¤šå…¬å¸ä¼šä½¿ç”¨ESæ¥ä½œä¸ºæ—¥å¿—ä¸­å¿ƒçš„åº•å±‚å­˜å‚¨ï¼Œä½†ä¸è§å¾—æ‰€æœ‰çš„æœåŠ¡éƒ½æœ‰æŒ‰ç…§å…³é”®å­—è¿›è¡ŒåŒ¹é…æœç´¢çš„éœ€æ±‚ï¼ŒESä½œä¸ºæ—¥å¿—ä¸­å¿ƒå°±æ˜¾å¾—ä¸å¤Ÿé«˜æ•ˆå’Œç»æµŽã€‚ 9.JSON-RPC json-rpcæ˜¯rpcé€šè®¯ä¸­çš„ä¸€ç§jsonæ ¼å¼æ ‡å‡†ï¼Œè¯¥åè®®è¦æ±‚requestå’Œresponseçš„å†…å®¹å¿…é¡»ä¸ºjsonæ ¼å¼ï¼Œä¸”jsonæœ‰å›ºå®šçš„æ ¼å¼ã€‚ 10.KSQL Apache Kafkaçš„å¼€æºSQLå¼•æ“Žï¼Œå¯ä»¥ä½¿ç”¨SQLçš„å½¢å¼æŸ¥è¯¢kafkaä¸­çš„æ¶ˆæ¯ï¼Œè¯¥äº§å“è·ŸKafkaä¸€æ ·ï¼ŒåŒæ ·ä¸ºConfluentå‡ºå“ã€‚ ç²¾å½©æ–‡ç« 1.åŒ—äº¬äº”çŽ¯å¤–çš„çœŸå®žä¸­å›½ æœ‹å‹åœˆåˆ·å±æ–‡ç« ï¼Œæ–‡ç« ä»¥gifåŠ¨ç”»çš„å½¢å¼æè¿°äº†ç¤¾ä¼šåº•å±‚äººå£«çš„è‰°è¾›ç”Ÿæ´»ï¼Œä»–ä»¬èƒŒä¸Šæ‰›èµ·çš„ä¸ä»…æ˜¯åŽ‹å¾—ç›´ä¸èµ·è…°æ¥çš„ç –å¤´ï¼Œè€Œæ˜¯é¢å¯¹å›°éš¾åŠªåŠ›ç”Ÿæ´»çš„å‹‡æ°”ï¼Œæœ‰äº›æ—¶å€™ä¸ºäº†ç”Ÿè®¡ç¡®å®žæ²¡å¾—é€‰æ‹©ã€‚ å½“æˆ‘ä»¬åœ¨æŠ±æ€¨ç”Ÿæ´»çš„åŒæ—¶ï¼Œå¯ä»¥æƒ³æƒ³æ¯”æˆ‘ä»¬æ›´è‹¦æ›´ç´¯å´é»˜é»˜æ‰¿å—ç”Ÿæ´»ä¹‹é‡çš„äººä»¬ï¼Œæˆ–è®¸å¿ƒé‡Œä¼šå¥½å—äº›ã€‚ ä¹¦ç±1.ã€Šæ·±å…¥è§£æžGoã€‹ ä»Žåº•å±‚è§’åº¦åˆ†æžgoè¯­è¨€å®žçŽ°ï¼ŒæŽ¨èæ‰€æœ‰golangå¼€å‘è€…ä¸€çœ‹ã€‚ 2.æ·±å…¥æµ…å‡ºServerlessï¼šæŠ€æœ¯åŽŸç†ä¸Žåº”ç”¨å®žè·µ è¦æƒ³èƒ½å¤Ÿå¯¹ServerlessæŠ€æœ¯çš„æ¦‚å¿µå’ŒçŽ°çŠ¶æœ‰æ‰€äº†è§£ï¼Œè¯¥ä¹¦è¿˜æ˜¯æŒºåˆé€‚çš„ã€‚ è¯¥ä¹¦ä»‹ç»äº†å…¬æœ‰äº‘ä¸Šçš„Serverlessäº§å“AWS Lambdaã€Azure Functionsï¼Œå¼€æºé¡¹ç›®OpenWhiskã€Kubelessã€Fissionå’ŒOpenFasSï¼Œæä¾›å¯¹è¿™äº›æŠ€æœ¯çš„ä¸€ç«™å¼äº†è§£ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[TCP TIME_WAIT]]></title>
      <url>%2Fpost%2Ftime-wait%2F</url>
      <content type="text"><![CDATA[time_waitå®¢æˆ·ç«¯åœ¨æ”¶åˆ°æœåŠ¡å™¨ç«¯å‘é€çš„FINæŠ¥æ–‡åŽå‘é€ACKæŠ¥æ–‡ï¼Œå¹¶è¿›å…¥TIME_WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLï¼ˆæœ€å¤§æŠ¥æ–‡ç”Ÿå­˜æ—¶é—´ï¼‰åŽæ‰æ–­å¼€è¿žæŽ¥ï¼ŒMSLåœ¨Linuxä¸­å€¼ä¸º30sã€‚ ä¹‹æ‰€ä»¥è®¾è®¡time_waitä¸»è¦ç”¨æ¥è§£å†³ä»¥ä¸‹å¼‚å¸¸åœºæ™¯ï¼š ç¡®ä¿å¯¹ç«¯å¤„äºŽå…³é—­çŠ¶æ€ã€‚ä¸»åŠ¨æ–­å¼€è¿žæŽ¥ä¸€æ®µå‘é€æœ€åŽä¸€ä¸ªackæŠ¥æ–‡ï¼Œå¦‚æžœä¸¢å¤±ï¼Œè¢«åŠ¨æ–­å¼€è¿žæŽ¥ä¸€ç«¯ä¼šé‡æ–°å‘é€finæŠ¥æ–‡ã€‚å¦‚æžœä¸»åŠ¨æ–­å¼€è¿žæŽ¥ä¸€æ–¹ç›´æŽ¥å…³é—­ï¼Œè¢«åŠ¨æ–¹ä¼šä¸€ç›´å¤„äºŽlast-ackçŠ¶æ€ã€‚ é˜²æ­¢ä¸Šä¸€ä¸ªè¿žæŽ¥ä¸­çš„åŒ…å½±å“æ–°çš„è¿žæŽ¥ï¼Œä¸Šä¸€ä¸ªè¿žæŽ¥ä¸­çš„åŒ…åœ¨2MSLä¸­ä¸€å®šå¯ä»¥åˆ°è¾¾å¯¹ç«¯ã€‚ è¿‡å¤šçš„å±å®³ï¼šåœ¨å®¢æˆ·ç«¯å ç”¨è¿‡å¤šçš„ç«¯å£å· è§£å†³æ€è·¯ å°†net.ipv4.tcp_max_tw_bucketså€¼è°ƒå°ï¼Œå½“TIME_WAITçš„æ•°é‡åˆ°è¾¾è¯¥å€¼åŽï¼ŒTIME_WAITçŠ¶æ€ä¼šè¢«æ¸…é™¤ï¼Œç›¸å½“äºŽæ²¡æœ‰éµå®ˆtcpåè®® ä¿®æ”¹TCP_TIMEWAIT_LENçš„å€¼ï¼Œä½†éœ€è¦é‡æ–°ç¼–è¯‘å†…æ ¸ï¼Œéžå¸¸ä¸å»ºè®®ä¿®æ”¹ æ‰“å¼€tcp_tw_recycleå’Œtcp_timestamps æ‰“å¼€tcp_tw_reuseå’Œtcp_timestamps é‡‡ç”¨é•¿è¿žæŽ¥ tcpæœ‰ä¸ªtcpæ—¶é—´æˆ³é€‰é¡¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯å‘é€æ–¹çš„å½“å‰æ—¶é’Ÿæ—¶é—´æˆ³ï¼ˆ4ä¸ªå­—èŠ‚ï¼‰ï¼Œç¬¬äºŒä¸ª4å­—èŠ‚ä¸ºä»Žè¿œç¨‹ä¸»æœºæŽ¥æ”¶åˆ°çš„æœ€æ–°æ—¶é—´æˆ³ tcp_tw_reusetcp_tw_reuseæ„æ€ä¸ºä¸»åŠ¨å…³é—­è¿žæŽ¥çš„ä¸€æ–¹å¯ä»¥å¤ç”¨ä¹‹å‰çš„time_waitçŠ¶æ€çš„è¿žæŽ¥ã€‚ å¤ç”¨è¿žæŽ¥åŽï¼Œè¿™æ¡è¿žæŽ¥çš„æ—¶é—´æ›´æ”¹ä¸ºå½“å‰æ—¶é—´ï¼Œå»¶è¿Ÿæ•°æ®åˆ°è¾¾æ—¶ï¼Œå»¶è¿Ÿæ•°æ®æ—¶é—´å°äºŽæ–°è¿žæŽ¥æ—¶é—´ã€‚ éœ€è¦è¿žæŽ¥åŒæ–¹éƒ½æ‰“å¼€timestampé€‰é¡¹ã€‚ è¯¥é€‰é¡¹é€‚ç”¨çš„èŒƒå›´ä¸ºä½œä¸ºå®¢æˆ·ç«¯ä¸»åŠ¨æ–­å¼€è¿žæŽ¥ï¼Œå¤ç”¨å®¢æˆ·ç«¯çš„time_waitçš„çŠ¶æ€ï¼Œå¯¹æœåŠ¡ç«¯æ— å½±å“ã€‚ tcp_tw_recycleå†…æ ¸ä¼šåœ¨ä¸€ä¸ªRTOçš„æ—¶é—´å†…å¿«é€Ÿé”€æ¯æŽ‰time_waitçŠ¶æ€ï¼ŒRTOæ—¶é—´ä¸ºæ•°æ®åŒ…é‡ä¼ çš„è¶…æ—¶æ—¶é—´ï¼Œè¯¥æ—¶é—´é€šè¿‡RTTåŠ¨æ€è®¡ç®—ï¼Œè¿œå°äºŽ2MSLã€‚ éœ€è¦è¿žæŽ¥åŒæ–¹éƒ½æ‰“å¼€timestampé€‰é¡¹ã€‚ é€‚ç”¨åœºæ™¯ä¸ºæœåŠ¡ç«¯ä¸»åŠ¨æ–­å¼€è¿žæŽ¥ï¼Œtime_waitçŠ¶æ€ä½äºŽæœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯é€‚ç”¨è¯¥é€‰é¡¹å¿«é€Ÿå›žæ”¶time_waitçŠ¶æ€çš„è¿žæŽ¥ã€‚ å¼Šç«¯ï¼šå¦‚æžœå®¢æˆ·ç«¯åœ¨NATç½‘ç»œä¸­ï¼Œå¦‚æžœé…ç½®äº†tcp_tw_recycleï¼Œå¯èƒ½ä¼šå‡ºçŽ°åœ¨ä¸€ä¸ªRTOçš„æ—¶é—´å†…ï¼Œåªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯å’Œè‡ªå·±è¿žæŽ¥æˆåŠŸçš„æƒ…å†µã€‚ 4.10ä¹‹åŽï¼ŒLinuxå†…æ ¸ä¿®æ”¹äº†æ—¶é—´æˆ³ç”Ÿæˆæœºåˆ¶ï¼Œè¯¥é€‰é¡¹å·²ç»æŠ›å¼ƒã€‚ In Actionè§£å†³time_waitçŠ¶æ€è¿‡å¤šçš„æ¯”è¾ƒå¥½çš„æ€è·¯ä¸ºé‡‡ç”¨httpçš„keepaliveåŠŸèƒ½ã€‚ nginxnginxå¯¹äºŽupstreamï¼Œé»˜è®¤æ˜¯ä½¿ç”¨http1.0åè®®çš„ï¼Œè¦æƒ³å¯ç”¨keepaliveï¼Œéœ€è¦åœ¨locationä¸­å¢žåŠ  12proxy_http_version 1.1;proxy_set_header Connection &quot;&quot;; åœ¨upstreamä¸­å¢žåŠ keepaliveå‚æ•°ï¼Œè¿™é‡Œçš„å‚æ•°å«ä¹‰ä¸ºæ¯ä¸ªnginx workerè¿žæŽ¥æ‰€æœ‰åŽç«¯çš„æœ€å¤§è¿žæŽ¥æ•°ã€‚ 1keepalive 200; å¦‚æžœkeepaliveè¿žæŽ¥è¿‡å°‘ï¼Œæ­¤æ—¶ç”±äºŽä½¿ç”¨çš„æ˜¯http1.1çš„åè®®ï¼Œupstreamç«¯ä¸ä¼šä¸»åŠ¨æ–­å¼€è¿žæŽ¥ï¼Œnginxä¼šä¸»åŠ¨æ–­å¼€è¿žæŽ¥ï¼Œæ­¤æ—¶nginxç«¯çš„time_waitå°±ä¼šè¿‡å¤šï¼Œä¼šå ç”¨ç«¯å£å·ï¼Œå¯¼è‡´nginxç«¯æ²¡æœ‰ç«¯å£å·å¯ä»¥ä½¿ç”¨ã€‚ ref å…³äºŽ Nginx upstream keepalive çš„è¯´æ˜Ž HAProxy and HTTP errors 408 in Chrome è¢«æŠ›å¼ƒçš„tcp_recycle]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æµé‡æŽ§åˆ¶ç®—æ³•]]></title>
      <url>%2Fpost%2Frate-limit%2F</url>
      <content type="text"><![CDATA[é™æµçš„æ–¹å¼æœ‰å¤šç§ï¼Œæ¯ç§éƒ½æœ‰å…¶åº”ç”¨åœºæ™¯ã€‚ é™åˆ¶è¯·æ±‚çš„æ–¹å¼åŒ…æ‹¬ï¼š ä¸¢å¼ƒè¯·æ±‚ æ”¾åœ¨é˜Ÿåˆ—ä¸­ï¼Œç­‰æœ‰ä»¤ç‰ŒåŽå†è¯·æ±‚ èµ°é™çº§é€»è¾‘ è®¡æ•°å™¨æˆ‘ä¹‹å‰è®¾è®¡çš„æµæŽ§ç³»ç»Ÿï¼Œä»¥æ¯ç§’ä¸ºå•ä½ï¼Œå¦‚æžœä¸€ç§’å†…è¶…è¿‡å›ºå®šçš„QPSï¼Œåˆ™å°†è¯·æ±‚è¿›è¡Œé™çº§å¤„ç†ã€‚è¯¥ç®—æ³•å·²ç»åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­å¹³ç¨³è¿è¡Œäº†å¾ˆä¹…ï¼Œä¹Ÿç¡®å®žæ»¡è¶³äº†ä¸šåŠ¡çš„éœ€æ±‚ã€‚ è®¡æ•°å™¨æµæŽ§ç®—æ³•ç®€å•ç²—æš´ï¼Œæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå³æµæŽ§çš„å•ä½ä¸ºç§’ï¼Œä½†ä¸€ç§’çš„è¯·æ±‚å¾ˆå¯èƒ½æ˜¯ä¸å‡åŒ€çš„ï¼Œä¸èƒ½è¿›è¡Œæ›´ç»†ç²’åº¦çš„æŽ§åˆ¶ï¼Œä¹Ÿä¸å…è®¸æµé‡å­˜åœ¨æŸç§ç¨‹åº¦çš„çªå‘ã€‚ æ¼æ¡¶ç®—æ³•è¯·æ±‚å…ˆè¿›å…¥æ¼æ¡¶ä¸­ï¼Œæ¼æ¡¶ä»¥ä¸€å®šçš„é€Ÿåº¦å‡ºæ°´ï¼Œå½“æ°´æµçš„é€Ÿåº¦è¿‡å¤§æ—¶ä¼šç›´æŽ¥æº¢å‡ºã€‚ æ¼æ¡¶å¤§å°ï¼šèµ·åˆ°ç¼“å†²çš„ä½œç”¨ æ¼æ¡¶çš„å‡ºæ°´é€Ÿåº¦ï¼šè¯¥å€¼å›ºå®š ä»¤ç‰Œæ¡¶ç®—æ³•ä»¤ç‰Œæ¡¶ç®—æ³•ç›¸æ¯”æ¼æ¡¶ç®—æ³•è€Œè¨€ï¼Œå…è®¸è¯·æ±‚å­˜åœ¨æŸç§ç¨‹åº¦çš„çªå‘ï¼Œå¸¸ç”¨äºŽç½‘ç»œæµé‡æ•´å½¢å’Œé€ŸçŽ‡é™åˆ¶ã€‚ ç³»ç»Ÿä¼šæ’å®šçš„é€Ÿåº¦å¾€ä»¤ç‰Œæ¡¶ä¸­æ³¨å…¥ä»¤ç‰Œï¼Œå¦‚æžœä»¤ç‰Œæ¡¶ä¸­çš„ä»¤ç‰Œæ»¡åŽå°±ä¸å†å¢žåŠ ã€‚æ–°è¯·æ±‚æ¥ä¸´æ—¶ï¼Œä¼šæ‹¿èµ°ä¸€ä¸ªä»¤ç‰Œï¼Œå¦‚æžœæ²¡æœ‰ä»¤ç‰Œå°±ä¼šé™åˆ¶è¯¥è¯·æ±‚ã€‚ è¿™é‡Œçš„è¯·æ±‚å¯ä»¥ä»£è¡¨ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œæˆ–è€…ç½‘ç»œçš„ä¸€ä¸ªå­—èŠ‚ã€‚ æ¶‰åŠåˆ°çš„å˜é‡ï¼š ç½‘ç»œè¯·æ±‚å¹³å‡é€ŸçŽ‡rï¼šæ¯éš”1/rç§’å‘ä»¤ç‰Œæ¡¶ä¸­æ”¾å…¥ä¸€ä¸ªä»¤ç‰Œï¼Œ1ç§’å…±æ”¾å…¥rä¸ªä»¤ç‰Œ ä»¤ç‰Œæ¡¶çš„æœ€å¤§å¤§å°ï¼šä»¤ç‰Œæ¡¶æ…¢åŽï¼Œå†æ”¾å…¥çš„ä»¤ç‰Œä¼šç›´æŽ¥ä¸¢å¼ƒ ä»¤ç‰Œç›¸å½“äºŽæ“ä½œç³»ç»Ÿä¸­ä¿¡å·é‡æœºåˆ¶ã€‚ ä¸šç•Œè¾ƒä¸ºå‡ºåçš„æµæŽ§å·¥å…·å½“å±žGuavaä¸­çš„RateLimiterï¼ŒåŸºäºŽä»¤ç‰Œæ¡¶ç®—æ³•å®žçŽ°ã€‚ åœ¨å®žé™…çš„ä»£ç å®žçŽ°ä¸­ï¼Œå¹¶ä¸ä¸€å®šéœ€è¦ä¸€ä¸ªå›ºå®šçš„çº¿ç¨‹æ¥å®šæœŸå¾€ä»¤ç‰Œæ¡¶ä¸­æ”¾å…¥ä»¤ç‰Œï¼Œè€Œæ˜¯åœ¨è¯·æ±‚åˆ°æ¥æ—¶ï¼Œç›´æŽ¥è®¡ç®—å¾—å‡ºå½“å‰æ˜¯å¦è¿˜æœ‰ä»¤ç‰Œã€‚æ¯”å¦‚ä¸‹é¢çš„pythonä»£ç å®žçŽ°ï¼š 12345678910111213141516171819202122import timeclass TokenBucket(object): # rateæ˜¯ä»¤ç‰Œå‘æ”¾é€Ÿåº¦ï¼Œcapacityæ˜¯æ¡¶çš„å¤§å° def __init__(self, rate, capacity): self._rate = rate self._capacity = capacity self._current_amount = 0 self._last_consume_time = int(time.time()) # token_amountæ˜¯å‘é€æ•°æ®éœ€è¦çš„ä»¤ç‰Œæ•° def consume(self, token_amount): increment = (int(time.time()) - self._last_consume_time) * self._rate # è®¡ç®—ä»Žä¸Šæ¬¡å‘é€åˆ°è¿™æ¬¡å‘é€ï¼Œæ–°å‘æ”¾çš„ä»¤ç‰Œæ•°é‡ self._current_amount = min( increment + self._current_amount, self._capacity) # ä»¤ç‰Œæ•°é‡ä¸èƒ½è¶…è¿‡æ¡¶çš„å®¹é‡ if token_amount &gt; self._current_amount: # å¦‚æžœæ²¡æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œï¼Œåˆ™ä¸èƒ½å‘é€æ•°æ® return False self._last_consume_time = int(time.time()) self._current_amount -= token_amount return True ref15è¡ŒPythonä»£ç ï¼Œå¸®ä½ ç†è§£ä»¤ç‰Œæ¡¶ç®—æ³•]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[linux iowait]]></title>
      <url>%2Fpost%2Fiowait%2F</url>
      <content type="text"><![CDATA[iowaitå’Œloadä¸€æ ·ï¼Œéƒ½æ˜¯éžå¸¸å®¹æ˜“è®©äººäº§ç”Ÿè¯¯è§£çš„ç³»ç»ŸæŒ‡æ ‡ã€‚ iowaitè¡¨ç¤ºcpuç©ºé—²ä¸”æœ‰æœªå®Œæˆçš„ioè¯·æ±‚çš„æ—¶é—´ï¼Œiowaité«˜å¹¶ä¸èƒ½åæ˜ å‡ºç£ç›˜æ˜¯ç³»ç»Ÿçš„æ€§èƒ½ç“¶é¢ˆã€‚iowaité«˜çš„æ—¶å€™cpuæ­£å¤„äºŽç©ºé—²çŠ¶æ€ï¼Œæ²¡æœ‰ä»»åŠ¡å¯ä»¥æ‰§è¡Œã€‚æ­¤æ—¶å­˜åœ¨å·²ç»å‘å‡ºçš„ç£ç›˜ioï¼Œæ­¤æ—¶çš„cpuç©ºé—²çŠ¶æ€ç§°ä¹‹ä¸ºiowaitã€‚æœ¬è´¨ä¸Šï¼Œiowaitæ˜¯ä¸€ç§ç‰¹æ®Šçš„cpuç©ºé—²çŠ¶æ€ã€‚ iowaitçŠ¶æ€çš„cpuæ˜¯è¿è¡Œåœ¨pidä¸º0çš„idleçº¿ç¨‹ä¸Šã€‚ cpuæ­¤æ—¶ä¹‹æ‰€ä»¥è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œæ˜¯å› ä¸ºè¿›ç¨‹å¤„äºŽç¡çœ çŠ¶æ€ï¼Œåœ¨ç­‰å¾…æŸä¸ªç‰¹å®šçš„äº‹ä»¶ï¼ˆæ¯”å¦‚ç½‘ç»œæ•°æ®ï¼Œioæ“ä½œå®Œæˆç­‰ï¼‰ã€‚ iowaitä»…èƒ½ååº”ç£ç›˜ioçš„æŒ‡æ ‡ï¼Œå¹¶ä¸èƒ½ååº”å…¶ä»–ioè®¾å¤‡çš„æŒ‡æ ‡ï¼Œæ¯”å¦‚ç½‘ç»œä¸¢åŒ…ã€‚ åœ¨io waitçš„è¿›ç¨‹å¤„äºŽä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œé€šè¿‡topå‘½ä»¤å¯ä»¥çœ‹åˆ°è¿›ç¨‹çŠ¶æ€ä¸º ç”±æ­¤å¯è§ï¼ŒiowaitåŒ…å«çš„ä¿¡æ¯é‡éžå¸¸å°‘ï¼Œä»…å‡­iowaitå‡é«˜ä¸èƒ½åˆ¤æ–­å‡ºç³»ç»Ÿioæœ‰é—®é¢˜ã€‚è¦æƒ³åˆ¤æ–­ç³»ç»Ÿioæœ‰é—®é¢˜ï¼Œè¿˜éœ€è¦ä½¿ç”¨iostatç­‰å‘½ä»¤æ¥æŸ¥çœ‹ç³»ç»Ÿçš„svctmã€utilã€avgqu-szç­‰æŒ‡æ ‡ã€‚ case 1 ä»…cpuçš„ç¹å¿™ç¨‹åº¦å˜åŒ–çš„æƒ…å†µä¸‹ï¼Œä¼šå½±å“åˆ°iowaitçš„å€¼ã€‚ case 2 åœ¨cpuç¹å¿™ç¨‹åºä¸å˜çš„æƒ…å†µä¸‹ï¼Œå‘èµ·ioè¯·æ±‚çš„æ—¶é—´ä¸åŒä¹Ÿä¼šå½±å“åˆ°iowaitçš„å€¼ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux Seccomp]]></title>
      <url>%2Fpost%2Flinux-seccomp%2F</url>
      <content type="text"><![CDATA[seccompæ˜¯secure computing modeçš„ç¼©å†™ï¼Œæ˜¯Linuxå†…æ ¸ä¸­çš„ä¸€ä¸ªå®‰å…¨è®¡ç®—å·¥å…·ï¼Œæœºåˆ¶ç”¨äºŽé™åˆ¶åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¢žåŠ ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚å¯ä»¥ç†è§£ä¸ºç³»ç»Ÿè°ƒç”¨çš„é˜²ç«å¢™ï¼Œåˆ©ç”¨BPFæ¥è§„å¾‹ç³»ç»Ÿè°ƒç”¨ã€‚ åœ¨/proc/${pid}/statusæ–‡ä»¶ä¸­çš„Seccompå­—æ®µå¯ä»¥çœ‹åˆ°è¿›ç¨‹çš„Seccompã€‚ prctlä¸‹é¢ç¨‹åºä½¿ç”¨prctlæ¥è®¾ç½®ç¨‹åºçš„seccompä¸ºstrictæ¨¡å¼ï¼Œä»…å…è®¸readã€writeã€_exitå’Œsigreturnå››ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚å½“è°ƒç”¨æœªåœ¨seccompç™½åå•ä¸­çš„ç³»ç»Ÿè°ƒç”¨åŽï¼Œåº”ç”¨ç¨‹åºä¼šè¢«killã€‚ 12345678910111213141516171819#include &lt;stdio.h&gt; /* printf */#include &lt;sys/prctl.h&gt; /* prctl */#include &lt;linux/seccomp.h&gt; /* seccomp's constants */#include &lt;unistd.h&gt; /* dup2: just for test */int main() &#123; printf("step 1: unrestricted\n"); // Enable filtering prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT); printf("step 2: only 'read', 'write', '_exit' and 'sigreturn' syscalls\n"); // Redirect stderr to stdout dup2(1, 2); printf("step 3: !! YOU SHOULD NOT SEE ME !!\n"); // Success (well, not so in this case...) return 0;&#125; æ‰§è¡Œä¸Šè¿°ç¨‹åºåŽä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š 123step 1: unrestrictedstep 2: only 'read', 'write', '_exit' and 'sigreturn' syscallsKilled åŸºäºŽBPFçš„seccompä¸Šè¿°åŸºäºŽprctlç³»ç»Ÿè°ƒç”¨çš„seccompæœºåˆ¶ä¸å¤Ÿçµæ´»ï¼Œåœ¨linux 3.5ä¹‹åŽå¼•å…¥äº†åŸºäºŽBPFçš„å¯å®šåˆ¶çš„ç³»ç»Ÿè°ƒç”¨è¿‡æ»¤åŠŸèƒ½ã€‚ éœ€è¦å…ˆå®‰è£…ä¾èµ–åŒ…ï¼šyum install libseccomp-dev 12345678910111213141516171819202122232425262728293031323334353637#include &lt;stdio.h&gt; /* printf */#include &lt;unistd.h&gt; /* dup2: just for test */#include &lt;seccomp.h&gt; /* libseccomp */int main() &#123; printf(&quot;step 1: unrestricted\n&quot;); // Init the filter scmp_filter_ctx ctx; ctx = seccomp_init(SCMP_ACT_KILL); // default action: kill // setup basic whitelist seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(rt_sigreturn), 0); seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(exit), 0); seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(read), 0); seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(write), 0); // setup our rule seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(dup2), 2, SCMP_A0(SCMP_CMP_EQ, 1), SCMP_A1(SCMP_CMP_EQ, 2)); // build and load the filter seccomp_load(ctx); printf(&quot;step 2: only &apos;write&apos; and dup2(1, 2) syscalls\n&quot;); // Redirect stderr to stdout dup2(1, 2); printf(&quot;step 3: stderr redirected to stdout\n&quot;); // Duplicate stderr to arbitrary fd dup2(2, 42); printf(&quot;step 4: !! YOU SHOULD NOT SEE ME !!\n&quot;); // Success (well, not so in this case...) return 0;&#125; è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š 1234step 1: unrestrictedstep 2: only &apos;write&apos; and dup2(1, 2) syscallsstep 3: stderr redirected to stdoutBad system call dockerä¸­çš„åº”ç”¨é€šè¿‡å¦‚ä¸‹æ–¹å¼å¯ä»¥æŸ¥çœ‹dockeræ˜¯å¦å¯ç”¨seccompï¼š 12# docker info --format &quot;&#123;&#123; .SecurityOptions &#125;&#125;&quot;[name=seccomp,profile=default] dockeræ¯ä¸ªå®¹å™¨é»˜è®¤éƒ½è®¾ç½®äº†ä¸€ä¸ªseccomp profileï¼Œå¯ç”¨çš„ç³»ç»Ÿè°ƒç”¨å¯ä»¥ä»Ždefault.jsonä¸­çœ‹åˆ°ã€‚ dockerä¼šå°†seccompä¼ é€’ç»™runcä¸­çš„sepc.linux.seccompã€‚ å¯ä»¥é€šè¿‡â€”security-opt seccomp=xxxæ¥è®¾ç½®dockerçš„seccompç­–ç•¥ï¼Œxxxä¸ºjsonæ ¼å¼çš„æ–‡ä»¶ï¼Œå…¶ä¸­å®šä¹‰äº†seccompè§„åˆ™ã€‚ ä¹Ÿå¯ä»¥é€šè¿‡--security-opt seccomp=unconfinedæ¥å…³é—­dockerå¼•å…¥é»˜è®¤çš„seccompè§„åˆ™çš„é™åˆ¶ã€‚ ref Introduction to seccomp: BPF linux syscall filter å¦‚ä½•åœ¨Dockerå†…éƒ¨ä½¿ç”¨gdbè°ƒè¯•å™¨]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬7æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-7%2F</url>
      <content type="text"><![CDATA[é¢˜å›¾ä¸ºé‡‘å±±å²­é•¿åŸŽï¼Œæ˜Žä»£è‘—åæŠ—å€­åå°†æˆšç»§å…‰ä»Žå—æ–¹è°ƒä»»è‡³æ­¤ä¿®ç­‘ï¼Œä¸ºæ˜Žé•¿åŸŽä¹‹ç²¾åŽï¼Œ èµ„æº1.GoAccess ä¸€æ¬¾å¼€æºçš„å®žæ—¶åˆ†æžnginxæ—¥å¿—çš„å·¥å…·ï¼Œå¹¶æ‹¥æœ‰ä¸€ä¸ªæ¯”è¾ƒå¼ºå¤§çš„dashboardã€‚ 2.Wayne 360å¼€æºçš„kubernetesçš„å¤šé›†ç¾¤ç®¡ç†å¹³å°ã€‚ 3.MacKey ä¸€ä¸ªåˆ†äº«KeyNoteæ¨¡ç‰ˆçš„ç½‘ç«™ï¼Œæ¯ä¸ªKeyNoteæ¨¡ç‰ˆéƒ½å¸¦æœ‰åŠ¨ç”»å’Œå›¾ç‰‡æˆªå›¾ã€‚ 4.Nomad Hashicorpå…¬å¸å¼€æºçš„é›†ç¾¤è°ƒåº¦å·¥å…·ï¼Œè¯¥å…¬å¸å¦ä¸€æ¬¾è¾ƒä¸ºå‡ºåçš„äº§å“ä¸ºVagrantã€‚ 5.registrator è¯¥æœåŠ¡éƒ¨ç½²åœ¨å®¿ä¸»æœºä¸Šï¼Œè‡ªåŠ¨å°†dockerçš„å®¹å™¨æ³¨å†Œåˆ°æœåŠ¡æ³¨å†Œä¸­å¿ƒä¸­ï¼Œå¦‚consulã€etcdç­‰ã€‚ 6.CNI-Genie åŽä¸ºå¼€æºçš„å®¹å™¨ç½‘ç»œè§£å†³æ–¹æ¡ˆï¼ŒCNIï¼ˆContainer Network Interfaceï¼‰ä»…æ”¯æŒåŠ è½½ä¸€ä¸ªæ’ä»¶ï¼Œè¯¥æ’ä»¶å¯ä»¥åŒæ—¶ä¸€æ¬¡åŠ è½½å¤šä¸ªç½‘ç»œæ’ä»¶ï¼Œåœ¨å®¹å™¨ä¸­å¯ä»¥åŒæ—¶å­˜åœ¨å¤šä¸ªç½‘ç»œè§£å†³æ–¹æ¡ˆçš„ipã€‚ 7.stress-ng Linuxä¸‹æœ‰ä¸€ä¸ªå‘½ä»¤è¡Œçš„åŽ‹æµ‹æµ‹è¯•å·¥å…·stressï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•cpuã€å†…å­˜ã€ioç­‰ï¼Œstress-ngæä¾›äº†æ›´ä¸°å¯Œçš„é€‰é¡¹ã€‚ 8.Resilience4j javaç‰ˆçš„å¼€æºç†”æ–­å·¥å…·Hystrixå®£å¸ƒåœæ­¢å¼€å‘ï¼Œå¹¶æŽ¨èäº†Resilience4jå·¥å…·ï¼Œè¯¥å·¥å…·çµæ„Ÿæ¥è‡ªäºŽHystrixï¼Œä¸»è¦ä¸ºjava 8å’Œå‡½æ•°å¼ç¼–ç¨‹è®¾è®¡çš„è‡ªåŠ¨ç†”æ–­å·¥å…·ã€‚ 9.Standard Go Project Layout æˆ‘åˆšå¼€å§‹å†™goçš„æ—¶å€™ï¼Œä¸€åº¦è¢«golangçš„æºç ç›®å½•ç»“æž„æ‰€å›°æƒ‘ï¼Œè¿™ä¸ªé¡¹ç›®æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„goalngç›®å½•ç»“æž„çš„ç”¨æ³•ï¼Œå¾ˆå¤šå¼€æºé¡¹ç›®éƒ½æ˜¯æŒ‰ç…§è¿™ä¸ªæ ‡å‡†ç»„ç»‡çš„ã€‚ 10.dive docker imagesä¸æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å­˜å‚¨åœ¨å®¿ä¸»æœºä¸Šï¼Œè€Œæ˜¯é‡‡ç”¨åˆ†å±‚è®¾è®¡ï¼Œä»¥ä¾¿äºŽå¤šä¸ªé•œåƒä¹‹é—´å¤ç”¨ç›¸åŒçš„å±‚æ•°æ®ã€‚diveå¯ä»¥ç”¨æ¥åˆ†æždocker imageçš„æ¯ä¸€å±‚çš„å…·ä½“ç»„æˆã€‚ 11.Swoole phpå·ç§°æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼Œä½†æœ€ä¸ºäººè¯Ÿç—…çš„æ˜¯å…¶ç½‘ç»œæ¨¡åž‹æ˜¯åŒæ­¥æ¨¡åž‹ï¼Œå¯¼è‡´å…¶æ€§èƒ½ä¸€ç›´ä¸Šä¸åŽ»ã€‚Swooleå¯ä»¥å®žçŽ°ç±»ä¼¼äºŽGolangä¸­çš„goroutineåŒæ­¥ç¼–ç¨‹æ¨¡åž‹æ¥å®žçŽ°å¼‚æ­¥çš„åŠŸèƒ½ã€‚ ç²¾å½©æ–‡ç« 1.çŸ¥ä¹Žç¤¾åŒºæ ¸å¿ƒä¸šåŠ¡ Golang åŒ–å®žè·µ æœ¬æ–‡è®°å½•äº†çŸ¥ä¹Žå†…éƒ¨ä½¿ç”¨golangæ¥é‡æž„pythonçš„å®žè·µç»éªŒï¼Œç”¨æ¥è§£å†³pythonç¼–ç¨‹è¯­è¨€çš„è¿è¡Œæ•ˆçŽ‡ä½Žå’Œç»´æŠ¤æˆæœ¬é«˜çš„é—®é¢˜ã€‚ 2.å¦‚ä½•åœ¨Dockerå†…éƒ¨ä½¿ç”¨gdbè°ƒè¯•å™¨ æœ¬æ–‡è®°å½•äº†ä¸€äº›dockerå…³äºŽæƒé™ç›¸å…³çš„æŠ€æœ¯å®žçŽ°ã€‚ 3.ofoå‰§ä¸­äººï¼šæˆ‘ä¸æ„¿è°¢å¹• ä»¥è®°è€…çš„è§’åº¦è®°å½•äº†OFOçš„å‘å®¶ã€è¾‰ç…Œã€è¡°è´¥ï¼Œæ›¾æœ‰è¿‡å½·å¾¨ä¸Žè¿·èŒ«ï¼Œæ›¾æœ‰è¿‡é‡Žæ€§ä¸Žåš£å¼ ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯è¦å€’åœ¨èµ„æœ¬é¢å‰ã€‚ å¤§å®¶éƒ½åœ¨åæ§½OFOæŠ¼é‡‘é€€ä¸äº†çš„äº‹æƒ…ï¼Œçœ‹åˆ°ä¸€ä¸ªè¯„è®ºä¸­çš„ä¸é”™çš„ç‚¹å­ï¼Œå¯ä»¥åœ¨OFOçš„é€€æŠ¼é‡‘é¡µé¢å¢žåŠ å¹¿å‘Šä½ï¼Œæ¯•ç«Ÿæµé‡å°±æ˜¯é‡‘é’±ï¼Œé€€æŠ¼é‡‘é¡µé¢çš„æµé‡ä¹Ÿæ˜¯æµé‡ï¼Œåæ­£æŠ¼é‡‘ä¹Ÿé€€ä¸äº†ï¼Œä¸å¦‚å€Ÿæ­¤æ¥ä¸€æ³¢ï¼Œè‡³å°‘æ¯”åœ¨å…¬ä¼—å·ä¸­å–èœ‚èœœè¦å¥½çš„å¤šã€‚ ä¸€ä¸ªç”ŸåŠ¨çš„ç»†èŠ‚æ˜¯ï¼Œæœ‰é»‘æ‘©çš„å¸æœºä¸çˆ½å…±äº«å•è½¦å½±å“ä»–ä»¬ç”Ÿæ„ï¼Œç ¸ofoçš„è½¦ã€‚ofoåŽæœŸè½¬åŒ–äº†ä¸€æ‰¹ç›¸å½“æ•°é‡çš„å¸æœºå½“ä¿®è½¦å¸ˆå‚…ï¼ŒåŒ–å¹²æˆˆä¸ºçŽ‰å¸›ã€‚ ä¸Šè¿°æ“ä½œè¿˜æ˜¯éžå¸¸çŠ€åˆ©çš„ï¼Œè¯´ç™½äº†è¿˜æ˜¯åˆ©ç›Šåœ¨ä½œæ€ªã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux TCP backlog]]></title>
      <url>%2Fpost%2Flinux-backlog%2F</url>
      <content type="text"><![CDATA[ä¸€ä¸ªæ­£å¸¸çš„tcp serveråœ¨å¤„ç†è¯·æ±‚æ—¶ä¼šç»è¿‡å¦‚ä¸‹çš„ç³»ç»Ÿè°ƒç”¨ï¼šsocket() bind() listen() accept() read() write() close()ã€‚ä¸€ä¸ªè¯·æ±‚åœ¨è¢«åº”ç”¨ç¨‹åºè¯»å–ä¹‹å‰ï¼Œå¯èƒ½å¤„äºŽSYN_RCVDå’ŒESTABLISHEDä¸¤ç§çŠ¶æ€ã€‚ SYN_RCVDçŠ¶æ€æ˜¯serverç«¯æŽ¥æ”¶åˆ°äº†clientç«¯çš„SYNåŒ…ï¼Œserverç«¯ä¼šå°†è¯¥è¿žæŽ¥æ”¾åˆ°åŠè¿žæŽ¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶å‘å®¢æˆ·ç«¯å‘é€SYN+ACKåŒ…ï¼Œæ­¤æ—¶è¿žæŽ¥å¤„äºŽåŠè¿žæŽ¥çŠ¶æ€ã€‚ ESTABLISHEDçŠ¶æ€ä¸ºå·²ç»å®Œæˆäº†ä¸‰æ¬¡æ¡æ‰‹ï¼Œä½†æ˜¯serverç«¯çš„åº”ç”¨ç¨‹åºè¿˜æœªè°ƒç”¨acceptç³»ç»Ÿè°ƒç”¨çš„æƒ…å†µã€‚ è¿™ä¸¤ç§æƒ…å†µä¸‹éƒ½éœ€è¦æ“ä½œç³»ç»Ÿæä¾›ç›¸åº”é˜Ÿåˆ—æ¥ä¿å­˜è¿žæŽ¥çŠ¶æ€ã€‚ backlogç”¨æ¥è®¾ç½®è¿™ä¸¤ä¸ªé˜Ÿåˆ—çš„æœ€å¤§å€¼ï¼Œä½†åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­æœ‰ä¸åŒçš„å«ä¹‰ï¼Œä¸‹é¢çš„è¯´æ˜Žä»¥linuxæ“ä½œç³»ç»Ÿä¸ºå‡†ã€‚ å…¶ä¸­ç¬¬ä¸€ä¸ªç»´æŠ¤SYN_RCVDçŠ¶æ€çš„é˜Ÿåˆ—ä½¿ç”¨å†…æ ¸å‚æ•°net.ipv4.tcp_max_syn_backlogæ¥æŽ§åˆ¶ï¼Œå¦‚æžœé˜Ÿåˆ—è¶…è¿‡è¿™ä¸€é˜ˆå€¼ï¼Œè¿žæŽ¥ä¼šè¢«æ‹’ç»ã€‚è¯¥å€¼é»˜è®¤ä¸º1000. ç¬¬äºŒä¸ªç»´æŠ¤ESTABLISHEDçŠ¶æ€çš„é˜Ÿåˆ—ï¼Œè¯¥é˜Ÿåˆ—çš„é•¿åº¦ç”±åº”ç”¨ç¨‹åºè°ƒç”¨listenç³»ç»Ÿè°ƒç”¨æ—¶æŒ‡å®šã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸­æ–­]]></title>
      <url>%2Fpost%2Flinux-interrupt%2F</url>
      <content type="text"><![CDATA[æ¦‚å¿µä¸­æ–­ç”±ç¡¬ä»¶äº§ç”Ÿï¼Œå¹¶å‘é€åˆ°ä¸­æ–­æŽ§åˆ¶å™¨ï¼Œä¸­æ–­æŽ§åˆ¶å™¨å†å‘é€ä¸­æ–­åˆ°CPUï¼ŒCPUæ£€æµ‹åˆ°ä¸­æ–­ä¿¡å·åŽï¼Œä¼šä¸­æ–­å½“å‰çš„å·¥ä½œï¼Œæ¯ä¸ªä¸­æ–­éƒ½æœ‰IRQï¼ˆä¸­æ–­è¯·æ±‚ï¼‰ï¼ŒåŸºäºŽIRQï¼ŒCPUå°†ä¸­æ–­è¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„ç¡¬ä»¶é©±åŠ¨ä¸Šé€šçŸ¥æ“ä½œç³»ç»Ÿï¼Œæ“ä½œç³»ç»Ÿä¼šå¯¹ä¸­æ–­è¿›è¡Œå¤„ç†ã€‚ ä¸­æ–­æŽ§åˆ¶å™¨å¸¸è§çš„ä¸­æ–­æŽ§åˆ¶å™¨æœ‰ä¸¤ç§ï¼šå¯ç¼–ç¨‹ä¸­æ–­æŽ§åˆ¶å™¨8259Aå’Œé«˜çº§å¯ç¼–ç¨‹ä¸­æ–­æŽ§åˆ¶å™¨ï¼ˆAPICï¼‰ã€‚ä¼ ç»Ÿçš„8259Aåªé€‚åˆå•CPUçš„æƒ…å†µï¼ŒçŽ°åœ¨éƒ½æ˜¯å¤šCPUã€å¤šæ ¸å¿ƒçš„SMPä½“ç³»ï¼Œæ‰€ä»¥ä¸ºäº†å……åˆ†åˆ©ç”¨SMPä½“ç³»ç»“æž„ï¼ŒæŠŠä¸­æ–­ä¼ é€’ç»™ç³»ç»Ÿä¸Šçš„æ¯ä¸ªCPUä»¥ä¾¿æ›´å¥½å®žçŽ°å¹¶è¡Œå’Œæé«˜æ€§èƒ½ï¼ŒIntelå¼•å…¥äº†é«˜çº§å¯ç¼–ç¨‹ä¸­æ–­æŽ§åˆ¶å™¨ï¼ˆAPICï¼‰ã€‚ å…‰æœ‰é«˜çº§å¯ç¼–ç¨‹ä¸­æ–­æŽ§åˆ¶å™¨çš„ç¡¬ä»¶æ”¯æŒè¿˜ä¸å¤Ÿï¼ŒLinuxå†…æ ¸è¿˜å¿…é¡»èƒ½åˆ©ç”¨è¿™äº›ç¡¬ä»¶çš„ç‰¹è´¨ï¼Œæ‰€ä»¥åªæœ‰kernel 2.4ä»¥åŽçš„ç‰ˆæœ¬æ‰æ”¯æŒæŠŠä¸åŒçš„ç¡¬ä»¶ä¸­æ–­è¯·æ±‚ï¼ˆIRQsï¼‰åˆ†é…åˆ°ç‰¹å®šçš„CPUæ ¸å¿ƒä¸Šï¼Œè¿™ä¸ªç»‘å®šæŠ€æœ¯è¢«ç§°ä¸ºSMP IRQ Affinityã€‚ åœ¨è®¾ç½®ç½‘å¡ä¸­æ–­çš„cpu coreæ—¶ï¼Œæœ‰ä¸€ä¸ªé™åˆ¶å°±æ˜¯ï¼ŒIO-APIC æœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼šlogic å’Œ physicalï¼Œåœ¨ logic æ¨¡å¼ä¸‹ IO-APIC å¯ä»¥åŒæ—¶åˆ†å¸ƒåŒä¸€ç§ IO ä¸­æ–­åˆ°8é¢— CPU (core) ä¸Šï¼ˆå—åˆ° bitmask å¯„å­˜å™¨çš„é™åˆ¶ï¼Œå› ä¸º bitmask åªæœ‰8ä½é•¿ã€‚ï¼‰ï¼›åœ¨ physical æ¨¡å¼ä¸‹ä¸èƒ½åŒæ—¶åˆ†å¸ƒåŒä¸€ä¸­æ–­åˆ°ä¸åŒ CPU ä¸Šï¼Œæ¯”å¦‚ï¼Œä¸èƒ½è®© eth0 ä¸­æ–­åŒæ—¶ç”± CPU0 å’Œ CPU1 å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™åªèƒ½å®šä½ eth0 åˆ° CPU0ã€eth1 åˆ° CPU1ï¼Œä¹Ÿå°±æ˜¯è¯´ eth0 ä¸­æ–­ä¸èƒ½åƒ logic æ¨¡å¼é‚£æ ·å¯ä»¥åŒæ—¶ç”±å¤šä¸ª CPU å¤„ç†ã€‚ è½¯ä¸­æ–­å’Œç¡¬ä¸­æ–­ä¸ºäº†è§£å†³ä¸­æ–­å¤„ç†ç¨‹åºæ‰§è¡Œæ—¶é—´è¿‡é•¿å’Œä¸­æ–­ä¸¢å¤±çš„é—®é¢˜ï¼ŒLinuxç³»ç»Ÿå°†ä¸­æ–­åˆ†ä¸ºä¸ŠåŠéƒ¨å’Œä¸‹åŠéƒ¨ã€‚ ä¸ŠåŠéƒ¨åœ¨ä¸­æ–­ç¦æ­¢æ¨¡å¼ä¸‹è¿è¡Œï¼Œç”¨æ¥å¿«é€Ÿå¤„ç†ä¸­æ–­ï¼Œä¸»è¦ç”¨æ¥å¤„ç†è·Ÿç¡¬ä»¶å¯†åˆ‡ç›¸å…³çš„å·¥ä½œã€‚ ä¸‹åŠéƒ¨å¤„ç†ä¸ŠåŠéƒ¨æœªå®Œæˆçš„å·¥ä½œï¼Œé€šå¸¸ä»¥å†…æ ¸çº¿ç¨‹çš„æ–¹å¼è¿è¡Œã€‚ ä»¥LinuxæŽ¥æ”¶ç½‘å¡æ•°æ®åŒ…ä¸ºä¾‹è¿›è¡Œè¯´æ˜Žï¼š ç½‘å¡æŽ¥æ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…åŽï¼Œä¼šé€šè¿‡ç¡¬ä»¶ä¸­æ–­çš„æ–¹å¼é€šçŸ¥å†…æ ¸æ–°çš„æ•°æ®åˆ°äº†ã€‚å†…æ ¸ä¼šè°ƒç”¨ä¸­æ–­å¤„ç†ç¨‹åºè¿›è¡Œå¤„ç†ã€‚ ä¸ŠåŠéƒ¨å°†ç½‘å¡ä¸­çš„æ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­ï¼Œå¹¶æ›´æ–°ä¸€ä¸‹ç¡¬ä»¶å¯„å­˜å™¨çš„çŠ¶æ€ï¼Œæœ€åŽå‘é€ä¸€ä¸ªè½¯ä¸­æ–­ä¿¡å·ï¼Œé€šçŸ¥ä¸‹åŠéƒ¨è¿›ä¸€æ­¥çš„å¤„ç†ã€‚ ä¸‹åŠéƒ¨è¢«è½¯ä¸­æ–­ä¿¡å·å”¤é†’åŽï¼Œä»Žå†…å­˜ä¸­è¯»åˆ°æ•°æ®ï¼ŒæŒ‰ç…§ç½‘ç»œåè®®æ ˆå¯¹æ•°æ®è¿›è¡Œè§£æžå’Œå¤„ç†ï¼Œå¹¶å‘é€ç»™åº”ç”¨ç¨‹åºã€‚ ä¸Šé¢æ‰€è¯´çš„ä¸ŠåŠéƒ¨å³ç¡¬ä¸­æ–­ï¼Œä¸‹åŠéƒ¨å³è½¯ä¸­æ–­ï¼Œä½†ä¸€äº›å†…æ ¸è‡ªå®šä¹‰çš„äº‹ä»¶ä¹Ÿå±žäºŽè½¯ä¸­æ–­ï¼Œæ¯”å¦‚å†…æ ¸è°ƒåº¦å’ŒRCUé”ç­‰ã€‚ ç¡¬ä¸­æ–­ï¼šç”±å¤–è®¾äº§ç”Ÿï¼Œç”¨æ¥é€šçŸ¥æ“ä½œç³»ç»Ÿå¤–è®¾çŠ¶æ€çš„å˜åŒ–ã€‚åœ¨å¤„ç†ä¸­æ–­çš„åŒæ—¶è¦å…³é—­ä¸­æ–­ã€‚ç‰¹ç‚¹ä¸ºå¤„ç†è¦å°½å¯èƒ½çš„å¿«ã€‚ è½¯ä¸­æ–­ï¼šä¸ºäº†æ»¡è¶³å®žæ—¶æ€§è¦æ±‚ï¼Œç¡¬ä¸­æ–­å¤„ç†æ—¶é—´éƒ½æ¯”è¾ƒçŸ­ï¼Œå°†æ—¶é—´æ¯”è¾ƒé•¿çš„ä¸­æ–­æ”¾åˆ°è½¯ä¸­æ–­ä¸­æ¥å®Œæˆï¼Œç§°ä¸ºä¸‹åŠéƒ¨ã€‚intå°±æ˜¯è½¯ä¸­æ–­æŒ‡ä»¤ï¼Œä¸­æ–­å‘é‡è¡¨æ˜¯ä¸­æ–­å·å’Œä¸­æ–­å¤„ç†ç¨‹åºçš„å¯¹åº”è¡¨ã€‚æ¯ä¸ªCPUå¯¹åº”ä¸€ä¸ªè½¯ä¸­æ–­å†…æ ¸çº¿ç¨‹ksoftirqd/cpuç¼–å·ã€‚ 12345[root@120-14-29-SH-1037-B07 ~]# ps -ef | grep ksoftroot 3 2 0 2016 ? 01:47:12 [ksoftirqd/0]root 21 2 0 2016 ? 00:47:51 [ksoftirqd/1]root 26 2 0 2016 ? 00:47:34 [ksoftirqd/2]root 31 2 0 2016 ? 00:47:46 [ksoftirqd/3] ä¸­æ–­åµŒå¥—ï¼šç¡¬ä¸­æ–­å¯ä»¥åµŒå¥—ï¼Œå³æ–°çš„ç¡¬ä¸­æ–­å¯ä»¥æ‰“æ–­æ­£åœ¨æ‰§è¡Œçš„ä¸­æ–­ï¼Œä½†åŒç§ä¸­æ–­ä¸å¯ä»¥ã€‚è½¯ä¸­æ–­ä¸å¯åµŒå¥—ï¼Œä½†ç›¸åŒç±»åž‹ä¸­æ–­å¯åœ¨ä¸åŒçš„cpuä¸Šæ‰§è¡Œã€‚ ç›¸å…³å‘½ä»¤mpstat123456789101112131415161718192021222324252627282930313233# æ˜¾ç¤ºcpuå¤„ç†çš„ä¸­æ–­æ•°é‡[root@103-17-164-sh-100-k07 ~]# mpstat -I SUM 1Linux 3.10.0-327.10.1.el7.x86_64 (103-17-164-sh-100-k07.yidian.com) 09/09/2017 _x86_64_ (4 CPU)05:27:59 PM CPU intr/s05:28:00 PM all 61274.0005:28:01 PM all 61712.0005:28:02 PM all 62315.0005:28:03 PM all 59280.00^CAverage: all 61145.25# æ˜¾ç¤ºæ¯ä¸ªæ ¸å¤„ç†çš„ä¸­æ–­æ•°é‡[root@103-17-164-sh-100-k07 ~]# mpstat -I SUM 1 -P ALLLinux 3.10.0-327.10.1.el7.x86_64 (103-17-164-sh-100-k07.yidian.com) 09/09/2017 _x86_64_ (4 CPU)05:30:30 PM CPU intr/s05:30:31 PM all 61446.0005:30:31 PM 0 40489.0005:30:31 PM 1 6839.0005:30:31 PM 2 6935.0005:30:31 PM 3 7185.00# æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯[root@120-14-31-SH-1037-B07 ~]# mpstat -P ALL 1Linux 3.10.0-327.el7.x86_64 (120-14-31-SH-1037-B07.yidian.com) 09/10/2017 _x86_64_ (4 CPU)01:15:09 AM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle01:15:10 AM all 6.35 0.00 11.64 0.00 0.00 7.67 0.00 0.00 0.00 74.3401:15:10 AM 0 5.05 0.00 11.11 0.00 0.00 0.00 0.00 0.00 0.00 83.8401:15:10 AM 1 6.38 0.00 12.77 0.00 0.00 9.57 0.00 0.00 0.00 71.2801:15:10 AM 2 8.70 0.00 10.87 0.00 0.00 14.13 0.00 0.00 0.00 66.3001:15:10 AM 3 6.32 0.00 12.63 0.00 0.00 7.37 0.00 0.00 0.00 73.68 lspciå¯ä»¥æ¥æŸ¥çœ‹ç½‘å¡åž‹å·ï¼Œé©±åŠ¨ç­‰ä¿¡æ¯ï¼Œå†…å®¹è¾ƒå¤š 12345678910111213141516171819202122232425262728293031323334353637[root@103-17-164-sh-100-k07 ~]# lspci -vvv | more00:00.0 Host bridge: Intel Corporation Xeon E7 v2/Xeon E5 v2/Core i7 DMI2 (rev 04) Subsystem: Super Micro Computer Inc Device 0668 Control: I/O- Mem- BusMaster- SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B- DisINTx- Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast &gt;TAbort- &lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR- INTx- Interrupt: pin A routed to IRQ 0 Capabilities: [90] Express (v2) Root Port (Slot-), MSI 00 DevCap: MaxPayload 128 bytes, PhantFunc 0 ExtTag- RBE+ DevCtl: Report errors: Correctable- Non-Fatal- Fatal- Unsupported- RlxdOrd- ExtTag- PhantFunc- AuxPwr- NoSnoop- MaxPayload 128 bytes, MaxReadReq 128 bytes DevSta: CorrErr- UncorrErr- FatalErr- UnsuppReq- AuxPwr- TransPend- LnkCap: Port #0, Speed 5GT/s, Width x4, ASPM not supported, Exit Latency L0s &lt;64ns, L1 &lt;16us ClockPM- Surprise+ LLActRep+ BwNot+ LnkCtl: ASPM Disabled; RCB 64 bytes Disabled- CommClk- ExtSynch- ClockPM- AutWidDis- BWInt- AutBWInt- LnkSta: Speed unknown, Width x0, TrErr- Train- SlotClk- DLActive- BWMgmt- ABWMgmt- RootCtl: ErrCorrectable- ErrNon-Fatal- ErrFatal- PMEIntEna- CRSVisible- RootCap: CRSVisible- RootSta: PME ReqID 0000, PMEStatus- PMEPending- DevCap2: Completion Timeout: Range BCD, TimeoutDis+, LTR-, OBFF Not Supported ARIFwd- DevCtl2: Completion Timeout: 50us to 50ms, TimeoutDis-, LTR-, OBFF Disabled ARIFwd- LnkCtl2: Target Link Speed: 2.5GT/s, EnterCompliance- SpeedDis- Transmit Margin: Normal Operating Range, EnterModifiedCompliance- ComplianceSOS- Compliance De-emphasis: -6dB LnkSta2: Current De-emphasis Level: -6dB, EqualizationComplete-, EqualizationPhase1- EqualizationPhase2-, EqualizationPhase3-, LinkEqualizationRequest- Capabilities: [e0] Power Management version 3 Flags: PMEClk- DSI- D1- D2- AuxCurrent=0mA PME(D0+,D1-,D2-,D3hot+,D3cold+) Status: D0 NoSoftRst- PME-Enable- DSel=0 DScale=0 PME- Capabilities: [100 v1] Vendor Specific Information: ID=0002 Rev=0 Len=00c &lt;?&gt; Capabilities: [144 v1] Vendor Specific Information: ID=0004 Rev=1 Len=03c &lt;?&gt; Capabilities: [1d0 v1] Vendor Specific Information: ID=0003 Rev=1 Len=00a &lt;?&gt; Capabilities: [280 v1] Vendor Specific Information: ID=0005 Rev=3 Len=018 &lt;?&gt;... ethtoolç”¨æ¥æŸ¥çœ‹ç½‘å¡ä¿¡æ¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118[root@103-17-164-sh-100-k07 ~]# ethtool eth3Settings for eth3: Supported ports: [ FIBRE ] Supported link modes: 1000baseT/Full 10000baseT/Full Supported pause frame use: No Supports auto-negotiation: Yes Advertised link modes: 1000baseT/Full 10000baseT/Full Advertised pause frame use: No Advertised auto-negotiation: Yes Speed: 10000Mb/s Duplex: Full Port: FIBRE PHYAD: 0 Transceiver: external Auto-negotiation: on Supports Wake-on: d Wake-on: d Current message level: 0x00000007 (7) drv probe link Link detected: yes# å¯æŸ¥çœ‹Ring bufferçš„å¤§å°[root@103-17-164-sh-100-k07 ~]# ethtool -g eth3Ring parameters for eth3:Pre-set maximums:RX: 4096RX Mini: 0RX Jumbo: 0TX: 4096Current hardware settings:RX: 512RX Mini: 0RX Jumbo: 0TX: 512# åˆ—å‡ºä¿¡æ¯è¾ƒå¤šï¼ŒåŒ…å«ç½‘å¡çš„ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸¢åŒ…é‡ä¿¡æ¯[root@103-17-164-sh-100-k07 ~]# ethtool -S eth3 | moreNIC statistics: rx_packets: 680955795162 tx_packets: 27260701850 rx_bytes: 248285654162670 tx_bytes: 195321924245892 rx_pkts_nic: 683081802539 tx_pkts_nic: 27260700665 rx_bytes_nic: 251132784690871 tx_bytes_nic: 195447730645152 lsc_int: 11 tx_busy: 0 non_eop_descs: 1811095697 rx_errors: 67381 tx_errors: 0 rx_dropped: 0 tx_dropped: 0 multicast: 1025690658 broadcast: 206937242 rx_no_buffer_count: 0 collisions: 0 rx_over_errors: 0 rx_crc_errors: 67302 rx_frame_errors: 0 hw_rsc_aggregated: 2358414213 hw_rsc_flushed: 232402327 fdir_match: 10634169417 fdir_miss: 669277016191 fdir_overflow: 3321 rx_fifo_errors: 0 rx_missed_errors: 2538 tx_aborted_errors: 0 tx_carrier_errors: 0 tx_fifo_errors: 0 tx_heartbeat_errors: 0 tx_timeout_count: 0 tx_restart_queue: 0 rx_long_length_errors: 80264 rx_short_length_errors: 0 tx_flow_control_xon: 1 rx_flow_control_xon: 0 tx_flow_control_xoff: 51 rx_flow_control_xoff: 0 rx_csum_offload_errors: 0 alloc_rx_page_failed: 0 alloc_rx_buff_failed: 0 rx_no_dma_resources: 0 os2bmc_rx_by_bmc: 0 os2bmc_tx_by_bmc: 0 os2bmc_tx_by_host: 0 os2bmc_rx_by_host: 0# æŸ¥çœ‹ç½‘å¡å¤šé˜Ÿåˆ—çš„æ”¯æŒæƒ…å†µï¼Œå½“å‰ç½‘å¡æ”¯æŒ8ä¸ªé˜Ÿåˆ—ï¼Œä½¿ç”¨äº†8ä¸ªé˜Ÿåˆ—[root@103-17-6-sh-100-j11 ~]# ethtool -l eth0Channel parameters for eth0:Pre-set maximums:RX: 0TX: 0Other: 1Combined: 8Current hardware settings:RX: 0TX: 0Other: 1Combined: 8# è®¾ç½®ç½‘å¡å½“å‰ä½¿ç”¨çš„å¤šé˜Ÿåˆ—ï¼Œå½“å‰ä½¿ç”¨çš„ç½‘å¡æ•°é‡ä¸èƒ½è¶…è¿‡æœ€å¤§å€¼8ï¼Œè¯¥å€¼è·Ÿç½‘å¡çš„ä¸­æ–­æ•°é‡ä¸€ä¸€å¯¹åº”ï¼Œå³/proc/interruptsä¸­çœ‹åˆ°çš„eth0çš„ä¸­æ–­æ•°é‡[root@103-17-6-sh-100-j11 ~]# ethtool -L eth0 combined 2[root@103-17-6-sh-100-j11 ~]# ethtool -l eth0Channel parameters for eth0:Pre-set maximums:RX: 0TX: 0Other: 1Combined: 8Current hardware settings:RX: 0TX: 0Other: 1Combined: 2 sar123456789101112131415161718192021# åˆ—å‡ºç½‘å¡çš„æŽ¥æ”¶åŒ…ä¿¡æ¯ï¼Œæ¯”iftopæ›´ç›´è§‚[root@103-17-164-sh-100-k07 ~]# sar -n DEV 1Linux 3.10.0-327.10.1.el7.x86_64 (103-17-164-sh-100-k07.yidian.com) 09/09/2017 _x86_64_ (4 CPU)05:06:12 PM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s05:06:13 PM eth0 0.00 0.00 0.00 0.00 0.00 0.00 0.0005:06:13 PM eth1 0.00 0.00 0.00 0.00 0.00 0.00 0.0005:06:13 PM eth2 0.00 0.00 0.00 0.00 0.00 0.00 0.0005:06:13 PM eth3 77893.00 4328.00 31413.92 30134.16 0.00 0.00 46.0005:06:13 PM lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00# å¯åˆ—å‡ºé”™è¯¯åŒ…çš„ç›¸å…³ä¿¡æ¯[root@103-17-164-sh-100-k07 ~]# sar -n EDEV 1Linux 3.10.0-327.10.1.el7.x86_64 (103-17-164-sh-100-k07.yidian.com) 09/09/2017 _x86_64_ (4 CPU)05:07:13 PM IFACE rxerr/s txerr/s coll/s rxdrop/s txdrop/s txcarr/s rxfram/s rxfifo/s txfifo/s05:07:14 PM eth0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.0005:07:14 PM eth1 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.0005:07:14 PM eth2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.0005:07:14 PM eth3 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.0005:07:14 PM lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 é€šè¿‡ä¸­æ–­å¯ä»¥çœ‹åˆ°ç½‘å¡åŒ…å«å››ä¸ªä¸­æ–­55-58ï¼Œå‡ä½äºŽcpu0ä¸Šã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940[root@103-17-164-sh-100-k07 ~]# cat /proc/interrupts CPU0 CPU1 CPU2 CPU3 0: 44 0 0 0 IR-IO-APIC-edge timer 1: 3 0 0 0 IR-IO-APIC-edge i8042 8: 42 0 0 0 IR-IO-APIC-edge rtc0 9: 1 0 0 0 IR-IO-APIC-fasteoi acpi 12: 4 0 0 0 IR-IO-APIC-edge i8042 16: 99 0 0 0 IR-IO-APIC-fasteoi ehci_hcd:usb1 18: 0 0 0 0 IR-IO-APIC-fasteoi i801_smbus 23: 83 0 0 0 IR-IO-APIC-fasteoi ehci_hcd:usb2 37: 12019917 0 0 0 IR-PCI-MSI-edge 0000:00:1f.2 48: 0 0 0 0 DMAR_MSI-edge dmar0 55: 746827548 0 0 0 IR-PCI-MSI-edge eth3-TxRx-0 56: 2674693551 0 0 0 IR-PCI-MSI-edge eth3-TxRx-1 57: 2341522223 0 0 0 IR-PCI-MSI-edge eth3-TxRx-2 58: 3587929355 0 0 0 IR-PCI-MSI-edge eth3-TxRx-3 59: 3334 0 0 0 IR-PCI-MSI-edge eth3 61: 2 0 0 0 IR-PCI-MSI-edge ioat-msix 63: 2 0 0 0 IR-PCI-MSI-edge ioat-msix 64: 2 0 0 0 IR-PCI-MSI-edge ioat-msix 65: 2 0 0 0 IR-PCI-MSI-edge ioat-msix 66: 2 0 0 0 IR-PCI-MSI-edge ioat-msix 67: 2 0 0 0 IR-PCI-MSI-edge ioat-msix 68: 2 0 0 0 IR-PCI-MSI-edge ioat-msix 69: 2 0 0 0 IR-PCI-MSI-edge ioat-msixNMI: 1100069 693493 635982 615953 Non-maskable interruptsLOC: 1120358899 146726541 4134846029 168005659 Local timer interruptsSPU: 0 0 0 0 Spurious interruptsPMI: 1100069 693493 635982 615953 Performance monitoring interruptsIWI: 57255892 115292160 113458706 112987848 IRQ work interruptsRTR: 0 0 0 0 APIC ICR read retriesRES: 525229423 2791640970 427214674 1986396041 Rescheduling interruptsCAL: 4294536344 4294488238 4294478163 4294552026 Function call interruptsTLB: 65239533 57937650 55104990 52690662 TLB shootdownsTRM: 0 0 0 0 Thermal event interruptsTHR: 0 0 0 0 Threshold APIC interruptsMCE: 0 0 0 0 Machine check exceptionsMCP: 160132 160132 160132 160132 Machine check pollsERR: 0MIS: 0 ä¿®æ”¹ä¸­æ–­çš„cpuåˆ†é…echo â€œ2â€ &gt; /proc/irq/49/smp_affinity å…¶ä¸­2è¡¨ç¤ºcpu1, 49è¡¨ç¤ºä¸­æ–­å·ã€‚ æŸ¥çœ‹è½¯ä¸­æ–­123456789101112[root@120-14-31-SH-1037-B07 ~]# cat /proc/softirqs CPU0 CPU1 CPU2 CPU3 HI: 1 3 0 1 TIMER: 1795378091 3617740778 2674553229 1524071492 NET_TX: 202188392 22218135 17427628 17205883 NET_RX: 3388060179 60871361 68145291 38670323 BLOCK: 4741950 2422 1309 1489BLOCK_IOPOLL: 0 0 0 0 TASKLET: 2102131738 3720214 3104944 1942912 SCHED: 526046585 612421231 496815061 456047989 HRTIMER: 0 0 0 0 RCU: 3147020579 4237695975 3820083676 3267816268 è½¯ä¸­æ–­åŒ…æ‹¬10ä¸ªç±»åˆ«ï¼ŒNET_RXï¼ˆç½‘ç»œæŽ¥æ”¶ä¸­æ–­ï¼‰ã€NET_TXï¼ˆç½‘ç»œå‘é€ä¸­æ–­ï¼‰ æŸ¥çœ‹æ•°æ®åŒ…ç»Ÿè®¡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112[root@c1-g08-120-166-30 ~]# netstat -sIp: 7586513384 total packets received 0 forwarded 741 with unknown protocol 0 incoming packets discarded 7586512643 incoming packets delivered 7948370396 requests sent outIcmp: 23 ICMP messages received 0 input ICMP message failed. ICMP input histogram: destination unreachable: 1 echo requests: 19 echo replies: 3 46 ICMP messages sent 0 ICMP messages failed ICMP output histogram: destination unreachable: 9 echo request: 18 echo replies: 19IcmpMsg: InType0: 3 InType3: 1 InType8: 19 OutType0: 19 OutType3: 9 OutType8: 18Tcp: 561299810 active connections openings 2005002 passive connection openings 8 failed connection attempts 282644949 connection resets received 725 connections established 7585817181 segments received 13957880471 segments send out 1742807 segments retransmited 136 bad segments received. 523811266 resets sentUdp: 445457 packets received 3 packets to unknown port received. 0 packet receive errors 553840367 packets sent 0 receive buffer errors 0 send buffer errorsUdpLite: InErrors: 3TcpExt: 341304 invalid SYN cookies received 1 resets received for embryonic SYN_RECV sockets 1 ICMP packets dropped because they were out-of-window 1997421 TCP sockets finished time wait in fast timer 222787 delayed acks sent 1819 delayed acks further delayed because of locked socket Quick ack mode was activated 178186 times 13 packets directly queued to recvmsg prequeue. 3280604069 packet headers predicted 1972740996 acknowledgments not containing data payload received 798190042 predicted acknowledgments 642444 times recovered from packet loss by selective acknowledgements Detected reordering 23 times using FACK Detected reordering 1618 times using SACK 59 congestion windows fully recovered without slow start 16 congestion windows partially recovered using Hoe heuristic 17089 congestion windows recovered without slow start by DSACK 9594 congestion windows recovered without slow start after partial ack TCPLostRetransmit: 2849 4926 timeouts after SACK recovery 672451 fast retransmits 28946 forward retransmits 680 retransmits in slow start 5024 other TCP timeouts TCPLossProbes: 1390602 TCPLossProbeRecovery: 997235 4723 SACK retransmits failed 178189 DSACKs sent for old packets 979863 DSACKs received 62 DSACKs for out of order packets received 282645553 connections reset due to unexpected data 9 connections reset due to early user close TCPDSACKIgnoredNoUndo: 936061 TCPSpuriousRTOs: 5150 TCPSackShifted: 233309 TCPSackMerged: 733778 TCPSackShiftFallback: 1768422 IPReversePathFilter: 1 TCPRetransFail: 11 TCPRcvCoalesce: 1290965687 TCPOFOQueue: 1753072 TCPChallengeACK: 136 TCPSYNChallenge: 136 TCPSpuriousRtxHostQueues: 73 TCPAutoCorking: 272452106 TCPSynRetrans: 4538 TCPOrigDataSent: 9260789170 TCPHystartTrainDetect: 3721895 TCPHystartTrainCwnd: 64417412 TCPHystartDelayDetect: 80 TCPHystartDelayCwnd: 2579 TCPACKSkippedSynRecv: 4IpExt: InMcastPkts: 249744 OutMcastPkts: 83317 InBcastPkts: 226 InOctets: 12312144006244 OutOctets: 12449967070063 InMcastOctets: 22309104 OutMcastOctets: 9664620 InBcastOctets: 104240 InNoECTPkts: 7586513474 InECT0Pkts: 47 irqbalanceæŸ¥çœ‹æ˜¯å¦è¿è¡Œï¼šsystemctl status irqbalance irqbalanceæ ¹æ®ç³»ç»Ÿä¸­æ–­è´Ÿè½½çš„æƒ…å†µï¼Œè‡ªåŠ¨è¿ç§»ä¸­æ–­ä¿æŒä¸­æ–­çš„å¹³è¡¡ï¼ŒåŒæ—¶ä¼šè€ƒè™‘åˆ°çœç”µå› ç´ ç­‰ç­‰ã€‚ ä½†æ˜¯åœ¨å®žæ—¶ç³»ç»Ÿä¸­ä¼šå¯¼è‡´ä¸­æ–­è‡ªåŠ¨æ¼‚ç§»ï¼Œå¯¹æ€§èƒ½é€ æˆä¸ç¨³å®šå› ç´ ï¼Œåœ¨é«˜æ€§èƒ½çš„åœºåˆå»ºè®®å…³é—­ã€‚ irqbalanceç”¨äºŽä¼˜åŒ–ä¸­æ–­åˆ†é…ï¼Œå®ƒä¼šè‡ªåŠ¨æ”¶é›†ç³»ç»Ÿæ•°æ®ä»¥åˆ†æžä½¿ç”¨æ¨¡å¼ï¼Œå¹¶ä¾æ®ç³»ç»Ÿè´Ÿè½½çŠ¶å†µå°†å·¥ä½œçŠ¶æ€ç½®äºŽ Performance mode æˆ– Power-save modeã€‚å¤„äºŽPerformance mode æ—¶ï¼Œirqbalance ä¼šå°†ä¸­æ–­å°½å¯èƒ½å‡åŒ€åœ°åˆ†å‘ç»™å„ä¸ª CPU coreï¼Œä»¥å……åˆ†åˆ©ç”¨ CPU å¤šæ ¸ï¼Œæå‡æ€§èƒ½ã€‚å¤„äºŽPower-save mode æ—¶ï¼Œirqbalance ä¼šå°†ä¸­æ–­é›†ä¸­åˆ†é…ç»™ç¬¬ä¸€ä¸ª CPUï¼Œä»¥ä¿è¯å…¶å®ƒç©ºé—² CPU çš„ç¡çœ æ—¶é—´ï¼Œé™ä½Žèƒ½è€—ã€‚ ref Linux å¤šæ ¸ä¸‹ç»‘å®šç¡¬ä»¶ä¸­æ–­åˆ°ä¸åŒ CPUï¼ˆIRQ Affinityï¼‰ æ·±åº¦å‰–æžå‘Šè¯‰ä½ irqbalanceæœ‰ç”¨å—ï¼Ÿ æ€Žä¹ˆç†è§£Linuxè½¯ä¸­æ–­ï¼Ÿ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä»Ž0å¼€å§‹å­¦ä¹ å¾®æœåŠ¡é˜…è¯»ç¬”è®°]]></title>
      <url>%2Fpost%2Fmicro-service%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡ä¸ºæžå®¢æ—¶é—´ä¸“æ ä»Ž0å¼€å§‹å­¦ä¹ å¾®æœåŠ¡çš„é˜…è¯»ç¬”è®°ã€‚ åœ¨äº†è§£å¾®æœåŠ¡ä¹‹å‰ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹å•ä½“åº”ç”¨ã€‚ åœ¨ä¸Šå­¦é‚£ä¼šï¼Œåšè¿‡ä¸€äº›ä¼ä¸šç«™ï¼ŒæŠ€æœ¯å¾€å¾€æ˜¯åŸºäºŽLAMPï¼ˆLinux + Apache + MySQL + PHPï¼‰ï¼Œè¿™ç§ä¸šåŠ¡è¾ƒä¸ºç®€å•çš„ä¼ä¸šç«™ï¼Œå°±æ˜¯å•ä½“åº”ç”¨ã€‚æ‰€æœ‰çš„ä¸šåŠ¡ä»£ç éƒ½æ˜¯æ”¾åœ¨ä¸€ä¸ªPHPç¨‹åºä¸­ï¼Œä»£ç åªéœ€è¦æˆ‘è‡ªå·±æ¥ç»´æŠ¤å°±å¯ä»¥äº†ï¼Œæµ‹è¯•ã€ä¸Šçº¿ã€è¿ç»´å…¨éƒ¨æžå®šã€‚ ä½†è¿™ç§å•ä½“åº”ç”¨è¦æ˜¯æ”¾åˆ°ç¨å¾®æœ‰ç‚¹è§„æ¨¡çš„äº’è”ç½‘å…¬å¸ä¸­å¿…ç„¶æ˜¯è¡Œä¸é€šçš„ã€‚ä¸€ä¸ªå…¬å¸é‡Œæœ‰å¾ˆå¤šçš„äººï¼Œä¸å¯èƒ½å…¬å¸è¿™ä¹ˆå¤šæŠ€æœ¯äººå‘˜å…±åŒç»´æŠ¤ä¸€å¥—ä»£ç ï¼Œè¿™æ ·å­å›¢é˜Ÿçš„å†™ä½œå¿…ç„¶æ˜¯ä¸ªé—®é¢˜ã€‚ç³»ç»Ÿçš„å¥å£®æ€§ä¹Ÿä¼šæ¯”è¾ƒå·®ï¼Œä¸€æ—¦å•ä½“åº”ç”¨ä¸­çš„ä¸€ä¸ªæ¨¡å—å‡ºé—®é¢˜åŽå¾€å¾€ä¼šå½±å“åˆ°å…¶ä»–çš„æ¨¡å—ï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿä¸å¯ç”¨ï¼Œæ¯”å¦‚PHPçš„æœåŠ¡ä¸šç•Œé€šå¸¸ä½¿ç”¨php-fpmæ¥ç®¡ç†ï¼Œè€Œphp-fpmå¤„ç†è¿žæŽ¥çš„æ–¹å¼ä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå½“ä¸€éƒ¨åˆ†è¯·æ±‚å› ä¸ºå»¶æ—¶é«˜æ—¶ä¼šæ¶ˆè€—è¿‡å¤šçš„çº¿ç¨‹èµ„æºï¼Œå¯¼è‡´å…¶ä»–è¯·æ±‚æ²¡æœ‰å¯ç”¨çš„çº¿ç¨‹å¯ä»¥å¤„ç†ã€‚ å•ä½“åº”ç”¨çš„å…¶ä»–ç¼ºç‚¹ä¸å†ç½—åˆ—ï¼Œæ¯”å¦‚ä»£ç è†¨èƒ€è¿‡åº¦ã€å‘å¸ƒè¾ƒæ…¢ã€ç³»ç»Ÿé«˜å¯ç”¨æ€§å·®ã€å›¢é˜Ÿåä½œæˆæœ¬é«˜ç­‰ã€‚ ä¸ºäº†è§£å†³å•ä½“åº”ç”¨çš„è¿™äº›ç¼ºç‚¹ï¼Œæ–¹æ³•åªæœ‰ä¸€ä¸ªå°±æ˜¯å°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡å³æœåŠ¡åŒ–ï¼ŒæœåŠ¡ä¹‹é—´é€šè¿‡RPCçš„æ–¹å¼ç›¸äº’è°ƒç”¨ã€‚ å³æœåŠ¡åŒ–åŽï¼Œä¸šç•Œåˆæå‡ºäº†å¾®æœåŠ¡çš„æ¦‚å¿µã€‚ ç»´åŸºç™¾ç§‘ä¸­æœ‰å¦‚ä¸‹å®šä¹‰ï¼š 2014å¹´ï¼ŒMartin Fowler ä¸Ž James Lewis å…±åŒæå‡ºäº†å¾®æœåŠ¡çš„æ¦‚å¿µï¼Œå®šä¹‰äº†å¾®æœåŠ¡æ˜¯ç”±ä»¥å•ä¸€åº”ç”¨ç¨‹åºæž„æˆçš„å°æœåŠ¡ï¼Œè‡ªå·±æ‹¥æœ‰è‡ªå·±çš„è¡Œç¨‹ä¸Žè½»é‡åŒ–å¤„ç†ï¼ŒæœåŠ¡ä¾ä¸šåŠ¡åŠŸèƒ½è®¾è®¡ï¼Œä»¥å…¨è‡ªåŠ¨çš„æ–¹å¼éƒ¨ç½²ï¼Œä¸Žå…¶ä»–æœåŠ¡ä½¿ç”¨ HTTP API é€šè®¯ã€‚åŒæ—¶æœåŠ¡ä¼šä½¿ç”¨æœ€å°çš„è§„æ¨¡çš„é›†ä¸­ç®¡ç† (ä¾‹å¦‚ Docker) èƒ½åŠ›ï¼ŒæœåŠ¡å¯ä»¥ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸Žæ•°æ®åº“ç­‰å…ƒä»¶å®žä½œã€‚ ä½†çœ‹è¿™ä¸ªå®šä¹‰ï¼Œçœ‹çš„æˆ‘ä¸€è„¸æ‡µé€¼ï¼Œå®žåœ¨å¤ªè¿‡æŠ½è±¡ã€‚å…¶å®žå¾®æœåŠ¡ä¹Ÿæ²¡æœ‰ä¸€ä¸ªç‰¹åˆ«æ˜Žç¡®çš„å®šä¹‰ã€‚ é‚£ä¹ˆæœåŠ¡åŒ–å’Œå¾®æœåŠ¡ä¹‹é—´æœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„å‘¢ï¼Ÿ æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†ã€‚ æ¯ä¸ªå¾®æœåŠ¡éƒ½ç‹¬ç«‹éƒ¨ç½²å’Œç»´æŠ¤ã€‚ å¾®æœåŠ¡éœ€è¦æœåŠ¡æ²»ç†ã€‚ç”±äºŽå¾®æœåŠ¡ä¼šå°†æœåŠ¡å˜å¤šï¼ŒåŠ¿å¿…éœ€è¦ä¸€ä¸ªæœåŠ¡ç®¡ç†å¹³å°æ¥å¯¹å¾®æœåŠ¡è¿›è¡Œç®¡ç†ã€‚ å°†å•ä½“åº”ç”¨å‘å¾®æœåŠ¡æ‹†åˆ†çš„æ–¹å¼å¯ä»¥åˆ†ä¸ºçºµå‘æ‹†åˆ†å’Œæ¨ªå‘æ‹†åˆ†ã€‚è¿™é‡Œä»¥ä¸€ç‚¹èµ„è®¯appä¸ºä¾‹æ¥è§£é‡Šçºµå‘æ‹†åˆ†å’Œæ¨ªå‘æ‹†åˆ†ã€‚ ä¸€ç‚¹èµ„è®¯åˆ†ä¸ºä¿¡æ¯æµã€æ­£æ–‡é¡µç­‰æ¨¡å—ï¼Œè€Œè¿™äº›åŠŸèƒ½éƒ½ä¾èµ–äºŽç”¨æˆ·ä¿¡æ¯èŽ·å–æ¨¡å—ï¼Œçºµå‘æ‹†åˆ†å³å°†ä¿¡æ¯æµã€æ­£æ–‡é¡µæ‹†åˆ†ä¸ºå¾®æœåŠ¡ï¼Œæ¨ªå‘æ‹†åˆ†å³å°†ä¿¡æ¯æµã€æ­£æ–‡é¡µéƒ½ä¾èµ–çš„ç”¨æˆ·ä¿¡æ¯èŽ·å–æ¨¡å—æ‹†åˆ†ä¸ºå•ç‹¬çš„æœåŠ¡ã€‚ å¾®æœåŠ¡æž¶æž„é‡‡ç”¨å¾®æœåŠ¡åŽä¼šå¸¦æ¥ä¸€ç³»åˆ—å¤æ‚çš„é—®é¢˜ï¼Œæ–°æŠ€æœ¯åœ¨è§£å†³äº†ä¸€éƒ¨åˆ†é—®é¢˜çš„åŒæ—¶ï¼Œæ€»ä¼šå¸¦æ¥ä¸€äº›æ–°çš„é—®é¢˜ï¼Œæ¯”å¦‚æœåŠ¡æ€Žä¹ˆå®šä¹‰æŽ¥å£ã€æœåŠ¡çš„å‘å¸ƒæ–¹å¼å’ŒæœåŠ¡å‘çŽ°ã€æœåŠ¡çš„ç›‘æŽ§ã€æœåŠ¡çš„æ²»ç†ï¼ˆåŒ…æ‹¬ä¾èµ–å…³ç³»æ¢³ç†ã€ç†”æ–­æœºåˆ¶ç­‰ï¼‰ã€æ•…éšœå¿«é€Ÿå®šä½ç­‰ã€‚ é‚£ä¹ˆä¸€ä¸ªæ ‡å‡†çš„å¾®æœåŠ¡æž¶æž„åº”è¯¥é•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ æœåŠ¡æä¾›æ–¹åœ¨æœåŠ¡å¯åŠ¨æ—¶å‘æœåŠ¡æ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡ï¼Œå£°æ˜Žè‡ªå·±èƒ½å¤Ÿæä¾›çš„æœåŠ¡åŠå½“å‰æœåŠ¡çš„åœ°å€ç­‰ä¿¡æ¯ã€‚ æœåŠ¡è°ƒç”¨è€…è¯·æ±‚æ³¨å†Œä¸­å¿ƒï¼ŒæŸ¥è¯¢æ‰€è¦è°ƒç”¨æœåŠ¡çš„åœ°å€ï¼Œå¹¶é€šè¿‡çº¦å®šå¥½çš„åè®®å‘æœåŠ¡æä¾›è€…å‘èµ·è¯·æ±‚ï¼ŒèŽ·å–åˆ°ç»“æžœåŽæŒ‰ç…§æ•°æ®åè®®æ ¼å¼å°†æ•°æ®è¿›è¡Œååºåˆ—åŒ–ã€‚ åœ¨æ•´ä¸ªæœåŠ¡çš„è°ƒç”¨è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡çš„è¯·æ±‚è€—æ—¶ã€è°ƒç”¨é‡ã€è°ƒç”¨æˆåŠŸä¸Žå¦ç­‰ä¿¡æ¯éƒ½ä¼šä½œä¸ºç›‘æŽ§è®°å½•ä¸‹æ¥ï¼ŒæœåŠ¡çš„è°ƒç”¨å…³ç³»ä¼šé€šè¿‡traceç³»ç»Ÿè®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿ç”¨äºŽåŽç»­çš„æ•…éšœå®šä½å’Œè¿½è¸ªã€‚å¦‚æžœæœåŠ¡è°ƒç”¨å¤±è´¥ï¼Œåˆ™éœ€è¦æœåŠ¡æ²»ç†çš„æ–¹å¼æ¥ä¿è¯è°ƒç”¨æ–¹çš„æ­£å¸¸è¿è¡Œã€‚ æœåŠ¡çš„æŽ¥å£å®šä¹‰éœ€è¦è§£å†³çš„é—®é¢˜æ˜¯æœåŠ¡çš„æŽ¥å£æœ‰å“ªäº›ï¼Ÿæ¯ä¸ªæŽ¥å£çš„è¾“å…¥ä»€ä¹ˆï¼Ÿæ¯ä¸ªæŽ¥å£çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ RESTful APIHTTPåè®®çš„æŽ¥å£å®šä¹‰é€šå¸¸ä½¿ç”¨è¯¥åè®®ï¼Œå¸¸è§Wikiæˆ–è€…Swaggerçš„æ–¹å¼æ¥ç®¡ç†ã€‚ IDLæ–‡ä»¶IDLï¼ˆinterface description languageï¼‰ç”¨äºŽæè¿°æŽ¥å£ï¼Œä½¿å¾—ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸åŒçš„å¹³å°æœåŠ¡ä¹‹é—´å¯ä»¥ç›¸äº’é€šè®¯ã€‚å¸¸è§å®žçŽ°åŒ…æ‹¬Thriftå’Œprotobufï¼Œprotobufä½œä¸ºåºåˆ—åŒ–æ–¹å¼çš„ä¸€ç§ï¼Œé€šå¸¸ä¼šä½¿ç”¨gRPCè¿›è¡Œé€šè®¯ã€‚ XMLæ–‡ä»¶æ–¹å¼æœåŠ¡æä¾›è€…å°†æŽ¥å£æè¿°ä¿¡æ¯ä¿å­˜åœ¨xmlé…ç½®æ–‡ä»¶ï¼ŒæœåŠ¡å¯åŠ¨åŽä¼šåŠ è½½é…ç½®æ–‡ä»¶ï¼Œå°†æœåŠ¡æš´éœ²å‡ºåŽ»ã€‚ æœåŠ¡æ¶ˆè´¹è€…å°†è¦è°ƒç”¨çš„æŽ¥å£ä¿¡æ¯å†™åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œè¿›ç¨‹å¯åŠ¨åŽåŠ è½½xmlé…ç½®æ–‡ä»¶ã€‚ å‘æœåŠ¡æä¾›è€…é€šå¸¸éœ€è¦æä¾›æœåŠ¡çš„è¶…æ—¶æ—¶é—´ç­‰å‚æ•°ï¼Œè€Œæ¶ˆè´¹è€…ç«¯ä¹Ÿéœ€è¦è¯¥ä¿¡æ¯ï¼Œä¸ºäº†è®©æ¶ˆè´¹è€…ç«¯èƒ½çœ‹åˆ°ç”Ÿäº§è€…ç«¯çš„é…ç½®ï¼Œå¯ä»¥å°†ä¿¡æ¯æ”¾åœ¨é…ç½®ä¸­å¿ƒä¸­ï¼Œä½†è¿™å´å¢žå¤§äº†é…ç½®ä¸­å¿ƒçš„å†…å®¹ï¼Œå½“ä¸€æ—¦é…ç½®å˜åŒ–éœ€è¦åŒæ­¥æ—¶ï¼ŒåŒæ­¥çš„æ•°æ®ä¼šå˜å¤šã€‚ æ³¨å†Œä¸­å¿ƒè¦æƒ³å®žçŽ°æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ï¼Œé€šå¸¸ä¼šä½¿ç”¨åå‘ä»£ç†å’ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒçš„æ–¹æ³•ã€‚ åå‘ä»£ç†çš„æ–¹æ³•ä¸šç•Œä¸€èˆ¬ä½¿ç”¨è¾ƒå¤šçš„åŒ…æ‹¬nginxã€haproxyä»¥åŠä¸šç•Œæ–°ç§€envoyç­‰ã€‚ åœ¨å¾®æœåŠ¡æž¶æž„ä¸­æ›´å¤šæåŠçš„æ–¹æ¡ˆä¸ºé‡‡ç”¨æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„æ–¹æ³•ï¼Œè€Œæ³¨å†Œä¸­å¿ƒçš„ç¨³å®šæ€§å°±æ˜¾å¾—å°¤å…¶é‡è¦ã€‚ ä¸šç•Œæ³¨å†Œä¸­å¿ƒé‡‡ç”¨è¾ƒå¤šçš„æ–¹æ¡ˆä¸ºzookeeperã€etcdã€consulã€eurekaã€‚è¿™äº›æ³¨å†Œä¸­å¿ƒçš„å­˜å‚¨æ•°ç»“æž„è¦ä¹ˆæ˜¯æ ‘çŠ¶æŽ¥å£ï¼Œè¦ä¹ˆæ˜¯key-valueå½¢å¼ï¼Œå…¶ä¸­k-vå½¢å¼çš„å¯ä»¥å˜æ›´keyçš„å€¼ä»¥å®žçŽ°ç±»ä¼¼æ ‘çŠ¶ç»“æž„ã€‚ æ³¨å†Œä¸­å¿ƒçš„è®¾è®¡æ³¨å†Œä¸­å¿ƒAPIåŠåŠŸèƒ½æ³¨å†Œä¸­å¿ƒéœ€è¦æä¾›ä»¥ä¸‹apiä»¥ä¾›æœåŠ¡æä¾›æ–¹å’ŒæœåŠ¡è°ƒç”¨æ–¹ä½¿ç”¨ã€‚ æœåŠ¡æ³¨å†ŒæŽ¥å£ï¼Œæä¾›æœåŠ¡æä¾›æ–¹ä½¿ç”¨ æœåŠ¡åæ³¨å†ŒæŽ¥å£ï¼Œæä¾›æœåŠ¡æä¾›æ–¹ä»¥ä¾¿é”€æ¯æœåŠ¡ å¿ƒè·³æ±‡æŠ¥æŽ¥å£ï¼ŒæœåŠ¡æä¾›æ–¹é€šè¿‡å¿ƒè·³æ±‡æŠ¥æœåŠ¡æ˜¯å­˜æ´»çŠ¶æ€çš„ã€‚ä¸€æ—¦å½“æœåŠ¡å‡ºçŽ°å¼‚å¸¸æ—¶ï¼ŒæœåŠ¡æ³¨å†Œä¸­å¿ƒåº”è¯¥ç«‹å³å°†æœåŠ¡ä»Žæ³¨å†Œä¸­å¿ƒå‰”é™¤ã€‚ æœåŠ¡è®¢é˜…æŽ¥å£ï¼ŒæœåŠ¡è°ƒç”¨æ–¹ç”¨äºŽèŽ·å–æœåŠ¡æä¾›æ–¹çš„å®žä¾‹åˆ—è¡¨ æœåŠ¡å˜æ›´æŽ¥å£ï¼ŒæœåŠ¡è°ƒç”¨æ–¹ç”¨äºŽèŽ·å–æœ€æ–°å¯ç”¨æœåŠ¡ã€‚ä¸€æ—¦æ³¨å†Œä¸­å¿ƒæŽ¢æµ‹åˆ°æœ‰æ–°çš„æœåŠ¡å®žä¾‹æˆ–è€…å®žä¾‹å‡å°‘ï¼Œåº”è¯¥ç«‹å³é€šçŸ¥æ‰€æœ‰è®¢é˜…è¯¥æœåŠ¡çš„æœåŠ¡è°ƒç”¨è€…æ›´æ–°æœ¬åœ°çš„èŠ‚ç‚¹ä¿¡æ¯ã€‚ æ³¨å†Œä¸­å¿ƒå­˜å‚¨å“ªäº›æœåŠ¡ä¿¡æ¯é€šå¸¸å¯ä»¥æŒ‰ç…§â€œæœåŠ¡å-åˆ†ç»„-èŠ‚ç‚¹ä¿¡æ¯â€ä¸‰å±‚ç»“æž„æ¥å­˜å‚¨ï¼Œå…¶ä¸­èŠ‚ç‚¹ä¿¡æ¯åŒ…æ‹¬ï¼šèŠ‚ç‚¹ipåœ°å€ã€èŠ‚ç‚¹ç«¯å£å·ã€è¯·æ±‚å¤±è´¥æ—¶é‡è¯•æ¬¡æ•°ã€è¯·æ±‚ç»“æžœæ˜¯å¦åŽ‹ç¼©ã€‚ åˆ†ç»„çš„åˆ’åˆ†åŽŸåˆ™åŒ…æ‹¬ï¼š æŒ‰ç…§ä¸šåŠ¡çš„æ ¸å¿ƒç¨‹åº¦ æŒ‰ç…§æœºæˆ¿ç»´åº¦ çº¿ä¸ŠçŽ¯å¢ƒã€æµ‹è¯•çŽ¯å¢ƒ æ³¨å†Œä¸­å¿ƒå¦‚ä½•å·¥ä½œæœåŠ¡æä¾›è€…æ³¨å†ŒèŠ‚ç‚¹ æŸ¥çœ‹æ³¨å†ŒèŠ‚ç‚¹æ˜¯å¦åœ¨ç™½åå•å†…ï¼Œå³æ˜¯å¦å¯ä»¥å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œ æŸ¥çœ‹æ³¨å†Œçš„æœåŠ¡åã€æœåŠ¡åˆ†ç»„æ˜¯å¦å­˜åœ¨ å°†èŠ‚ç‚¹ä¿¡æ¯æ·»åŠ åˆ°å¯¹åº”çš„å­˜å‚¨ä½ç½® æœåŠ¡æä¾›è€…åæ³¨å†Œ æŸ¥çœ‹æœåŠ¡åã€æœåŠ¡åˆ†ç»„å¯¹åº”çš„æœåŠ¡æ˜¯å¦å­˜åœ¨ å°†èŠ‚ç‚¹åˆ é™¤ æœåŠ¡æ¶ˆè´¹è€…æŸ¥è¯¢èŠ‚ç‚¹ä¿¡æ¯ ä»Žæœ¬æœºå†…å­˜ä¸­æŸ¥æ‰¾æœåŠ¡ä¿¡æ¯ å¦‚æžœæœ‰æœ¬åœ°å¿«ç…§å­˜å‚¨å¯ä»¥ä»Žä¸­æŸ¥æ‰¾ æœåŠ¡æ¶ˆè´¹è€…è®¢é˜…æœåŠ¡å˜æ›´ æ¶ˆè´¹è€…èŽ·å–åˆ°æœåŠ¡ä¿¡æ¯åŽï¼Œåœ¨æœ¬åœ°ä¿ç•™clusterçš„signå€¼ æ¯ä¸ªä¸€æ®µæ—¶é—´ä»Žæ³¨å†Œä¸­å¿ƒèŽ·å–clusterçš„signå€¼ï¼Œå¦‚æžœä¸ä¸€è‡´ï¼Œå°±ä»Žæ³¨å†Œä¸­å¿ƒæ‹‰å–æœåŠ¡èŠ‚ç‚¹ï¼Œå¹¶æ›´æ–°å†…å­˜çŽ¯å¢ƒå’Œæœ¬åœ°å¿«ç…§ æœåŠ¡æ¡†æž¶å®Œæ•´çš„æœåŠ¡æ¡†æž¶åŒ…æ‹¬ï¼šé€šè®¯æ¡†æž¶ã€é€šè®¯åè®®ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ å¼€æºRPCæ¡†æž¶è·Ÿè¯­è¨€ç›¸å…³çš„æ¡†æž¶ï¼šDubboã€Motanï¼ˆå¾®åšï¼‰ã€Tarsï¼ˆè…¾è®¯ï¼‰ã€Spring Cloud è·¨å¹³å°çš„å¼€æºRPCæ¡†æž¶ï¼šgRPCã€Thrift æœåŠ¡ç›‘æŽ§å¸¸ç”¨çš„å¼€æºç›‘æŽ§è½¯ä»¶åŒ…æ‹¬ï¼šELKã€Graphiteã€TICKã€Prometheus æœåŠ¡è¿½è¸ªä½¿ç”¨åˆ†å¸ƒå¼ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼Œåˆ©ç”¨traceid å¼€æºæ–¹æ¡ˆåŒ…æ‹¬OpenZipkinã€jaegerç­‰ æœåŠ¡æ²»ç†é€šè¿‡ä¸€ç³»åˆ—çš„æ‰‹æ®µä¿è¯åœ¨æ„å¤–æƒ…å†µä¸‹ï¼ŒæœåŠ¡ä»ç„¶èƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚ èŠ‚ç‚¹ç®¡ç†æœåŠ¡è°ƒç”¨å¤±è´¥å¯èƒ½æ˜¯æœåŠ¡æä¾›è€…è‡ªèº«å‡ºçŽ°äº†é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜å¯¼è‡´ã€‚ 1.æ³¨å†Œä¸­å¿ƒè‡ªåŠ¨æ‘˜é™¤æœºåˆ¶ æœåŠ¡æä¾›è€…å’Œæ³¨å†Œä¸­å¿ƒä¹‹é—´ä¿æŒå¿ƒè·³ï¼Œå½“è¶…æ—¶åŽæ³¨å†Œä¸­å¿ƒè‡ªåŠ¨æ‘˜é™¤æœåŠ¡æä¾›è€…ã€‚ 2.æœåŠ¡æ¶ˆè´¹è€…æ‘˜é™¤ å°†æœåŠ¡æä¾›è€…çš„æŽ¢æ´»æœºåˆ¶æ”¾åˆ°æ¶ˆè´¹è€…ç«¯ï¼Œæ¶ˆè´¹è€…åœ¨æŽ¢æµ‹åˆ°æœåŠ¡æä¾›è€…å¤±è´¥åŽè‡ªåŠ¨æ‘˜é™¤æœåŠ¡æä¾›è€…ã€‚è¿™ç§æƒ…å†µå¯ä»¥é¿å…æœåŠ¡æä¾›è€…å’Œæ³¨å†Œä¸­å¿ƒä¹‹é—´ç½‘ç»œå‡ºçŽ°å¼‚å¸¸ï¼Œä½†æ˜¯æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´å¯ä»¥é€šè®¯çš„æƒ…å†µã€‚ è´Ÿè½½å‡è¡¡å¸¸ç”¨çš„åŒ…æ‹¬éšæœºç®—æ³•ã€è½®è¯¢ã€åŠ æƒè½®è¯¢ç®—æ³•ã€æœ€å°‘æ´»è·ƒè°ƒç”¨ã€ä¸€è‡´æ€§hashç®—æ³•ï¼ˆå¯ä»¥é…åˆç€é™æ€æ³¨å†Œä¸­å¿ƒè¾¾åˆ°æ¯”è¾ƒå¥½çš„æ•ˆæžœï¼‰ è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•ï¼šåœ¨å®¢æˆ·ç«¯ç»´æŠ¤ä¸€ä»½æ¯ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹çš„æ€§èƒ½ç»Ÿè®¡å¿«ç…§ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´åŽ»æ›´æ–°å¿«ç…§ã€‚åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œæ ¹æ®äºŒå…«åŽŸåˆ™ï¼Œå°†æœåŠ¡èŠ‚ç‚¹åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæ‰¾å‡º20%çš„é‚£éƒ¨åˆ†å“åº”æœ€æ…¢çš„èŠ‚ç‚¹å¹¶é™ä½Žæƒé‡ã€‚ä¹Ÿå¯ç§°ä¸ºåŠ¨æ€åŠ æƒè½®è¯¢ç®—æ³•ã€‚1åˆ†é’Ÿçš„æ›´æ–°æ—¶é—´é—´éš”æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ ä¸ªäººæ„Ÿè§‰è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†è¿˜å¯ä»¥é’ˆå¯¹ä¸šåŠ¡åœºæ™¯ç»§ç»­ä¼˜åŒ–ï¼Œæ¯”å¦‚æƒé‡è¿›è¡ŒåŠ¨æ€è°ƒæ•´ã€‚ æœåŠ¡è·¯ç”±ç”¨äºŽé™å®šæœåŠ¡æ¶ˆè´¹è€…å¯é€‰æ‹©æœåŠ¡æä¾›è€…èŠ‚ç‚¹çš„èŒƒå›´ã€‚ åº”ç”¨åœºæ™¯ï¼šåˆ†ç»„è°ƒç”¨ï¼ˆç»„çš„åˆ’åˆ†å¯ä»¥æŒ‰ç…§æœºæˆ¿ç­‰ç»´åº¦ï¼‰ã€ç°åº¦å‘å¸ƒã€æµé‡åˆ‡æ¢ï¼ˆæ¯”å¦‚æœºæˆ¿æ•…éšœåŽï¼Œç”¨äºŽæœºæˆ¿ä¹‹é—´çš„æµé‡è°ƒåº¦ï¼‰ã€è¯»å†™åˆ†ç¦»ï¼ˆè¯»æŽ¥å£éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œå†™æŽ¥å£éƒ¨ç½²åœ¨ä¸€èµ·ï¼‰ã€‚ è§„åˆ™çš„å†™æ³•A.æ¡ä»¶è·¯ç”± æŸä¸ªipçš„æ¶ˆè´¹è€…ä»…è®¿é—®æŸä¸ªipçš„æœåŠ¡æä¾›è€… æŽ’é™¤æŸä¸ªæœåŠ¡èŠ‚ç‚¹ï¼ˆæ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½ä¸èƒ½è®¿é—®æŸä¸ªæœåŠ¡æä¾›è€…ï¼‰ ç™½åå•å’Œé»‘åå• æœºæˆ¿çº§åˆ«çš„éš”ç¦»ï¼ˆå¯ä»¥åŸºäºŽipåœ°å€çš„è§„åˆ™æ¥åšï¼‰ è¯»å†™åˆ†ç¦»ï¼ˆæ‰€æœ‰getç±»æ–¹æ³•ä»…è®¿é—®æŸäº›èŠ‚ç‚¹ç­‰ï¼‰ B.è„šæœ¬è·¯ç”± ä½¿ç”¨è„šæœ¬è¯­è¨€çš„å½¢å¼æ¥æè¿° è·¯ç”±çš„èŽ·å–æ–¹å¼ æœ¬åœ°é…ç½®ï¼šå­˜å‚¨åœ¨æœåŠ¡æ¶ˆè´¹è€…æœ¬åœ° é…ç½®ä¸­å¿ƒé…ç½®ï¼Œå¯ä»¥ä¿®æ”¹è§„åˆ™åŽåŠ¨æ€ä¸‹å‘ æœåŠ¡å®¹é”™æ‰‹æ®µåŒ…æ‹¬è¶…æ—¶ã€é‡è¯•ã€åŒå‘ã€ç†”æ–­ç­‰ã€‚ åŒå‘çš„æ€è·¯ä¸ºæœåŠ¡è°ƒç”¨è€…åœ¨å‘èµ·ä¸€æ¬¡æœåŠ¡è°ƒç”¨åŽï¼Œåœ¨ç»™å®šçš„æ—¶é—´å†…ï¼ˆè¯¥æ—¶é—´è¦æ¯”æœåŠ¡è¶…æ—¶çš„æ—¶é—´çŸ­ï¼‰æ²¡æœ‰å¾—åˆ°ç»“æžœï¼Œå†å‘èµ·å¦å¤–ä¸€ä¸ªè¯·æ±‚ã€‚ ç†”æ–­çš„æ€è·¯ä¸ºåœ¨æŸä¸€ä¸ªæ—¶é—´å†…å¦‚æžœæœåŠ¡è°ƒç”¨å¤±è´¥æ¬¡æ•°è¶…è¿‡ä¸€å®šå€¼ï¼Œåˆ™è§¦å‘ç†”æ–­ï¼Œä¸å†å‘æœåŠ¡æä¾›è€…å‘èµ·è¯·æ±‚ã€‚ æ–­è·¯å™¨ä¸­çš„çŠ¶æ€åŒ…æ‹¬ï¼šClosedã€Openã€Half Openï¼ˆåŠæ‰“å¼€çŠ¶æ€ï¼Œç”¨äºŽæŽ¢æµ‹åŽç«¯æœåŠ¡æ˜¯å¦å·²ç»æ­£å¸¸ï¼‰ Hystrixæ˜¯æœ€å‡ºåçš„ç†”æ–­å™¨ï¼Œè®¡ç®—æœåŠ¡è°ƒç”¨çš„å¤±è´¥çŽ‡æ˜¯é€šè¿‡æ»‘åŠ¨çª—å£æ¥å®žçŽ°ï¼Œæ»‘åŠ¨çª—å£å†…åŒ…å«10ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶ä¸º1ç§’å†…çš„æœåŠ¡è°ƒç”¨æƒ…å†µã€‚ FailOverï¼Œå¤±è´¥è‡ªåŠ¨åˆ‡æ¢ã€‚æ¶ˆè´¹è€…è°ƒç”¨å¤±è´¥åŽï¼Œè‡ªåŠ¨ä»Žå¯ä»¥èŠ‚ç‚¹ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹é‡æ–°è°ƒç”¨ï¼Œå¯è®¾ç½®å¤±è´¥çš„æ¬¡æ•°ã€‚é€šå¸¸é€‚åˆåªè¯»çš„åœºæ™¯ã€‚ FailBackï¼Œå¤±è´¥é€šçŸ¥ã€‚è°ƒç”¨å¤±è´¥åŽï¼Œä¸èƒ½é‡è¯•ï¼Œè€Œæ˜¯æ ¹æ®å¤±è´¥çš„ä¿¡æ¯æ¥å†³å®šåŽç»­çš„æ‰§è¡Œç­–ç•¥ã€‚é€šå¸¸ç”¨äºŽå†™åœºæ™¯ã€‚ FailCacheï¼Œå¤±è´¥ç¼“å­˜ã€‚è°ƒç”¨å¤±è´¥åŽï¼Œéš”ä¸€æ®µæ—¶é—´åŽå†é‡è¯•ã€‚ FailFastï¼Œå¿«é€Ÿå¤±è´¥ã€‚è°ƒç”¨å¤±è´¥åŽä¸å†é‡è¯•ã€‚ å¦‚ä½•è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´»å¦‚æžœæ³¨å†Œä¸­å¿ƒä¸ºzkï¼Œåœ¨æœåŠ¡èŠ‚ç‚¹å˜åŒ–çš„æ—¶å€™ï¼Œæ³¨å†Œä¸­å¿ƒä¼šå‘æœåŠ¡è°ƒç”¨æ–¹æŽ¨é€æœåŠ¡èŠ‚ç‚¹å˜åŒ–çš„é€šçŸ¥ã€‚ä½†å½“ç½‘ç»œæŠ–åŠ¨çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå­˜åœ¨èŠ‚ç‚¹çš„çŠ¶æ€é¢‘ç¹å˜åŒ–çš„é—®é¢˜ï¼Œå¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…é¢‘ç¹æ”¶åˆ°èŠ‚ç‚¹å˜æ›´é€šçŸ¥ï¼Œæˆ–è€…å¯¼è‡´æ³¨å†Œä¸­å¿ƒèŽ·å–åˆ°çš„æœåŠ¡èŠ‚ç‚¹è¿‡å°‘ã€‚å¯é€šè¿‡ä»¥ä¸‹æ‰‹æ®µæ¥é¿å…è¯¥é—®é¢˜ã€‚ æœåŠ¡ç«¯æ•…éšœæ—¶çš„åº”å¯¹ç­–ç•¥æ•…éšœåŒ…æ‹¬ï¼šé›†ç¾¤æ•…éšœã€å•ä¸ªidcæ•…éšœã€å•æœºæ•…éšœ é›†ç¾¤æ•…éšœæ¯”å¦‚è§¦å‘bugã€çªå‘æµé‡ç­‰ é™æµï¼šé™åˆ¶è¶…å‡ºæŽ¥å£é˜ˆå€¼çš„éƒ¨åˆ†è¯·æ±‚ é™çº§ï¼šä¸€ç§æ€è·¯ä¸ºé€šè¿‡å¼€å…³æ¥å®žçŽ°ã€‚å…·ä½“å¯ä»¥åˆ†ä¸ºå¤šç§ç­‰çº§ï¼šä¸€çº§é™çº§å¯¹ä¸šåŠ¡å½±å“æ¯”è¾ƒå°ï¼Œå¯ä»¥è®¾ç½®ä¸ºè‡ªåŠ¨é™çº§ï¼›äºŒçº§é™çº§å¯¹ä¸šåŠ¡æœ‰ä¸€å®šå½±å“ï¼Œè®¾ç½®ä¸ºæ‰‹å·¥é™çº§ï¼›ä¸‰çº§é™çº§éœ€è¦è°¨æ…Žæ“ä½œã€‚ å•idcæ•…éšœåŸºäºŽdnsçš„æµé‡åˆ‡æ¢ï¼šå»¶æ—¶ç¨é«˜ï¼Œæ¯”è¾ƒé€‚åˆå…¥å£æµé‡ã€‚ åŸºäºŽrpcçš„åˆ†ç»„æµé‡åˆ‡æ¢ï¼šå°†ä¹‹å‰å•ä¸ªæœºæˆ¿å†…è®¿é—®çš„æµé‡åˆ‡æ¢ä¸ºå¤šä¸ªæœºæˆ¿è®¿é—®ã€‚ å•æœºæ•…éšœå¯ä»¥é€šè¿‡è‡ªåŠ¨é‡å¯æœåŠ¡çš„æ‰‹æ®µæ¥è§£å†³ã€‚ä½†è¦é¿å…ä¸€æ¬¡æ€§é‡å¯æœåŠ¡è¿‡å¤šçš„é—®é¢˜ã€‚ åŠ¨æ€æ³¨å†Œä¸­å¿ƒçš„ä¿æŠ¤æœºåˆ¶ å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶ï¼Œç»™æ³¨å†Œä¸­å¿ƒè®¾ç½®ä¸€ä¸ªå¼€å…³ï¼Œå½“å¼€å‘æ‰“å¼€æ—¶ï¼Œå³ä½¿ç½‘ç»œé¢‘ç¹æŠ–åŠ¨ï¼Œæ³¨å†Œä¸­å¿ƒä¹Ÿä¸ä¼šé€šçŸ¥æ¶ˆè´¹è€…èŠ‚ç‚¹å˜æ›´ï¼ŒåŽè€…è®¾ç½®ä¸€å®šçš„ç™¾åˆ†æ¯”æ‰“å¼€è¯¥å¼€å…³ã€‚æ­£å¸¸æƒ…å†µä¸‹è¯¥å¼€å…³å¯ä»¥ä¸æ‰“å¼€ã€‚ æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶ï¼Œè®¾å®šä¸€ä¸ªé˜ˆå€¼æ¯”ä¾‹ï¼Œåœ¨å‡ºçŽ°ç½‘ç»œæŠ–åŠ¨çš„æƒ…å†µä¸‹ï¼Œæ³¨å†Œä¸­å¿ƒä¹Ÿä¸ä¼šå°†è¶…è¿‡è¿™ä¸ªé˜ˆå€¼çš„èŠ‚ç‚¹ç»™ä¸‹æŽ‰ï¼Œé˜²æ­¢ä¸€ä¸‹å­ä¸‹æŽ‰è¿‡å¤šèŠ‚ç‚¹ã€‚è¯¥æœºåˆ¶æ­£å¸¸æƒ…å†µä¸‹ï¼Œåº”è¯¥å¼€å¯ã€‚ é™æ€æ³¨å†Œä¸­å¿ƒçš„ä¿æŠ¤æœºåˆ¶åœ¨æœåŠ¡æ¶ˆè´¹è€…ç«¯æ¥åˆ¤æ–­æ˜¯å¦æœåŠ¡æä¾›è€…æ˜¯å¦å­˜æ´»ã€‚æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨æŸä¸€ä¸ªèŠ‚ç‚¹å¤±è´¥è¶…è¿‡ä¸€å®šæ¬¡æ•°å°±å°†èŠ‚ç‚¹æ ‡è®°ä¸ºä¸å¯ç”¨ã€‚å¹¶éš”ä¸€æ®µæ—¶é—´åŽå†åŽ»æŽ¢æµ‹è¯¥èŠ‚ç‚¹æ˜¯å¦å­˜æ´»ã€‚ æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡æ­£å¸¸æƒ…å†µä¸‹ä¸æ”¹å˜çš„ï¼Œåªæœ‰å½“æœåŠ¡åœ¨å‘å¸ƒçš„æ—¶å€™æ‰åŽ»ä¿®æ”¹æ³¨å†Œä¸­å¿ƒä¸­çš„èŠ‚ç‚¹ã€‚æ³¨å†Œä¸­å¿ƒä¸­çš„èŠ‚ç‚¹å˜åŒ–åŽä»ç„¶é€šçŸ¥æœåŠ¡æ¶ˆè´¹è€…ï¼Œåªæ˜¯åœ¨ç½‘ç»œå‡ºçŽ°æŠ–åŠ¨çš„æ—¶å€™ï¼Œä¸å†åŽ»é€šçŸ¥ã€‚ ä¸ªäººæ„Ÿè§‰è¿™ä¸ªæ€è·¯æ›´é è°±ã€‚ æœåŠ¡æ²»ç†å¹³å°1.æœåŠ¡ç®¡ç† åŒ…æ‹¬æœåŠ¡ä¸Šä¸‹çº¿ã€èŠ‚ç‚¹æ·»åŠ å’Œåˆ é™¤ã€æœåŠ¡æŸ¥è¯¢ã€æœåŠ¡èŠ‚ç‚¹æŸ¥è¯¢ç­‰ 2.æœåŠ¡æ²»ç† é™æµã€é™çº§ã€åˆ‡æµé‡ 3.æœåŠ¡ç›‘æŽ§ å¯ä»¥åŒ…å«æœåŠ¡çš„tracingç›‘æŽ§ç­‰ 4.é—®é¢˜å®šä½ 5.æ—¥å¿—æŸ¥è¯¢ 6.æœåŠ¡è¿ç»´ å‘å¸ƒéƒ¨ç½²å’Œæ‰©ç¼©å®¹ é…ç½®ä¸­å¿ƒä¸šå†…é‡‡ç”¨çš„å¼€æºé…ç½®ä¸­å¿ƒåŒ…æ‹¬: Spring Cloud åŠŸèƒ½ç›¸å¯¹è¾ƒå¼±ï¼Œå˜æ›´é…ç½®éœ€è¦é€šè¿‡gitæ“ä½œ Apollo å¯¹Spring Bootçš„æ”¯æŒæ¯”è¾ƒå¥½ è¿›é˜¶å†…å®¹åšå¥½å®¹é‡è§„åˆ’åŒ…æ‹¬å®¹é‡è¯„ä¼°å’Œè°ƒåº¦å†³ç­–ä¸¤æ–¹é¢ã€‚ åŽ‹æµ‹æœåŠ¡çš„å•æœºæœ€å¤§å®¹é‡å¯ä»¥é‡‡ç”¨åŒºé—´åŠ æƒçš„æ–¹å¼æ¥è®¡ç®—ï¼Œæ¯”å¦‚0 ~ 10msåŒºé—´æƒé‡ä¸º1ï¼Œ10 ~ 50msåŒºé—´æƒé‡ä¸º2,500msä»¥ä¸Šæƒé‡ä¸º32ï¼Œé€šè¿‡ç´¯åŠ çš„æ–¹å¼è®¡ç®—å‡ºå•æœºçš„æƒé‡ï¼Œä»Žè€Œè¯„ä¼°å‡ºå•æœºæœ€å¤§å®¹é‡ã€‚(è¯¥è¯„ä¼°å®¹é‡çš„æ–¹å¼éžå¸¸å®žç”¨) è°ƒåº¦ç­–ç•¥å¯ä»¥æ ¹æ®æ°´ä½çº¿æ¥åšå†³å®šï¼Œä¸€æ¡æ˜¯å®‰å…¨çº¿ï¼Œä¸€æ¡æ˜¯è‡´å‘½çº¿ã€‚å½“æ°´ä½çº¿å¤„äºŽè‡´å‘½çº¿éœ€è¦ç«‹å³æ‰©å®¹ï¼Œå½“æ°´ä½çº¿å›žåˆ°å®‰å…¨çº¿ä»¥ä¸Šæ—¶å¯ä»¥è¿›è¡Œç¼©å®¹ã€‚ï¼ˆæ°´ä½çº¿çš„æ–¹å¼å¾ˆèµžï¼‰ ç¼©å®¹çš„æ€è·¯æ˜¯é‡‡ç”¨é€æ­¥ç¼©å®¹ï¼Œæ¯éš”5åˆ†é’Ÿåˆ¤æ–­ä¸€æ¬¡æ°´ä½çº¿æ˜¯å¦åœ¨è‡´å‘½çº¿ä»¥ä¸Šï¼Œå¹¶æŒ‰ç…§10%ã€30%çš„æ¯”ä¾‹è¿›è¡Œç¼©å®¹ã€‚ ä¸ºäº†é˜²æ­¢æ°´ä½çº¿çš„æŠ–åŠ¨ï¼Œå¯ä»¥ä¸€åˆ†é’Ÿé‡‡é›†ä¸€ä¸ªç‚¹ï¼Œå½“5ä¸ªç‚¹ä¸­çš„3ä¸ªç‚¹éƒ½æ»¡è¶³æ¡ä»¶æ—¶æ‰è¿›è¡Œç¼©å®¹ã€‚ å¤šæœºæˆ¿éƒ¨ç½²1.ä¸»ä»Žæž¶æž„ æ‰€æœ‰çš„å†™è¯·æ±‚éƒ½å‘ç»™ä¸»æœºæˆ¿ï¼Œä¸»æœºæˆ¿æ›´æ–°æœ¬æœºæˆ¿çš„ç¼“å­˜å’Œæ•°æ®åº“ï¼Œå…¶ä»–æœºæˆ¿çš„ç¼“å­˜å’Œæ•°æ®åº“ä»Žä¸»æœºæˆ¿åŒæ­¥ã€‚ä¸»æœºæˆ¿å‡ºçŽ°é—®é¢˜åŽï¼Œå°±æ²¡æ³•æ›´æ–°äº†ã€‚ 2.ç‹¬ç«‹æœºæˆ¿æž¶æž„ ç¼“å­˜å±‚ï¼Œæ¯ä¸ªæœºæˆ¿éƒ½æœ‰å†™è¯·æ±‚ï¼Œæ¯ä¸ªæœºæˆ¿çš„å†™è¯·æ±‚é€šè¿‡æ¶ˆæ¯åŒæ­¥ç»„ä»¶å°†å†™è¯·æ±‚åŒæ­¥ç»™å¦å¤–ä¸€ä¸ªæœºæˆ¿ã€‚æ•°æ®åº“mysqlåªæœ‰ä¸€ä¸ªä¸»åº“ï¼Œå¦å¤–æœºæˆ¿çš„mysqlåŒæ­¥æ•°æ®åˆ°è¯¥æœºæˆ¿ã€‚ ä»¥ä¸Šç¼“å­˜æ¶ˆæ¯åŒæ­¥ç»„ä»¶çš„å®žçŽ°å¤§æ¦‚å¦‚ä¸‹ï¼š åŒ…æ‹¬ä¸¤ä¸ªæ¨¡å—reshipå’Œcollectorï¼Œreshipè´Ÿè´£å°†æœ¬æœºæˆ¿çš„å†™è¯·æ±‚å‘ä¸€ä»½ç»™åˆ«çš„æœºæˆ¿ï¼Œcollectorè´Ÿè´£ä»Žåˆ«çš„æœºæˆ¿è¯»å–å†™è¯·æ±‚ï¼Œå¹¶å‘ç»™æœ¬æœºæˆ¿çš„å¤„ç†æœåŠ¡å™¨ã€‚ å¯ä»¥é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å’Œrpcè°ƒç”¨æ¥å®žçŽ°reshipå’Œcollectorçš„é€šè®¯ã€‚ 3.å¤šæœºæˆ¿çš„æ•°æ®ä¸€è‡´æ€§ å¯é€šè¿‡æ¶ˆæ¯å¯¹è´¦æœºåˆ¶æ¥ä¿è¯ä¸€è‡´æ€§ï¼ŒåŽŸç†ä¸ºé€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ç¨‹åºåŽé¢æ¥éªŒè¯æ˜¯å¦ä¸€ä¸ªå†™è¯·æ±‚æ˜¯å¦å·²ç»è¢«æ‰€æœ‰çš„æœºæˆ¿éƒ½å¤„ç†ï¼Œå¦‚æžœæ²¡æœ‰å¤„ç†ï¼Œåˆ™é‡æ–°å‘é€å†™è¯·æ±‚ã€‚ æ··åˆäº‘éƒ¨ç½²å…¬æœ‰äº‘ä¸Šä¸ºäº†å®‰å…¨å¾€å¾€ä¸éƒ¨ç½²æ•°æ®åº“ DevOpså®žè·µæŒç»­é›†æˆï¼šç¡®ä¿æ¯ä¸€æ¬¡ä»£ç çš„merge requestéƒ½é€šè¿‡ï¼Œåˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼šbuildï¼ˆå¼€å‘åˆ†æ”¯ä»£ç çš„ç¼–è¯‘ä¸Žå•å…ƒæµ‹è¯•ï¼‰ã€packageï¼ˆå¼€å‘åˆ†æ”¯ä»£ç æ‰“åŒ…æˆdockeré•œåƒï¼‰ã€deployï¼ˆå¼€å‘åˆ†æ”¯ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•çŽ¯å¢ƒï¼‰ã€testï¼ˆé›†æˆæµ‹è¯•ï¼‰ã€‚åŒ…æ‹¬äº†ä»£ç æ£€æŸ¥å’Œå•å…ƒæµ‹è¯•çŽ¯èŠ‚ã€‚ æŒç»­äº¤ä»˜ï¼šä»£ç merge requeståˆ°developåˆ†æ”¯åŽï¼Œdevelopåˆ†æ”¯çš„ä»£ç èƒ½å¤Ÿåœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­æµ‹è¯•é€šè¿‡ï¼Œå¹¶è¿›è¡Œå°æµé‡ç°åº¦éªŒè¯ï¼Œå¯ä»¥éšæ—¶ä¸Šçº¿ã€‚åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼šbuildï¼ˆdevelopåˆ†æ”¯çš„ä»£ç ç¼–è¯‘ä¸Žå•å…ƒæµ‹è¯•ï¼‰ã€packageï¼ˆdevelopåˆ†æ”¯ä»£ç æ‰“åŒ…ï¼‰ã€deployã€testã€canaryï¼ˆdevelopåˆ†æ”¯ä»£ç çš„å°æµé‡ç°åº¦éªŒè¯ï¼‰ã€‚ æŒç»­éƒ¨ç½²ï¼šåˆå¹¶developä»£ç åˆ°masteråˆ†æ”¯ï¼Œå¹¶æ‰“åŒ…æˆdockeré•œåƒï¼Œå¹¶å¯éšæ—¶ä¸Šçº¿ã€‚åŒ…æ‹¬ï¼šbuildã€packageã€clearã€productionã€‚ Service MeshService MeshæŠ€æœ¯ä»¥è½»é‡çº§ç½‘ç»œä»£ç†çš„æ–¹å¼ä¸Žåº”ç”¨ä»£ç éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªå…³é”®ç‚¹æŠ€æœ¯ã€‚ SideCarç”¨äºŽè½¬å‘æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ï¼Œåœ¨æœåŠ¡æ¶ˆè´¹è€…ç«¯SideCarç”¨äºŽå°†è¯·æ±‚è½¬å‘åˆ°æœåŠ¡æä¾›è€…ç«¯çš„SideCarä¸­ï¼Œåœ¨æœåŠ¡æä¾›è€…ç«¯çš„SideCaråœ¨æŽ¥æ”¶åˆ°è¯·æ±‚åŽè½¬å‘ç»™æœ¬æœºä¸Šçš„æœåŠ¡æä¾›è€…ã€‚ SideCarå®žçŽ°æ–¹å¼æœ‰åŸºäºŽipstablesçš„ç½‘ç»œæ‹¦æˆªå’Œç›´æŽ¥è½¬å‘è¯·æ±‚ä¸¤ç§æ–¹å¼ã€‚ Control planeç”¨äºŽåŸºäºŽSideCarçš„æœåŠ¡è°ƒç”¨çš„æ²»ç†ï¼Œç”¨æ¥å–ä»£å¾®æœåŠ¡ä¸­éœ€è¦æœåŠ¡æ¡†æž¶å¹²çš„äº‹æƒ…ï¼ŒåŒ…æ‹¬æœåŠ¡å‘çŽ°ã€è´Ÿè½½å‡è¡¡ã€è¯·æ±‚è·¯ç”±ã€æ•…éšœå¤„ç†ã€å®‰å…¨è®¤è¯ã€ç›‘æŽ§ä¸ŠæŠ¥ã€æ—¥å¿—è®°å½•ã€é…é¢é™åˆ¶ç­‰ã€‚ IstioPilotä¸»è¦ç”¨äºŽæµé‡æŽ§åˆ¶ï¼ŒåŒ…æ‹¬Rules APIï¼ˆæä¾›APIï¼Œç”¨äºŽæµé‡æŽ§åˆ¶ï¼‰ã€Envoy APIï¼ˆç»™Envoyæä¾›APIï¼ŒèŽ·å–æœåŠ¡æ³¨å†Œä¿¡æ¯ã€æµé‡æŽ§åˆ¶ä¿¡æ¯ç­‰ï¼‰ã€æŠ½è±¡æ¨¡åž‹ï¼ˆå¯¹æœåŠ¡æ³¨å†Œä¿¡æ¯ã€æµé‡æŽ§åˆ¶è¿›è¡ŒæŠ½è±¡ï¼‰ã€å¹³å°é€‚é…å±‚ï¼ˆé€‚é…k8sã€Mesosç­‰å¤šä¸ªå¹³å°ï¼Œå°†å¹³å°ç‰¹å®šçš„æ³¨å†Œä¿¡æ¯è½¬æ¢æˆå¹³å°æ— å…³çš„æŠ½è±¡æ¨¡åž‹ï¼‰ã€‚ Pilotçš„æµé‡æŽ§åˆ¶åŠŸèƒ½åŒ…æ‹¬æœåŠ¡å‘çŽ°å’Œè´Ÿè½½å‡è¡¡ã€è¯·æ±‚è·¯ç”±ã€è¶…æ—¶é‡è¯•ã€æ•…éšœæ³¨å…¥ã€‚ Mixerå®žçŽ°ç­–ç•¥æŽ§åˆ¶å’Œç›‘æŽ§æ—¥å¿—æ”¶é›†ç­‰åŠŸèƒ½ï¼Œç†è®ºä¸ŠEnvoyå‘èµ·çš„æ¯æ¬¡è¯·æ±‚éƒ½ä¼šå‘é€åˆ°Mixerï¼Œå¯ä»¥å¼‚æ­¥å‘é€ã€‚ Mixerçš„ç­–ç•¥æŽ§åˆ¶åŒ…æ‹¬å¯¹æœåŠ¡çš„è®¿é—®é¢‘çŽ‡é™åˆ¶å’Œè®¿é—®æŽ§åˆ¶ã€‚ Citadelç”¨äºŽä¿è¯æœåŠ¡ä¹‹é—´çš„å®‰å…¨ï¼Œéœ€è¦Envoyçš„é…åˆã€‚Citadelä¸­å­˜å‚¨äº†ç§˜é’¥å’Œè¯ä¹¦ï¼Œé€šè¿‡Pilotå°†æŽˆæƒç­–ç•¥å’Œå®‰å…¨å‘½åä¿¡æ¯åˆ†å‘ç»™Envoyï¼ŒEnvoyå’ŒEnvoyä¹‹é—´é€šè¿‡åŒå‘TLSè¯ä¹¦æ¥è¿›è¡Œé€šè®¯ï¼Œç”±Mixeræ¥ç®¡ç†æŽˆæƒå’Œå®¡è®¡ã€‚ refå¾®æœåŠ¡æž¶æž„æŠ€æœ¯æ ˆé€‰åž‹æ‰‹å†Œ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[TCPåè®®ä¸­çš„Nagleç®—æ³•]]></title>
      <url>%2Fpost%2Fnagle%2F</url>
      <content type="text"><![CDATA[Nagleç®—æ³•ä¸ºäº†é¿å…ç½‘ç»œä¸­å­˜åœ¨å¤ªå¤šçš„å°æ•°æ®åŒ…ï¼Œå°½å¯èƒ½å‘é€å¤§çš„æ•°æ®åŒ…ã€‚å®šä¹‰ä¸ºåœ¨ä»»æ„æ—¶åˆ»ï¼Œæœ€å¤šåªæœ‰ä¸€ä¸ªæœªè¢«ç¡®è®¤çš„å°æ®µã€‚å°æ®µä¸ºå°äºŽMSSå°ºå¯¸çš„æ•°æ®å—ï¼Œæœªè¢«ç¡®è®¤æ˜¯æŒ‡æ•°æ®å‘å‡ºåŽ»åŽæœªæ”¶åˆ°å¯¹ç«¯çš„ackã€‚ Nagleç®—æ³•æ˜¯åœ¨ç½‘é€Ÿè¾ƒæ…¢çš„æ—¶ä»£çš„äº§ç‰©ï¼Œç›®å‰çš„ç½‘ç»œçŽ¯å¢ƒå·²ç»ä¸å¤ªéœ€è¦è¯¥æœºåˆ¶ï¼Œè¯¥ç®—æ³•åœ¨linuxç³»ç»Ÿä¸­é»˜è®¤å…³é—­ã€‚ å»¶æ—¶ACKæœºåˆ¶: åœ¨æŽ¥æ”¶åˆ°å¯¹ç«¯çš„æŠ¥æ–‡åŽï¼Œå¹¶ä¸ä¼šç«‹å³å‘é€ackï¼Œè€Œæ˜¯ç­‰å¾…ä¸€æ®µæ—¶é—´å‘é€ackï¼Œä»¥ä¾¿å°†ackå’Œè¦å‘é€çš„æ•°æ®ä¸€å—å‘é€ã€‚å½“ç„¶ackä¸èƒ½æ— é™å»¶é•¿ï¼Œå¦åˆ™å¯¹ç«¯ä¼šè®¤ä¸ºåŒ…è¶…æ—¶è€Œé€ æˆæŠ¥æ–‡é‡ä¼ ã€‚linuxé‡‡ç”¨åŠ¨æ€è°ƒèŠ‚ç®—æ³•æ¥ç¡®å®šå»¶æ—¶çš„æ—¶é—´ã€‚ å¯ä»¥ä¸¾ä¾‹æ¥æè¿°ä¸€ä¸‹ï¼Œclientè¿žç»­å‘serverç«¯å‘é€ä¸¤ä¸ªå°äºŽMSSçš„æ•°æ®åŒ…ã€‚clientå‘é€ç¬¬ä¸€ä¸ªæ•°æ®åŒ…ï¼Œæ ¹æ®Nagleç®—æ³•ï¼Œæ­¤æ—¶æ²¡æœ‰æœªç¡®è®¤çš„æ•°æ®æ®µï¼Œè¯¥æ•°æ®åŒ…å¯ä»¥ç›´æŽ¥å‘é€ã€‚serverç«¯æŽ¥æ”¶åˆ°æ•°æ®åŒ…åŽï¼Œç”±äºŽå»¶æ—¶ACKæœºåˆ¶ï¼Œå¹¶ä¸ä¼šç«‹å³å‘é€ackï¼Œè€Œæ˜¯éœ€è¦ç­‰åˆ°å»¶æ—¶ackæœºåˆ¶è¶…æ—¶åŽå†å‘é€ç¬¬äºŒä¸ªæ•°æ®åŒ…ã€‚æ­¤æ—¶clientç«¯ç”±äºŽNagleç®—æ³•ï¼Œ å­˜åœ¨ä¸€ä¸ªæœªè¢«ç¡®è®¤çš„æ•°æ®åŒ…ï¼Œä¸èƒ½å‘serverç«¯å‘é€ç¬¬äºŒä¸ªæ•°æ®åŒ…ã€‚ åœ¨å»¶æ—¶è¦æ±‚å°½é‡å°çš„æƒ…å†µä¸‹ï¼Œå¹¶ä¸é€‚åˆç”¨Nagleç®—æ³•ï¼Œæ¯”å¦‚SSHä¼šè¯ã€‚å¯ä»¥é€šè¿‡è®¾ç½®TCP_NODELAYæ¥å®Œæˆã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[éƒ¨ç½²javaåº”ç”¨åˆ°å®¹å™¨]]></title>
      <url>%2Fpost%2Fcontainer-java%2F</url>
      <content type="text"><![CDATA[java 8u131ä¹‹åŽçš„ç‰ˆæœ¬å¼€å§‹æ”¯æŒå®¹å™¨ç‰¹æ€§ï¼Œä¹‹å‰çš„ç‰ˆæœ¬ä¸­å¹¶ä¸æ”¯æŒå®¹å™¨ç›¸å…³çš„ç‰¹æ€§ã€‚ javaåŸºç¡€çŸ¥è¯†JVMé»˜è®¤çš„æœ€å¤§å †å†…å­˜å¤§å°ä¸ºç³»ç»Ÿå†…å­˜çš„1/4ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•°-XX:MaxRAMFraction=1è¡¨ç¤ºå°†æ‰€æœ‰å¯ç”¨å†…å­˜ä½œä¸ºæœ€å¤§å †ã€‚ cgroupçš„é™åˆ¶åœ¨dockerä¸­èƒ½å¤Ÿçœ‹åˆ°ï¼Œé€šè¿‡æŸ¥çœ‹/sys/fs/cgroupç›®å½•ä¸‹çš„æ–‡ä»¶å¯ä»¥èŽ·å–ã€‚ JVMçš„ç”¨æˆ·åœ°å€ç©ºé—´åˆ†ä¸ºJVMæ•°æ®åŒºå’Œdirect memoryã€‚JVMæ•°æ®åŒºç”±heapã€stackç­‰ç»„æˆï¼ŒGCæ˜¯æ“ä½œçš„è¿™ä¸€ç‰‡å†…å­˜ã€‚direct memoryæ˜¯é¢å¤–åˆ’åˆ†å‡ºæ¥çš„ä¸€ç‰‡å†…å­˜ç©ºé—´ï¼Œéœ€è¦æ‰‹å·¥ç®¡ç†å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾ã€‚ direct memoryä½¿ç”¨Unsafe.allocateMemoryå’ŒUnsafe.setMemoryæ¥ç”³è¯·å’Œè®¾ç½®å†…å­˜ï¼Œæ˜¯ç›´æŽ¥ä½¿ç”¨äº†Cè¯­è¨€ä¸­çš„mallocæ¥ç”³è¯·å†…å­˜ã€‚ç”±jvmå‚æ•°MaxDirectMemorySizeæ¥é™åˆ¶direct memoryå¯ä½¿ç”¨çš„å†…å­˜å¤§å°ã€‚ java &lt; 8u131æ²¡æœ‰å¯¹å®¹å™¨çš„ä»»ä½•æ”¯æŒï¼Œå¯¹cpuå’Œå†…å­˜çš„é™åˆ¶éœ€è¦é€šè¿‡jvmçš„å‚æ•°æ¥é…ç½®ã€‚ javaä¸­å¹¶ä¸èƒ½çœ‹åˆ°å†…å­˜èµ„æºçš„é™åˆ¶ï¼Œä¼šå­˜åœ¨ä½¿ç”¨å†…å­˜è¶…è¿‡é™åˆ¶è€Œè¢«OOMçš„é—®é¢˜ã€‚å¯é€šè¿‡åœ¨ç¨‹åºä¸­è®¾ç½®-Xmxæ¥è§£å†³è¯¥é—®é¢˜ã€‚ JVM GCï¼ˆåžƒåœ¾å¯¹è±¡å›žæ”¶ï¼‰å¯¹Javaç¨‹åºæ‰§è¡Œæ€§èƒ½æœ‰ä¸€å®šçš„å½±å“ã€‚é»˜è®¤çš„JVMä½¿ç”¨å…¬å¼â€œParallelGCThreads = (ncpus &lt;= 8) ? ncpus : 3 + ((ncpus * 5) / 8)â€ æ¥è®¡ç®—åšå¹¶è¡ŒGCçš„çº¿ç¨‹æ•°ï¼Œå…¶ä¸­ncpusæ˜¯JVMå‘çŽ°çš„ç³»ç»ŸCPUä¸ªæ•°ã€‚ä¸€æ—¦å®¹å™¨ä¸­JVMå‘çŽ°äº†å®¿ä¸»æœºçš„CPUä¸ªæ•°ï¼ˆé€šå¸¸æ¯”å®¹å™¨å®žé™…CPUé™åˆ¶å¤šå¾ˆå¤šï¼‰ï¼Œè¿™å°±ä¼šå¯¼è‡´JVMå¯åŠ¨è¿‡å¤šçš„GCçº¿ç¨‹ï¼Œç›´æŽ¥çš„ç»“æžœå°±å¯¼è‡´GCæ€§èƒ½ä¸‹é™ã€‚JavaæœåŠ¡çš„æ„Ÿå—å°±æ˜¯å»¶æ—¶å¢žåŠ ï¼ŒTPç›‘æŽ§æ›²çº¿çªåˆºå¢žåŠ ï¼Œåžåé‡ä¸‹é™ã€‚ æ˜¾å¼çš„ä¼ é€’JVMå¯åŠ¨å‚æ•°-XX:ParallelGCThreadså‘Šè¯‰JVMåº”è¯¥å¯åŠ¨å‡ ä¸ªå¹¶è¡ŒGCçº¿ç¨‹ã€‚å®ƒçš„ç¼ºç‚¹æ˜¯éœ€è¦ä¸šåŠ¡æ„ŸçŸ¥ï¼Œä¸ºä¸åŒé…ç½®çš„å®¹å™¨ä¼ ä¸åŒçš„JVMå‚æ•°ã€‚ java9 and java &gt;= 8u131å¢žåŠ äº†XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeapå‚æ•°æ¥æ£€æŸ¥å†…å­˜é™åˆ¶ã€‚JVMä¸­å¯ä»¥çœ‹åˆ°cgroupä¸­çš„å†…å­˜é™åˆ¶ã€‚ å¯ä»¥æ ¹æ®å®¹å™¨ä¸­çš„cpué™åˆ¶æ¥åŠ¨æ€è®¾ç½®GCçº¿ç¨‹æ•°ï¼Œä¸å†éœ€è¦å•ç‹¬è®¾ç½®-XX:ParallelGCThreadsã€‚ java10jvmå‚æ•°XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeapå·²ç»é»˜è®¤å¼€å¯ï¼Œä½†æ–°å¢žåŠ -XX:-UseContainerSupportå‚æ•°æ¥æ›´å¥½æ”¯æŒå®¹å™¨ï¼Œæ”¯æŒå†…å­˜å’Œcpuã€‚ åœ¨å¼€å¯-XX:-UseContainerSupportçš„åŒæ—¶ï¼ŒXX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeapä¼šè¢«å…³é—­ã€‚ ref Java SE support for Docker CPU and memory limits ç¾Žå›¢å®¹å™¨å¹³å°æž¶æž„åŠå®¹å™¨æŠ€æœ¯å®žè·µ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬6æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-6%2F</url>
      <content type="text"><![CDATA[é¢˜å›¾ä¸ºå…¬å¸æ¥¼ä¸‹å…¬å›­çš„æ¨æ ‘æž—ã€‚æ—¶å…‰æ˜“é€å¼¹æŒ‡é—´ï¼Œåˆåˆ°ä¸€å¹´å¶è½æ—¶ã€‚ èµ„æº1.runV åŸºäºŽ hypervisor çš„ OCI runtime 2.operator-sdk operatoræœºåˆ¶åˆ©ç”¨CRDæœºåˆ¶å¢žå¼ºäº†kubernetesçš„çµæ´»æ€§ï¼Œä½†operatorçš„ç¼–å†™ä»£ç å¾ˆå¤šæ¨¡å¼éƒ½æ˜¯å›ºå®šçš„ï¼Œè¯¥é¡¹ç›®æä¾›äº†æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ã€‚ 3.orchestrator ç”¨æ¥ç®¡ç†mysqlçš„é›†ç¾¤æ‹“æ‰‘å’Œæ•…éšœè‡ªåŠ¨è½¬ç§»çš„å·¥å…·ã€‚ 4.Tars è…¾è®¯å¼€æºçš„RPCæ¡†æž¶ï¼Œåœ¨è…¾è®¯å†…éƒ¨å·²ç»æœ‰å¤šå¹´çš„ä½¿ç”¨åŽ†å²ï¼Œç›®å‰æ”¯æŒå¤šç§è¯­è¨€ã€‚ 5.ngx_http_dyups_module nginx moduleï¼Œå¯ä»¥æä¾›Restful APIçš„å½¢å¼æ¥åŠ¨æ€ä¿®æ”¹upstreamï¼Œè€Œä¸ç”¨é‡æ–°reload nginxã€‚ 6.Dragonfly é˜¿é‡Œå·´å·´å¼€æºçš„åŸºäºŽP2Pçš„å®¹å™¨é•œåƒåˆ†å‘ç³»ç»Ÿã€‚ 7.SonarQube å¼€æºçš„ä»£ç æ£€æŸ¥å’Œæ‰«æå·¥å…·ï¼Œæ”¯æŒå¤šç§è¯­è¨€ï¼Œå¹¶æä¾›äº†å‹å¥½çš„webç•Œé¢ç”¨æ¥æŸ¥çœ‹åˆ†æžç»“æžœã€‚ 8.QUIC QUICæ˜¯Googleå¼€å‘çš„åŸºäºŽUDPçš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›äº†åƒTCPä¸€æ ·çš„æ•°æ®å¯é æ€§ï¼Œä½†é™ä½Žäº†æ•°æ®çš„ä¼ è¾“å»¶æ—¶ï¼Œå¹¶å…·æœ‰çµæ´»çš„æ‹¥å¡žæŽ§åˆ¶å’Œæµé‡æŽ§åˆ¶ã€‚ 9.OpenMessaging é˜¿é‡Œå·´å·´å‘èµ·çš„åˆ†å¸ƒå¼æ¶ˆæ¯çš„åº”ç”¨å¼€å‘æ ‡å‡†ï¼Œç›®å‰githubä¸Šçš„staræ•°è¿˜è¾ƒå°‘ã€‚ 10.nsenter nsenteræ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥è¿›å…¥åˆ°è¿›ç¨‹çš„linux namespaceä¸­ã€‚ dockeræä¾›äº†execå‘½ä»¤å¯ä»¥è¿›å…¥åˆ°å®¹å™¨ä¸­ï¼Œnsenterå…·æœ‰è·Ÿdocker execå·®ä¸å¤šçš„æ‰§è¡Œæ•ˆæžœï¼Œä½†æ˜¯æ›´åº•å±‚ï¼Œç‰¹åˆ«æ˜¯docker daemonè¿›ç¨‹å¼‚å¸¸çš„æ—¶å€™ï¼Œnsenterçš„ä½œç”¨å°±æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå› æ­¤å¯ä»¥ç”¨äºŽæŽ’æŸ¥çº¿ä¸Šçš„dockeré—®é¢˜ã€‚ ç²¾å½©æ–‡ç« 1.ä¸ºä½•ç¨‹åºå‘˜æ°¸è¿œæ˜¯é«˜è–ªè¡Œä¸š ä»Žè®°è€…çš„è§†è§’æ¥äº†è§£é˜¿é‡Œäº‘çš„åŽ†å²ã€‚ 2.Harborä¼ å¥‡ï¼ˆ1ï¼‰- Harborå‰ä¸– 3.èš‚èšé‡‘æœ Service Mesh å®žè·µæŽ¢ç´¢ 4.ç¾Žå›¢å®¹å™¨å¹³å°æž¶æž„åŠå®¹å™¨æŠ€æœ¯å®žè·µ ç¾Žå›¢å†…éƒ¨çš„å®¹å™¨å¹³å°HULKå·²ç»ä»Žç¬¬ä¸€ä»£çš„è‡ªç ”å‡çº§ä¸ºç¬¬äºŒä»£çš„åŸºäºŽkubernetesçš„å®¹å™¨ç®¡ç†å¹³å°ã€‚ç”±æ­¤å¯ä»¥åæ˜ å‡ºkubernetesåœ¨å®¹å™¨ç®¡ç†é¢†åŸŸçš„åœ°ä½ã€‚ 5.Serverlessï¼šåŽç«¯å°ç¨‹åºçš„æœªæ¥ Serverlessæ˜¯æœªæ¥è½¯ä»¶æž¶æž„çš„ä¸€ä¸ªæ¼”è¿›æ–¹å‘ï¼ŒåŒ…æ‹¬BasSï¼ˆBackend as a Serviceï¼ŒåŽç«¯å³æœåŠ¡ï¼‰å’ŒFaaSï¼ˆFunctions as a Serviceï¼Œå‡½æ•°å³æœåŠ¡ï¼‰ä¸¤ä¸ªç»„æˆéƒ¨åˆ†ã€‚ BaaSåŒ…æ‹¬å¯¹è±¡å­˜å‚¨ã€æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰æœåŠ¡ï¼Œå¹¶ä»¥APIçš„å½¢å¼æä¾›åº”ç”¨ä¾èµ–çš„åŽç«¯æœåŠ¡ã€‚ FaaSä¸­çš„è¿è¡Œæ˜¯é€šè¿‡äº‹ä»¶è§¦å‘çš„æ–¹å¼ï¼Œä»£ç æ‰§è¡Œå®ŒæˆåŽå³è¿è¡Œç»“æŸï¼Œå› æ­¤ä»£ç å¿…é¡»æ˜¯æ— çŠ¶æ€çš„ã€‚FaaSå¹³å°è´Ÿè´£æœåŠ¡çš„è‡ªåŠ¨æ‰©å®¹ï¼Œå¹¶å¯åšåˆ°æŒ‰ç…§æœåŠ¡çš„ä½¿ç”¨èµ„æºä»˜è´¹ï¼Œä»¥èŠ‚çœå¤§é‡å¼€æ”¯ã€‚ Serverlessç»™å¼€å‘äººå‘˜å¸¦æ¥äº†éžå¸¸å¤§çš„ä¾¿åˆ©æ€§ï¼Œä½†åŒæ—¶ä¹Ÿè½¯ä»¶è·Ÿäº‘å¹³å°ç»‘å®šç‰¹åˆ«ç´§å¯†ã€‚ å›¾ä¹¦1.ã€Šå¥ˆé£žæ–‡åŒ–æ‰‹å†Œ:â€œç¡…è°·é‡è¦æ–‡ä»¶â€çš„æ·±åº¦è§£è¯»ã€‹ Netflixå…¬å¸çš„æŠ€æœ¯æ–‡åŒ–ä¸€ç›´éžå¸¸è¢«ä¸šç•ŒæŽ¨å´‡ï¼Œå¯ä»¥ä»ŽNetflix OSSå·²ç»å¼€æºçš„è½¯ä»¶é¡¹ç›®ï¼Œå¾ˆå¤šçš„å¼€æºé¡¹ç›®åœ¨ç¤¾åŒºä¹Ÿæœ‰ä¸é”™çš„å½±å“åŠ›ï¼Œæœ¬ä¹¦å€¼å¾—æ¯ä¸€ä½æŠ€æœ¯ä»Žä¸šè€…ä¸€è¯»ã€‚ ç²¾å½©å¥å­ æˆ‘ä»¬è¦æ±‚å¤§å®¶åšå‡ºçš„ä»»ä½•ä¸¾åŠ¨ï¼Œå‡ºå‘ç‚¹éƒ½æ˜¯ä»¥å¯¹å®¢æˆ·å’Œå…¬å¸æœ€æœ‰åˆ©ä¸ºå‡ºå‘ç‚¹ï¼Œè€Œä¸æ˜¯è¯•å›¾è¯æ˜Žè‡ªå·±æ­£ç¡®ã€‚ - å¥ˆé£žæ–‡åŒ–æ‰‹å†Œ:â€œç¡…è°·é‡è¦æ–‡ä»¶â€çš„æ·±åº¦è§£è¯»]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[golangä½¿ç”¨pprofåˆ†æžç¨‹åºæ€§èƒ½ç“¶é¢ˆ]]></title>
      <url>%2Fpost%2Fgolang-pprof%2F</url>
      <content type="text"><![CDATA[golangä¸­çš„pprofå·¥å…·å¯ä»¥åˆ†æžç³»ç»Ÿé—®é¢˜ï¼Œå¼€å¯pprofåŠŸèƒ½éžå¸¸ç®€å•ï¼Œå³åœ¨importä¸­å¢žåŠ _ &quot;net/http/pprof&quot;çš„å¯¼å…¥å³å¯ï¼Œç„¶åŽé€šè¿‡httpè°ƒç”¨/debug/pprofæŽ¥å£å³å¯åœ¨webç•Œé¢ä¸Šçœ‹åˆ°pprofçš„ç›¸å…³ä¿¡æ¯ã€‚ golang 1.11ç‰ˆæœ¬ä¸­å·²ç»è‡ªå¸¦äº†ç«ç„°å›¾åŠŸèƒ½ï¼Œç«ç„°å›¾ä¸ºæ€§èƒ½åˆ†æžçš„åˆ©å™¨ï¼Œå¯ä»¥å¿«é€Ÿæ‰¾åˆ°ç¨‹åºæ€§èƒ½çš„ç“¶é¢ˆã€‚ä¸å†éœ€è¦ä½¿ç”¨go-torché¡¹ç›®ã€‚ æŸ¥çœ‹ç«ç„°å›¾éœ€è¦ç”¨åˆ°Graphvizå·¥å…·ï¼Œè¯¥å·¥å…·éœ€è¦å•ç‹¬å®‰è£…ã€‚ Graphvizå·¥å…·è¿è¡Œçš„æœåŠ¡å™¨ç³»ç»Ÿä¸ºCentOSï¼Œä½¿ç”¨ä¸‹è½½æºç åŒ…çš„æ–¹å¼è¿›è¡Œå®‰è£…ã€‚ ä¾æ¬¡æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š 123./configuremakemake install ä¾‹å­æœ¬æ–‡çš„ä½¿ç”¨çŽ¯å¢ƒï¼šæœåŠ¡å™¨ç¨‹åºä¸ºtransferï¼Œè¿è¡Œåœ¨linuxç³»ç»Ÿä¸­ã€‚æ‰§è¡Œgo tool pprofå‘½ä»¤è¿è¡Œåœ¨linuxæœåŠ¡å™¨10.103.17.184ä¸Šã€‚ ç¨‹åºè¿è¡ŒåŽè°ƒç”¨ç¨‹åºçš„/debug/pprof/profilehttpæŽ¥å£ï¼Œå¯èŽ·å–åˆ°cpu profileæ•°æ®æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå¯ä»¥æ‰§è¡Œè¿è¡Œwget http://10.103.34.138:3300/debug/pprof/profileå‘½ä»¤ï¼Œå°†profileæ–‡ä»¶ä¸‹è½½åˆ°å¦å¤–ä¸€å°åˆ†æžçš„æœåŠ¡å™¨ä¸Šã€‚ åœ¨åˆ†æžæœåŠ¡å™¨ä¸Šæ‰§è¡Œgo tool pprof -http=&quot;10.103.17.184:20000&quot; transfer profile åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€10.103.17.184:20000å³å¯å¾—åˆ°æ€§èƒ½åˆ†æžçš„ç»“æžœã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[nsenterçš„ç”¨æ³•]]></title>
      <url>%2Fpost%2Fnsenter%2F</url>
      <content type="text"><![CDATA[nsenteræ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥è¿›å…¥åˆ°è¿›ç¨‹çš„linux namespaceä¸­ã€‚ dockeræä¾›äº†execå‘½ä»¤å¯ä»¥è¿›å…¥åˆ°å®¹å™¨ä¸­ï¼Œnsenterå…·æœ‰è·Ÿdocker execå·®ä¸å¤šçš„æ‰§è¡Œæ•ˆæžœï¼Œä½†æ˜¯æ›´åº•å±‚ï¼Œç‰¹åˆ«æ˜¯docker daemonè¿›ç¨‹å¼‚å¸¸çš„æ—¶å€™ï¼Œnsenterçš„ä½œç”¨å°±æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå› æ­¤å¯ä»¥ç”¨äºŽæŽ’æŸ¥çº¿ä¸Šçš„dockeré—®é¢˜ã€‚ CentOSç”¨æˆ·å¯ä»¥ç›´æŽ¥ä½¿ç”¨yum install util-linuxæ¥è¿›è¡Œå®‰è£…ã€‚ å¯åŠ¨è¦è¿›å…¥çš„å®¹å™¨ï¼šdocker run -d ubuntu /bin/bash -c &quot;sleep 1000&quot; èŽ·å–å®¹å™¨çš„pidå¯ä»¥ä½¿ç”¨` è¦è¿›å…¥å®¹å™¨æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1234# èŽ·å–å®¹å™¨çš„piddocker inspect 9f7f7a7f0f26 -f &apos;&#123;&#123;.State.Pid&#125;&#125;&apos;# è¿›å…¥pidå¯¹åº”çš„namespacesudo nsenter --target $PID --mount --uts --ipc --net --pid ref nsenter man page nsenter GitHub]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬5æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-5%2F</url>
      <content type="text"><![CDATA[é¢˜å›¾ä¸ºåŒ—äº¬åŸŽè¥¿éƒ¨çš„æ½­æŸ˜å¯ºï¼Œå§‹å»ºäºŽè¥¿æ™‹å¹´é—´ï¼Œæœ‰â€œå…ˆæœ‰æ½­æŸ˜å¯ºï¼ŒåŽæœ‰å¹½å·žåŸŽâ€çš„è¯´æ³•ã€‚ æ˜Žæœç‡•çŽ‹æœ±æ££å¬å–äº†é‡è‡£å§šå¹¿å­çš„å»ºè®®åŽï¼Œèµ·å…µâ€œé–éš¾â€ï¼Œå¹¶æˆåŠŸå¤ºå–çš‡ä½ã€‚æœ±æ££ç»§çš‡å¸ä½åŽï¼Œå§šå¹¿å­è¾žå®˜åˆ°äº¬è¥¿çš„æ½­æŸ˜å¯ºéšå±…ä¿®è¡Œã€‚æ®è¯´å½“å¹´ä¿®å»ºåŒ—äº¬åŸŽæ—¶ï¼Œè®¾è®¡å¸ˆå°±æ˜¯å§šå¹¿å­ï¼Œä»–ä»Žæ½­æŸ˜å¯ºçš„å»ºç­‘å’Œå¸ƒå±€ä¸­èŽ·å¾—äº†ä¸å°‘çµæ„Ÿã€‚ èµ„æº1.virtual-kubelet å¾ˆå¤šå…¬æœ‰äº‘åŽ‚å•†éƒ½æä¾›äº†å¼¹æ€§å®¹å™¨æœåŠ¡å®žä¾‹ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘çš„ECIï¼ˆElastic Container Instanceï¼‰ã€AWS Fargateã€Azure Container Instancesç­‰ï¼Œä½†è¿™äº›å¹³å°éƒ½æä¾›äº†ç§æœ‰çš„APIï¼Œä¸Žkubernetesçš„APIä¸å…¼å®¹ã€‚è¯¥é¡¹ç›®å°†å…¬æœ‰äº‘åŽ‚å•†çš„çš„å®¹å™¨ç»„è™šæ‹Ÿä¸ºkubernetesé›†ç¾¤ä¸­çš„ä¸€ä¸ªè¶…çº§nodeï¼Œä»¥ä¾¿æ”¯æŒkubernetesçš„APIï¼Œä¸Žæ­¤åŒæ—¶å¤±åŽ»äº†å¾ˆå¤škubernetesçš„ç‰¹æ€§ã€‚ 2.Kata Containers å®¹å™¨åœ¨éƒ¨ç½²æœåŠ¡æ–¹é¢æœ‰å¾—å¤©ç‹¬åŽšçš„ä¼˜åŠ¿ï¼Œä½†å—é™äºŽå†…æ ¸ç‰¹æ€§ï¼Œåœ¨éš”ç¦»æ€§å’Œå®‰å…¨æ€§æ–¹é¢ä»ç„¶è¾ƒå¼±ã€‚è™šæ‹Ÿæœºï¼ˆVMï¼‰åœ¨éš”ç¦»æ€§å’Œå®‰å…¨æ€§æ–¹é¢éƒ½æ¯”è¾ƒå¥½ï¼Œä½†å¯åŠ¨é€Ÿåº¦å’Œå ç”¨èµ„æºæ–¹é¢å´ä¸å¦‚å®¹å™¨ã€‚Kata Containersé¡¹ç›®ä½œä¸ºè½»é‡çº§çš„è™šæ‹Ÿæœºï¼Œä½†æä¾›äº†å¿«é€Ÿçš„å¯åŠ¨é€Ÿåº¦ã€‚åŒæ—¶æ”¯æŒDockerå®¹å™¨çš„OCIæ ‡å‡†å’Œkubernetesçš„CRIã€‚ç›®å‰åŽä¸ºå…¬æœ‰äº‘å·²ç»å°†æ­¤æŠ€æœ¯ç”¨äºŽç”Ÿäº§çŽ¯å¢ƒä¸­ã€‚ 3.Knative åœ¨ä»Šå¹´çš„Google Cloud Nextå¤§ä¼šä¸Šï¼ŒGoogleå‘å¸ƒäº†Knative, è¿™æ˜¯ç”±Googleã€Pivotalã€Redhatå’ŒIBMç­‰äº‘åŽ‚å•†å…±åŒæŽ¨å‡ºçš„Serverlesså¼€æºå·¥å…·ç»„ä»¶ï¼Œå®ƒä¸ŽIstioï¼ŒKubernetesä¸€èµ·ï¼Œå½¢æˆäº†å¼€æºServerlessæœåŠ¡çš„ä¸‰é©¾é©¬è½¦ã€‚ 4.naftis å°ç±³ä¿¡æ¯éƒ¨æ­¦æ±‰ç ”å‘ä¸­å¿ƒå¼€æºçš„istioçš„dashboardã€‚ 5.kubespy ç”¨æ¥æŸ¥çœ‹kubernetesä¸­èµ„æºå®žæ—¶å˜åŒ–çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ 6.Md2All å¦‚æžœä½ å·²ç»ä¹ æƒ¯äº†markdownå†™ä½œï¼Œåœ¨å¾®ä¿¡å…¬è´¦å·å‘æ–‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å·¥å…·æ¸²æŸ“åŽï¼Œå°†æ–‡ç« å¤åˆ¶åˆ°å¾®ä¿¡å…¬ä¼—å·åŽå°ã€‚ ç²¾å½©æ–‡ç« 1.é˜¿é‡Œäº‘çš„è¿™ç¾¤ç–¯å­ ä»Žè®°è€…çš„è§†è§’æ¥äº†è§£é˜¿é‡Œäº‘çš„åŽ†å²ã€‚ 2.çŽ‹åž æœ€è¿‘åšå®¢-æ›´æ–°ä¸€ä¸‹ æ›¾ç»ä»¥å¤©æ‰è‡ªå±…æ¡€éªœä¸é©¯å‚²è§†ä¸€åˆ‡çš„åž ç¥žï¼Œçªç„¶å˜å¾—æ¸©é¡ºäº†è®¸å¤šï¼Œå¼€å§‹æ„è¯†åˆ°è‡ªå·±çš„ç¼ºç‚¹ï¼Œå¼€å§‹äº«å—ç”Ÿæ´»ã€‚ 3.ä¸ºä½•â€œç§€æ©çˆ±ï¼Œæ­»å¾—å¿«â€ï¼Ÿæˆ‘æ˜¯è®¤çœŸçš„ ç”¨é‡å­ç‰©ç†å­¦çš„çŸ¥è¯†æ¥è§£é‡Šä¸ºå•¥â€œç§€æ©çˆ±ï¼Œæ­»å¾—å¿«â€ã€‚ 4.CTOã€æŠ€æœ¯æ€»ç›‘ã€é¦–å¸­æž¶æž„å¸ˆçš„åŒºåˆ« 5.é¢å¯¹äº‘åŽ‚å•†æ’ç®¡å¸è¡€ï¼ŒMongoDBä½¿å‡ºç»æ€ åŠå¹´åŽçœ‹ä¸‹MongoDBçš„ä¿®æ”¹å¼€æºåè®®çš„åšæ³•åœ¨å›½å†…å¥æ•ˆå¦ã€‚ 6.ç»ˆäºŽæ˜Žç™½äº† K8S äº²å’Œæ€§è°ƒåº¦ é€šè¿‡è¯¥æ–‡ç« ï¼Œå·²ç»å·®ä¸å¤šå¯ä»¥äº†è§£kubernetesè°ƒåº¦çš„äº²å’Œæ€§ã€åäº²å’Œæ€§ã€taintå’Œtolerationæœºåˆ¶äº†ã€‚ 7.å¾®è½¯èµ„æ·±å·¥ç¨‹å¸ˆè¯¦è§£ K8S å®¹å™¨è¿è¡Œæ—¶ å›¾ä¹¦1.é¸Ÿå“¥çš„Linuxç§æˆ¿èœï¼šåŸºç¡€å­¦ä¹ ç¯‡ï¼ˆç¬¬å››ç‰ˆï¼‰ é¸Ÿå“¥çš„linuxç§æˆ¿èœç»ˆäºŽå‡ºæ–°ç‰ˆäº†ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯åŸºäºŽCentOS7çš„ã€‚ ç”µå½±1.å—å—è€å¸ˆ ç”µå½±è®²è¿°äº†å°åº¦è´«æ°‘çªŸä¸­çš„å­©å­åœ¨å­¦æ ¡ä¸Šå­¦æ€»æ˜¯é­å—æ­§è§†ä¸çˆ±å­¦ä¹ å„ç§è°ƒçš®æ£è›‹ï¼Œåœ¨ä¸€ä½æ–°è€å¸ˆæ¥äº†åŽï¼Œå°†å­¦ç”Ÿä»¬å¸¦å‘æ­£è½¨çš„æ•…äº‹ã€‚å°åº¦ç”µå½±æ€»èƒ½å°†å¹³å‡¡çš„ç”µå½±æ¼”ç»Žçš„å¾ˆé­”æ€§ï¼Œå•å°±è¿™äº›æ•…äº‹å°±å·²ç»è¶³å¤Ÿäº†ã€‚ååè¿™ä½è€å¸ˆè¿˜æ˜¯æŠ½åŠ¨ç§½è¯­ç»¼åˆå¾æ‚£è€…ï¼Œåœ¨å—åˆ°è€å¸ˆå’Œå­¦ç”Ÿä»¬çš„åŒé‡æ­§è§†ä¸‹ï¼Œç»™æ•…äº‹æƒ…èŠ‚å¢žåŠ äº†è®¸å¤šæ„Ÿäººå’ŒåŠ±å¿—è‰²å½©ã€‚ å¼ºè¿«ç—‡æ‚£è€…è°¨æ…Žè§‚çœ‹ï¼Œçœ‹å®Œç”µå½±åŽï¼Œæ€»æ„Ÿè§‰å¾—æŠ½æä¸¤ä¸‹æ‰èˆ’æœã€‚ ç²¾å½©å¥å­ è´§å¸çš„è´¬å€¼ï¼Œæ˜¯æ°¸æ’çš„è¶‹åŠ¿ã€‚æ˜Žå¤©çš„ç‰©ä»·ï¼Œä¸€å®šæ¯”ä»Šå¤©çš„è´µã€‚ä½ æƒ³è¦èµšé’±ï¼Œå°±ä¸€å®šè¦æŠŠä»Šå¤©çš„é’±ï¼Œæ¢æˆæ˜Žå¤©çš„ç‰©ã€‚è€Œä¸”æ—¶é—´è¶Šç´§å‡‘è¶Šå¥½ã€‚ â€“ å…«å¹´ä¹‹åŽ æˆ¿ä»·å¤šå°‘ï¼Ÿ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬4æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-4%2F</url>
      <content type="text"><![CDATA[ä»Šå¹´ä»¥æ¥ï¼Œç½‘ç»œä¸Šä¸€ç›´åœ¨ä¼ è¨€æµŽå—å¸‚è¦åžå¹¶èŽ±èŠœå¸‚çš„æ¶ˆæ¯ï¼Œæœ€è¿‘å‡ å¤©å°¤ç”šã€‚å¸‚æ°‘ä»¬çº·çº·åŽ»å¸‚æ”¿åºœé—¨å‰æ‹ç…§ç•™å¿µï¼Œçºªå¿µèŽ±èŠœå¸‚çš„æœ€åŽä¸€å¤©ï¼Œè™½ç„¶åˆ°ä»Šå¤©ä¸ºæ­¢ä¼ è¨€è¿˜æœªå˜æˆçŽ°å®žï¼Œä½†åº”è¯¥æ˜¯è¿Ÿæ—©è¦åˆ°æ¥çš„ã€‚ æœ‰è¶£çš„æ˜¯ï¼ŒèŽ±èŠœå¸‚æ˜¯1993æ‰ä»Žæ³°å®‰å¸‚ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œå¾ˆå¤šäººéƒ½æ„Ÿæ…¨é“ï¼šå‡ºç”Ÿæ˜¯æ³°å®‰äººï¼Œé•¿å¤§æ˜¯èŽ±èŠœäººï¼Œæ˜Žå¤©å˜æˆæµŽå—äººã€‚åœ°ç†ä½ç½®ä¸Šè€Œè¨€ï¼ŒèŽ±èŠœè·ŸæµŽå—æ­ç•Œï¼Œè€Œä¸”èŽ±èŠœå¸‚æ˜¯å±±ä¸œçœ17åœ°å¸‚ä¸­é¢ç§¯æœ€å°çš„ä¸€ä¸ªã€‚ å±±ä¸œçš„å‘å±•ç­–ç•¥ä¸€ç›´æ˜¯å„åœ°å¸‚å…¨é¢å‘å±•ï¼ŒæµŽå—å¸‚ä½œä¸ºçœä¼šï¼Œåœ¨ä¸­å›½åŸŽå¸‚ä¸­çš„å­˜åœ¨æ„Ÿç¡®å®žä¸å¤Ÿå¼ºï¼Œåžå¹¶èŽ±èŠœåŽä¹Ÿä¸€æ ·ä¸ä¼šå˜å¼ºå¤ªå¤šï¼Œä¸€ä¸ªåœ°å¸‚è¦æƒ³å˜å¼ºï¼Œè¦ä»Žå¤šæ–¹é¢æ‰¾åŽŸå› ã€‚ èµ„æº1.k8s-deployment-strategies kuberneteså†…ç½®çš„deploymentå’Œstatefulsetå¯¹è±¡å¾€å¾€å¾ˆéš¾æ»¡è¶³ä¼ä¸šçš„éƒ¨ç½²éœ€æ±‚ï¼Œæ¯”å¦‚è“ç»¿å‘å¸ƒã€é‡‘ä¸é›€å‘å¸ƒç­‰ï¼ŒGithubä¸Šçš„é¡¹ç›®ä»‹ç»äº†å…¶ä»–éƒ¨ç½²æ–¹å¼åœ¨kubernetesä¸Šçš„å…·ä½“å®žçŽ°æ–¹å¼ã€‚ 2.Letâ€™s Encrypt httpsè¶Šæ¥è¶Šæ™®åŠï¼Œé€šå¸¸CAé¢å‘çš„è¯ä¹¦éƒ½æ˜¯æ”¶è´¹çš„ï¼ŒLetâ€™s Encryptæ˜¯ä¸€å®¶éžç›ˆåˆ©çš„CAæœºæž„ï¼Œä¸ºå¹¿å¤§çš„å°åž‹ç«™ç‚¹å’Œåšå®¢åšä¸»æä¾›äº†éžå¸¸å¤§çš„å¸®åŠ©ã€‚Github pagesä¸­ä¹Ÿæ˜¯é‡‡ç”¨äº†Letâ€™s Encryptæ¥æä¾›è‡ªå®šä¹‰åŸŸåçš„httpsæœåŠ¡æ”¯æŒã€‚ 3.openmetrics ç›‘æŽ§é¢†åŸŸå­˜åœ¨å¤šæ¬¾å¼€æºè½¯ä»¶ï¼Œæ¯”å¦‚premetheusã€influxdbã€opentsdbç­‰ï¼Œæ¯ç§è½¯ä»¶çš„å†™å…¥æ•°æ®æ ¼å¼éƒ½ä¸ä¸€è‡´ï¼Œè¯¥å¼€æºé¡¹ç›®æ—¨åœ¨å®šä¹‰ç›‘æŽ§æ•°æ®çš„æ ‡å‡†æ ¼å¼ï¼Œç›®å‰æ”¯æŒpremetheusçš„æ–‡æœ¬æ ¼å¼å’Œprotobufä¸¤ç§æ ¼å¼ã€‚è¯¥é¡¹ç›®ç›®å‰è¿˜åœ¨èµ·æ­¥é˜¶æ®µï¼Œå·²ç»åŠ å…¥CNCFï¼ŒæœŸå¾…åŽç»­ä¸€ç»Ÿè¡Œä¸šæ ‡å‡†ã€‚ 4.NATS Goè¯­è¨€å®žçŽ°çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç›®å‰å·²ç»åŠ å…¥CNCFã€‚ 5.sequel fumpt sqlçš„åœ¨çº¿æ ¼å¼åŒ–å·¥å…·ã€‚ 6.The Linux Audit Project Linuxä¸‹çš„æ—¥å¿—å®¡è®¡å·¥å…·ï¼ŒCentOSç³»ç»Ÿä¸‹é»˜è®¤å®‰è£…ï¼Œå¯ä»¥é€šè¿‡man auditdçœ‹åˆ°è¯¥å·¥å…·çš„è¯´æ˜Žã€‚ 7.kafkabridge 360å¼€æºçš„kafkaå®¢æˆ·ç«¯åº“çš„å°è£…ï¼Œåªéœ€è°ƒç”¨æžå°‘é‡çš„æŽ¥å£ï¼Œå°±å¯å®Œæˆæ¶ˆæ¯çš„ç”Ÿäº§å’Œæ¶ˆè´¹ã€‚æ”¯æŒå¤šç§è¯­è¨€ï¼šc++/cã€phpã€pythonã€golangã€‚ ç²¾å½©æ–‡ç« 1.Keyhole,Google Mapså‘å±•å² æ–‡ç« ä¸ºå¾®ä¿¡å…¬ä¼—å·ä½™æ™Ÿä»¥ä¸ºçš„ç³»åˆ—æ–‡ç« ï¼Œå¤§éƒ¨åˆ†ç´ ææ¥æºäºŽã€ŠNever Lost Againã€‹ä¸€ä¹¦ï¼Œè¯¥ä¹¦ä½œè€…ä¸ºBill Kildayï¼ŒKeyholeå’ŒGoogle Mapså›¢é˜Ÿçš„æ ¸å¿ƒæˆå‘˜ã€‚æ–‡ç« ä»‹ç»äº†Google Mapsçš„å‰èº«Keyholeçš„åˆ›ä¸šå²ï¼ŒåŽè¢«Googleæ”¶è´­åŽï¼ŒåˆæŽ¨å‡ºäº†åŸºäºŽwebçš„Google Mapsäº§å“ï¼Œç»§è€Œå¼€å‘å‡ºäº†Google Earthäº§å“ã€‚å³ä½¿åœ¨Googleå†…éƒ¨ï¼Œä¹Ÿå­˜åœ¨å›¢é˜Ÿä¹‹é—´çš„å­¤ç«‹åŠä¸ä¿¡ä»»é—®é¢˜ã€‚ Keyholeï¼ŒGoogle Mapså‰ä¼  Google Mapsï¼ŒKeyholeåŽä¼  ä»ŽGoogle Mapsåˆ°Google Earth 2.Kubernetes è°ƒåº¦å™¨ä»‹ç» æ–‡ç« å¯¹kubernetesçš„kube-schedulerçš„æ•´ä½“æµç¨‹ä»‹ç»çš„æ¯”è¾ƒæ¸…æ™°ã€‚ 3.A Brief History of Alibaba Founders é˜¿é‡Œå·´å·´çš„18ç½—æ±‰ä»‹ç»ã€‚ å›¾ç‰‡1.ç”µä¼ æ‰“å­—æœºè®¾å¤‡(Teletype) æ—©æœŸçš„è®¡ç®—æœºè®¾å¤‡æ¯”è¾ƒç¬¨é‡ï¼Œè®¡ç®—æœºæ”¾åœ¨å•ç‹¬çš„ä¸€ä¸ªæˆ¿é—´ä¸­ï¼Œæ“ä½œè®¡ç®—æœºçš„äººååœ¨å¦å¤–ä¸€ä¸ªæˆ¿é—´ä¸­ï¼Œé€šè¿‡ç»ˆç«¯æœºè®¾å¤‡æ¥æ“ä½œè®¡ç®—æœºã€‚ æ—©æœŸçš„ç»ˆç«¯è®¾å¤‡ä¸ºç”µä¼ æ‰“å­—æœº(Teletype)ï¼Œè¯¥è®¾å¤‡ä»·æ ¼æ¯”è¾ƒä½Žå»‰ï¼Œé€šè¿‡é”®ç›˜è¾“å…¥ï¼Œå¹¶å°†è¾“å‡ºå†…å®¹æ‰“å°å‡ºæ¥ã€‚å›¾ä¸­çš„è®¾å¤‡ä¸ºASR-33ï¼Œåœ¨YouTubeä¸Šå¯ä»¥å¯ä»¥çœ‹åˆ°è§†é¢‘ã€‚ æœ‰æ„æ€çš„æ˜¯ï¼Œå®žé™…ä¸ŠTeletypeçš„å‡ºçŽ°è¦æ—©äºŽè®¡ç®—æœºï¼ŒåŽŸæœ¬ç”¨äºŽåœ¨ç”µæŠ¥çº¿è·¯ä¸Šå‘é€ç”µæŠ¥ï¼Œä½†æ˜¯åŽæ¥è®¡ç®—æœºå‡ºçŽ°åŽç›´æŽ¥æ‹¿æ¥ä½œä¸ºè®¡ç®—æœºçš„ç»ˆç«¯è®¾å¤‡ã€‚ åœ¨linuxæ“ä½œç³»ç»Ÿä¸­è®¾è®¡äº†ttyå­ç³»ç»Ÿç”¨äºŽæ”¯æŒttyè®¾å¤‡ï¼Œå¹¶å°†å…·ä½“çš„ç¡¬ä»¶è®¾å¤‡æ”¾åˆ°/dev/tty*ç›®å½•ä¸‹ï¼Œè¿™é‡Œçš„ttyè®¾å¤‡å³Teletypeã€‚ä¸è¿‡åŽæ¥éšç€å…¶ä»–ç»ˆç«¯è®¾å¤‡çš„å¼•å…¥ï¼Œttyè¿™ä¸ªåå­—ä»æ—§ä¿ç•™äº†ä¸‹æ¥ï¼Œttyç›®å‰å·²åŸºæœ¬ä»£è¡¨ç»ˆç«¯çš„æ€»ç§°ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬3æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-3%2F</url>
      <content type="text"><![CDATA[é¢˜å›¾ä¸ºåŒ—äº¬çŽ‰æ¸¡å±±é£Žæ™¯åŒºä¸­çš„ç›˜å±±å…¬è·¯ï¼Œæ—è¾¹æœ‰ä¸ªè§‚æ™¯å°ï¼Œåœ¨è§‚æ™¯å°ä¸Šå¯ä»¥é¸Ÿçž°å®˜åŽ…æ°´åº“ã€‚ èµ„æº1.Intel RDT Intel RDT(Resource Director Technology)èµ„æºè°ƒé…æŠ€æœ¯æ¡†æž¶ï¼ŒåŒ…æ‹¬é«˜é€Ÿç¼“å­˜ç›‘æŽ§æŠ€æœ¯ï¼ˆCMTï¼‰ã€é«˜é€Ÿç¼“å­˜åˆ†é…æŠ€æœ¯ï¼ˆCATï¼‰ã€å†…å­˜å¸¦å®½ç›‘æŽ§ï¼ˆMBMï¼‰å’Œä»£ç å’Œæ•°æ®ä¼˜å…ˆçº§ï¼ˆCDPï¼‰ï¼Œå®¹å™¨æŠ€æœ¯çš„runcé¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†CATæŠ€æœ¯æ¥è§£å†³cgroupä¸‹çš„CPUçš„ä¸‰çº§ç¼“å­˜éš”ç¦»æ€§é—®é¢˜ã€‚ åœ¨linux 4.10ä»¥ä¸Šå†…æ ¸ä¸­é€šè¿‡èµ„æºæŽ§åˆ¶æ–‡ä»¶ç³»ç»Ÿçš„æ–¹å¼æ¥æä¾›ç»™ç”¨æˆ·æŽ¥å£ï¼Œç±»ä¼¼cgroupçš„ç®¡ç†æ–¹å¼ã€‚ æ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸‹runcé¡¹ç›®æºç ã€‚ 2.Thanos Prometheusä½œä¸ºGoogleå†…éƒ¨ç›‘æŽ§ç³»ç»ŸBorgmonçš„å¼€æºå®žçŽ°ç‰ˆæœ¬ï¼Œå­˜åœ¨é«˜å¯ç”¨å’ŒåŽ†å²æ•°æ®å­˜å‚¨ä¸¤ä¸ªè‡´å‘½çš„ç¼ºç‚¹ï¼ŒThanosåˆ©ç”¨Sidecarç­‰æŠ€æœ¯æ¥è§£å†³Prometheusçš„ç¼ºç‚¹ã€‚ 3.netshoot 123456 dP dP dP 88 88 8888d888b. .d8888b. d8888P .d8888b. 88d888b. .d8888b. .d8888b. d8888P88&apos; `88 88ooood8 88 Y8ooooo. 88&apos; `88 88&apos; `88 88&apos; `88 8888 88 88. ... 88 88 88 88 88. .88 88. .88 88dP dP `88888P&apos; dP `88888P&apos; dP dP `88888P&apos; `88888P&apos; dP ç”¨äºŽæŽ’æŸ¥dockerç½‘ç»œé—®é¢˜çš„å·¥å…·ï¼Œä»¥å®¹å™¨çš„æ–¹å¼è¿è¡Œåœ¨è·Ÿè¦æŽ’æŸ¥é—®é¢˜çš„å®¹å™¨åŒä¸€ä¸ªç½‘ç»œå‘½åç©ºé—´ä¸­ï¼Œè¯¥å®¹å™¨ä¸­å·²ç»å…·å¤‡äº†è¾ƒä¸ºä¸°å¯Œçš„ç½‘ç»œå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºŽæŽ’æŸ¥å®¹å™¨ä¸­çš„ç½‘ç»œé—®é¢˜ã€‚ 4.bat ç”¨æ¥æ›¿ä»£catçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€è‡ªåŠ¨åˆ†é¡µã€‚macä¸‹å¯ç›´æŽ¥ä½¿ç”¨brew install batæ¥å®‰è£…ã€‚ 5.asciiflow å†™åšå®¢çš„å¾€å¾€éƒ½æ¯”è¾ƒç—›æ¨å›¾ç‰‡çš„å­˜å‚¨é—®é¢˜ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨markdownè¯­æ³•å†™ä½œçš„ï¼Œå›¾ç‰‡å¾€å¾€éœ€è¦å›¾åºŠæ¥å­˜å‚¨ï¼Œå¸¸å¸¸è·Ÿæ–‡ç« ä¸åœ¨ä¸€èµ·å­˜å‚¨ã€‚asciiflowæ˜¯è¾ƒä¸ºå°ä¼—çš„ä¸€æ¬¾asciiå›¾å½¢å·¥å…·ï¼Œå¯ä»¥åº”ä»˜è¾ƒä¸ºç®€å•çš„å›¾å½¢ç»˜åˆ¶ï¼Œç›´æŽ¥ä»¥æ–‡å­—çš„å½¢å¼å‘ˆçŽ°ç®€å•å›¾å½¢ï¼ŒçœåŽ»äº†å­˜å‚¨å›¾ç‰‡çš„ç¹çã€‚ 6.processon å…è´¹çš„åœ¨çº¿å›¾è¡Œç»˜åˆ¶åä½œå·¥å…·ï¼Œæ”¯æŒæµç¨‹å›¾ã€æ€ç»´å¯¼å›¾ç­‰å¤šç§å›¾å½¢ï¼Œæœ‰ç±»ä¼¼visioçš„ä½¿ç”¨ä½“éªŒï¼ŒåŒæ—¶æ˜¯webç‰ˆçš„ï¼Œæ”¯æŒå¤šäººåä½œã€‚æˆ‘ç›®å‰åœ¨ä½¿ç”¨ï¼Œä¸è¿‡å…è´¹ç‰ˆæœ‰ä½¿ç”¨é™åˆ¶ã€‚ ç²¾å½©æ–‡ç« 1.æ‰‹æŠŠæ‰‹æ•™ä½ æ‰“é€ é«˜æ•ˆçš„ Kubernetes å‘½ä»¤è¡Œç»ˆç«¯ æ–‡ä¸­æ±‡æ€»äº†å„ç§å¯ä»¥å–ä»£kubernetesçš„å‘½ä»¤è¡Œkubectlçš„å·¥å…·ï¼Œä»¥ä¾¿æä¾›æ›´æ–¹ä¾¿çš„æ“ä½œï¼Œæ¯”å¦‚æ›´å®Œå–„çš„è‡ªåŠ¨è¡¥å…¨ã€‚ 2.Understand Container - Index Page å­¦ä¹ å®¹å™¨çš„cgroupå’Œnamespaceçš„ç³»åˆ—æ–‡ç« ã€‚ 3.gVisoræ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ dockerå®¹å™¨æŠ€æœ¯åŸºäºŽcgroupå’Œnamespaceæ¥å®žçŽ°ï¼Œä½†ç³»ç»Ÿè°ƒç”¨ä»æ˜¯è°ƒç”¨å®¿ä¸»æœºçš„ç³»ç»Ÿè°ƒç”¨ï¼Œæ¯”å¦‚åœ¨å…¶ä¸­ä¸€ä¸ªå®¹å™¨ä¸­é€šè¿‡ç³»ç»Ÿè°ƒç”¨ä¿®æ”¹äº†å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œåœ¨å…¶ä»–å®¹å™¨ä¸­çœ‹åˆ°çš„æ—¶é—´ä¹Ÿå·²ç»ä¿®æ”¹è¿‡äº†ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯ç¬¦åˆæœŸæœ›çš„ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡Seccompæ¥é™åˆ¶å®¹å™¨ä¸­çš„ç³»ç»Ÿè°ƒç”¨ã€‚ gVisorä¸ºGoogleå¼€æºçš„å®¹å™¨Runtimeï¼Œé€šè¿‡pstraceæŠ€æœ¯æ¥æˆªèŽ·ç³»ç»Ÿè°ƒç”¨ï¼Œä»Žè€Œä¿è¯ç³»ç»Ÿçš„å®‰å…¨ã€‚ç›®å‰è¿˜ä¸æˆç†Ÿï¼Œå•å°±å‡­Googleçš„å¼€æºé¡¹ç›®ï¼Œè¯¥é¡¹ç›®è¿˜æ˜¯éžå¸¸å€¼å¾—å…³æ³¨çš„ã€‚ 4.Use multi-stage builds Dockerfileçš„å¤šé˜¶æ®µæž„å»ºæŠ€æœ¯ï¼Œå¯¹äºŽè§£å†³ç¼–è¯‘åž‹è¯­è¨€çš„å‘å¸ƒéžå¸¸æœ‰å¸®åŠ©ï¼Œå¯ä»¥åœ¨å…¶ä¸­ä¸€ä¸ªimageä¸­ç¼–è¯‘æºç ï¼Œå¦å¤–ä¸€ä¸ªimageç”¨äºŽå°†ç¼–è¯‘å®ŒæˆåŽçš„äºŒè¿›åˆ¶æ–‡ä»¶å¤åˆ¶è¿‡æ¥åŽæ‰“åŒ…æˆå•ç‹¬çš„çº¿ä¸Šè¿è¡Œé•œåƒã€‚è€Œè¿™ä¸¤éƒ¨æ“ä½œå¯ä»¥åˆå¹¶åˆ°ä¸€ä¸ªDockerfileä¸­æ¥å®Œæˆã€‚ 5.å”¯å“ä¼šNoahäº‘å¹³å°å®žçŽ°å†…å¹•æŠ«éœ² å”¯å“ä¼šå†…éƒ¨äº‘å¹³å°çš„å®žè·µï¼Œæ¶‰åŠåˆ°å¤§é‡çš„å¹²è´§ï¼Œå€¼çš„èŠ±æ—¶é—´ä¸€è¯»ã€‚ AppæŽ¨è1.Nike Training å¥èº«ç±»appæˆ‘ç”¨è¿‡keepã€ç«è¾£å¥èº«ã€FitTimeï¼ˆä»¥æ”¶è´¹è¯¾ç¨‹å±…å¤šï¼‰ï¼Œå¶ç„¶é—´åœ¨AppStoreä¸Šçœ‹åˆ°äº†Nike Trainingï¼Œå¦‚æžœåŽŒå€¦äº†å›½å†…çš„å¥èº«ç±»appï¼Œä¸é˜²å°è¯•ä¸€ä¸‹ã€‚ æ–°å¥‡1.æ‰‹æœºQQæ‰«ä¸€æ‰« ç”¨æ‰‹æœºQQæ‰«ä¸€æ‰«100å…ƒäººæ°‘å¸æ­£é¢ï¼Œå¯ä»¥å‡ºçŽ°æµ®åŠ¨çš„å‡¤å‡°å›¾æ¡ˆï¼Œå¹¶ä¼šè·³è½¬åˆ°äººæ°‘å¸é‰´åˆ«çœŸä¼ªçš„è§†é¢‘é¡µé¢ï¼Œè§†é¢‘æ•ˆæžœç¡®å®žä¸é”™ï¼Œå¿ä¸ä½ä¼šå¤šæ‰«æå‡ éã€‚ 2.kubeadm kubernetesçš„ç»„ä»¶éžå¸¸å¤šï¼Œéƒ¨ç½²èµ·æ¥éžå¸¸å¤æ‚ï¼Œå› æ­¤ç¤¾åŒºå°±æŽ¨å‡ºäº†kubeadmå·¥å…·æ¥ç®€åŒ–é›†ç¾¤çš„éƒ¨ç½²ï¼Œå°†é™¤äº†kubeletå¤–çš„å…¶ä»–ç»„ä»¶éƒ½éƒ¨ç½²åœ¨å®¹å™¨ä¸­ã€‚ä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œkubeadmå‡ ä¹Žå®Œå…¨æ˜¯ä¸€ä¸ªèŠ¬å…°é«˜ä¸­ç”ŸLucas KaIdstromçš„ä½œå“ï¼Œæ˜¯ä»–åœ¨17å²æ—¶åˆ©ç”¨ä¸šä½™æ—¶é—´å®Œæˆçš„ä¸€ä¸ªç¤¾åŒºé¡¹ç›®ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[linux capability]]></title>
      <url>%2Fpost%2Fcapability%2F</url>
      <content type="text"><![CDATA[ä¼ ç»Ÿçš„unixæƒé™æ¨¡åž‹å°†è¿›ç¨‹åˆ†ä¸ºrootç”¨æˆ·è¿›ç¨‹ï¼ˆæœ‰æ•ˆç”¨æˆ·idä¸º0ï¼‰å’Œæ™®é€šç”¨æˆ·è¿›ç¨‹ã€‚æ™®é€šç”¨æˆ·éœ€è¦rootæƒé™çš„æŸäº›åŠŸèƒ½ï¼Œé€šå¸¸é€šè¿‡setuidç³»ç»Ÿè°ƒç”¨å®žçŽ°ã€‚ä½†æ™®é€šç”¨æˆ·å¹¶ä¸éœ€è¦rootçš„æ‰€æœ‰æƒé™ï¼Œå¯èƒ½ä»…ä»…éœ€è¦ä¿®æ”¹ç³»ç»Ÿæ—¶é—´çš„æƒé™è€Œå·²ã€‚è¿™ç§ç²—æ”¾çš„æƒé™ç®¡ç†æ–¹å¼åŠ¿å¿…ä¼šå¸¦æ¥ä¸€å®šçš„å®‰å…¨éšæ‚£ã€‚ linuxå†…æ ¸ä¸­å¼•å…¥äº†capabilityï¼Œç”¨äºŽæ¶ˆé™¤éœ€è¦æ‰§è¡ŒæŸäº›æ“ä½œçš„ç¨‹åºå¯¹rootæƒé™çš„ä¾èµ–ã€‚ capabilityç”¨äºŽåˆ†å‰²rootç”¨æˆ·çš„æƒé™ï¼Œå°†rootçš„æƒé™åˆ†å‰²ä¸ºä¸åŒçš„èƒ½åŠ›ï¼Œæ¯ä¸€ç§èƒ½åŠ›ä»£è¡¨ä¸€å®šçš„ç‰¹æƒæ“ä½œã€‚ä¾‹å¦‚ï¼ŒCAP_SYS_MODULEç”¨äºŽè¡¨ç¤ºç”¨æˆ·åŠ è½½å†…æ ¸æ¨¡å—çš„ç‰¹æƒæ“ä½œã€‚æ ¹æ®è¿›ç¨‹å…·æœ‰çš„èƒ½åŠ›æ¥è¿›è¡Œç‰¹æƒæ“ä½œçš„è®¿é—®æŽ§åˆ¶ã€‚ åªæœ‰è¿›ç¨‹å’Œå¯æ‰§è¡Œæ–‡ä»¶æ‰æœ‰èƒ½åŠ›ï¼Œæ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰ä»¥ä¸‹å‡ ç»„èƒ½åŠ›é›†(set)ã€‚ cap_effective: è¿›ç¨‹å½“å‰å¯ç”¨çš„èƒ½åŠ›é›† cap_inheritable: è¿›ç¨‹å¯ä»¥ä¼ é€’ç»™å­è¿›ç¨‹çš„èƒ½åŠ›é›† cap_permitted: è¿›ç¨‹å¯æ‹¥æœ‰çš„æœ€å¤§èƒ½åŠ›é›† cap_ambient: Linux 4.3åŽå¼•å…¥çš„èƒ½åŠ›é›†ï¼Œ cap_bounding: ç”¨äºŽè¿›ä¸€æ­¥é™åˆ¶èƒ½åŠ›çš„èŽ·å– å¯ä»¥é€šè¿‡/proc/${pid}/statusæ–‡ä»¶ä¸­çš„CapInh CapPrm CapEff CapBnd CapAmbæ¥è¡¨ç¤ºï¼Œæ¯ä¸ªå­—æ®µä¸º8ä¸ªå­—èŠ‚å³64bitï¼Œæ¯ä¸ªæ¯”ç‰¹è¡¨ç¤ºä¸€ç§èƒ½åŠ›ï¼Œè¿™å‡ ä¸ªå­—æ®µå­˜æ”¾åœ¨è¿›ç¨‹çš„å†…æ ¸æ•°æ®ç»“æž„task_structä¸­ï¼Œç”±æ­¤å¯è§capabilityçš„æœ€å°å•ä½ä¸ºçº¿ç¨‹ï¼Œè€Œä¸æ˜¯è¿›ç¨‹ã€‚ example 1 è®¾ç½®è¿›ç¨‹èƒ½åŠ›åœ¨æ‰§è¡Œä¸‹é¢ç¨‹åºä¹‹å‰éœ€è¦å®‰è£…yum install libcap-devel 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;sys/types.h&gt;#include &lt;unistd.h&gt;#undef _POSIX_SOURCE#include &lt;sys/capability.h&gt;extern int errno;void whoami(void)&#123; printf("uid=%i euid=%i gid=%i\n", getuid(), geteuid(), getgid());&#125;void listCaps()&#123; cap_t caps = cap_get_proc(); ssize_t y = 0; printf("The process %d was give capabilities %s\n",(int) getpid(), cap_to_text(caps, &amp;y)); fflush(0); cap_free(caps);&#125;int main(int argc, char **argv)&#123; int stat; whoami(); stat = setuid(geteuid()); pid_t parentPid = getpid(); if(!parentPid) return 1; cap_t caps = cap_init(); // ç»™è¿›ç¨‹å¢žåŠ 5ä¸­èƒ½åŠ› cap_value_t capList[5] =&#123; CAP_NET_RAW, CAP_NET_BIND_SERVICE , CAP_SETUID, CAP_SETGID,CAP_SETPCAP &#125; ; unsigned num_caps = 5; cap_set_flag(caps, CAP_EFFECTIVE, num_caps, capList, CAP_SET); cap_set_flag(caps, CAP_INHERITABLE, num_caps, capList, CAP_SET); cap_set_flag(caps, CAP_PERMITTED, num_caps, capList, CAP_SET); if (cap_set_proc(caps)) &#123; perror("capset()"); return EXIT_FAILURE; &#125; listCaps(); // å°†è¿›ç¨‹çš„èƒ½åŠ›æ¸…é™¤ printf("dropping caps\n"); cap_clear(caps); // resetting caps storage if (cap_set_proc(caps)) &#123; perror("capset()"); return EXIT_FAILURE; &#125; listCaps(); cap_free(caps); return 0;&#125; å¹¶æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š 12345678910gcc capability.c -lcap -o capability# éœ€è¦ä½¿ç”¨rootæ‰§è¡Œï¼Œå› ä¸ºæ™®é€šç”¨æˆ·ä¸èƒ½ç»™è¿›ç¨‹è®¾ç½®èƒ½åŠ›sudo ./capability# è¾“å‡ºå¦‚ä¸‹å†…å®¹uid=0 euid=0 gid=0The process 5044 was give capabilities = cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw+eipdropping capsThe process 5044 was give capabilities = example 2 èŽ·å–è¿›ç¨‹èƒ½åŠ›12345678910111213141516171819202122232425#undef _POSIX_SOURCE#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;sys/types.h&gt;#include &lt;unistd.h&gt;#include &lt;linux/capability.h&gt;#include &lt;errno.h&gt;int main()&#123; struct __user_cap_header_struct cap_header_data; cap_user_header_t cap_header = &amp;cap_header_data; struct __user_cap_data_struct cap_data_data; cap_user_data_t cap_data = &amp;cap_data_data; cap_header-&gt;pid = getpid(); cap_header-&gt;version = _LINUX_CAPABILITY_VERSION_1; if (capget(cap_header, cap_data) &lt; 0) &#123; perror("Failed capget"); exit(1); &#125; printf("Cap data 0x%x, 0x%x, 0x%x\n", cap_data-&gt;effective,cap_data-&gt;permitted, cap_data-&gt;inheritable);&#125; å¯ä»¥é€šè¿‡capgetå‘½ä»¤èŽ·å–è¿›ç¨‹çš„èƒ½åŠ› 12345678[vagrant@localhost tmp]$ gcc get_capability.c -lcap -o get_capability# æ™®é€šç”¨æˆ·é»˜è®¤æƒ…å†µä¸‹æ²¡æœ‰ä»»ä½•èƒ½åŠ›[vagrant@localhost tmp]$ ./get_capabilityCap data 0x0, 0x0, 0x0# rootç”¨æˆ·é»˜è®¤æ‹¥æœ‰æ‰€æœ‰çš„èƒ½åŠ›[vagrant@localhost tmp]$ sudo ./get_capabilityCap data 0xffffffff, 0xffffffff, 0x0 å·¥å…· getcapç”¨äºŽèŽ·å–ç¨‹åºæ–‡ä»¶æ‰€å…·æœ‰çš„èƒ½åŠ›ã€‚ getpcapsç”¨äºŽèŽ·å–è¿›ç¨‹æ‰€å…·æœ‰çš„èƒ½åŠ›ã€‚ setcapç”¨äºŽè®¾ç½®ç¨‹åºæ–‡ä»¶æ‰€å…·æœ‰çš„èƒ½åŠ›ã€‚ 1234567891011121314# å°†chownå‘½ä»¤æŽˆæƒç»™æ™®é€šç”¨æˆ·ä¹Ÿå…·å¤‡æ›´æ”¹æ–‡ä»¶ownerçš„èƒ½åŠ›# å…¶ä¸­eipåˆ†åˆ«ä»£è¡¨cap_effective(e) cap_inheritable(i) cap_permitted(p)[vagrant@localhost tmp]$ sudo setcap cap_chown=eip /usr/bin/chown[vagrant@localhost tmp]$ getcap /usr/bin/chown/usr/bin/chown = cap_chown+eip# ä½¿ç”¨rootåˆ›å»ºæµ‹è¯•æ–‡ä»¶[vagrant@localhost tmp]$ sudo touch /tmp/aa# æ™®é€šç”¨æˆ·ä¹Ÿå¯ä»¥ä¿®æ”¹rootç”¨æˆ·åˆ›å»ºæ–‡ä»¶çš„owneräº†[vagrant@localhost tmp]$ chown vagrant:vagrant /tmp/aa# æ¸…é™¤chownçš„èƒ½åŠ›[vagrant@localhost tmp]$ sudo setcap -r /usr/bin/chown[vagrant@localhost tmp]$ getcap /usr/bin/chown runcé¡¹ç›®ä¸­çš„åº”ç”¨runcçš„å®¹å™¨é…ç½®æ–‡ä»¶spec.Process.Capabilitieså¯ä»¥å®šä¹‰å„ä¸ªèƒ½åŠ›é›†çš„èƒ½åŠ›ï¼Œç”¨æ¥é™åˆ¶å®¹å™¨çš„èƒ½åŠ›ã€‚ dockerä¸­çš„åº”ç”¨dockeré»˜è®¤æƒ…å†µä¸‹ç»™å®¹å™¨åŽ»æŽ‰äº†ä¸€äº›æ¯”è¾ƒå±é™©çš„capabilitiesï¼Œæ¯”å¦‚cap_sys_adminã€‚ ä¾‹å¦‚åœ¨dockerä¸­ä½¿ç”¨gdbå‘½ä»¤é»˜è®¤æ˜¯ä¸å…è®¸çš„ï¼Œè¿™æ˜¯å› ä¸ºdockerå·²ç»å°†SYS_PTRACEç›¸å…³çš„èƒ½åŠ›ç»™åŽ»æŽ‰äº†ã€‚ åœ¨dockerä¸­ä½¿ç”¨--cap-addå’Œ--cap-dropå‘½ä»¤æ¥å¢žåŠ å’Œåˆ é™¤capabilitiesï¼Œ å¯ä»¥ä½¿ç”¨--privilegedèµ‹äºˆå®¹å™¨æ‰€æœ‰çš„capabilitiesï¼Œè¯¥æ“ä½œè°¨æ…Žä½¿ç”¨ã€‚ ref Linuxçš„capabilityæ·±å…¥åˆ†æž(1) Linuxçš„capabilityæ·±å…¥åˆ†æž(2) Linux Programmerâ€™s Manual CAPABILITIES å¦‚ä½•åœ¨Dockerå†…éƒ¨ä½¿ç”¨gdbè°ƒè¯•å™¨ docker run]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[dockeråŸºç¡€çŸ¥è¯†ä¹‹user namespace]]></title>
      <url>%2Fpost%2Fnamespace_user%2F</url>
      <content type="text"><![CDATA[user namespaceæ˜¯æ‰€æœ‰namespaceä¸­å®žçŽ°æœ€å¤æ‚çš„ä¸€ä¸ªï¼Œä¹Ÿæ˜¯æœ€æ™šå¼•å…¥çš„ä¸€ä¸ªï¼Œæ˜¯åœ¨linux2.6ç‰ˆæœ¬ä¸­æ‰å¼•å…¥ã€‚å› ä¸ºæ¶‰åŠåˆ°æƒé™æœºåˆ¶ï¼Œè·Ÿcapabilityæœ‰ç€æ¯”è¾ƒå¯†åˆ‡çš„å…³ç³»ã€‚ åˆ›å»ºuser namespaceåœ¨cloneæˆ–è€…unshareç³»ç»Ÿè°ƒç”¨ä½¿ç”¨CLONE_NEWUSERå‚æ•°åŽï¼Œåœ¨å­è¿›ç¨‹ä¸­çœ‹åˆ°çš„uidå’Œgidè·Ÿçˆ¶è¿›ç¨‹ä¸­çš„ä¸ä¸€æ ·ï¼Œå­è¿›ç¨‹ä¸­æ‰¾ä¸åˆ°uidæ—¶ï¼Œä¼šæ˜¾ç¤ºæœ€å¤§çš„uid 65534ï¼ˆåœ¨/proc/sys/kernel/overflowuidä¸­è®¾ç½®ï¼‰ã€‚ 1234567891011121314151617181920212223vagrant@ubuntu-xenial:/tmp$ iduid=1000(vagrant) gid=1000(vagrant) groups=1000(vagrant)vagrant@ubuntu-xenial:/tmp$ readlink /proc/$$/ns/useruser:[4026531837]# ä½¿ç”¨unshareå‘½ä»¤åˆ›å»ºæ–°çš„user namespacevagrant@ubuntu-xenial:/tmp$ unshare --user /bin/bashnobody@ubuntu-xenial:/tmp$ readlink /proc/$$/ns/useruser:[4026532145]# æ–°çš„user namespaceæ²¡æœ‰æ˜ å°„å…³ç³»ï¼Œé»˜è®¤ä½¿ç”¨/proc/sys/kernel/overflowuidä¸­å®šä¹‰çš„user idå’Œ/proc/sys/kernel/overflowgidä¸­çš„group idnobody@ubuntu-xenial:/tmp$ iduid=65534(nobody) gid=65534(nogroup) groups=65534(nogroup)#--------------------------ç¬¬äºŒä¸ªshellçª—å£----------------------# åœ¨çˆ¶user namespaceä¸Šåˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¯ä»¥çœ‹åˆ°ç”¨æˆ·ä¸ºvagrantvagrant@ubuntu-xenial:/tmp$ mkdir testvagrant@ubuntu-xenial:/tmp$ ll /tmp | grep testdrwxrwxr-x 2 vagrant vagrant 4096 Sep 23 17:11 test/#--------------------------ç¬¬ä¸€ä¸ªshellçª—å£----------------------# åœ¨æ–°åˆ›å»ºçš„user namespaceä¸‹ç”¨æˆ·æ˜¾ç¤ºä¸ºnobodynobody@ubuntu-xenial:/tmp$ ll /tmp | grep testdrwxrwxr-x 2 nobody nogroup 4096 Sep 23 17:11 test/ æ˜ å°„user idå’Œgroup idåˆ°æ–°çš„user namespaceåˆ›å»ºå®Œæ–°çš„user namespaceåŽï¼Œé€šå¸¸ä¼šå…ˆæ˜ å°„user idå’Œgroup idï¼Œæ–¹æ³•ä¸ºæ·»åŠ æ˜ å°„å…³ç³»åˆ°/proc/${pid}/uid_mapå’Œ/proc/${pid}/gid_mapä¸­ã€‚ user namespaceè¢«åˆ›å»ºä»¥åŽï¼Œç¬¬ä¸€ä¸ªè¿›ç¨‹è¢«èµ‹äºˆäº†è¯¥namespaceçš„æ‰€æœ‰æƒé™ï¼Œä½†è¯¥è¿›ç¨‹å¹¶ä¸æ‹¥æœ‰çˆ¶namespaceçš„ä»»ä½•æƒé™ã€‚åˆ©ç”¨è¯¥æœºåˆ¶å¯ä»¥åšåˆ°ä¸€ä¸ªç”¨æˆ·åœ¨çˆ¶user namespaceä¸­æ˜¯æ™®é€šç”¨æˆ·ï¼Œåœ¨å­user namespaceä¸­æ˜¯è¶…çº§ç”¨æˆ·çš„åŠŸèƒ½ã€‚ ä¸ºäº†å°†å®¹å™¨ä¸­çš„uidå’Œçˆ¶user namespaceä¸Šçš„uidå’Œgidè¿›è¡Œ å…³è”èµ·æ¥ï¼Œå¯é€šè¿‡/proc//uid_mapå’Œ/proc//gid_mapæ¥è¿›è¡Œæ˜ å°„çš„ã€‚è¿™ä¸¤ä¸ªæ–‡ä»¶çš„æ ¼å¼ä¸ºï¼š 1ID-inside-ns ID-outside-ns length ç¬¬ä¸€ä¸ªå­—æ®µID-inside-nsè¡¨ç¤ºåœ¨å®¹å™¨æ˜¾ç¤ºçš„UIDæˆ–GIDï¼Œç¬¬äºŒä¸ªå­—æ®µID-outside-nsè¡¨ç¤ºå®¹å™¨å¤–æ˜ å°„çš„çœŸå®žçš„UIDæˆ–GIDã€‚ç¬¬ä¸‰ä¸ªå­—æ®µè¡¨ç¤ºæ˜ å°„çš„èŒƒå›´ï¼Œä¸€èˆ¬å¡«1ï¼Œè¡¨ç¤ºä¸€ä¸€å¯¹åº”ã€‚ 0 1000 256è¿™ä¸ªé…ç½®çš„å«ä¹‰ä¸ºçˆ¶user namespaceçš„1000-1256æ˜ å°„åˆ°æ–°user namespaceçš„0-256. åˆ›å»ºå­è¿›ç¨‹åœ¨æ²¡æœ‰æŒ‡å®šCLONE_NEWUSERæ—¶æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œå­è¿›ç¨‹è·Ÿçˆ¶è¿›ç¨‹çš„ç”¨æˆ·å®Œå…¨ä¸€è‡´ï¼š 123# è¡¨ç¤ºæŠŠnamespaceå†…éƒ¨ä»Ž0å¼€å§‹çš„uidæ˜ å°„åˆ°å¤–éƒ¨ä»Ž0å¼€å§‹çš„uidï¼Œå…¶æœ€å¤§èŒƒå›´æ˜¯æ— ç¬¦å·32ä½æ•´å½¢[root@centos7 1325]# cat uid_map 0 0 4294967295 è¦æƒ³å®žçŽ°ä»¥æ™®é€šç”¨æˆ·è¿è¡Œç¨‹åºï¼Œåœ¨å­è¿›ç¨‹ä¸­ä»¥rootç”¨æˆ·æ‰§è¡Œï¼Œä»…éœ€è¦å°†uid_mapæ–‡ä»¶ä¿®æ”¹ä¸ºæ™®é€šç”¨æˆ·æ˜ å°„åˆ°å­è¿›ç¨‹ä¸­çš„0å³å¯ï¼Œå› ä¸ºuidä¸º0è¡¨ç¤ºrootç”¨æˆ·ã€‚ é‚£ä¹ˆè°æ‹¥æœ‰å†™å…¥è¯¥æ–‡ä»¶çš„æƒé™å‘¢ï¼Ÿ /proc/${pid}/[u|g]idçš„æ‹¥æœ‰è€…ä¸ºåˆ›å»ºæ–°user namespaceçš„ç”¨æˆ·ï¼Œæ‹¥æœ‰mapæ–‡ä»¶å†™å…¥æƒé™çš„ä»…æœ‰ä¸¤ä¸ªç”¨æˆ·ï¼šå’Œè¯¥ç”¨æˆ·åœ¨åŒä¸€ä¸ªuser namespaceä¸­çš„rootç”¨æˆ·ï¼Œåˆ›å»ºæ–°çš„user namespaceçš„ç”¨æˆ·ã€‚åˆ›å»ºæ–°çš„user namespaceæœ‰æ²¡æœ‰å†™å…¥mapæ–‡ä»¶çš„æƒé™ï¼Œè¿˜è¦å–å†³äºŽcapabilityä¸­çš„CAP_SETUIDå’ŒCAP_SETGIDä¸¤ä¸ªæƒé™ã€‚ ä¸ºäº†æ–¹ä¾¿å†™å…¥/proc/${pid}/uid_mapå’Œ/proc/${pid}/gid_mapæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨newuidmapå’Œnewgidmapå‘½ä»¤æ¥å®Œæˆã€‚ ç»§ç»­ä¸Šè¿°ä¾‹å­ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#--------------------------ç¬¬ä¸€ä¸ªshellçª—å£----------------------# åœ¨æ–°user namespaceä¸­èŽ·å–å½“å‰çš„è¿›ç¨‹å·nobody@ubuntu-xenial:/tmp$ echo $$13226#--------------------------ç¬¬äºŒä¸ªshellçª—å£----------------------vagrant@ubuntu-xenial:/tmp$ ll /proc/13226/uid_map /proc/13226/gid_map-rw-r--r-- 1 vagrant vagrant 0 Sep 23 17:31 /proc/13226/gid_map-rw-r--r-- 1 vagrant vagrant 0 Sep 23 17:31 /proc/13226/uid_map# æç¤ºå½“å‰è¿›ç¨‹æ²¡æœ‰æƒé™å†™å…¥vagrant@ubuntu-xenial:/tmp$ echo &apos;0 1000 100&apos; &gt; /proc/13226/uid_map-bash: echo: write error: Operation not permitted# æŸ¥çœ‹å½“å‰bashæ²¡æœ‰ä»»ä½•capabilityvagrant@ubuntu-xenial:/tmp$ cat /proc/$$/status | egrep &apos;Cap(Inh|Prm|Eff)&apos;CapInh: 0000000000000000CapPrm: 0000000000000000CapEff: 0000000000000000# ä½¿ç”¨rootæƒé™ç»™/bin/bashå¯æ‰§è¡Œæ–‡ä»¶å¢žåŠ cap_setgidå’Œcap_setuidvagrant@ubuntu-xenial:/tmp$ sudo setcap cap_setgid,cap_setuid+ep /bin/bash# å¯åŠ¨æ–°çš„bashåŽcapabilityä¼šç”Ÿæ•ˆvagrant@ubuntu-xenial:/tmp$ bashvagrant@ubuntu-xenial:/tmp$ cat /proc/$$/status | egrep &apos;Cap(Inh|Prm|Eff)&apos;CapInh: 0000000000000000CapPrm: 00000000000000c0CapEff: 00000000000000c0# é‡æ–°å†™å…¥vagrant@ubuntu-xenial:/tmp$ echo &apos;0 1000 100&apos; &gt; /proc/13226/uid_mapvagrant@ubuntu-xenial:/tmp$ echo &apos;0 1000 100&apos; &gt; /proc/13226/gid_map# ç¬¬äºŒæ¬¡å†å†™å…¥ä¼šå¤±è´¥ï¼Œä»…å…è®¸å†™å…¥ä¸€æ¬¡vagrant@ubuntu-xenial:/tmp$ echo &apos;0 1000 100&apos; &gt; /proc/13226/uid_mapbash: echo: write error: Operation not permitted# å°†åˆšæ‰è®¾ç½®çš„capabilityå–æ¶ˆvagrant@ubuntu-xenial:/tmp$ sudo setcap cap_setgid,cap_setuid-ep /bin/bashvagrant@ubuntu-xenial:/tmp$ getcap /bin/bash/bin/bash =vagrant@ubuntu-xenial:/tmp$ exitexit#--------------------------ç¬¬ä¸€ä¸ªshellçª—å£----------------------# ç¬¬ä¸€ä¸ªçª—å£ä¸­useridå·²ç»å˜æ›´ä¸º0äº†nobody@ubuntu-xenial:/tmp$ iduid=0(root) gid=0(root) groups=0(root)# é‡æ–°æ‰§è¡Œä¸€ä¸ªæ–°çš„bashï¼Œä¼šå‘çŽ°æç¤ºç¬¦å·²ç»å˜æ›´ä¸ºrootäº†nobody@ubuntu-xenial:/tmp$ bashroot@ubuntu-xenial:/tmp## å¯ä»¥çœ‹åˆ°æ–°çš„bashå·²ç»æ‹¥æœ‰çš„æ‰€æœ‰çš„capabilityï¼Œä½†ä¹Ÿä»…é™äºŽå½“å‰çš„user namespaceä¸­root@ubuntu-xenial:/tmp# cat /proc/$$/status | egrep &apos;Cap(Inh|Prm|Eff)&apos;CapInh: 0000000000000000CapPrm: 0000003fffffffffCapEff: 0000003fffffffff é—®é¢˜user namespaceåœ¨linux3.8å†…æ ¸ç‰ˆæœ¬ä¸Šæ‰å®žçŽ°ï¼Œå­˜åœ¨ä¸€å®šçš„å®‰å…¨é—®é¢˜ã€‚åœ¨redhatå’Œcentosç³»ç»Ÿä¸‹ï¼Œuser namespaceä½œä¸ºäº†ä¸€ä¸ªå®žéªŒfeatureï¼Œé»˜è®¤æƒ…å†µä¸‹æœªå¼€å¯ã€‚ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤sudo grubby --args=&quot;user_namespace.enable=1&quot; --update-kernel=&quot;$(grubby --default-kernel)&quot;å¹¶é‡å¯ç³»ç»ŸåŽå¯ä»¥å°±å¯ä»¥æ‰“å¼€user namespace featureäº†ã€‚æ‰§è¡Œgrubby --remove-args=&quot;user_namespace.enable=1&quot; --update-kernel=&quot;$(grubby --default-kernel)&quot;å¯å…³é—­user namespace featureã€‚ ç»å®žéªŒï¼Œä¸Šè¿°æ“ä½œæœªç”Ÿæ•ˆï¼ŒåŽç»­å¾…æŸ¥è¯¥é—®é¢˜ã€‚ ref Whatâ€™s Next for Containers? User Namespaces Linux Namespaceç³»åˆ—ï¼ˆ07ï¼‰ï¼šuser namespace (CLONE_NEWUSER) (ç¬¬ä¸€éƒ¨åˆ†)]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[dockeråŸºç¡€çŸ¥è¯†ä¹‹mount namespace]]></title>
      <url>%2Fpost%2Fnamespace_mount%2F</url>
      <content type="text"><![CDATA[åœ¨ä½¿ç”¨CLONE_NEWNSæ¥åˆ›å»ºæ–°çš„mount namespaceæ—¶ï¼Œå­è¿›ç¨‹ä¼šå…±äº«çˆ¶è¿›ç¨‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚æžœå­è¿›ç¨‹æ‰§è¡Œäº†æ–°çš„mountæ“ä½œï¼Œä»…ä¼šå½±å“åˆ°å­è¿›ç¨‹è‡ªèº«ï¼Œä¸ä¼šå¯¹çˆ¶è¿›ç¨‹é€ æˆå½±å“ã€‚ 12345678910111213141516171819202122232425262728293031323334353637#define _GNU_SOURCE#include &lt;sys/types.h&gt;#include &lt;sys/wait.h&gt;#include &lt;stdio.h&gt;#include &lt;sched.h&gt;#include &lt;signal.h&gt;#include &lt;unistd.h&gt;/* å®šä¹‰ä¸€ä¸ªç»™ clone ç”¨çš„æ ˆï¼Œæ ˆå¤§å°1M */#define STACK_SIZE (1024 * 1024)static char container_stack[STACK_SIZE];char* const container_args[] = &#123; &quot;/bin/bash&quot;, NULL&#125;;int container_main(void* arg)&#123; printf(&quot;Container [%5d] - inside the container!\n&quot;, getpid()); sethostname(&quot;container&quot;,10); /* é‡æ–°mount procæ–‡ä»¶ç³»ç»Ÿåˆ° /procä¸‹ */ system(&quot;mount -t proc proc /proc&quot;); execv(container_args[0], container_args); printf(&quot;Something&apos;s wrong!\n&quot;); return 1;&#125;int main()&#123; printf(&quot;Parent - start a container!\n&quot;); int container_pid = clone(container_main, container_stack+STACK_SIZE, CLONE_NEWUTS | CLONE_NEWPID | CLONE_NEWNS | SIGCHLD, NULL); /*å¯ç”¨CLONE_NEWUTS Namespaceéš”ç¦» */ waitpid(container_pid, NULL, 0); printf(&quot;Parent - container stopped!\n&quot;); return 0;&#125; æ‰§è¡Œæ•ˆæžœï¼š 123456789[root@centos7 docker_learn]# ./mountParent - start a container!Container [ 1] - inside the container!# ç”±äºŽpsæ˜¯è¯»å–çš„/procç›®å½•ä¸‹çš„æ–‡ä»¶æ¥æ˜¾ç¤ºå½“å‰ç³»ç»Ÿç³»ç»Ÿçš„è¿›ç¨‹ï¼Œæ–°è¿›ç¨‹æŒ‚è½½/procç›®å½•åˆ°æ–°çš„procæ–‡ä»¶ç³»ç»Ÿï¼Œè‡ªç„¶çœ‹ä¸åˆ°çˆ¶è¿›ç¨‹çš„/procç›®å½•äº†[root@container docker_learn]# ps -efUID PID PPID C STIME TTY TIME CMDroot 1 0 0 22:20 pts/3 00:00:00 /bin/bashroot 30 1 0 22:20 pts/3 00:00:00 ps -ef ä½†æ˜¯åœ¨å®¹å™¨æŠ€æœ¯ä¸­ï¼Œåœ¨å®¹å™¨ä¸­ä¸åº”è¯¥çœ‹åˆ°å®¿ä¸»æœºä¸ŠæŒ‚è½½çš„ç›®å½•ã€‚åœ¨Linuxä¸­ä½¿ç”¨chrootæŠ€æœ¯æ¥å®žçŽ°ï¼Œåœ¨å®¹å™¨ä¸­å°†/æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ï¼Œè¿™æ ·åœ¨å®¹å™¨ä¸­å°±çœ‹ä¸åˆ°å®¿ä¸»æœºä¸Šçš„å…¶ä»–æŒ‚è½½é¡¹ã€‚åœ¨å®¹å™¨æŠ€æœ¯ä¸­ï¼Œchrootæ‰€ä½¿ç”¨çš„ç›®å½•å³å®¹å™¨é•œåƒçš„ç›®å½•ã€‚å®¹å™¨é•œåƒä¸­å¹¶ä¸åŒ…å«æ“ä½œç³»ç»Ÿçš„å†…æ ¸ã€‚ mount namespaceæ˜¯Linuxä¸­ç¬¬ä¸€ä¸ªnamespaceï¼Œæ˜¯åŸºäºŽchrootæŠ€æœ¯æ”¹è‰¯è€Œæ¥ã€‚ Docker Volumeä¸ºäº†è§£å†³å®¹å™¨ä¸­èƒ½å¤Ÿè®¿é—®å®¿ä¸»æœºä¸Šæ–‡ä»¶çš„é—®é¢˜ï¼Œdockerå¼•å…¥äº†Volumeæœºåˆ¶ï¼Œå°†å®¿ä¸»æœºä¸ŠæŒ‡å®šçš„æ–‡ä»¶æˆ–è€…ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚è€Œæ•´ä¸ªçš„docker Volumeæœºåˆ¶è·Ÿmount namespaceçš„å…³ç³»ä¸å¤ªå¤§ã€‚ Volumeç”¨åˆ°çš„æŠ€æœ¯ä¸ºLinuxçš„ç»‘å®šæŒ‚è½½æœºåˆ¶ï¼Œè¯¥æœºåˆ¶å°†ä¸€ä¸ªæŒ‡å®šçš„ç›®å½•æˆ–è€…æ–‡ä»¶æŒ‚è½½åˆ°ä¸€ä¸ªæŒ‡å®šçš„ç›®å½•ä¸Šã€‚ å®¹å™¨å¯åŠ¨é¡ºåºå¦‚ä¸‹ï¼š åˆ›å»ºæ–°çš„mount namespace dockerinitæ ¹æ®å®¹å™¨é•œåƒå‡†å¤‡å¥½rootfs dockerinitä½¿ç”¨ç»‘å®šæŒ‚è½½æœºåˆ¶å°†ä¸€ä¸ªæŒ‡å®šçš„ç›®å½•æŒ‚è½½åˆ°rootfsçš„æŸä¸ªç›®å½•ä¸Š dockerinitè°ƒç”¨chroot å®¹å™¨å¯åŠ¨æ—¶éœ€è¦åˆ›å»ºæ–°çš„mount namespaceï¼Œæ ¹æ®å®¹å™¨é•œåƒå‡†å¤‡å¥½rootfsï¼Œè°ƒç”¨chrootã€‚docker volumeçš„æŒ‚è½½æ—¶æœºæ˜¯åœ¨rootfså‡†å¤‡å¥½ä¹‹åŽï¼Œè°ƒç”¨chrootä¹‹å‰å®Œæˆã€‚ ä¸Šæ–‡æåˆ°è¿›å…¥æ–°çš„mount namespaceåŽï¼Œmount namespaceä¼šç»§æ‰¿çˆ¶mount namespaceçš„æŒ‚è½½, docker volumeä¸€å®šæ˜¯åœ¨æ–°çš„mount namespceä¸­æ‰§è¡Œï¼Œå¦åˆ™ä¼šå½±å“åˆ°å®¿ä¸»æœºä¸Šçš„mountã€‚åœ¨è°ƒç”¨chrootä¹‹åŽå·²ç»çœ‹ä¸åˆ°å®¿ä¸»æœºä¸Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ— æ³•è¿›è¡ŒæŒ‚è½½ã€‚ æ‰§è¡Œè¿™ä¸€æ“ä½œçš„è¿›ç¨‹ä¸ºdockerçš„å®¹å™¨è¿›ç¨‹dockerinitï¼Œè¯¥è¿›ç¨‹ä¼šè´Ÿè´£å®Œæˆæ ¹ç›®å½•çš„å‡†å¤‡ã€æŒ‚è½½è®¾å¤‡å’Œç›®å½•ã€é…ç½®hostnameç­‰ä¸€ç³»åˆ—éœ€è¦åœ¨å®¹å™¨å†…è¿›è¡Œçš„åˆå§‹åŒ–æ“ä½œã€‚åœ¨åˆå§‹åŒ–å®ŒæˆåŽï¼Œä¼šè°ƒç”¨execv()ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨å®¹å™¨ä¸­çš„ENTRYPOINTè¿›ç¨‹å–ä»£ï¼Œæˆä¸ºå®¹å™¨ä¸­çš„1å·è¿›ç¨‹ã€‚ volumeæŒ‚è½½çš„ç›®å½•æ˜¯æŒ‚è½½åœ¨è¯»å†™å±‚ï¼Œç”±äºŽä½¿ç”¨äº†mount namespaceï¼Œåœ¨å®¿ä¸»æœºä¸Šçœ‹ä¸åˆ°æŒ‚è½½ç›®å½•çš„ä¿¡æ¯ï¼Œå› æ­¤docker commitæ“ä½œä¸ä¼šå°†æŒ‚è½½çš„ç›®å½•æäº¤ã€‚ ä¸‹é¢ä½¿ç”¨ä¾‹å­æ¥æ¼”ç¤ºdocker volumeçš„ç”¨æ³• åœ¨å®¿ä¸»æœºä¸Šä½¿ç”¨docker run -d -v /test ubuntu sleep 10000åˆ›å»ºæ–°çš„å®¹å™¨ï¼Œå¹¶åˆ›å»ºdockerå®¹å™¨ä¸­çš„æŒ‚è½½ç‚¹/testï¼Œè¯¥å‘½ä»¤ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸­åˆ›å»ºç›®å½•ï¼Œå¹¶å°†å®¿ä¸»æœºä¸ŠæŒ‡å®šç›®å½•ä¸‹çš„éšæœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„/testç›®å½•ä¸‹ã€‚ å¯åœ¨å®¿ä¸»æœºä¸Šé€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹åˆ°volumeçš„æƒ…å†µ 123456789101112131415161718# åˆ—å‡ºå½“å‰dockeråœ¨ä½¿ç”¨çš„æ‰€æœ‰volume[root@localhost vagrant]# docker volume lsDRIVER VOLUME NAMElocal 4ad97e6356707b66cd1cacc4a2e223d9c79d11eca26fe12b1becc9dd664fc5c6# æŸ¥çœ‹volumeåœ¨å®¿ä¸»æœºä¸Šçš„æŒ‚è½½ç‚¹[root@localhost vagrant]# docker volume inspect 4ad97e6356707b66cd1cacc4a2e223d9c79d11eca26fe12b1becc9dd664fc5c6[ &#123; &quot;CreatedAt&quot;: &quot;2018-09-15T23:36:09+08:00&quot;, &quot;Driver&quot;: &quot;local&quot;, &quot;Labels&quot;: null, &quot;Mountpoint&quot;: &quot;/var/lib/docker/volumes/4ad97e6356707b66cd1cacc4a2e223d9c79d11eca26fe12b1becc9dd664fc5c6/_data&quot;, &quot;Name&quot;: &quot;4ad97e6356707b66cd1cacc4a2e223d9c79d11eca26fe12b1becc9dd664fc5c6&quot;, &quot;Options&quot;: &#123;&#125;, &quot;Scope&quot;: &quot;local&quot; &#125;] dockeræ–‡ä»¶ç³»ç»Ÿ rootfsåœ¨æœ€ä¸‹å±‚ä¸ºdockeré•œåƒçš„åªè¯»å±‚ã€‚ rootfsä¹‹ä¸Šä¸ºdockerinitè¿›ç¨‹è‡ªå·±æ·»åŠ çš„initå±‚ï¼Œç”¨æ¥å­˜æ”¾dockerinitæ·»åŠ æˆ–è€…ä¿®æ”¹çš„/etc/hostnameç­‰æ–‡ä»¶ã€‚ rootfsçš„æœ€ä¸Šå±‚ä¸ºå¯è¯»å†™å±‚ï¼Œä»¥Copy-On-Writeçš„æ–¹å¼å­˜æ”¾ä»»ä½•å¯¹åªè¯»å±‚çš„ä¿®æ”¹ï¼Œå®¹å™¨å£°æ˜Žçš„volumeæŒ‚è½½ç‚¹ä¹Ÿå‡ºçŽ°è¿™ä¸€å±‚ã€‚ refæžå®¢æ—¶é—´-æ·±å…¥å‰–æžKubernetes-08]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[dockeråŸºç¡€çŸ¥è¯†ä¹‹network namespace]]></title>
      <url>%2Fpost%2Fnamespace_network%2F</url>
      <content type="text"><![CDATA[network namespaceç”¨æ¥éš”ç¦»Linuxç³»ç»Ÿçš„ç½‘ç»œè®¾å¤‡ã€ipåœ°å€ã€ç«¯å£å·ã€è·¯ç”±è¡¨ã€é˜²ç«å¢™ç­‰ç½‘ç»œèµ„æºã€‚ç”¨æˆ·å¯ä»¥éšæ„å°†è™šæ‹Ÿç½‘ç»œè®¾å¤‡åˆ†é…åˆ°è‡ªå®šä¹‰çš„networknamespaceé‡Œï¼Œè€Œè¿žæŽ¥çœŸå®žç¡¬ä»¶çš„ç‰©ç†è®¾å¤‡åˆ™åªèƒ½æ”¾åœ¨ç³»ç»Ÿçš„æ ¹networknamesapceä¸­ã€‚ ä¸€ä¸ªç‰©ç†çš„ç½‘ç»œè®¾å¤‡æœ€å¤šå­˜åœ¨äºŽä¸€ä¸ªnetwork namespaceï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºveth pairåœ¨ä¸åŒçš„network namespaceä¹‹é—´åˆ›å»ºé€šé“ï¼Œæ¥è¾¾åˆ°é€šè®¯çš„ç›®çš„ã€‚ å®¹å™¨çš„bridgeæ¨¡å¼çš„å®žçŽ°æ€è·¯ä¸ºåˆ›å»ºä¸€ä¸ªveth pairï¼Œä¸€ç«¯æ”¾ç½®åœ¨æ–°çš„namespaceï¼Œé€šå¸¸å‘½åä¸ºeth0ï¼Œå¦å¤–ä¸€ç«¯æ”¾åœ¨åŽŸå…ˆçš„namespaceä¸­è¿žæŽ¥ç‰©ç†ç½‘ç»œè®¾å¤‡ï¼Œä»¥æ­¤å®žçŽ°ç½‘ç»œé€šä¿¡ã€‚ docker daemonè´Ÿè´£åœ¨å®¿ä¸»æœºä¸Šåˆ›å»ºveth pairï¼ŒæŠŠä¸€ç«¯ç»‘å®šåˆ°docker0ç½‘æ¡¥ï¼Œå¦ä¸€ç«¯åˆ°æ–°å»ºçš„network namespaceè¿›ç¨‹ä¸­ã€‚å»ºç«‹çš„è¿‡ç¨‹ä¸­ï¼Œdocker daemonå’Œdockerinité€šè¿‡pipeè¿›è¡Œé€šè®¯ã€‚ ä¸€ã€æµ‹è¯•ä¾‹å­æµ‹è¯•network namespaceçš„è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ã€‚ dockeré»˜è®¤é‡‡ç”¨çš„ä¸ºbridgeæ¨¡å¼ï¼Œåœ¨å®¹å™¨æ‰€åœ¨çš„å®¿ä¸»æœºä¸Šçœ‹åˆ°çš„ç½‘å¡æƒ…å†µå¦‚ä¸‹ï¼š 1234567891011[root@localhost software]# ip link show1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:6c:3e:95 brd ff:ff:ff:ff:ff:ff3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:a5:78:ca brd ff:ff:ff:ff:ff:ff4: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default link/ether 02:42:a3:75:00:16 brd ff:ff:ff:ff:ff:ff18: veth71f2650@if17: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default link/ether ca:05:f7:db:6f:4c brd ff:ff:ff:ff:ff:ff link-netnsid 0 å…¶ä¸­çš„enp0s3å’Œenp0s8å¯ä»¥å¿½ç•¥ï¼Œä¸ºè™šæ‹Ÿæœºä½¿ç”¨çš„ç½‘å¡ã€‚docker0å’Œveth71f2650@if17æ˜¯éœ€è¦å…³æ³¨çš„ç½‘å¡ã€‚ 123[root@localhost software]# brctl showbridge name bridge id STP enabled interfacesdocker0 8000.0242a3750016 no veth71f2650 ä¸‹é¢çš„æ“ä½œä¸ºåœ¨å·²ç»è¿è¡Œdockerçš„è™šæ‹Ÿæœºä¸Šçš„ï¼Œä»¥ä¾¿äºŽè·Ÿdockerè¿›è¡Œæ¯”è¾ƒã€‚ ä»¥ä¸‹å‘½ä»¤æ ¹æ®coolshellä¸­çš„æ­¥éª¤è¿›è¡Œé…ç½®ï¼Œå¹¶å¯¹æ‰§è¡Œå‘½ä»¤çš„é¡ºåºè¿›è¡Œäº†è°ƒæ•´ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127# å¢žåŠ network namespace ns1[root@localhost software]# ip netns add ns1[root@localhost software]# ip netnsns1# æ¿€æ´»namespace ns1ä¸­çš„loè®¾å¤‡[root@localhost software]# ip netns exec ns1 ip link set dev lo up# åˆ›å»ºveth pair[root@localhost software]# ip link add veth-ns1 type veth peer name lxcbr0.1# å¤šå‡ºäº†lxcbr0.1@veth-ns1å’Œveth-ns1@lxcbr0.1ä¸¤ä¸ªè®¾å¤‡# åŽé¢çš„æ“ä½œæ­¥éª¤ä¸­å°†lxcbr0.1ä½äºŽä¸»ç½‘ç»œå‘½åç©ºé—´ä¸­ï¼Œveth-ns1ä½äºŽns1å‘½åç©ºé—´ä¸­[root@localhost software]# ip link1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:6c:3e:95 brd ff:ff:ff:ff:ff:ff3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:a5:78:ca brd ff:ff:ff:ff:ff:ff4: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default link/ether 02:42:a3:75:00:16 brd ff:ff:ff:ff:ff:ff18: veth71f2650@if17: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default link/ether ca:05:f7:db:6f:4c brd ff:ff:ff:ff:ff:ff link-netnsid 019: lxcbr0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/ether c6:b7:4d:7f:f8:90 brd ff:ff:ff:ff:ff:ff20: lxcbr0.1@veth-ns1: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether c6:8a:26:3d:ba:de brd ff:ff:ff:ff:ff:ff21: veth-ns1@lxcbr0.1: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether f2:03:22:93:d6:f4 brd ff:ff:ff:ff:ff:ff# å°†è®¾å¤‡veth-ns1æ”¾å…¥åˆ°ns1å‘½åç©ºé—´ä¸­[root@localhost software]# ip link set veth-ns1 netns ns1# å¯ä»¥çœ‹åˆ°veth-ns1è®¾å¤‡åœ¨å½“å‰å‘½åç©ºé—´æ¶ˆå¤±äº†[root@localhost software]# ip link1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:6c:3e:95 brd ff:ff:ff:ff:ff:ff3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:a5:78:ca brd ff:ff:ff:ff:ff:ff4: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default link/ether 02:42:a3:75:00:16 brd ff:ff:ff:ff:ff:ff18: veth71f2650@if17: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default link/ether ca:05:f7:db:6f:4c brd ff:ff:ff:ff:ff:ff link-netnsid 019: lxcbr0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/ether c6:b7:4d:7f:f8:90 brd ff:ff:ff:ff:ff:ff20: lxcbr0.1@if21: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether c6:8a:26:3d:ba:de brd ff:ff:ff:ff:ff:ff link-netnsid 1# åŒæ—¶åœ¨å‘½åç©ºé—´ns1ä¸­çœ‹åˆ°äº†è®¾å¤‡veth-ns1ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°veth-ns1è®¾å¤‡çš„çŠ¶æ€ä¸ºDOWN[root@localhost software]# ip netns exec ns1 ip link1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0021: veth-ns1@if20: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether f2:03:22:93:d6:f4 brd ff:ff:ff:ff:ff:ff link-netnsid 0# å°†ns1ä¸­çš„veth-ns1è®¾å¤‡æ›´åä¸ºeth0[root@localhost software]# ip netns exec ns1 ip link set dev veth-ns1 name eth0[root@localhost software]# ip netns exec ns1 ip link1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0021: eth0@if20: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether f2:03:22:93:d6:f4 brd ff:ff:ff:ff:ff:ff link-netnsid 0# ä¸ºå®¹å™¨ä¸­çš„ç½‘å¡åˆ†é…ä¸€ä¸ªIPåœ°å€ï¼Œå¹¶æ¿€æ´»å®ƒ[root@localhost software]# ip netns exec ns1 ifconfig eth0 192.168.10.11/24 up# å¯ä»¥çœ‹åˆ°eth0ç½‘å¡ä¸Šæœ‰ipåœ°å€[root@localhost software]# ip netns exec ns1 ifconfigeth0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt; mtu 1500 inet 192.168.10.11 netmask 255.255.255.0 broadcast 192.168.10.255 ether f2:03:22:93:d6:f4 txqueuelen 1000 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt; mtu 65536 inet 127.0.0.1 netmask 255.0.0.0 inet6 ::1 prefixlen 128 scopeid 0x10&lt;host&gt; loop txqueuelen 1000 (Local Loopback) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0# æ·»åŠ ä¸€ä¸ªç½‘æ¡¥lxcbr0ï¼Œç±»ä¼¼äºŽdockerä¸­çš„docker0[root@localhost software]# brctl addbr lxcbr0[root@localhost software]# brctl showbridge name bridge id STP enabled interfacesdocker0 8000.0242a3750016 no veth71f2650lxcbr0 8000.000000000000 no# å…³é—­ç”Ÿæˆæ ‘åè®®ï¼Œé»˜è®¤è¯¥åè®®ä¸ºå…³é—­çŠ¶æ€[root@localhost software]# brctl stp lxcbr0 off[root@localhost software]# brctl showbridge name bridge id STP enabled interfacesdocker0 8000.0242a3750016 no veth71f2650lxcbr0 8000.000000000000 no# ä¸ºç½‘æ¡¥é…ç½®ipåœ°å€ifconfig lxcbr0 192.168.10.1/24 up[root@localhost software]# ifconfig lxcbr0lxcbr0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 192.168.10.1 netmask 255.255.255.0 broadcast 192.168.10.255 inet6 fe80::c4b7:4dff:fe7f:f890 prefixlen 64 scopeid 0x20&lt;link&gt; ether c6:b7:4d:7f:f8:90 txqueuelen 1000 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 8 bytes 648 (648.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0# å°†vethè®¾å¤‡ä¸­çš„å…¶ä¸­ä¸€ä¸ªlxcbr0.1æ·»åŠ åˆ°ç½‘æ¡¥lxcbr0ä¸Š[root@localhost software]# brctl addif lxcbr0 lxcbr0.1# å¯ä»¥çœ‹åˆ°ç½‘æ¡¥lxcbr0ä¸­å·²ç»åŒ…å«äº†è®¾å¤‡lxcbr0.1[root@localhost software]# brctl showbridge name bridge id STP enabled interfacesdocker0 8000.0242a3750016 no veth71f2650lxcbr0 8000.c68a263dbade no lxcbr0.1# ä¸ºç½‘ç»œç©ºé—´ns1å¢žåŠ é»˜è®¤è·¯ç”±è§„åˆ™ï¼Œå‡ºå£ä¸ºç½‘æ¡¥ipåœ°å€[root@localhost software]# ip netns exec ns1 ip route add default via 192.168.10.1[root@localhost software]# ip netns exec ns1 ip routedefault via 192.168.10.1 dev eth0192.168.10.0/24 dev eth0 proto kernel scope link src 192.168.10.11# ä¸ºns1å¢žåŠ resolv.conf[root@localhost software]# mkdir -p /etc/netns/ns1[root@localhost software]# echo &quot;nameserver 8.8.8.8&quot; &gt; /etc/netns/ns1/resolv.conf äºŒã€å¸¸ç”¨å‘½ä»¤1. åˆ—å‡ºå½“å‰çš„network namespace1.1 ä½¿ç”¨lsnså‘½ä»¤lsnså‘½ä»¤é€šè¿‡è¯»å–/proc/${pid}/nsç›®å½•ä¸‹è¿›ç¨‹æ‰€å±žçš„å‘½åç©ºé—´æ¥å®žçŽ°ï¼Œå¦‚æžœæ˜¯é€šè¿‡ip netns addåœºæ™¯çš„å‘½åç©ºé—´ï¼Œä½†æ˜¯æ²¡æœ‰ä½¿ç”¨è¯¥å‘½åç©ºé—´çš„è¿›ç¨‹ï¼Œè¯¥å‘½ä»¤æ˜¯çœ‹ä¸åˆ°çš„ã€‚ 123456789101112# lsns -t net NS TYPE NPROCS PID USER COMMAND4026531956 net 383 1 root /usr/lib/systemd/systemd --switched-root --system --deserialize 214026532490 net 1 1026 rtkit /usr/libexec/rtkit-daemon4026532762 net 2 24872 root /pause4026532866 net 20 25817 root /pause4026532965 net 3 30763 root /pause4026533059 net 3 2794 root /bin/sh -c python /usr/src/app/clean.py &quot;$&#123;endpoints&#125;&quot; &quot;$&#123;expire&#125;&quot;4026533163 net 2 1122 102 /docker-java-home/jre/bin/java -Xms2g -Xmx2g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupan4026533266 net 4 13920 root /pause4026533371 net 2 1844 root /pause4026533559 net 3 1067 root sleep 4 1.2 é€šè¿‡ip netnså‘½ä»¤è¯¥å‘½ä»¤ä»…ä¼šåˆ—å‡ºæœ‰åå­—çš„namespaceï¼Œå¯¹äºŽæœªå‘½åçš„ä¸èƒ½æ˜¾ç¤ºã€‚ ip netns identify ${pid} å¯ä»¥æ‰¾åˆ°è¿›ç¨‹æ‰€å±žçš„ç½‘ç»œå‘½åç©ºé—´ ip netns list: æ˜¾ç¤ºæ‰€æœ‰æœ‰åå­—çš„namespace 2. é€šè¿‡pidè¿›å…¥å…·ä½“çš„network namespace2.1 é€šè¿‡nsenterå‘½ä»¤nsenter --target $PID --netå¯ä»¥è¿›å…¥åˆ°å¯¹åº”çš„å‘½åç©ºé—´ 2.2 docker --netå‚æ•°dockeræä¾›äº†--netå‚æ•°ç”¨äºŽåŠ å…¥å¦ä¸€ä¸ªå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´docker run -it --net container:7835490487c1 busybox ifconfigã€‚ 2.3 setnsç³»ç»Ÿè°ƒç”¨ä¸€ä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡setns()ç³»ç»Ÿè°ƒç”¨æ¥è¿›å…¥åˆ°å¦å¤–ä¸€ä¸ªnamespaceä¸­ã€‚ ç¼–å†™setns.cç¨‹åºï¼Œè¯¥ç¨‹åºä¼šè¿›å…¥åˆ°è¿›ç¨‹idæ‰€åœ¨çš„ç½‘ç»œå‘½ä»¤ç©ºé—´ï¼Œå¹¶ä½¿ç”¨gcc setns.c -o setnsè¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘å®ŒæˆåŽæ‰§è¡Œ./setns /proc/4913/ns/net ifconfigå¯ä»¥çœ‹åˆ°ç½‘å¡çš„ä¿¡æ¯ä¸ºå®¹å™¨ä¸­çš„ç½‘å¡ä¿¡æ¯ã€‚ 1234567891011121314#include &lt;unistd.h&gt;#include &lt;fcntl.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;int main(int argc, char *argv[]) &#123; int fd = open(argv[1], O_RDONLY); if (setns(fd, 0) == -1) &#123; perror("setns"); exit(-1); &#125; execvp(argv[2], &amp;argv[2]); printf("execvp exit\n");&#125; å¦‚æžœæ‰§è¡Œ./setns /proc/4913/ns/net /bin/bashï¼Œåœ¨å®¿ä¸»æœºä¸ŠæŸ¥çœ‹dockerè¿›ç¨‹å’Œ/bin/bashè¿›ç¨‹çš„ç½‘ç»œå‘½åç©ºé—´/proc/${pid}/ns/netï¼Œä¼šå‘çŽ°éƒ½æŒ‡å‘lrwxrwxrwx 1 root root 0 Sep 14 14:42 net -&gt; net:[4026532133]åŒä¸€ä¸ªä½ç½®ã€‚ 3. pidçš„èŽ·å–æ–¹å¼æœ€ç®€å•çš„æ–¹å¼ä¸Šæ–‡ç¬¬1ç‚¹ä¸­çš„PIDåˆ— 3.1 /proc/[pid]/nså¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰å®¹å™¨åœ¨å®¿ä¸»æœºä¸Šçš„è¿›ç¨‹idã€‚ 1docker inspect --format &apos;&#123;&#123;.State.Pid&#125;&#125;&apos; a1bf0119d891 æ¯ä¸ªè¿›ç¨‹åœ¨/proc/${pid}/ns/ç›®å½•ä¸‹éƒ½ä¼šåˆ›å»ºå…¶å¯¹åº”çš„è™šæ‹Ÿæ–‡ä»¶ï¼Œå¹¶é“¾æŽ¥åˆ°ä¸€ä¸ªçœŸå®žçš„namespaceæ–‡ä»¶ä¸Šï¼Œå¦‚æžœä¸¤ä¸ªè¿›ç¨‹ä¸‹çš„é“¾æŽ¥æ–‡ä»¶é“¾æŽ¥åˆ°åŒä¸€ä¸ªåœ°æ–¹ï¼Œè¯´æ˜Žä¸¤ä¸ªè¿›ç¨‹åŒå±žäºŽä¸€ä¸ªnamespaceã€‚ 12345678[root@localhost runc]# ls -l /proc/4913/ns/total 0lrwxrwxrwx 1 root root 0 Sep 11 00:21 ipc -&gt; ipc:[4026532130]lrwxrwxrwx 1 root root 0 Sep 11 00:21 mnt -&gt; mnt:[4026532128]lrwxrwxrwx 1 root root 0 Sep 11 00:18 net -&gt; net:[4026532133]lrwxrwxrwx 1 root root 0 Sep 11 00:21 pid -&gt; pid:[4026532131]lrwxrwxrwx 1 root root 0 Sep 11 00:21 user -&gt; user:[4026531837]lrwxrwxrwx 1 root root 0 Sep 11 00:21 uts -&gt; uts:[4026532129] reference DOCKERåŸºç¡€æŠ€æœ¯ï¼šLINUX NAMESPACEï¼ˆä¸‹ï¼‰ æžå®¢æ—¶é—´-æ·±å…¥å‰–æžKubernetes ä¸€æ–‡æžæ‡‚ Linux network namespace]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬2æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-2%2F</url>
      <content type="text"><![CDATA[é¢˜å›¾ä¸ºåŒ—äº¬çµå±±ä¸»å³°ï¼Œæµ·æ‹”2303ç±³ï¼ŒåŒ—äº¬æœ€é«˜å³°ã€‚ç™»ä¸Šä¸»å³°çš„æ—¶å€™ï¼Œæ°å·§ä¸€å¤´ç‰›å°±åœ¨å±±é¡¶æ‚ é—²ï¼Œæ‹ç…§çš„æ—¶å€™ï¼Œç‰›å“¥æŠŠæˆ‘å¸¦ä¸ŠåŽ»çš„æž£ã€è‘¡è„ã€èŠ±ç”Ÿç±³å…¨éƒ¨åƒå…‰äº†ï¼Œç”šè‡³è¿žæ©˜å­çš®éƒ½æ²¡å‰©ä¸‹ï¼Œåƒå®ŒåŽç‰›å“¥åˆæ‚ é—²çš„åŽ»åƒè‰äº†ï¼Œè®©æˆ‘è§è¯†äº†å•¥å«åƒè‘¡è„ä¸åè‘¡è„çš®ã€‚ æ•™ç¨‹ ã€ŠKubernetesæƒå¨æŒ‡å— ä¼ä¸šçº§å®¹å™¨äº‘å®žæˆ˜ã€‹ kubernetesçš„ä¹¦ç±å¹¶ä¸å¤šï¼Œè¯¥ä¹¦å…«æœˆä»½åˆšåˆç‰ˆï¼Œå†…å®¹è¾ƒæ–°ï¼Œå¹¶ä¸æ˜¯ä¸€æœ¬kubernetesçš„å…¥é—¨ä¹¦ç±ï¼Œè€Œæ˜¯è®²è§£kubernetesåœ¨ä¼ä¸šè½åœ°ä¸ºPASSå¹³å°æ—¶éœ€è¦åšçš„å·¥ä½œï¼Œå»ºè®®å¯¹kubernetesæœ‰ä¸€å®šäº†è§£åŽå†çœ‹ã€‚ ä¹¦çš„å†…å®¹ä¸ºHPEçš„å¤šåå·¥ç¨‹å¸ˆæ‹¼å‡‘è€Œæˆï¼Œæœ‰äº›éƒ¨åˆ†çš„å†…å®¹æ˜Žæ˜¾æ˜¯æ²¡æœ‰ç»è¿‡å®žè·µéªŒè¯çš„ç†è®ºæ´¾æƒ³æ³•ï¼Œä½†æ€»ä½“æ¥çœ‹å€¼å¾—ä¸€è¯»ã€‚ ä¹¦ä¸­æåˆ°äº†å¾ˆå¤škubernetesè¾ƒæ–°ç‰ˆæœ¬æ‰æœ‰çš„ç‰¹æ€§ã€å¾®æœåŠ¡ã€service meshã€lstioï¼Œå¯¹äºŽè¡¥å……è‡ªå·±å·²ç»æŽŒæ¡çš„çŸ¥è¯†ç‚¹æœ‰ä¸€å®šå¸®åŠ©ã€‚ ä¹¦çš„åŽåŠéƒ¨åˆ†åè€Œæ˜¾çš„å¹²è´§å°‘äº†éžå¸¸å¤šï¼Œæˆ‘ä»…è‰è‰çš„è¿‡äº†ä¸€éã€‚ ã€ŠGoè¯­è¨€é«˜çº§ç¼–ç¨‹ã€‹ Golangä¸­ç›¸å¯¹è¿›é˜¶çš„ä¸­æ–‡æ•™ç¨‹ï¼Œæˆ‘è¿˜æ²¡æ¥å¾—åŠçœ‹ã€‚ Gorilla facebookå‘è¡¨çš„åˆ†å¸ƒå¼çš„æ—¶åºæ•°æ®åº“è®ºæ–‡ï¼Œå¦‚æžœè‹±æ–‡çœ‹èµ·æ¥åƒåŠ›ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹å°ç±³è¿ç»´å…¬ä¼—å·ä¸­çš„ç¿»è¯‘ç‰ˆæœ¬ã€‚facebookå¹¶æœªæä¾›å¼€æºçš„å®žçŽ°ï¼Œä½†åœ¨githubä¸Šèƒ½æ‰¾åˆ°ä¸€äº›å¼€æºçš„å®žçŽ°ã€‚ ã€Šæ·±å…¥å‰–æžKubernetesã€‹ æžå®¢æ—¶é—´appçš„ä¸“æ ï¼Œæœ¬æ¥è´­ä¹°ä¹‹å‰æ²¡æœ‰æŠ¥ç‰¹åˆ«å¤§çš„é¢„æœŸï¼Œä½†è¯»å®Œå¤´å‡ ç¯‡æ–‡ç« åŽè¢«ä½œè€…çš„æ–‡å­—åŠŸåº•æŠ˜æœï¼Œå°†PASSã€å®¹å™¨çš„æ¥é¾™åŽ»è„‰ã€dockerçš„å‘å±•è®²è§£çš„å¾ˆåˆ°ä½ï¼Œè¶…å‡ºäº†æˆ‘çš„é¢„æœŸã€‚æœŸå¾…åŽé¢æ›´æ–°çš„ä¸“æ èƒ½å¤Ÿä¿æŒæžæ°´å‡†ã€‚ SDNæ‰‹å†Œ ä¸€æœ¬ä»‹ç»SDNç›¸å…³çŸ¥è¯†çš„å¼€æºç”µå­ä¹¦ã€‚ èµ„æº M3DB ç›‘æŽ§é¢†åŸŸè¿˜æ˜¯æ¯”è¾ƒç¼ºå°‘ç‰¹åˆ«å¥½ç”¨çš„åˆ†å¸ƒå¼æ—¶é—´åºåˆ—å­˜å‚¨æ•°æ®åº“ï¼Œæ€§èƒ½ç‰¹åˆ«ä¼˜å¼‚çš„æ•°æ®åº“å¾€å¾€éƒ½æ˜¯å•æœºç‰ˆçš„ï¼Œç¼ºå°‘é«˜å¯ç”¨çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚rrdtoolã€influxdbã€graphiteç­‰ã€‚OpenTSDBã€KairosDBã€Druidç­‰è™½ä¸ºåˆ†å¸ƒå¼çš„æ—¶åºæ•°æ®åº“ï¼Œä½†ä½¿ç”¨æˆ–è€…è¿ç»´èµ·æ¥æ€»æœ‰å„ç§ä¸æ–¹ä¾¿çš„åœ°æ–¹ã€‚uberå¼€æºçš„m3åœ¨åˆ†å¸ƒå¼æ—¶åºæ•°æ®åº“é¢†åŸŸåˆå¤šäº†ä¸€ä¸ªæ–¹æ¡ˆï¼Œå¹¶å¯ä½œä¸ºprometheusçš„è¿œç¨‹å­˜å‚¨ã€‚ cilium ä½¿ç”¨BPF(Berkeley Packet Filter)å’ŒXDP(eXpress Data Path)å†…æ ¸æŠ€æœ¯æ¥æä¾›ç½‘ç»œå®‰å…¨æŽ§åˆ¶çš„é«˜æ€§èƒ½å¼€æºç½‘ç»œæ–¹æ¡ˆã€‚ kubeless kuberneteså¹³å°ä¸Šçš„Serverlessé¡¹ç›®ï¼ŒFaasï¼ˆåŠŸèƒ½å³æœåŠ¡ï¼‰ä¸€å®šæ˜¯äº‘è®¡ç®—å‘å±•çš„ä¸€ä¸ªè¶‹åŠ¿ã€‚ç›®å‰CNCFä¸­è¿˜æ²¡æœ‰Serverlessé¡¹ç›®ï¼ŒæœŸå¾…CNCFä¸‹èƒ½å¤Ÿå­µåŒ–ä¸€ä¸ªServerlessé¡¹ç›®ã€‚ å·¥å…· vagrant è¿˜åœ¨ä½¿ç”¨virturalboxçš„ä½ ï¼Œæ˜¯æ—¶å€™ä½¿ç”¨vagrantäº†ã€‚vagrantä½œä¸ºå¯¹è™šæ‹Ÿæœºçš„ç®¡ç†ï¼Œè™½ç„¶å¼•å…¥äº†ä¸€äº›æ¦‚å¿µå¸¦æ¥äº†æ›´å¤§çš„å¤æ‚æ€§ã€‚ä½†åŒæ—¶åŠŸèƒ½ä¸Šä¹Ÿæ›´å¼ºå¤§ï¼Œæ¯”å¦‚å¯¹boxçš„ç®¡ç†ï¼Œå¯ä»¥å°†boxç†è§£ä¸ºdocker imageï¼Œä¾¿äºŽå°†è™šæ‹Ÿæœºçš„çŽ¯å¢ƒåœ¨ä¸åŒçš„ä¸»æœºä¸Šåˆ†å‘ã€‚ å…¬ä¼—è´¦å·æŽ¨è å°ç±³è¿ç»´ å¼€é€šæ—¶é—´ä¸ç®—ç‰¹åˆ«é•¿ï¼Œä½†æ–‡ç« çš„è´¨é‡ä¸é”™ï¼Œéƒ½æ˜¯æ¯”è¾ƒæŽ¥åœ°æ°”çš„å¹²è´§ï¼Œçœ‹å¾—å‡ºç¡®å®žæ˜¯åœ¨å·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜æˆ–è€…æ˜¯æ€»ç»“ç»éªŒï¼Œå€¼çš„ä¸€è¯»ã€‚ å¼€æŸ’ æ›¾ç»å…¬ä¼—å·çš„åå­—ä¸ºå¼€å…«ï¼Œæ±Ÿæ¹–äººç§°å…«å§ï¼Œå¿˜è®°ä¸ºä½•æ›´æ”¹ä¸ºå¼€æŸ’äº†ï¼Œæ›¾ç»çš„æœç‹è®°è€…ã€‚æ€»èƒ½éžå¸¸åŠæ—¶çš„çˆ†æ–™å¾ˆå¤šäº’è”ç½‘çš„å†…å¹•ï¼Œæ¶ˆæ¯æ¥æºå¾€å¾€éžå¸¸å‡†ç¡®ï¼Œå¯è§å…«å§åœ¨åœˆå†…çš„äººè„‰éžåŒä¸€èˆ¬ã€‚ æ¯•å¯¼ æ‰“å‘æ—¶é—´éžå¸¸å¥½çš„å…¬ä¼—å·ï¼Œç”¨ç†ç§‘ç”·çš„æ€ç»´æ–¹å¼è¿›è¡Œæ¶æžï¼Œæ˜¯ä¸æ˜¯æ‹¿å‡ºå†—é•¿çš„æ•°å­¦å…¬å¼æ¥è¯æ˜Žæ—¥å¸¸ç”Ÿæ´»ä¸­çš„å°å°è¯•ï¼Œè¯­è¨€è¯™è°å¹½é»˜ï¼Œç»å¯¹æ˜¯å…¬ä¼—å·ä¸­çš„ä¸€è‚¡æ¸…æµã€‚å¯æƒœæ¯ç¯‡æ–‡ç« éƒ½å¾ˆé•¿ï¼Œæˆ‘æ²¡æœ‰å¤ªå¤šæ—¶é—´æŠŠæ¯ä¸€ç¯‡æ–‡ç« éƒ½çœ‹ä¸€éã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ‰“åœºçš„è®°å¿†]]></title>
      <url>%2Fpost%2Fdachang%2F</url>
      <content type="text"><![CDATA[æ™šä¸Šåœ¨å·¥ä½ä¸Šå®‰é™åœ°çœ‹ç€æŠ€æœ¯æ–‡æ¡£ï¼Œä¸çŸ¥ä¸ºä½•è„‘ä¸­çªç„¶é—ªçŽ°äº†å°æ—¶å€™æ‰“åœºçš„åœºæ™¯ï¼Œé‚£æ®µè®°å¿†å¹¶æ— ç‰¹æ®Šä¹‹å¤„ï¼Œä½†å¤§æ¦‚æ˜¯é‚£ç‰‡é‡‘é»„è‰²çš„èƒŒæ™¯å’Œæ‘æ°‘è„¸ä¸Šä¸°æ”¶çš„å–œæ‚¦ä»¥åŠæ‘æ°‘ä¹‹é—´çš„å’Œè°ç›¸å¤„çš„ç”»é¢çªç„¶æµ®çŽ°åœ¨äº†æˆ‘çš„çœ¼å‰ï¼Œè®©æˆ‘ä¸ç”±å¾—æƒ³å†™ç‚¹ä»€ä¹ˆä»¥ä¾¿å›žå¿†é‚£æ®µè¿‘ä¹Žå¿˜å´çš„å›žå¿†ã€‚ è¯´èµ·â€œæ‰“åœºâ€è¿™ä¸ªè¯ï¼Œå¯èƒ½å¾ˆå¤šäººéƒ½ä¸å¤ªç†Ÿæ‚‰ï¼Œå…¶å®žè¿™ä¸ªè¯ä¹Ÿå·²ç»å¾ˆå¤šå¹´æˆ‘éƒ½æ²¡æœ‰æŽ¥è§¦è¿‡äº†ï¼Œæˆ‘ç”šè‡³éƒ½ä¸çŸ¥é“çŽ°åœ¨å†œæ‘è€å®¶çš„æ‘æ°‘ä»¬è¿˜æ˜¯å¦ä¼šæ—¶é•¿æèµ·è¿™ä¸ªè¯è¯­ã€‚æˆ‘ç”šè‡³ä¸çŸ¥é“è¿™ä¸ªè¯æ˜¯ä¸æ˜¯æˆ‘ä»¬é‚£åœ°åŸŸæ€§çš„æ–¹è¨€ï¼Œè¿™äº›éƒ½ä¸é‡è¦äº†ã€‚ä»¥ä¸‹å†…å®¹æ‘˜è‡ªç™¾åº¦ç™¾ç§‘ï¼š æ‰“åœº[dÇŽ chÃ¡ng]ï¼ŒæŒ‡æŠŠæ”¶å‰²ä¸‹æ¥å¸¦å£³çš„ç²®é£Ÿå¹³æ‘Šåœ¨åœºé™¢é‡Œï¼Œç”¨é©¬æ‹‰ç£™å­ï¼Œæˆ–è€…ç”¨å°åž‹æ‹–æ‹‰æœºï¼Œç¢¾åŽ‹è¿™äº›ç²®é£Ÿï¼Œä½¿ä¹‹è„±åŽ»å¤–å£³ï¼Œè¿™ä¸€ç³»åˆ—æ´»åŠ¨å°±å«æ‰“åœºã€‚ æˆ‘çš„å®¶åœ¨å±±ä¸œï¼Œå°çš„æ—¶å€™è¿˜æ²¡æœ‰é‚£ä¹ˆå¤šçš„å†œä¸šç»æµŽä½œç‰©ï¼Œåœ°é‡Œæ›´å¤šçš„å†œä½œç‰©ä»¥å°éº¦å’ŒçŽ‰ç±³ä¸ºä¸»ï¼Œä¸€å¹´ä¸¤å­£ã€‚å†œä½œç‰©çš„ç§æ¤å‘¨æœŸè·ŸäºŒåå››èŠ‚æ°”æ˜¯æ¯æ¯ç›¸å…³çš„ï¼Œæ¯å¹´çš„äºŒåå››èŠ‚æ°”çš„èŠ’ç§å·¦å³æ˜¯å°éº¦ä¸°æ”¶çš„å­£èŠ‚ï¼Œæ—¶é—´å¤§æ¦‚åœ¨é«˜è€ƒå‰åŽã€‚æ¯”æˆ‘å¤§ä¸€ç‚¹çš„åº”è¯¥è¿˜æœ‰éº¦å‡ï¼Œå°±æ˜¯åœ¨æ”¶éº¦å­çš„æ—¶å€™ä¸ä¸Šå­¦äº†å›žå®¶å¸®ç€æ”¶éº¦å­ï¼Œæˆ‘æ²¡æ€Žä¹ˆæœ‰å°è±¡æˆ‘æœ‰è¿‡éº¦å‡ã€‚ å°æ—¶å€™çš„æœºæ¢°åŒ–ç¨‹åº¦ä½Žï¼Œç”šè‡³è°ˆä¸ä¸Šæœºæ¢°åŒ–ï¼Œæ”¶éº¦å­è¿™ç§æ´»è‡ªç„¶å®Œå…¨æ˜¯äººå·¥å®Œæˆçš„ã€‚åœ¨æœºæ¢°åŒ–ç¨‹åº¦è¿˜å¯ä»¥çš„ä»Šå¤©ï¼Œæ”¶éº¦å­è¿™ç§æ´»åœ¨å½“æ—¶è¿˜æ˜¯æœ‰ç€ç¨å¾®ç¹ççš„å·¥åºï¼Œä¹Ÿæ¯”è¾ƒè€—è´¹äººåŠ›ï¼Œä¸€åˆ°æ”¶éº¦å­çš„æ—¶å€™ï¼Œå‡ ä¹Žå®¶é‡Œæ‰€æœ‰çš„åŠ³åŠ›éƒ½è¦å‡ºæ¥å¹²æ´»äº†ã€‚ æ‘é‡Œåœºåœ°åŸºæœ¬ä¸Šéƒ½æ˜¯æŒ¨ç€çš„ï¼Œè¿™åº”è¯¥æ˜¯ç”Ÿäº§é˜Ÿæ—¶ä»£çš„äº§ç‰©ï¼Œé‚£æ—¶å€™åœŸåœ°æ˜¯å…¬æœ‰çš„ï¼Œåœºåœ°è‡ªå·±è¦è¿žæˆä¸€ç‰‡æ¯”è¾ƒå®¹æ˜“ã€‚åŽæ¥åœŸåœ°å¼€å§‹åˆ†å‰²ç»™ä¸ªäººï¼Œè¿™å—åœºåœ°ä»ç„¶æ˜¯ä¿ç•™çš„ï¼Œåªä¸è¿‡æ˜¯åœºåœ°è¢«åˆ’åˆ†æˆäº†å¾ˆå¤šä»½ï¼Œæ¯å®¶åˆ†ä¸Šä¸€ç‚¹ã€‚ åœ¨æ‰“åœºé‚£ä¸ªå¹´ä»£ï¼Œæˆ‘æ˜¯å‡ ä¹Žå¾ˆå°‘å‚ä¸Žè¿‡æ”¶éº¦å­çš„æ´»åŠ¨ï¼Œé‚£æ—¶æˆ‘è¿˜å°ï¼Œå°±æ˜¯åœ¨åœºåœ°é‡Œæ£ä¹±å’ŒçžŽè·‘ï¼Œè¿˜æ—¶ä¸æ—¶è®©åœ¨åœºåœ°é‡Œå¹²æ´»çš„æ‘æ°‘è°ƒä¾ƒä¸€ç•ªï¼Œæ¯•ç«Ÿå°å­©å­æ´»æ³¼å¥½åŠ¨ï¼Œæ‘æ°‘ä»¬è°ƒä¾ƒä¸€ä¸‹è§£è§£ä¹ä¹Ÿç®—æ˜¯ä¸ºä»–ä»¬åšçš„ä¸€ç‚¹ç‚¹å¾®ä¸è¶³é“çš„è´¡çŒ®äº†ã€‚ æ”¶éº¦å­çš„æ´»ç¬¬ä¸€æ­¥æ˜¯å‰²éº¦å­ï¼Œå‰²éº¦å­è¿™ä¸ªæ´»æˆ‘è¿˜æ­£å„¿å…«ç»å¾—å¹²è¿‡å‡ æ¬¡ï¼Œè™½ç„¶æ¯æ¬¡å¹²çš„æ—¶é—´éƒ½éžå¸¸çŸ­ã€‚å…³äºŽå‰²éº¦å­çš„ç”»é¢ï¼Œæˆ‘è„‘æµ·ä¸­æµ®çŽ°çš„æ˜¯çƒˆæ—¥å½“å¤´ï¼Œå®¶äººä»¬å¸¦ç€å¸½å­å¼“ç€èƒŒæ‹¿ç€é•°åˆ€ä¸€äººä¸€æ²Ÿéº¦å­å¾€å‰èµ¶ï¼Œä¸€ä¼šå„¿éº¦ç§¸åœ¨æ€€é‡Œå°±æŠ±ä¸ä¸‹äº†ï¼Œç„¶åŽå°†éº¦ç§¸æ”¾ä¸‹ç»§ç»­å¾€å‰èµ¶ã€‚é‚£æ—¶å€™çš„å¸½å­å‡ ä¹Žå…¨éƒ¨æ˜¯ç”¨è‰ç¼–ç»‡æˆçš„ï¼Œä¸¤æ ¹ç»³å­æ²¿ç€å¸½æªæ­ä¸‹æ¥ç³»åœ¨ä¸‹å·´ä¸Šï¼Œå¾ˆæ˜¯ç‰¢å›ºï¼Œå³ä½¿ä½Žç€å¤´å¸½å­ä¹Ÿä¸ä¼šæŽ‰ä¸‹æ¥ã€‚æˆ‘å¹²æ´»çš„æ—¶å€™æ¯æ¬¡è´Ÿè´£çš„é‚£ä¸€æ²Ÿéº¦å­æ€»æ˜¯å‰²çš„æœ€æ…¢çš„ï¼Œå‡ ä¹Žè¦æ…¢ä¸€å€çš„æ ·å­ï¼Œè€Œä¸”æ˜¯å¹²çš„æœ€å·®çš„ï¼ŒèƒŒåŽæ€»ä¼šç•™ä¸‹ä¸€äº›éº¦å­æ²¡æœ‰å‰²ä¸‹æ¥ï¼Œåˆ°çŽ°åœ¨æˆ‘ä¹Ÿä»ç„¶å¥½å¥‡ï¼Œä»–ä»¬æ˜¯æ€Žä¹ˆå¹²çš„è¿™ä¹ˆå¿«çš„ï¼Œæˆ‘æ„Ÿè§‰å½“æ—¶å·²ç»å°½æœ€å¤§çš„åŠªåŠ›äº†ï¼Œè€Œè¿™ä»…æ˜¯ä»–ä»¬çš„æ­£å¸¸é€Ÿåº¦ã€‚ åœ¨éº¦å­å‰²å®ŒåŽï¼Œå°±éœ€è¦å°†éº¦å­æ”¾åˆ°é›†ä¸­çš„æ™’å¹²äº†ã€‚ä¹‹æ‰€ä»¥è¦æ™’å¹²ï¼Œæ˜¯å› ä¸ºè¦æ˜¯éº¦ç§¸ä¸æ™’å¹²ï¼Œéº¦ç²’æ˜¯å¾ˆéš¾ä»Žéº¦ç§¸ä¸Šæ‹–ä¸ä¸‹æ¥çš„ã€‚è€Œè¦æ™’å¹²ï¼Œé‚£ä¹ˆå¤šéº¦ç§¸å°±éœ€è¦ä¸€ç‰‡åœ°æ–¹æ¥æ™¾æ™’éº¦ç§¸å’Œéº¦ç²’ã€‚é‚£æ—¶å€™è¿˜æ²¡æ€Žä¹ˆæœ‰æŸæ²¹è·¯ï¼Œå®¶é‡Œä¹Ÿå¾ˆå°‘æœ‰æ°´æ³¥çš„æˆ¿é¡¶ï¼Œä¸ºäº†èƒ½å¤Ÿæœ‰æ™¾æ™’çš„åœ°æ–¹ï¼Œæ‘é‡Œæœ‰ä¸€ç‰‡åœ°å°±æ˜¯åœºåœ°ï¼Œåœ¨æ”¶éº¦å­çš„æ—¶å€™ä¸“é—¨ç”¨æ¥æ”¶éº¦å­çš„ï¼Œæ”¶å®Œéº¦å­åŽå†ç§å…¶ä»–ä½œç‰©ã€‚ä¹‹æ‰€ä»¥åœºåœ°æ˜¯é›†ä¸­å¼çš„ï¼Œè¿™è¿˜è¦ä»Žç”Ÿäº§é˜Ÿæ—¶ä»£è¯´èµ·ï¼Œé‚£æ—¶å€™åœŸåœ°éƒ½æ˜¯å…¬æœ‰çš„ï¼Œè‡ªç„¶åœºåœ°å°±ä¼šåˆ’åˆ°ä¸€å—æ¯”è¾ƒå®¹æ˜“ï¼ŒåŽæ¥åœŸåœ°æ…¢æ…¢ç§æœ‰åŽï¼Œè¿™äº›åœŸåœ°ä»ç„¶æ˜¯ä½œä¸ºåœºåœ°ï¼Œåªæ˜¯è¢«åˆ’çš„ä¸€å°å—ä¸€å°å—çš„ã€‚ å‰²éº¦å­çš„æ—¶å€™å¶å°”ä¼šç¢°åˆ°é¹Œé¹‘è›‹ï¼Œè¿™ä¹Ÿæ˜¯ä¸€äº›é¢å¤–çš„å°æ”¶èŽ·ï¼Œä½†é—æ†¾çš„æ˜¯ä»Žæ²¡çœ‹åˆ°è¿‡é¹Œé¹‘ã€‚ åœºåœ°è¦æƒ³èƒ½æ™¾æ™’éº¦ç§¸å’Œéº¦ç²’ï¼Œè‡ªç„¶å°±éœ€è¦ç‰¹åˆ«çš„å¹³æ•´ï¼Œè€Œè¦æƒ³åœŸåœ°ç‰¹åˆ«çš„å¹³æ•´ï¼Œåœ¨çŸ³å™¨æ—¶ä»£ï¼Œä»…æœ‰ä¸€ä¸ªåŠžæ³•ï¼Œé‚£å°±æ˜¯ç”¨è½±è¾˜ä¸€éä¸€éçš„æ’µï¼Œä¸€èˆ¬è‡³å°‘éœ€è¦ä¸¤ä¸ªäººç”¨ç»³å­æ‹‰ç€è½±è¾˜æ»¡åœ°é‡Œè½¬ï¼Œè¦æƒ³å°†åœŸåœ°æ’µçš„ç‰¹åˆ«å¹³æ•´ä¸”ä¸èƒ½æœ‰ç¼éš™ï¼Œå“ªæ€•ä¸€ä¸ªéº¦ç²’æŽ‰åœ¨åœ°ä¸Šèƒ½å¤Ÿçœ‹çš„è§æ¡çš„èµ·æ¥ï¼Œæƒ³æƒ³éƒ½ä¸æ˜¯ä¸€ä»¶ç‰¹åˆ«å®¹æ˜“çš„äº‹æƒ…ï¼Œå°¤å…¶æ˜¯åˆšå¼€å§‹åœŸåœ°ç‰¹åˆ«ä¸å¹³çš„æ—¶å€™ã€‚ å¹¶éžæ‰€æœ‰çš„éº¦ç§¸éƒ½æ˜¯éœ€è¦åœ¨åœºåœ°é‡Œæš´æ™’çš„ï¼Œè¿™ä¸ªè¦çœ‹éº¦ç§¸çš„å¹²ç‡¥ç¨‹åº¦ï¼Œæœ‰äº›éº¦ç§¸å‰²å®ŒåŽå·²ç»éžå¸¸å¹²ç‡¥äº†ï¼Œå°±ä¸éœ€è¦å†æš´æ™’äº†ã€‚ å¹²ç‡¥çš„éº¦ç§¸åœ¨å¹²ç‡¥åŽå°±éœ€è¦å°†éº¦ç²’ä»Žéº¦ç§¸ä¸Šåˆ†ç¦»å‡ºæ¥ï¼Œæ¯•ç«Ÿå†œæ°‘ä»¬æƒ³è¦çš„æ˜¯éº¦ç²’ï¼Œé‚£æ‰æ˜¯å®žæ‰“å®žçš„ç²®é£Ÿã€‚è¦æƒ³éº¦ç²’ä»Žéº¦ç§¸ä¸Šåˆ†ç¦»ï¼Œè¿™æ—¶å€™ä»ç„¶æ˜¯é‡é‡çº§çš„è½±è¾˜ä¸Šåœºï¼Œè¿™æ—¶å€™åœºåœ°ç›¸å¯¹å¹³æ•´äº†ï¼Œè‡ªç„¶æ‹‰èµ·æ¥ä¼šçœåŠ›æ°”å¾ˆå¤šï¼Œæˆ‘ä¹Ÿæ›¾ç»æ‹‰è¿‡ä¸€æ¬¡ï¼Œä½†æ¯æ¬¡éƒ½æ˜¯æ‹‰ä¸€ä¼šå°±ä¸çŸ¥é“åŽ»å“ªé‡ŒçŽ©äº†ï¼Œå°å­©å­å¹²è¿™ä¹ˆæž¯ç‡¥çš„äº‹æƒ…è‡ªç„¶æ²¡æœ‰è€å¿ƒã€‚ æ‹–å®Œç²’çš„éº¦ç§¸ä¸€èˆ¬æ˜¯å°±åœ°æ”¾åˆ°çš„åœºåœ°çš„åœ°å¤´ä¸Šï¼Œä¸ºäº†çœç©ºé—´ï¼Œä¼šå°†éº¦ç§¸åž›èµ·æ¥ï¼Œä¸€ä¸ªå‰çš„é«˜åº¦å·®ä¸å¤šåœ¨ä¸¤ä¸‰ç±³é«˜çš„æ ·å­ï¼Œå·®ä¸å¤šæ˜¯å†œæ°‘æ‹¿ç€å‰å­å¾€ä¸Šæ‰”éº¦ç§¸æ‰”ä¸ä¸ŠåŽ»çš„é«˜åº¦ï¼Œå‰å­çš„é•¿åº¦å·®ä¸å¤šåœ¨ä¸¤ç±³é«˜çš„æ ·å­ã€‚ ç™½å¤©çš„æ—¶é—´æ˜¯æ™’éº¦ç²’çš„æœ€ä½³æ—¶æœºï¼Œåˆ°äº†å‚æ™šæ—¶åˆ†å°±éœ€è¦å°†æ™’çš„éº¦ç²’å †èµ·æ¥ç›–ä½ï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿæ˜¯åœºä¸Šäººæœ€å¤šçš„æ—¶å€™ï¼Œå‡ ä¹Žæ¯å®¶çš„åœ°é‡Œéƒ½æœ‰äººåœ¨å¿™ç€ã€‚æˆ‘è„‘ä¸­é—ªçŽ°çš„åœºæ™¯å°±æ˜¯åœ¨è¿™ä¸ªæ—¶å€™ï¼Œæ‘æ°‘ä»¬åœ¨åœºåœ°ä¸Šå¿™æ¥å¿™åŽ»ï¼Œè¾¹å¹²æ´»è¾¹èŠç€å¤©ï¼Œæ‰¯ä¸œæ‰¯è¥¿çš„ã€‚æˆ‘åœ¨åœºåœ°ä¸Šè·‘æ¥è·‘åŽ»ï¼Œä»Žè¿™ä¸ªåœ°é‡Œè·‘åˆ°å¦å¤–ä¸€å®¶ï¼Œæ—¶ä¸æ—¶æ‘æ°‘ä»¬è¿˜ä¼šé‚£æˆ‘æ¥å¼€ä¸ªçŽ©ç¬‘ã€‚ç´¯äº†é ç€åž›å„¿æ‰“ä¸ªæ»šï¼Œä¸ä¸€ä¼šä½“åŠ›å°±æ¢å¤äº†ï¼Œæƒ³æ¥é‚£æ—¶ä½“åŠ›çœŸæ˜¯å¥½ã€‚é‚£æ—¶è™½ç„¶å¾ˆå¤šäº‹æƒ…è¿˜ä¸æ‡‚ï¼Œä½†æˆ‘ç¡®å®žèƒ½ä»Žä¸­ä½“ä¼šæ‘æ°‘ä»¬ä¸°æ”¶çš„å–œæ‚¦ã€‚ éº¦å­æ”¶å®ŒåŽï¼Œç”¨è½±è¾˜ç¢¾åŽ‹äº†æ— æ•°éçš„åœºåœ°ä¹Ÿå°±å¤±åŽ»äº†å­˜åœ¨çš„ä»·å€¼ï¼Œæ‘æ°‘ä»¬åœ¨åœºåœ°ä¸Šè¯¥ç§ç‚¹å…¶ä»–ä½œç‰©å°±ç§ä¸Šå…¶ä»–ä½œç‰©äº†ï¼Œæ€»ä¹‹åœºåœ°ä¸ä¼šç©ºé—²ç‰¹åˆ«ä¹…ã€‚åœºåœ°ä¸Šæ€»ä¼šè½ä¸‹ä¸€äº›éº¦ç²’ï¼Œé›¨åŽç©ºé—²çš„åœºåœ°ä¸Šçš„ç¼éš™å¤„æ—¶é•¿ä¼šç”Ÿå‡ºæ–°çš„ç»¿æ²¹æ²¹çš„éº¦è‹—ã€‚ çŽ°åœ¨éšç€æœºæ¢°åŒ–çš„è¿›æ­¥ï¼Œæ”¶éº¦å­è¿™ç§äº‹è‡ªç„¶ä¸éœ€è¦æ‰‹å·¥å‰²éº¦å­äº†ï¼Œæ™’éº¦å­çš„åœ°æ–¹ä¹Ÿå¼€å§‹å˜å¤šäº†ï¼ŒæŸæ²¹è·¯ä¸Šï¼Œè‡ªå®¶çš„æˆ¿é¡¶ä¸Šï¼Œè‡ªå®¶çš„é™¢å­é‡Œéƒ½æ˜¯åŠå…¶ä¸é”™çš„æ™’éº¦å­çš„åœ°æ–¹ï¼Œæ‰“åœºè¿™ç§åŽŸå§‹çš„æ–¹å¼ä¹Ÿè‡ªç„¶å°±é€€å‡ºäº†åŽ†å²çš„èˆžå°ï¼Œè€Œä¸”å†ä¹Ÿä¸ä¼šå›žæ¥ã€‚ ä½†å°±æ˜¯é‚£å¹…é‡‘é»„è‰²çš„ç”»é¢å´åœ¨æˆ‘çš„è®°å¿†ä¸­ç•™ä¸‹äº†ä¸€é“æŠ¹ä¸åŽ»çš„è‰²å½©ï¼Œè®©æˆ‘æ—¶é•¿å›žå¿†èµ·æ¥é‚£æ¸©é¦¨çš„ç”»é¢ã€‚çºµç§‘æŠ€çš„å‘å±•ï¼Œæ‘æ°‘ä»¬çš„äº²æƒ…å´åœ¨å˜æ·¡ï¼Œè¯¥è¿›åŸŽçš„éƒ½è¿›åŸŽäº†ï¼Œè¯¥å‡ºåŽ»æ‰“å·¥çš„éƒ½å‡ºåŽ»æ‰“å·¥äº†ï¼Œä¸€å¹´æ‘æ°‘ä»¬éƒ½è§ä¸ä¸Šå‡ å›žã€‚ä¹Ÿè®¸å°†æ¥æ‘è½çš„æ¦‚å¿µä¼šæ¶ˆå¤±ï¼Œä¹Ÿè®¸äººä¸Žäººä¹‹é—´çš„å…³ç³»ä¼šæ›´æ·¡ï¼Œä½†æˆ‘æ›¾ç»ç»åŽ†è¿‡æ‘è½æ—¶ä»£çš„ç¾Žå¥½ï¼Œä¹Ÿè®¸è¿™å°±è¶³å¤Ÿäº†ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[sync.Condçš„ä¾‹å­]]></title>
      <url>%2Fpost%2Fcond-example%2F</url>
      <content type="text"><![CDATA[sync.Condç±»ä¼¼äºŽpthreadä¸­çš„æ¡ä»¶å˜é‡ï¼Œä½†ç­‰å¾…çš„ä¸ºgoroutineï¼Œè€Œä¸æ˜¯çº¿ç¨‹ã€‚æ¯”è¾ƒéš¾ç†è§£çš„ä¸ºWaitå‡½æ•°ï¼Œåœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶å¿…é¡»Lä¸ºLockçŠ¶æ€ï¼Œè°ƒç”¨Waitå‡½æ•°åŽï¼Œgoroutineä¼šè‡ªåŠ¨è§£é”ï¼Œå¹¶ç­‰å¾…æ¡ä»¶çš„åˆ°æ¥ï¼Œç­‰æ¡ä»¶åˆ°æ¥åŽä¼šé‡æ–°åŠ é”ã€‚ ä»£ç é‡å¹¶ä¸å¤šï¼Œä¸‹é¢æ˜¯åŽ»æŽ‰æ³¨é‡ŠåŽçš„ä»£ç ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package syncimport ( "sync/atomic" "unsafe")type Cond struct &#123; noCopy noCopy // L is held while observing or changing the condition L Locker notify notifyList checker copyChecker&#125;func NewCond(l Locker) *Cond &#123; return &amp;Cond&#123;L: l&#125;&#125;func (c *Cond) Wait() &#123; c.checker.check() t := runtime_notifyListAdd(&amp;c.notify) c.L.Unlock() runtime_notifyListWait(&amp;c.notify, t) c.L.Lock()&#125;func (c *Cond) Signal() &#123; c.checker.check() runtime_notifyListNotifyOne(&amp;c.notify)&#125;func (c *Cond) Broadcast() &#123; c.checker.check() runtime_notifyListNotifyAll(&amp;c.notify)&#125;// copyChecker holds back pointer to itself to detect object copying.type copyChecker uintptrfunc (c *copyChecker) check() &#123; if uintptr(*c) != uintptr(unsafe.Pointer(c)) &amp;&amp; !atomic.CompareAndSwapUintptr((*uintptr)(c), 0, uintptr(unsafe.Pointer(c))) &amp;&amp; uintptr(*c) != uintptr(unsafe.Pointer(c)) &#123; panic("sync.Cond is copied") &#125;&#125;// noCopy may be embedded into structs which must not be copied// after the first use.//// See https://github.com/golang/go/issues/8005#issuecomment-190753527// for details.type noCopy struct&#123;&#125;// Lock is a no-op used by -copylocks checker from `go vet`.func (*noCopy) Lock() &#123;&#125; å…·ä½“çš„ä½¿ç”¨ä¾‹å­å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package mainimport ( "fmt" "sync")func main() &#123; mutex := &amp;sync.Mutex&#123;&#125; cond := sync.NewCond(mutex) wg := &amp;sync.WaitGroup&#123;&#125; wait := func(i int, c chan int) &#123; defer wg.Done() fmt.Println("start chan ", i) cond.L.Lock() defer cond.L.Unlock() fmt.Printf("chan %d wait before\n", i) c &lt;- i // Waitæ˜¯ç†è§£èµ·æ¥ç¨å¾®éº»çƒ¦çš„ç‚¹ï¼ŒCond.Waitä¼šè‡ªåŠ¨é‡Šæ”¾é”ç­‰å¾…ä¿¡å·çš„åˆ°æ¥ï¼Œå½“ä¿¡å·åˆ°æ¥åŽï¼Œç¬¬ä¸€ä¸ªèŽ·å–åˆ°ä¿¡å·çš„Waitå°†ç»§ç»­å¾€ä¸‹æ‰§è¡Œå¹¶ä»Žæ–°ä¸Šé” cond.Wait() fmt.Printf("chan %d wait end\n", i) &#125; signal := func(count int, c chan int) &#123; defer wg.Done() for i := 0; i &lt; count; i++ &#123; fmt.Printf("read chan %d ready\n", &lt;-c) &#125; fmt.Println("call signal") cond.Signal() &#125; broadcast := func(count int, c chan int) &#123; defer wg.Done() for i := 0; i &lt; count; i++ &#123; fmt.Printf("read chan %d ready\n", &lt;-c) &#125; fmt.Println("call broadcast") cond.Broadcast() &#125; c := make(chan int) wg.Add(2) go wait(0, c) go signal(1, c) wg.Wait() fmt.Println("signal test finished\n\n") count := 3 for i := 0; i &lt; count; i++ &#123; wg.Add(1) go wait(i, c) &#125; wg.Add(1) go broadcast(count, c) wg.Wait()&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[çŸ¥è¯†åˆ†äº«ç¬¬ä¸€æœŸ]]></title>
      <url>%2Fpost%2Fknowledge-share-1%2F</url>
      <content type="text"><![CDATA[è‡ªä»Žé˜®ä¸€å³°çš„åšå®¢ä¸­å¢žåŠ äº†æ¯å‘¨åˆ†äº«æ ç›®ï¼Œè‡ªå·±æ¯å‘¨äº”éƒ½æ˜¯ä¸»åŠ¨çš„æµè§ˆä¸€ä¸‹é˜®è€å¸ˆçš„æ¯å‘¨åˆ†äº«ï¼Œä¸€æ¥é˜®è€å¸ˆçš„æ¶‰çŒŽéžå¸¸å¹¿æ³›ï¼Œå¯ä»¥æé«˜è‡ªå·±çš„è§†é‡Žï¼›äºŒæ¥ï¼Œé˜®è€å¸ˆçš„æ–‡ç« éƒ½ç‰¹åˆ«å®¹æ˜“æ‡‚ï¼Œç»™äººä¸€ç§ä¸€ç›´æƒ³çœ‹ä¸‹åŽ»çš„å†²åŠ¨ã€‚ æˆ‘ä¸ªäººå¹³å¸¸ä¹Ÿä¼šçœ‹å¾ˆå¤šçš„æŠ€æœ¯ç±»æ–‡ç« ï¼Œä¹Ÿä¼šé‡åˆ°å„ç§å·¥å…·æˆ–è€…ç‰¹åˆ«ä¸é”™çš„æ–‡ç« ï¼Œä¹Ÿæœ‰åˆ†äº«çš„å†²åŠ¨ï¼Œä¹Ÿæƒ³æžä¸€äº›åˆ†äº«çš„æ–‡ç« ï¼Œå½“ç„¶æˆ‘æ²¡æœ‰é˜®è€å¸ˆå‹¤å¥‹å’Œæ¶‰çŒŽå¹¿æ³›ï¼Œä½†ä¹ŸæœŸæœ›èƒ½å¤Ÿå¯¹ä»–äººæœ‰æ‰€å¸®åŠ©ï¼Œå“ªæ€•æ–‡ä¸­çš„ä¸€æ¡åˆ†äº«èƒ½å¤Ÿè®©è¯»è€…è§‰å¾—æœ‰ä»·å€¼ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯å€¼çš„åšçš„ä¸€ä»¶äº‹æƒ…ã€‚ å…·ä½“çš„åˆ†äº«ç‰ˆå—å¯èƒ½ä¸ä¼šç‰¹åˆ«å›ºå®šï¼Œåˆ†äº«çš„é—´éš”ä¹Ÿä¸ä¼šç‰¹åˆ«å‹¤å¿«ï¼Œå¾ˆéš¾åšåˆ°é˜®è€å¸ˆçš„ä¸€å‘¨ä¸€æ¬¡çš„é¢‘æ¬¡ã€‚ æ•™ç¨‹1. The Go Memory ModelGolangçš„å†…å­˜æ¨¡åž‹ï¼Œå»ºè®®Golangå¼€å‘è€…è¯»ä¸€éã€‚ 2. ã€Šæžå®¢æ—¶é—´ã€‹-å·¦è€³å¬é£ŽçŸ¥ååšå®¢é…·å£³çš„ä½œè€…é™ˆçš“çš„æŠ€æœ¯ä¸“æ ï¼ŒèŠ±é’±è´­ä¹°ä¸€ä¸‹ä¸“æ è¿˜æ˜¯éžå¸¸å€¼å¾—çš„ï¼Œå°¤å…¶æ˜¯æœ€è¿‘å†™çš„ç¨‹åºå‘˜ç»ƒçº§æ”»ç•¥ç³»åˆ—ï¼Œèƒ½æä¾›å¤§é‡æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æ–™åŠæ–¹å‘æŒ‡å¯¼ï¼Œéžå¸¸èµžã€‚ http:// 3. æ·±å…¥è§£æž kubernetes èµ„æºç®¡ç†ï¼Œå®¹å™¨äº‘ç‰›äººæœ‰è¯è¯´å¯¹kubernetesçš„èµ„æºç®¡ç†è®²è§£çš„éžå¸¸åˆ°ä½å’Œæ·±å…¥ï¼Œæ–‡ç« ç•¥é•¿ï¼Œéœ€è¦èŠ±ç‚¹æ—¶é—´æ‰èƒ½è¯»å®Œï¼Œå€¼çš„ä¸€çœ‹ã€‚ 4. ã€ŠTCP/IPè¯¦è§£ å·1: åè®®ã€‹ç½‘ç»œæ–¹é¢çš„ç»å…¸è‘—ä½œï¼Œæ¯ä¸ªå·¥ç¨‹å¸ˆå¿…è¯»ï¼Œè™½ç„¶æ˜¯å†™ç»™å·¥ç¨‹å¸ˆçœ‹çš„ï¼Œä½†å¾ˆå¤šçš„å­¦æœ¯è‘—ä½œä¸­å¼•ç”¨åˆ°äº†è¯¥ä¹¦ä¸­å†…å®¹ã€‚ 5. ã€Šæ·±å…¥è§£æžGOã€‹å¯¹äºŽgoçš„å†…éƒ¨å®žçŽ°åŽŸç†è®²è§£çš„æŒºåˆ°ä½ï¼Œå¯¹äºŽç†è§£goçš„åŽŸç†æŒºæœ‰å¸®åŠ©ã€‚æ¶‰åŠå°‘é‡æ±‡ç¼–ï¼Œæˆ‘ä¸å¤ªæ‡‚æ±‡ç¼–ï¼Œæ¶‰åŠæ±‡ç¼–çš„åœ°æ–¹ç›´æŽ¥è·³è¿‡äº†ã€‚ 6. Red Hat Enterprise Linux DocumentRedHatå®˜æ–¹çš„Linuxæ–‡æ¡£ï¼Œæˆ‘ä¸ªäººè¿˜æ²¡æ€Žä¹ˆè¯»è¿‡ã€‚ èµ„æº1. è…¾è®¯å¤§å­¦-CEOæ¥äº†è´§çœŸä»·å®žçš„äº’è”ç½‘CEOçš„è§†é¢‘åˆ†äº«ï¼Œè°ˆåˆ›ä¸šã€è°ˆæ„Ÿæ‚Ÿï¼Œç›®å‰å·²ç»æœ‰è”šæ¥æ±½è½¦ã€VIPKIDã€æ¯æ—¥ä¼˜é²œã€å¿«æ‰‹ã€Keepã€çŸ¥ä¹Žçš„CEOçš„åˆ†äº«ã€‚ 2. nginx-upsync-moduleæ–°æµªå¾®åšå¼€æºçš„nginx moduleï¼Œç”¨äºŽåŠ¨æ€æ›´æ”¹upstream serverã€‚ 3. è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒSemVerè½¯ä»¶ç‰ˆæœ¬åœ¨å–åä¸Šä¼šæ¯”è¾ƒæ··ä¹±ï¼Œæœ‰çš„ä½¿ç”¨1.0.1ï¼Œæœ‰çš„ä½¿ç”¨1.0ç­‰ï¼ŒSemVerç”¨äºŽè§„èŒƒè½¯ä»¶ç‰ˆæœ¬çš„å‘½åã€‚ 4. ã€Šè§è¯†ã€‹å´å†›è€å¸ˆçš„æœ€æ–°å›¾ä¹¦ï¼Œå†…å®¹æ•´ç†è‡ªå´å†›çš„ä¸“æ ã€Šç¡…è°·æ¥ä¿¡ã€‹ï¼Œæ¯ç¯‡æ–‡ç« ä¸€ä¸ªä¸»é¢˜ï¼Œå€¼çš„ä¸€è¯»ã€‚ 5. å—¨ï¼æµŽå—åˆå¬åˆ°äº†ä¸€é¦–å…³äºŽæµŽå—çš„æ­Œæ›²ï¼Œæ›¾åœ¨æµŽå—ç”Ÿæ´»å¤šå¹´ï¼Œå¿…é¡»è¦åˆ†äº«ä¸€ä¸‹ã€‚ 6. termtosvgGithubä¸Šçš„å¼€æºé¡¹ç›®ï¼Œå°†å‘½ä»¤è¡Œå·¥å…·å•ç‹¬ä¿å­˜ä¸ºSVGåŠ¨ç”»ã€‚ 7. teleportæä¾›äº†sshçš„å®¡è®¡å’Œå›žæ”¾ï¼ŒåŸºäºŽSSHçš„RBACç®¡ç†ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªå¸¦ç®¡ç†åŠŸèƒ½çš„uiç•Œé¢ï¼Œç›®çš„æ˜¯ç”¨äºŽå–ä»£ç³»ç»Ÿè‡ªå¸¦çš„sshdã€‚ å·¥å…·1. clocç»Ÿè®¡ä»£ç è¡Œæ•°çš„å·¥å…·ï¼Œä¸‹é¢æ˜¯kubernetesé¡¹ç›®çš„v1.11.2ç‰ˆæœ¬çš„ä»£ç è¡Œæ•°ç»Ÿè®¡ï¼Œgoçš„ä»£ç è¡Œæ•°å·²ç»è¶…è¿‡äº†100ä¸‡è¡Œã€‚ 2. SpaceVimæˆ‘ä¸ªäººä¸æ˜¯vimå·¥å…·å…šï¼Œåˆšæ¯•ä¸šé‚£ä¼šæ›¾ç»ä¸€åº¦çƒ­è¡·äºŽå°†vimæ‰“é€ æˆä¸ºä¸€ä¸ªå¼€å‘C++çš„IDEï¼Œä½†ç»è¿‡å¤æ‚çš„é…ç½®åŽä»ç„¶éš¾ä»¥è¾¾åˆ°CLionè¿™ç§IDEçš„æ°´å¹³ã€‚æœ€è¿‘å¶ç„¶çœ‹åˆ°SpaceVimï¼Œå¿ƒä¸­ä¸ºä¹‹ä¸€æŒ¯ï¼Œè¿™å°±æ˜¯æˆ‘æƒ³è¦çš„vimï¼Œè™½è¾¾ä¸åˆ°IDEAçš„é«˜åº¦ï¼Œä½†å·²ç»å¯ä»¥è·Ÿvscodeçš„æ˜“ç”¨åº¦å·®ä¸å¤šäº†ã€‚ SpaceVimçš„å¼ºå¤§ä¹‹å¤„åœ¨äºŽSpaceé”®çš„ä½¿ç”¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æŒ‰ä¸‹ç©ºæ ¼é”®ä¼šç»™å‡ºå¿«æ·é”®çš„æç¤ºï¼Œç±»ä¼¼äºŽæ¡Œé¢ç³»ç»Ÿä¸­çš„èœå•åŠŸèƒ½ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux macvlan network]]></title>
      <url>%2Fpost%2Fmacvlan%2F</url>
      <content type="text"><![CDATA[macvlançš„åŽŸç†æ˜¯åœ¨å®¿ä¸»æœºç‰©ç†ç½‘å¡ä¸Šè™šæ‹Ÿå‡ºå¤šä¸ªå­æŽ¥å£ï¼Œæ¯ä¸ªå­æŽ¥å£æœ‰ç‹¬ç«‹çš„macåœ°å€ï¼Œé€šè¿‡ä¸åŒçš„MACåœ°å€åœ¨æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰è¿›è¡Œç½‘ç»œæ•°æ®è½¬å‘çš„ã€‚è¾¾åˆ°çš„æ•ˆæžœç±»ä¼¼ï¼Œä¸€å—ç‰©ç†ç½‘å¡ä¸Šæœ‰å¤šä¸ªIPåœ°å€ï¼Œå¤šä¸ªIPåœ°å€æœ‰è‡ªå·±çš„macåœ°å€ã€‚ å®ƒæ˜¯æ¯”è¾ƒæ–°çš„ç½‘ç»œè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œéœ€è¦è¾ƒæ–°çš„å†…æ ¸æ”¯æŒï¼ˆLinux kernel v3.9â€“3.19 and 4.0+ï¼‰ã€‚ macvlanè®¾å¤‡è·Ÿç‰©ç†è®¾å¤‡ä¹‹é—´å¹¶ä¸ç›´æŽ¥äº’é€šã€‚ macvlanä¸ä»¥äº¤æ¢æœºç«¯å£æ¥åˆ’åˆ†vlanï¼Œä¸€ä¸ªäº¤æ¢æœºç«¯å£å¯æŽ¥æ”¶æ¥è‡ªå¤šä¸ªmacåœ°å€çš„æ•°æ®ã€‚ ä¸€ä¸ªäº¤æ¢æœºç«¯å£è¦å¤„ç†å¤šä¸ªvlançš„æ•°æ®ï¼Œéœ€è¦å¼€å¯trunkæ¨¡å¼ã€‚ å››ç§æ¨¡å¼ä»¥ä¸‹å››ç§æ¨¡å¼ä¸ºæ¯ä¸ªmacvlanè®¾å¤‡å•ç‹¬é…ç½®ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç‰©ç†è®¾å¤‡å°±åªæœ‰ä¸€ä¸ªé…ç½®ã€‚ VEPAæ‰€æœ‰å‘é€å‡ºåŽ»çš„æŠ¥æ–‡éƒ½ç»è¿‡äº¤æ¢æœºï¼Œäº¤æ¢æœºå†å‘é€åˆ°å¯¹åº”çš„ç›®æ ‡åœ°å€ã€‚é»˜è®¤æ¨¡å¼ã€‚ç‰©ç†ç½‘å¡æŽ¥æ”¶åˆ°macvlanè®¾å¤‡çš„æ•°æ®åŽï¼Œæ€»æ˜¯å°†æ•°æ®å‘é€å‡ºåŽ»ï¼Œå³ä½¿æ˜¯å‘å¾€æœ¬è®¾å¤‡ä¸Šå…¶ä»–macvlanè®¾å¤‡çš„æ•°æ®åŒ…ã€‚è¿™æ ·åœ¨äº¤æ¢æœºè®¾å¤‡ä¸Šå¯ä»¥çœ‹åˆ°æ‰€æœ‰ç½‘ç»œçš„æµé‡ã€‚å¦‚æžœæ˜¯æœ¬æœºçš„macvlanè®¾å¤‡æµé‡ä»ç„¶æ˜¯å‘å¾€æœ¬æœºçš„macvlanè®¾å¤‡ï¼Œå¯èƒ½ä¼šè¢«äº¤æ¢æœºçš„ç”Ÿæˆæ ‘åè®®é˜»æ­¢ã€‚éœ€è¦äº¤æ¢æœºå¼€å¯hairpinæ¨¡å¼æˆ–è€…reflective relayæ¨¡å¼ï¼Œè¯¥æ¨¡å¼åœ¨ç›®å‰çš„äº¤æ¢æœºä¸Šæœªå¹¿æ³›æ”¯æŒï¼Œvepaæ¨¡å¼çš„åº”ç”¨è¾ƒå°‘ã€‚ linuxçš„ç½‘æ¡¥æ”¯æŒhairpinæ¨¡å¼ã€‚ bridgeæœ€å¸¸ç”¨ï¼ŒåŒä¸€ä¸ªç‰©ç†è®¾å¤‡ä¸Šçš„ä¸åŒmacvlanè®¾å¤‡é—´çš„é€šè®¯å¯ä»¥ç›´æŽ¥è½¬å‘ï¼Œä¸å†éœ€è¦ç»è¿‡å¤–éƒ¨çš„äº¤æ¢æœºã€‚è½¬å‘éžå¸¸å¿«é€Ÿï¼Œmacvlanè®¾å¤‡ç›¸å¯¹å›ºå®šï¼Œä¸éœ€è¦ç”Ÿæˆæ ‘åè®®ã€‚ Privateæœ¬è´¨ä¸Šæ˜¯VEPAæ¨¡å¼ï¼Œä½†åŒä¸€ä¸ªç‰©ç†è®¾å¤‡ä¸Šçš„macvlanè®¾å¤‡ä¹‹é—´æ— æ³•ç›´æŽ¥é€šè®¯ï¼Œä¸å¸¸ç”¨ã€‚ PassthruåŽæ¥å¢žåŠ çš„æ¨¡å¼ï¼Œæ¯”è¾ƒå°‘ç”¨ vepaå’Œpassthruéƒ½ä¼šå°†ä¸åŒmacvlanæŽ¥å£ä¹‹é—´çš„æ•°æ®å‘é€åˆ°äº¤æ¢æœºï¼Œç„¶åŽå‘å›žï¼Œå¯¹æ€§èƒ½çš„å½±å“æ¯”è¾ƒæ˜Žæ˜¾ã€‚ ç‰©ç†ç½‘å¡æ”¶åˆ°åŒ…åŽï¼Œæ ¹æ®åŒ…çš„macåœ°å€æ¥åˆ¤æ–­è¿™ä¸ªåŒ…äº¤ç»™å“ªä¸ªè™šæ‹ŸæŽ¥å£ã€‚ æ‰‹å·¥åˆ›å»ºå®žè·µä»¥ä¸‹å®žéªŒä¸ºåœ¨virturalboxè™šæ‹Ÿæœºä¸‹ 1234567891011121314151617181920212223242526# åˆ›å»ºä¸¤ä¸ªnetwork namespace net1å’Œnet2ip netns add net1ip netns add net2# åˆ›å»ºmacvlanæŽ¥å£# enp0s8ç›¸å½“äºŽç‰©ç†ç½‘å¡eth0ip link add link enp0s8 mac1 type macvlan# å¯ä»¥çœ‹åˆ°åˆ›å»ºäº†æŽ¥å£mac1@enp0s8[root@localhost vagrant]# ip link1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000 link/ether 08:00:27:6c:3e:95 brd ff:ff:ff:ff:ff:ff3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000 link/ether 08:00:27:cf:b0:b4 brd ff:ff:ff:ff:ff:ff4: docker_gwbridge: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT link/ether 02:42:8e:cf:a9:da brd ff:ff:ff:ff:ff:ff5: br-b3e83aa45886: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT link/ether 02:42:bf:b4:e5:36 brd ff:ff:ff:ff:ff:ff6: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT link/ether 02:42:25:e7:40:32 brd ff:ff:ff:ff:ff:ff19: br-ec6c4e77321d: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT link/ether 02:42:e0:d8:38:6d brd ff:ff:ff:ff:ff:ff24: mac1@enp0s8: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT link/ether 3e:b8:e9:1d:3b:c8 brd ff:ff:ff:ff:ff:ff åˆ›å»ºmacvlanæŽ¥å£çš„æ ¼å¼ä¸ºï¼šip link add link &lt;PARENT&gt; &lt;NAME&gt; type macvlanï¼Œ æ˜¯macvlanæŽ¥å£çš„çˆ¶æŽ¥å£åç§°ï¼Œnameæ˜¯æ–°åˆ›å»ºçš„macvlanæŽ¥å£åç§°ã€‚ 123456789101112131415161718192021222324# å°†mac1æ”¾å…¥åˆ°net1 namespaceä¸­[root@localhost vagrant]# ip link set mac1 netns net1[root@localhost vagrant]# ip netns exec net1 ip link1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0024: mac1@if3: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT link/ether 3e:b8:e9:1d:3b:c8 brd ff:ff:ff:ff:ff:ff link-netnsid 0# åœ¨net1ä¸­å°†mac1æŽ¥å£å‘½åä¸ºeth0[root@localhost vagrant]# ip netns exec net1 ip link set mac1 name eth0[root@localhost vagrant]# ip netns exec net1 ip link1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0024: eth0@if3: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT link/ether 3e:b8:e9:1d:3b:c8 brd ff:ff:ff:ff:ff:ff link-netnsid 0# åœ¨net1ä¸­åˆ†é…eth0ç½‘å¡çš„ipåœ°å€ä¸º192.168.8.120[root@localhost vagrant]# ip netns exec net1 ip addr add 192.168.8.120/24 dev eth0[root@localhost vagrant]# ip netns exec net1 ip link set eth0 up[root@localhost vagrant]# ip netns exec net1 ip link1: lo: &lt;LOOPBACK&gt; mtu 65536 qdisc noop state DOWN mode DEFAULT link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:0024: eth0@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN mode DEFAULT link/ether 3e:b8:e9:1d:3b:c8 brd ff:ff:ff:ff:ff:ff link-netnsid 0 åœ¨dockerä¸Šçš„å®žè·µ123456789101112[root@localhost vagrant]# docker network create -d macvlan --subnet=10.0.2.100/24 --gateway=10.0.2.2 -o parent=enp0s3 mcv5c637798d559471bd8d1036cdd947d3949e1973f724568da066d9c60c00fb5e6[root@localhost vagrant]# docker network lsNETWORK ID NAME DRIVER SCOPEb6a128f1730e bridge bridge locala65957cd6c3f docker_gwbridge bridge local540bb390028a host host localb3e83aa45886 isolated_nw bridge localec6c4e77321d local_alias bridge local5c637798d559 mcv macvlan local3d247d0414d0 none null local referenceSome notes on macvlan/macvtap]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[pushdå’Œpopdå‘½ä»¤çš„ç”¨æ³•]]></title>
      <url>%2Fpost%2Fpushd-popd%2F</url>
      <content type="text"><![CDATA[pushdå’Œpopdå‘½ä»¤çš„ç”¨æ³•åœ¨ç¼–å†™shellçš„æ—¶å€™ï¼Œç»å¸¸ä¼šåœ¨ç›®å½•ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œå¦‚æžœä½¿ç”¨cdå‘½ä»¤ç»å¸¸ä¼šåˆ‡æ¢é”™è¯¯ï¼Œpushdå’Œpopdä½¿ç”¨æ ˆçš„æ–¹å¼æ¥ç®¡ç†ç›®å½•ã€‚ dirsç”¨äºŽæ˜¾ç¤ºå½“å‰ç›®å½•æ ˆä¸­çš„æ‰€æœ‰è®°å½•ã€‚ pushdå°†ç›®å½•åŠ å…¥åˆ°æ ˆé¡¶éƒ¨ï¼Œå¹¶å°†å½“å‰ç›®å½•åˆ‡æ¢åˆ°è¯¥ç›®å½•ã€‚è‹¥ä¸åŠ ä»»ä½•å‚æ•°ï¼Œè¯¥å‘½ä»¤ç”¨äºŽå°†æ ˆé¡¶çš„ä¸¤ä¸ªç›®å½•è¿›è¡Œå¯¹è°ƒã€‚ popdåˆ é™¤ç›®å½•æ ˆä¸­çš„ç›®å½•ã€‚è‹¥ä¸åŠ ä»»ä½•å‚æ•°ï¼Œåˆ™ä¼šé¦–å…ˆåˆ é™¤ç›®å½•æ ˆé¡¶çš„ç›®å½•ï¼Œå¹¶å°†å½“å‰ç›®å½•åˆ‡æ¢åˆ°æ ˆé¡¶ä¸‹é¢çš„ç›®å½•ã€‚ å‘½ä»¤æ ¼å¼ï¼špushd [-N | +N] [-n] +N å°†ç¬¬Nä¸ªç›®å½•åˆ é™¤ï¼ˆä»Žå·¦è¾¹æ•°èµ·ï¼Œæ•°å­—ä»Ž0å¼€å§‹ï¼‰ -N å°†ç¬¬Nä¸ªç›®å½•åˆ é™¤ï¼ˆä»Žå³è¾¹æ•°èµ·ï¼Œæ•°å­—ä»Ž0å¼€å§‹ï¼‰ -n å°†ç›®å½•å‡ºæ ˆæ—¶ï¼Œä¸åˆ‡æ¢ç›®å½• example123456789101112131415161718192021222324[root@localhost tmp]# mkdir /tmp/dir&#123;1,2,3,4&#125;[root@localhost tmp]# pushd /tmp/dir1/tmp/dir1 /tmp[root@localhost dir1]# pushd /tmp/dir2/tmp/dir2 /tmp/dir1 /tmp[root@localhost dir2]# pushd /tmp/dir3/tmp/dir3 /tmp/dir2 /tmp/dir1 /tmp[root@localhost dir3]# pushd /tmp/dir4/tmp/dir4 /tmp/dir3 /tmp/dir2 /tmp/dir1 /tmp# dirsçš„æ˜¾ç¤ºå†…å®¹è·Ÿpushdå®ŒæˆåŽçš„è¾“å‡ºä¸€è‡´[root@localhost dir4]# dirs/tmp/dir4 /tmp/dir3 /tmp/dir2 /tmp/dir1 /tmp[root@localhost dir4]# popd/tmp/dir3 /tmp/dir2 /tmp/dir1 /tmp# å¸¦æœ‰æ•°å­—æ¯”è¾ƒå®¹æ˜“å‡ºé”™[root@localhost dir3]# popd +1/tmp/dir3 /tmp/dir1 /tmp# æ¸…é™¤ç›®å½•æ ˆ[root@localhost dir3]# dirs -c[root@localhost dir3]# dirs/tmp/dir3]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ç†è§£OverlayFS]]></title>
      <url>%2Fpost%2Foverlayfs%2F</url>
      <content type="text"><![CDATA[docker imageç»“æž„dockerå¯ä»¥é€šè¿‡å‘½ä»¤docker image inspect ${image}æ¥æŸ¥çœ‹imageçš„è¯¦ç»†ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€ä½¿ç”¨çš„åº•å±‚æ–‡ä»¶ç³»ç»ŸåŠå„å±‚çš„ä¿¡æ¯ã€‚ docker containerçš„å­˜å‚¨ç»“æž„åˆ†ä¸ºäº†åªè¯»å±‚ã€initå±‚å’Œå¯è¯»å†™å±‚ã€‚ åªè¯»å±‚è·Ÿdocker imageçš„å±‚æ¬¡ç»“æž„æ°å¥½å¯¹åº”ï¼Œä¸»è¦åŒ…å«æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ã€é…ç½®ã€ç›®å½•ç­‰ä¿¡æ¯ï¼Œä¸åŒ…å«æ“ä½œç³»ç»Ÿé•œåƒã€‚ initå±‚åœ¨åªè¯»å±‚å’Œè¯»å†™å±‚ä¸­é—´ï¼Œç”¨æ¥ä¸“é—¨å­˜æ”¾/etc/hosts /etc/resolv.confç­‰ä¿¡æ¯ï¼Œè¿™äº›æ–‡ä»¶å¾€å¾€éœ€è¦åœ¨å¯åŠ¨çš„æ—¶å€™å†™å…¥ä¸€äº›æŒ‡å®šå€¼ï¼Œä½†ä¸æœŸæœ›docker commitå‘½ä»¤å¯¹å…¶è¿›è¡Œæäº¤ã€‚ å¯è¯»å†™å±‚ä¸ºå®¹å™¨åœ¨è¿è¡Œä¸­å¯ä»¥è¿›è¡Œå†™å…¥çš„å±‚ã€‚ overlay é‡‡ç”¨äº†ä¸¤å±‚ç»“æž„ï¼Œlowerdirä¸ºé•œåƒå±‚ï¼Œåªè¯»ã€‚upperdirä¸ºå®¹å™¨å±‚ã€‚ æ¯å±‚éƒ½ä¼šåœ¨/var/run/docker/overlayåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸­ä¸ºå®žé™…å±‚çš„å†…å®¹ï¼Œæ–‡ä»¶é‡‡ç”¨ç¡¬é“¾æŽ¥çš„æ–¹å¼é“¾æŽ¥åˆ°çœŸå®žå±‚ä¸­çš„æ–‡ä»¶ï¼Œæ¯ä¸€å±‚éƒ½åŒ…å«è¯¥å±‚è¯¥æ‹¥æœ‰çš„æ‰€æœ‰æ–‡ä»¶ï¼Œè€Œè¯¥æ–‡ä»¶çš„çœŸå®žå­˜å‚¨å¯èƒ½æ˜¯é‡‡ç”¨ç¡¬é“¾æŽ¥çš„æ–¹å¼é“¾æŽ¥åˆ°ä¸Šå±‚ä¸­çš„çœŸå®žæ–‡ä»¶ï¼Œå› æ­¤æ¯”è¾ƒè€—è´¹inodeã€‚ åˆ›å»ºä¸€ä¸ªå®¹å™¨æ—¶ï¼Œä¼šæ–°å¢žä¸¤ä¸ªç›®å½•ï¼Œä¸€ä¸ªä¸ºè¯»å†™å±‚ï¼Œä¸€ä¸ªä¸ºåˆå§‹å±‚ã€‚åˆå§‹å±‚ä¸­ä¿å­˜äº†å®¹å™¨åˆå§‹åŒ–æ—¶çš„çŽ¯å¢ƒä¿¡æ¯ï¼Œå¦‚hostnameã€hostsæ–‡ä»¶ç­‰ã€‚è¯»å†™å±‚ç”¨äºŽè®°å½•å®¹å™¨çš„æ‰€æœ‰æ”¹åŠ¨ã€‚ overlay2ä¸ºäº†è§„é¿overlayæ¶ˆè€—inodeèŠ‚ç‚¹è¿‡å¤šçš„é—®é¢˜ï¼Œoverlay2é‡‡ç”¨åœ¨æ¯å±‚ä¸­å¢žåŠ loweræ–‡ä»¶çš„æ–¹å¼æ¥è®°å½•æ‰€æœ‰åº•å±‚çš„ä¿¡æ¯ï¼Œç±»ä¼¼äºŽé“¾è¡¨çš„å½¢å¼ã€‚ docker pull ubuntu 12345678910[root@localhost runc]# docker pull ubuntuUsing default tag: latestlatest: Pulling from library/ubuntuc64513b74145: Pull complete01b8b12bad90: Pull completec5d85cf7a05f: Pull completeb6b268720157: Pull completee12192999ff1: Pull completeDigest: sha256:3f119dc0737f57f704ebecac8a6d8477b0f6ca1ca0332c7ee1395ed2c6a82be7Status: Downloaded newer image for ubuntu:latest ä¼šåœ¨/var/run/docker/overlay2ç›®å½•ä¸‹åˆ›å»ºå¦‚ä¸‹æ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536[root@localhost overlay2]# tree -L 2.|-- 664ae13f1c21402385076025d68476eb8d1cc4be6c6a218b24bd55217ac62672 // ç¬¬0å±‚| |-- diff| `-- link // MZUEUOFHBNVTRCJYJEG7QY4VWT|-- 783ad02709b67ac47b55198e9659c4592f0972334987ab97f42fd10f1784cbba // ç¬¬2å±‚| |-- diff| |-- link // HXATFASQ4E2JBG434DUEN54EZZ| |-- lower // l/WUZC5WSTQTPJUJ4KFAYCUT5IPD:l/MZUEUOFHBNVTRCJYJEG7QY4VWT| |-- merged| `-- work|-- 89f7a20dda3d868840e20d9e8f1bfe20c5cca51c27b07825f100da0f474672f6 // ç¬¬3å±‚| |-- diff| |-- link // 5PHT7S3MCZTTQOXVPA4CKJRRFD| |-- lower // l/HXATFASQ4E2JBG434DUEN54EZZ:l/WUZC5WSTQTPJUJ4KFAYCUT5IPD:l/MZUEUOFHBNVTRCJYJEG7QY4VWT| |-- merged| `-- work|-- backingFsBlockDev|-- bad073a2d1f79a03af6caa0b3f51a22e6762cebbc0c30e45458fe6c1ff266f68 // ç¬¬4å±‚| |-- diff| |-- link // QMKHIPSDT4JTPE4FLT7QGJ33ND| |-- lower // l/5PHT7S3MCZTTQOXVPA4CKJRRFD:l/HXATFASQ4E2JBG434DUEN54EZZ:l/WUZC5WSTQTPJUJ4KFAYCUT5IPD:l/MZUEUOFHBNVTRCJYJEG7QY4VWT| |-- merged| `-- work|-- cb40b5b47c699050305676b35b1cea1ce08b38604dd68243c4be48934125b1a3 // ç¬¬1å±‚| |-- diff| |-- link // WUZC5WSTQTPJUJ4KFAYCUT5IPD| |-- lower // l/MZUEUOFHBNVTRCJYJEG7QY4VWT| |-- merged| `-- work`-- l |-- 5PHT7S3MCZTTQOXVPA4CKJRRFD -&gt; ../89f7a20dda3d868840e20d9e8f1bfe20c5cca51c27b07825f100da0f474672f6/diff |-- HXATFASQ4E2JBG434DUEN54EZZ -&gt; ../783ad02709b67ac47b55198e9659c4592f0972334987ab97f42fd10f1784cbba/diff |-- MZUEUOFHBNVTRCJYJEG7QY4VWT -&gt; ../664ae13f1c21402385076025d68476eb8d1cc4be6c6a218b24bd55217ac62672/diff |-- QMKHIPSDT4JTPE4FLT7QGJ33ND -&gt; ../bad073a2d1f79a03af6caa0b3f51a22e6762cebbc0c30e45458fe6c1ff266f68/diff `-- WUZC5WSTQTPJUJ4KFAYCUT5IPD -&gt; ../cb40b5b47c699050305676b35b1cea1ce08b38604dd68243c4be48934125b1a3/diff lç›®å½•ä¸‹ä¸ºè¶…é“¾æŽ¥ï¼Œç¼©çŸ­åŽçš„ç›®å½•ï¼Œä¸ºäº†é¿å…mountæ—¶è¶…å‡ºé¡µå¤§å°é™åˆ¶ã€‚ æ¯ä¸€å±‚ä¸­çš„diffæ–‡ä»¶å¤¹åŒ…å«å®žé™…å†…å®¹ã€‚ æ¯ä¸€å±‚ä¸­éƒ½æœ‰ä¸€ä¸ªlinkæ–‡ä»¶ï¼Œå†…å®¹ä¸ºlç›®å½•ä¸­çš„è¶…é“¾æŽ¥ï¼Œè¶…é“¾æŽ¥å®žé™…æŒ‡å‘å½“å‰å±‚ç›®å½•ä¸­çš„diffæ–‡ä»¶å¤¹ã€‚ é™¤åŽ»æœ€åº•å±‚çš„ç›®å½•å¤–ï¼Œå…¶ä½™æ¯ä¸€å±‚ä¸­åŒ…å«ä¸€ä¸ªloweræ–‡ä»¶ï¼ŒåŒ…å«äº†è¯¥å±‚çš„æ‰€æœ‰æ›´åº•å±‚åç§°å’Œé¡ºåºï¼Œå¯ä»¥æ ¹æ®è¯¥æ–‡ä»¶æž„å»ºå‡ºæ•´ä¸ªé•œåƒçš„å±‚æ¬¡ç»“æž„ã€‚ workç›®å½•ç”¨äºŽOverlayFSå†…éƒ¨ä½¿ç”¨ã€‚ æœ€åº•å±‚åªæœ‰linkæ–‡ä»¶ï¼Œæ— loweræ–‡ä»¶ï¼Œå› æ­¤664ae13f1c21402385076025d68476eb8d1cc4be6c6a218b24bd55217ac62672ä¸ºæœ€åº•å±‚ã€‚ ä»¥ä¸Šäº”å±‚ä¸ºlowerï¼Œåªè¯»ã€‚ å½“ä½¿ç”¨docker run -it ubuntu:latest /bin/bashå¯åŠ¨ä¸€ä¸ªå®¹å™¨åŽï¼Œåœ¨overlay2ç›®å½•ä¸‹ä¼šå¤šå‡ºä¸¤ä¸ªæ–‡ä»¶å¤¹ã€‚ 123456789101112131415161718192021[root@localhost overlay2]# tree -L 1 0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08-init 0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08 l0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08-init|-- diff|-- link // ZJVMGTB2IOJ6QF57TYM5O7EWXW|-- lower // l/QMKHIPSDT4JTPE4FLT7QGJ33ND:l/5PHT7S3MCZTTQOXVPA4CKJRRFD:l/HXATFASQ4E2JBG434DUEN54EZZ:l/WUZC5WSTQTPJUJ4KFAYCUT5IPD:l/MZUEUOFHBNVTRCJYJEG7QY4VWT|-- merged`-- work0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08|-- diff|-- link|-- lower // l/ZJVMGTB2IOJ6QF57TYM5O7EWXW:l/QMKHIPSDT4JTPE4FLT7QGJ33ND:l/5PHT7S3MCZTTQOXVPA4CKJRRFD:l/HXATFASQ4E2JBG434DUEN54EZZ:l/WUZC5WSTQTPJUJ4KFAYCUT5IPD:l/MZUEUOFHBNVTRCJYJEG7QY4VWT|-- merged`-- workl|-- 5PHT7S3MCZTTQOXVPA4CKJRRFD -&gt; ../89f7a20dda3d868840e20d9e8f1bfe20c5cca51c27b07825f100da0f474672f6/diff|-- AOLYGFOHIAHWU5CBAJFULNAXI7 -&gt; ../0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08/diff|-- HXATFASQ4E2JBG434DUEN54EZZ -&gt; ../783ad02709b67ac47b55198e9659c4592f0972334987ab97f42fd10f1784cbba/diff|-- MZUEUOFHBNVTRCJYJEG7QY4VWT -&gt; ../664ae13f1c21402385076025d68476eb8d1cc4be6c6a218b24bd55217ac62672/diff|-- QMKHIPSDT4JTPE4FLT7QGJ33ND -&gt; ../bad073a2d1f79a03af6caa0b3f51a22e6762cebbc0c30e45458fe6c1ff266f68/diff|-- WUZC5WSTQTPJUJ4KFAYCUT5IPD -&gt; ../cb40b5b47c699050305676b35b1cea1ce08b38604dd68243c4be48934125b1a3/diff`-- ZJVMGTB2IOJ6QF57TYM5O7EWXW -&gt; ../0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08-init/diff 0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08-initç”¨äºŽå­˜æ”¾å®¹å™¨åˆå§‹åŒ–æ—¶çš„ä¿¡æ¯ï¼Œé€šè¿‡ä¸‹é¢æŸ¥çœ‹æ›´ç›´è§‚ã€‚ 123456789101112131415[root@localhost overlay2]# tree 0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08-init0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08-init|-- diff| |-- dev| | `-- console| `-- etc| |-- hostname| |-- hosts| |-- mtab -&gt; /proc/mounts| `-- resolv.conf|-- link|-- lower|-- merged`-- work `-- work 0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08çš„ç›´æŽ¥åº•å±‚ä¸ºinitå±‚ï¼Œæ›´è¯¦ç»†çš„ç›®å½•ç»“æž„å¦‚ä¸‹ã€‚ 123456789101112131415161718192021222324252627[root@localhost overlay2]# tree -L 2 0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c080326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08|-- diff|-- link|-- lower|-- merged| |-- bin| |-- boot| |-- dev| |-- etc| |-- home| |-- lib| |-- lib64| |-- media| |-- mnt| |-- opt| |-- proc| |-- root| |-- run| |-- sbin| |-- srv| |-- sys| |-- tmp| |-- usr| `-- var`-- work `-- work mergedæ–‡ä»¶å¤¹ä¸­å†…å®¹è¾ƒå¤šï¼Œä¸ºoverlay2çš„ç›´æŽ¥æŒ‚è½½ç‚¹ï¼Œå¯¹å®¹å™¨çš„ä¿®æ”¹ä¼šååº”åˆ°è¯¥ç›®å½•ä¸­ã€‚ä¾‹å¦‚åœ¨å®¹å™¨ä¸­å¢žåŠ /root/hello.txtæ–‡ä»¶ï¼Œåœ¨mergedç›®å½•ä¸‹ä¼šå¢žåŠ root/hello.txtæ–‡ä»¶ã€‚ 123[root@localhost overlay2]# mount | grep overlay2/dev/mapper/centos-root on /var/lib/docker/overlay2 type xfs (rw,relatime,attr2,inode64,noquota)overlay on /var/lib/docker/overlay2/0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08/merged type overlay (rw,relatime,lowerdir=/var/lib/docker/overlay2/l/ZJVMGTB2IOJ6QF57TYM5O7EWXW:/var/lib/docker/overlay2/l/QMKHIPSDT4JTPE4FLT7QGJ33ND:/var/lib/docker/overlay2/l/5PHT7S3MCZTTQOXVPA4CKJRRFD:/var/lib/docker/overlay2/l/HXATFASQ4E2JBG434DUEN54EZZ:/var/lib/docker/overlay2/l/WUZC5WSTQTPJUJ4KFAYCUT5IPD:/var/lib/docker/overlay2/l/MZUEUOFHBNVTRCJYJEG7QY4VWT,upperdir=/var/lib/docker/overlay2/0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08/diff,workdir=/var/lib/docker/overlay2/0326c1da0af912a6ea5efda77b65b04e796993e0f111ed8f262c55b2716f1c08/work) ref Use the OverlayFS storage driver Dockerå­˜å‚¨é©±åŠ¨â€”Overlay/Overlay2ã€Œè¯‘ã€]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Golangé¢è¯•é¢˜]]></title>
      <url>%2Fpost%2Fgolang-interview%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡ç»å¤§å¤šæ•°é¢˜ç›®æ¥æºäºŽç½‘ç»œï¼Œéƒ¨åˆ†é¢˜ç›®ä¸ºåŽŸåˆ›ã€‚ sliceç›¸å…³ä»¥ä¸‹ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯´æ˜ŽåŽŸå› 12345678910111213141516type student struct &#123; Name string Age int&#125;func pase_student() &#123; m := make(map[string]*student) stus := []student&#123; &#123;Name: "zhou", Age: 24&#125;, &#123;Name: "li", Age: 23&#125;, &#123;Name: "wang", Age: 22&#125;, &#125; for _, stu := range stus &#123; m[stu.Name] = &amp;stu &#125;&#125; æ¯æ¬¡éåŽ†çš„æ—¶å€™stuå˜é‡ä¸ºå€¼æ‹·è´ï¼Œstuå˜é‡çš„åœ°å€æœªæ”¹å˜ï¼Œå³&amp;stuæœªæ”¹å˜ï¼ŒéåŽ†ç»“æŸåŽstuæŒ‡å‘stusä¸­çš„æœ€åŽä¸€ä¸ªå…ƒç´ ã€‚ ä½¿ç”¨reflect.TypeOf(str)æ‰“å°å‡ºçš„ç±»åž‹ä¸ºmain.studentï¼Œå¦‚æžœä½¿ç”¨stu.Age += 10è¿™æ ·çš„è¯­æ³•æ˜¯ä¸ä¼šä¿®æ”¹stusä¸­çš„å€¼çš„ã€‚ å¯ä¿®æ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼š 123for i, _ := range stus &#123; m[stus[i].Name] = &amp;stus[i]&#125; æœ‰ä¸€ä¸ªslice of object, éåŽ†sliceä¿®æ”¹nameä¸ºæŒ‡å®šçš„å€¼12345678type foo struct &#123; name string value string&#125;func mutate(s []foo, name string) &#123;// TODO&#125; æ„åœ¨è€ƒå¯ŸrangeéåŽ†çš„æ—¶å€™æ˜¯å€¼æ‹·è´ï¼Œä»¥åŠsliceçš„å†…éƒ¨æ•°æ®ç»“æž„ï¼Œsliceçš„æ•°æ®ç»“æž„å¦‚ä¸‹ï¼š 123456struct Slice&#123; // must not move anything byte* array; // actual data uintgo len; // number of elements uintgo cap; // allocated number of elements&#125;; æ‰§è¡Œappendå‡½æ•°åŽä¼šè¿”å›žä¸€ä¸ªæ–°çš„Sliceå¯¹è±¡ï¼Œæ–°çš„Sliceå¯¹è±¡è·Ÿæ—§Sliceå¯¹è±¡å…±ç”¨ç›¸åŒçš„æ•°æ®å­˜å‚¨ï¼Œä½†æ˜¯lençš„å€¼å¹¶ä¸ç›¸åŒã€‚ è¯¥é¢˜ç›®ä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¥ä¿®æ”¹å€¼: 123456789// rangeæ–¹å¼for i, _ := range s &#123; s[i].name = name&#125;// for iå½¢å¼for i:=0; i&lt;len(s); i++ &#123; s[i].name = name&#125; ä»Žsliceä¸­æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ åŒ¹é…nameï¼Œå¹¶å°†è¯¥å…ƒç´ çš„æŒ‡é’ˆæ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„sliceä¸­ï¼Œè¿”å›žæ–°slice1234func find(s []foo, name string) []*foo &#123;// TODO&#125; ä»æ—§æ˜¯è€ƒå¯Ÿrangeæ˜¯å€¼æ‹·è´çš„ç”¨æ³•ï¼Œæ­¤å¤„ä½¿ç”¨for i å¾ªçŽ¯å³å¯ 1234567891011func find(s []foo, name string) []*foo &#123; res := []*foo&#123;&#125; for i := 0; i &lt; len(s); i++ &#123; if s[i].name == name &#123; res = append(res, &amp;(s[i])) break &#125; &#125; return res&#125; ä¸‹é¢è¾“å‡ºä»€ä¹ˆå†…å®¹1234567891011121314151617181920package mainimport &quot;fmt&quot;func m(s []int) &#123; s[0] = -1 s = append(s, 4)&#125;func main() &#123; s1 := []int&#123;1, 2, 3&#125; m(s1) s2 := make([]int, 3, 6) m(s2) s2 = append(s2, 7) s3 := [3]int&#123;1, 2, 3&#125; fmt.Println(s1) fmt.Println(s2) fmt.Println(s3)&#125; sliceçš„å‡½æ•°ä¼ é€’ä¸ºå€¼æ‹·è´æ–¹å¼ï¼Œåœ¨å‡½æ•°mä¸­å¯¹ä¸‹æ ‡ä¸º0çš„å…ƒç´ çš„ä¿®æ”¹ä¼šç›´æŽ¥ä¿®æ”¹åŽŸsliceä¸­çš„å€¼ï¼Œå› ä¸ºsliceä¸­çš„æŒ‡é’ˆæŒ‡å‘çš„åœ°å€æ˜¯ç›¸åŒçš„ã€‚ appendä¹‹åŽçš„sliceè™½ç„¶å¯èƒ½æ˜¯åœ¨åŽŸæ•°ç»„ä¸Šå¢žåŠ äº†å…ƒç´ ï¼Œä½†åŽŸsliceä¸­çš„lenå­—æ®µå¹¶æ²¡æœ‰å˜åŒ–ã€‚ make([]int, 3, 6)è™½ç„¶æŒ‡å®šäº†sliceçš„capï¼Œä½†å¯¹äºŽappendæ²¡æœ‰å½±å“ï¼Œè¿˜æ˜¯ä¼šåœ¨sliceä¸­æœ€åŽä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®å¢žåŠ æ–°å…ƒç´ ã€‚ æ•°ç»„ç”±äºŽæ˜¯å€¼æ‹·è´ï¼Œå¯¹æ–°æ•°ç»„çš„ä¿®æ”¹ä¸ä¼šå½±å“åˆ°åŽŸæ•°ç»„ã€‚ è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š 123[-1 2 3][-1 0 0 7][1 2 3] ä¸‹é¢è¾“å‡ºä»€ä¹ˆå†…å®¹è¯¥é¢˜ç›®ä¸ºæˆ‘è‡ªå·±æƒ³å‡ºæ¥çš„ï¼Œéžæ¥è‡ªäºŽäº’è”ç½‘ï¼Œæ„åœ¨è€ƒå¯Ÿå¯¹sliceå’Œappendå‡½æ•°çš„ç†è§£ã€‚ 123456789func f() &#123; s1 := make([]int, 2, 8) fmt.Println(s1) s2 := append(s1, 4) fmt.Println(s2) s3 := append(s1, 5) fmt.Println(s3) fmt.Println(s2)&#125; è¾“å‡ºç»“æžœå¦‚ä¸‹ï¼Œåœ¨æ‰§è¡Œç¬¬äºŒä¸ªappendåŽï¼Œç¬¬ä¸€ä¸ªappendåœ¨å†…å­˜ä¸­å¢žåŠ çš„å…ƒç´ 4ä¼šè¢«5è¦†ç›–æŽ‰ã€‚æ‰§è¡Œç»“æžœå¯ä»¥é€šè¿‡fmt.Println(s1, cap(s1), &amp;s1[0])çš„å½¢å¼å°†ç¬¬ä¸€ä¸ªå…ƒç´ çš„å†…å­˜åœ°å€æ‰“å°å‡ºæ¥æŸ¥çœ‹ã€‚ 123[0 0 4][0 0 5][0 0 5] goroutineä»¥ä¸‹ä»£ç è¾“å‡ºå†…å®¹ï¼š12345678910111213141516package mainimport ( &quot;fmt&quot; &quot;runtime&quot;)func main() &#123; runtime.GOMAXPROCS(1) go func() &#123; fmt.Println(1) &#125;() for &#123; &#125; fmt.Println(1)&#125; ä¸ä¼šæœ‰ä»»ä½•è¾“å‡º ä¸‹é¢è¾“å‡ºçš„å†…å®¹12345678910111213141516171819202122type People struct&#123;&#125;func (p *People) ShowA() &#123; fmt.Println("showA") p.ShowB()&#125;func (p *People) ShowB() &#123; fmt.Println("showB")&#125;type Teacher struct &#123; People&#125;func (t *Teacher) ShowB() &#123; fmt.Println("teacher showB")&#125;func main() &#123; t := Teacher&#123;&#125; t.ShowA()&#125; è¾“å‡º 12showAshowB æœ‰ç‚¹å‡ºä¹Žæ„æ–™ï¼Œå¯ä»¥ä¸¾ä¸ªåä¾‹ï¼Œå¦‚æžœShowA()æ–¹æ³•ä¼šè°ƒç”¨åˆ°Teacherç±»åž‹çš„ShowB()æ–¹æ³•ï¼Œå‡è®¾Peopleå’ŒTeacherå¹¶ä¸åœ¨åŒä¸€ä¸ªåŒ…ä¸­æ—¶ï¼Œç¼–è¯‘ä¸€å®šä¼šå‡ºçŽ°é”™è¯¯ã€‚ Goä¸­æ²¡æœ‰ç»§æ‰¿æœºåˆ¶ï¼Œåªæœ‰ç»„åˆæœºåˆ¶ã€‚ ä¸‹é¢ä»£ç ä¼šè§¦å‘å¼‚å¸¸å—ï¼Ÿè¯·è¯¦ç»†è¯´æ˜Ž12345678910111213func main() &#123; runtime.GOMAXPROCS(1) int_chan := make(chan int, 1) string_chan := make(chan string, 1) int_chan &lt;- 1 string_chan &lt;- &quot;hello&quot; select &#123; case value := &lt;-int_chan: fmt.Println(value) case value := &lt;-string_chan: panic(value) &#125;&#125; ä¼šé—´æ­‡æ€§è§¦å‘å¼‚å¸¸ï¼Œselectä¼šéšæœºé€‰æ‹©ã€‚ ä»¥ä¸‹ä»£ç èƒ½ç¼–è¯‘è¿‡åŽ»å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ1234567891011121314151617181920212223242526package mainimport ( &quot;fmt&quot;)type People interface &#123; Speak(string) string&#125;type Student struct&#123;&#125;func (stu *Student) Speak(think string) (talk string) &#123; if think == &quot;bitch&quot; &#123; talk = &quot;You are a good boy&quot; &#125; else &#123; talk = &quot;hi&quot; &#125; return&#125;func main() &#123; var peo People = Student&#123;&#125; think := &quot;bitch&quot; fmt.Println(peo.Speak(think))&#125; ä¸èƒ½ç¼–è¯‘è¿‡åŽ»ï¼Œæç¤ºStduent does not implement People (Speak method has pointer receiver)ï¼Œå°†Speakå®šä¹‰æ›´æ”¹ä¸ºfunc (stu Stduent) Speak(think string) (talk string)å³å¯ç¼–è¯‘é€šè¿‡ã€‚ mainçš„è°ƒç”¨æ–¹å¼æ›´æ”¹ä¸ºå¦‚ä¸‹ä¹Ÿå¯ä»¥ç¼–è¯‘é€šè¿‡var peo People = new(Stduent)ã€‚ func (stu *Stduent) Speak(think string) (talk string)æ˜¯*Studentç±»åž‹çš„æ–¹æ³•ï¼Œä¸æ˜¯Stduentç±»åž‹çš„æ–¹æ³•ã€‚ ä¸‹é¢è¾“å‡ºä»€ä¹ˆ1234567891011121314151617181920212223package mainimport ( &quot;fmt&quot; &quot;time&quot; &quot;runtime&quot;)func main() &#123; runtime.GOMAXPROCS(1) arr := [10000]int&#123;&#125; for i:=0; i&lt;len(arr); i++ &#123; arr[i] = i &#125; for _, a := range arr &#123; go func() &#123; fmt.Println(a) &#125;() &#125; for &#123; time.Sleep(time.Second) &#125;&#125; ä¸€ç›´è¾“å‡º9999.æ¶‰åŠåˆ°goroutineçš„åˆ‡æ¢æ—¶æœºï¼Œä»…ç³»ç»Ÿè°ƒç”¨æˆ–è€…æœ‰å‡½æ•°è°ƒç”¨çš„æƒ…å†µä¸‹æ‰ä¼šåˆ‡æ¢goroutineï¼Œforå¾ªçŽ¯æƒ…å†µä¸‹ä¸€ç›´æ²¡æœ‰ç³»ç»Ÿè°ƒç”¨æˆ–å‡½æ•°åˆ‡æ¢å‘ç”Ÿï¼Œéœ€è¦ç­‰åˆ°forå¾ªçŽ¯ç»“æŸåŽæ‰ä¼šå¯åŠ¨æ–°çš„goroutineã€‚ ä»¥ä¸‹ä»£ç æ‰“å°å‡ºæ¥ä»€ä¹ˆå†…å®¹ï¼Œè¯´å‡ºä¸ºä»€ä¹ˆã€‚ã€‚ã€‚12345678910111213141516171819202122232425262728package mainimport ( &quot;fmt&quot;)type People interface &#123; Show()&#125;type Student struct&#123;&#125;func (stu *Student) Show() &#123;&#125;func live() People &#123; var stu *Student return stu&#125;func main() &#123; if live() == nil &#123; fmt.Println(&quot;AAAAAAA&quot;) &#125; else &#123; fmt.Println(&quot;BBBBBBB&quot;) &#125;&#125; æ‰“å°BBBBBBBã€‚ byteä¸Žruneçš„å…³ç³» byte alias for uint8 rune alias for uint32ï¼Œç”¨æ¥è¡¨ç¤ºunicode 12345678func main() &#123; // rangeéåŽ†ä¸ºruneç±»åž‹ï¼Œè¾“å‡ºint32 for _, w:=range &quot;123&quot; &#123; fmt.Printf(&quot;%T&quot;, w) &#125; // å–æ•°ç»„ä¸ºbyteç±»åž‹ï¼Œè¾“å‡ºuint8 fmt.Printf(&quot;%T&quot;, &quot;123&quot;[0])&#125; å†™å‡ºæ‰“å°çš„ç»“æžœ1234567891011121314151617type People struct &#123; name string `json:"name"`&#125;func main() &#123; js := `&#123; "name":"11" &#125;` var p People p.name = "123" err := json.Unmarshal([]byte(js), &amp;p) if err != nil &#123; fmt.Println("err: ", err) return &#125; fmt.Println("people: ", p)&#125; æ‰“å°ç»“æžœä¸ºpeople: {123} ä¸‹é¢å‡½æ•°æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ123func funcMui(x,y int)(sum int,error)&#123; return x+y,nil&#125; å‡½æ•°è¿”å›žå€¼å‘½å åœ¨å‡½æ•°æœ‰å¤šä¸ªè¿”å›žå€¼æ—¶ï¼Œåªè¦æœ‰ä¸€ä¸ªè¿”å›žå€¼æœ‰æŒ‡å®šå‘½åï¼Œå…¶ä»–çš„ä¹Ÿå¿…é¡»æœ‰å‘½åã€‚ å¦‚æžœè¿”å›žå€¼æœ‰æœ‰å¤šä¸ªè¿”å›žå€¼å¿…é¡»åŠ ä¸Šæ‹¬å·ï¼› å¦‚æžœåªæœ‰ä¸€ä¸ªè¿”å›žå€¼å¹¶ä¸”æœ‰å‘½åä¹Ÿéœ€è¦åŠ ä¸Šæ‹¬å·ï¼› æ­¤å¤„å‡½æ•°ç¬¬ä¸€ä¸ªè¿”å›žå€¼æœ‰sumåç§°ï¼Œç¬¬äºŒä¸ªä¸ºå‘½åï¼Œæ‰€ä»¥é”™è¯¯ã€‚ ä»¥ä¸‹å‡½æ•°è¾“å‡ºä»€ä¹ˆ123456789101112131415161718192021222324252627282930313233343536package mainfunc main() &#123; println(DeferFunc1(1)) println(DeferFunc2(1)) println(DeferFunc3(1)) println(DeferFunc4(1))&#125;func DeferFunc1(i int) (t int) &#123; t = i defer func() &#123; t += 3 &#125;() return t&#125;func DeferFunc2(i int) int &#123; t := i defer func() &#123; t += 3 &#125;() return t&#125;func DeferFunc3(i int) (t int) &#123; defer func() &#123; t += i &#125;() return 2&#125;func DeferFunc4(i int) (t int) &#123; t = 10 return 2&#125; è¾“å‡ºç»“æžœä¸º: 4 1 3 2 returnè¯­å¥ä¸æ˜¯ä¸€ä¸ªåŽŸå­æŒ‡ä»¤ï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œæ‰§è¡ŒreturnåŽé¢çš„è¡¨è¾¾å¼å’Œè¿”å›žè¡¨è¾¾å¼çš„ç»“æžœã€‚deferå‡½æ•°åœ¨è¿”å›žè¡¨è¾¾å¼ä¹‹å‰æ‰§è¡Œã€‚ æ‰§è¡ŒreturnåŽçš„è¡¨è¾¾å¼ç»™è¿”å›žå€¼èµ‹å€¼ è°ƒç”¨deferå‡½æ•° ç©ºçš„return DeferFunc1åœ¨ç¬¬ä¸€æ­¥æ‰§è¡Œè¡¨è¾¾å¼åŽt=1ï¼Œæ‰§è¡ŒdeferåŽt=4ï¼Œè¿”å›žå€¼ä¸º4 DeferFunc2åœ¨ç¬¬ä¸€æ­¥æ‰§è¡Œè¡¨è¾¾å¼åŽt=1ï¼Œæ‰§è¡ŒdeferåŽt=4ï¼Œè¿”å›žå€¼ä¸ºç¬¬ä¸€æ­¥è¡¨è¾¾å¼çš„ç»“æžœ1 DeferFunc3åœ¨ç¬¬ä¸€æ­¥è¡¨è¾¾å¼ä¸ºt=2ï¼Œæ‰§è¡ŒdeferåŽt=3ï¼Œè¿”å›žå€¼ä¸ºt=3 DeferFunc4åœ¨ç¬¬ä¸€æ­¥æ‰§è¡Œè¡¨è¾¾å¼åŽt=2ï¼Œè¿”å›žå€¼ä¸ºt=2 æ˜¯å¦å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Ÿå¦‚æžœé€šè¿‡ï¼Œè¾“å‡ºä»€ä¹ˆï¼Ÿ123456789101112131415161718192021222324252627282930313233343536373839404142434445package mainimport ( &quot;fmt&quot;)func main() &#123; sn1 := struct &#123; age int name string &#125;&#123;age: 11, name: &quot;qq&quot;&#125; sn2 := struct &#123; age int name string &#125;&#123;age: 11, name: &quot;qq&quot;&#125; sn3 := struct &#123; name string age int &#125;&#123;age: 11, name: &quot;qq&quot;&#125; if sn1 == sn2 &#123; fmt.Println(&quot;sn1 == sn2&quot;) &#125; if sn1 == sn3 &#123; fmt.Println(&quot;sn1 == sn3&quot;) &#125; sm1 := struct &#123; age int m map[string]string &#125;&#123;age: 11, m: map[string]string&#123;&quot;a&quot;: &quot;1&quot;&#125;&#125; sm2 := struct &#123; age int m map[string]string &#125;&#123;age: 11, m: map[string]string&#123;&quot;a&quot;: &quot;1&quot;&#125;&#125; if sm1 == sm2 &#123; fmt.Println(&quot;sm1 == sm2&quot;) &#125;&#125; ç»“æž„ä½“æ¯”è¾ƒ è¿›è¡Œç»“æž„ä½“æ¯”è¾ƒæ—¶å€™ï¼Œåªæœ‰ç›¸åŒç±»åž‹çš„ç»“æž„ä½“æ‰å¯ä»¥æ¯”è¾ƒï¼Œç»“æž„ä½“æ˜¯å¦ç›¸åŒä¸ä½†ä¸Žå±žæ€§ç±»åž‹ä¸ªæ•°æœ‰å…³ï¼Œè¿˜ä¸Žå±žæ€§é¡ºåºç›¸å…³ã€‚ è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ç»“æž„ä½“æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯ç»“æž„ä½“å±žæ€§ä¸­æœ‰ä¸å¯ä»¥æ¯”è¾ƒçš„ç±»åž‹ï¼Œå¦‚map,sliceã€‚ å¦‚æžœè¯¥ç»“æž„å±žæ€§éƒ½æ˜¯å¯ä»¥æ¯”è¾ƒçš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨â€œ==â€è¿›è¡Œæ¯”è¾ƒæ“ä½œã€‚ æ˜¯å¦å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Ÿå¦‚æžœé€šè¿‡ï¼Œè¾“å‡ºä»€ä¹ˆï¼Ÿ123456789101112131415161718package mainimport ( &quot;fmt&quot;)func Foo(x interface&#123;&#125;) &#123; if x == nil &#123; fmt.Println(&quot;empty interface&quot;) return &#125; fmt.Println(&quot;non-empty interface&quot;)&#125;func main() &#123; var x *int = nil Foo(x)&#125; è¾“å‡ºâ€œnon-empty interfaceâ€ äº¤æ›¿æ‰“å°æ•°å­—å’Œå­—æ¯ä½¿ç”¨ä¸¤ä¸ª goroutine äº¤æ›¿æ‰“å°åºåˆ—ï¼Œä¸€ä¸ª goroutine æ‰“å°æ•°å­—ï¼Œ å¦å¤–ä¸€ä¸ª goroutine æ‰“å°å­—æ¯ï¼Œ æœ€ç»ˆæ•ˆæžœä¸º: 12AB34CD56EF78GH910IJ1112KL1314MN1516OP1718QR1920ST2122UV2324WX2526YZ2728 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package mainimport ( "fmt" "sync")func main() &#123; number, letter := make(chan bool), make(chan bool) wait := new(sync.WaitGroup) go func () &#123; num := 1 for &#123; &lt;-number fmt.Printf("%d%d", num, num+1) num += 2 letter &lt;- true if num &gt; 28 &#123; break &#125; &#125; wait.Done() &#125;() go func () &#123; begin := 'A' for &#123; &lt;- letter if begin &lt; 'Z' &#123; fmt.Printf("%c%c", begin, begin+1) begin+=2 number &lt;- true &#125; else &#123; break &#125; &#125; wait.Done() &#125;() number &lt;- true wait.Add(2) wait.Wait()&#125; structç±»åž‹çš„æ–¹æ³•è°ƒç”¨å‡è®¾Tç±»åž‹çš„æ–¹æ³•ä¸ŠæŽ¥æ”¶å™¨æ—¢æœ‰Tç±»åž‹çš„ï¼Œåˆæœ‰TæŒ‡é’ˆç±»åž‹çš„ï¼Œé‚£ä¹ˆå°±ä¸å¯ä»¥åœ¨ä¸èƒ½å¯»å€çš„Tå€¼ä¸Šè°ƒç”¨TæŽ¥æ”¶å™¨çš„æ–¹æ³•ã€‚ è¯·çœ‹ä»£ç ,è¯•é—®èƒ½æ­£å¸¸ç¼–è¯‘é€šè¿‡å—ï¼Ÿ 12345678910111213141516import ( "fmt")type Lili struct&#123; Name string&#125;func (Lili *Lili) fmtPointer()&#123; fmt.Println("poniter")&#125;func (Lili Lili) fmtReference()&#123; fmt.Println("reference")&#125;func main()&#123; li := Lili&#123;&#125; li.fmtPointer()&#125; èƒ½æ­£å¸¸ç¼–è¯‘é€šè¿‡ï¼Œå¹¶è¾“å‡ºâ€poniterâ€ è¯·æŽ¥ç€çœ‹ä»¥ä¸‹çš„ä»£ç ï¼Œè¯•é—®èƒ½ç¼–è¯‘é€šè¿‡ï¼Ÿ 123456789101112131415import ( "fmt")type Lili struct&#123; Name string&#125;func (Lili *Lili) fmtPointer()&#123; fmt.Println("poniter")&#125;func (Lili Lili) fmtReference()&#123; fmt.Println("reference")&#125;func main()&#123; Lili&#123;&#125;.fmtPointer()&#125; ä¸èƒ½ç¼–è¯‘é€šè¿‡ã€‚â€œcannot call pointer method on Lili literalâ€â€œcannot take the address of Lili literalâ€ å…¶å®žåœ¨ç¬¬ä¸€ä¸ªä»£ç ç¤ºä¾‹ä¸­ï¼Œmainä¸»å‡½æ•°ä¸­çš„â€œliâ€æ˜¯ä¸€ä¸ªå˜é‡ï¼Œliçš„è™½ç„¶æ˜¯ç±»åž‹Liliï¼Œä½†æ˜¯liæ˜¯å¯ä»¥å¯»å€çš„ï¼Œ&amp;liçš„ç±»åž‹æ˜¯Liliï¼Œå› æ­¤å¯ä»¥è°ƒç”¨Liliçš„æ–¹æ³•ã€‚ golang contextåŒ…çš„ç”¨æ³• goroutineä¹‹é—´çš„ä¼ å€¼ goroutineä¹‹é—´çš„æŽ§åˆ¶ åœ¨å•æ ¸cpuçš„æƒ…å†µä¸‹ï¼Œä¸‹é¢è¾“å‡ºä»€ä¹ˆå†…å®¹ï¼Ÿ123456789101112131415161718package mainimport ( &quot;fmt&quot; &quot;sync&quot;)func main() &#123; wg := sync.WaitGroup&#123;&#125; for _, i:=range []int&#123;1, 2, 3, 4, 5&#125; &#123; wg.Add(1) go func() &#123; defer wg.Done() fmt.Println(i) &#125; () &#125; wg.Wait()&#125; è€ƒå¯Ÿgolangçš„runtimeæœºåˆ¶ï¼Œgoroutineçš„åˆ‡æ¢æ—¶æœºåªæœ‰åœ¨æœ‰ç³»ç»Ÿè°ƒç”¨æˆ–è€…å‡½æ•°è°ƒç”¨æ—¶æ‰ä¼šå‘ç”Ÿï¼Œæœ¬ä¾‹å­ä¸­çš„forå¾ªçŽ¯ç»“æŸä¹‹å‰ä¸ä¼šå‘ç”Ÿgoroutineçš„åˆ‡æ¢ï¼Œæ‰€ä»¥æœ€ç»ˆè¾“å‡ºç»“æžœä¸º5. ä¸‹é¢è¾“å‡ºä»€ä¹ˆ1234567891011121314151617181920212223242526package mainimport ( &quot;fmt&quot;)type People interface &#123; Speak(string) string&#125;type Stduent struct&#123;&#125;func (stu *Stduent) Speak(think string) (talk string) &#123; if think == &quot;bitch&quot; &#123; talk = &quot;You are a good boy&quot; &#125; else &#123; talk = &quot;hi&quot; &#125; return&#125;func main() &#123; var peo People = Stduent&#123;&#125; think := &quot;bitch&quot; fmt.Println(peo.Speak(think))&#125; ç¼–è¯‘ä¸é€šè¿‡ï¼Œä»…*Studentå®žçŽ°äº†PeopleæŽ¥å£ï¼Œæ›´æ”¹ä¸ºvar peo People = &amp;Student{}å³å¯ç¼–è¯‘é€šè¿‡ã€‚ ä¸‹é¢è¾“å‡ºä»€ä¹ˆ12345678910package mainconst cl = 100var bl = 123func main() &#123; println(&amp;bl, bl) println(&amp;cl, cl)&#125; ç¼–è¯‘å¤±è´¥ï¼Œå¸¸é‡clé€šå¸¸åœ¨é¢„å¤„ç†é˜¶æ®µä¼šç›´æŽ¥å±•å¼€ï¼Œæ— æ³•å–å…¶åœ°å€ã€‚ ä»¥ä¸‹ä»£ç æ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œè¯·è§£é‡Šä½ çš„åˆ¤æ–­å’Œç†ç”±12345678import &quot;sync&quot;func f(m sync.Mutex) &#123; m.Lock() defer m.Unlock() // Do something...&#125; Mutexå¯¹è±¡ä¸èƒ½è¢«å€¼æ‹·è´,åŽç»­ä¼ é€’éœ€è¦ä½¿ç”¨æŒ‡é’ˆçš„å½¢å¼ ä»¥ä¸‹ä»£ç è¾“å‡ºæ˜¯ä»€ä¹ˆ è§£é‡Šä¸€ä¸‹12345678910111213141516171819202122func main() &#123; case1() case2()&#125;func case1() &#123; s1 := make([]string, 1, 20) s1[0] = &quot;hello&quot; p1 := &amp;s1[0] s1 = append(s1, &quot;world&quot;) *p1 = &quot;hello2&quot; fmt.Printf(&quot;value of p1 is %s, value of s1[0] is %s \n&quot;, *p1, s1[0])&#125;func case2() &#123; s1 := make([]string) s1[0] = &quot;hello&quot; p1 := &amp;s1[0] s1 = append(s1, &quot;world&quot;) *p1 = &quot;hello2&quot; fmt.Printf(&quot;value of p1 is %s, value of s1[0] is %s \n&quot;, *p1, s1[0])&#125; æœ¬é¢˜æ„åœ¨è€ƒå¯Ÿstringå’Œsliceçš„æ•°æ®ç»“æž„ï¼Œstringçš„æ•°æ®ç»“æž„å¦‚ä¸‹ï¼š case1çš„å†…å­˜ç»“æž„å˜åŒ–æƒ…å†µå¦‚ä¸‹ï¼š case2ç”±äºŽs1é»˜è®¤é•¿åº¦ä¸º0ï¼Œç›´æŽ¥ä½¿ç”¨s1[0]å¤åˆ¶ä¼šå‡ºçŽ°panicé”™è¯¯ã€‚ ref golang é¢è¯•é¢˜ Goé¢è¯•é¢˜ç­”æ¡ˆä¸Žè§£æž golangé¢è¯•ç¬”è¯•é¢˜(ç¬¬äºŒç‰ˆ) interview-go Awesome Go Interview Questions and Answers Golangé¢è¯•é¢˜è§£æžï¼ˆäºŒï¼‰ Golangé¢è¯•é¢˜è§£æžï¼ˆä¸‰ï¼‰ golangé”™é¢˜é›†]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[resolve.confé…ç½®æ–‡ä»¶è§£æž]]></title>
      <url>%2Fpost%2Fresolve%2F</url>
      <content type="text"><![CDATA[ä¸€ç›´ä»¥æ¥å¯¹/etc/resolv.confé…ç½®æ–‡ä»¶ä¸­çš„searchå’Œdomainå­—æ®µçš„å«ä¹‰ä¸æ˜¯å¾ˆç†è§£ï¼Œè¿™é‡Œé‡æ–°å­¦ä¹ è®°å½•ä¸€ä¸‹ã€‚ å®žéªŒä¸€ä¿®æ”¹/resolv.confé…ç½®æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š 1nameserver 8.8.8.8 å¯ä»¥çœ‹åˆ°è¯¥nameserveræ˜¯ç”Ÿæ•ˆçš„ï¼Œä½†æ˜¯è®¿é—®mapåŸŸåæ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œå› ä¸ºæ²¡æœ‰mapè¿™ä¸ªåŸŸå. 123456[vagrant@localhost ~]$ ping map.baidu.comPING map.n.shifen.com (119.75.222.71) 56(84) bytes of data.64 bytes from 119.75.222.71: icmp_seq=1 ttl=63 time=4.22 ms[vagrant@localhost ~]$ ping mapping: unknown host map å®žéªŒäºŒä¿®æ”¹æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 123nameserver 8.8.8.8search baidu.com google.com æ­¤æ—¶å¯ä»¥pingé€šmapåŸŸåï¼Œè§£æžåˆ°äº†è·Ÿmap.baidu.comç›¸åŒçš„åŸŸå.å¦‚æžœmap.baidu.comçš„åŸŸåæ²¡æœ‰è§£æžåˆ°ï¼Œä¼šç»§ç»­è§£æžmap.google.comçš„åŸŸåã€‚ 123[vagrant@localhost ~]$ ping mapPING map.n.shifen.com (112.80.248.48) 56(84) bytes of data.64 bytes from 112.80.248.48: icmp_seq=1 ttl=63 time=28.6 ms domainçš„ä½œç”¨è·Ÿsearchç±»ä¼¼ï¼Œä½œä¸ºsearchçš„é»˜è®¤å€¼ï¼Œå› ä¸ºsearchå¯ä»¥ä½¿ç”¨å¤šä¸ªåŸŸ.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[google autheticatoråº”ç”¨çŽ°çŠ¶]]></title>
      <url>%2Fpost%2Fgoogle-autheticator%2F</url>
      <content type="text"><![CDATA[é€šè¿‡ä½¿ç”¨Googleçš„ç™»é™†äºŒæ­¥éªŒè¯ï¼ˆå³Google AuthenticatoræœåŠ¡ï¼‰ï¼Œæˆ‘ä»¬åœ¨ç™»é™†æ—¶éœ€è¦è¾“å…¥é¢å¤–ç”±æ‰‹æœºå®¢æˆ·ç«¯ç”Ÿæˆçš„ä¸€æ¬¡æ€§å¯†ç ã€‚å¤§å¤§æé«˜ç™»é™†çš„å®‰å…¨æ€§ã€‚ å®žçŽ°Google AuthenticatoråŠŸèƒ½éœ€è¦æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯çš„æ”¯æŒã€‚æœåŠ¡å™¨ç«¯è´Ÿè´£å¯†é’¥çš„ç”Ÿæˆã€éªŒè¯ä¸€æ¬¡æ€§å¯†ç æ˜¯å¦æ­£ç¡®ã€‚å®¢æˆ·ç«¯è®°å½•å¯†é’¥åŽç”Ÿæˆä¸€æ¬¡æ€§å¯†ç ã€‚ googleå®žçŽ°äº†åŸºäºŽæ—¶é—´çš„TOTPç®—æ³•ï¼ˆTime-based One-time Passwordï¼‰ï¼Œå®¢æˆ·ç«¯å®žçŽ°åŒ…æ‹¬äº†androidå’Œiosã€‚ ç®—æ³•ä¸ºå…¬å¼€ç®—æ³•ï¼Œgoogleæ²¡æœ‰æä¾›æœåŠ¡ç«¯çš„å®žçŽ°ï¼Œå„ä¸ªè¯­è¨€éƒ½æœ‰å•ç‹¬çš„å®žçŽ°ã€‚è‡ªå·±ç³»ç»Ÿä½¿ç”¨å¯ä»¥ç›´æŽ¥ä½¿ç”¨ç½‘ä¸Šçš„ä»£ç ã€‚ linuxä¸‹æœ‰libpam-google-authenticatoræ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨yumæˆ–è€…æºç ç¼–è¯‘å®‰è£…ï¼Œgithubä¸Šæœ‰æºç ï¼Œç¼–è¯‘å‡ºæ¥çš„ä¸ºsoæ–‡ä»¶ï¼Œå¯ä»¥åŠ åˆ°sshdçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œç”¨äºŽç»™sshdæä¾›äºŒæ¬¡è®¤è¯æœºåˆ¶ã€‚ å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å­˜åœ¨æ—¶é—´å·®çš„é—®é¢˜ï¼Œgoogle authenticatorçš„è¶…æ—¶æ—¶é—´ä¸º30sï¼ŒæœåŠ¡ç«¯å¯ä»¥ä½¿ç”¨ä¸¤ä¸ª30sçš„æ—¶é—´æ¥éªŒè¯ï¼ŒåŒ…æ‹¬å½“å‰å’Œä¸Šä¸€ä¸ª30sã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[hexoæ·»åŠ gitmentè¯„è®ºç³»ç»Ÿ]]></title>
      <url>%2Fpost%2Fgitment%2F</url>
      <content type="text"><![CDATA[æ›¾ç»ä½¿ç”¨å¤šè¯´å’Œç½‘æ˜“äº‘è¯„è®ºä½œä¸ºåšå®¢çš„è¯„è®ºç³»ç»Ÿï¼Œä¸å¹¸éƒ½ç›¸ç»§å€’é—­åŽï¼Œåšå®¢å°±ä¸€ç›´æ²¡æœ‰è¯„è®ºç³»ç»Ÿã€‚è™½åšå®¢çš„è®¿é—®é‡å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†æœ¬ç€æŠ˜è…¾å’Œå¥½å¥‡çš„åŽŸåˆ™ï¼Œè¿˜æ˜¯æŠ˜è…¾ä¸€ä¸‹gitmentã€‚ æ›´æ–°hexo-theme-nextä¸»é¢˜æœ€æ–°ç‰ˆæœ¬çš„nextä¸»é¢˜å·²ç»é»˜è®¤æ”¯æŒgitmentï¼Œéœ€è¦å°†nextä¸»é¢˜å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ æˆ‘çš„hexo-theme-nextä½¿ç”¨å•ç‹¬çš„gité¡¹ç›®è¿›è¡Œç®¡ç†ï¼Œgitåœ°å€ä¸ºï¼šhttps://github.com/kuring/hexo-theme-nextã€‚æŽ¥ä¸‹æ¥éœ€è¦å°†forkå‡ºæ¥çš„gité¡¹ç›®è·Ÿnextçš„gité¡¹ç›®è¿›è¡ŒåŒæ­¥ã€‚ åœ¨æœ¬åœ°åˆ›å»ºåå­—ä¸ºupstreamçš„remoteï¼ŒæŒ‡å‘åœ°å€ä¸ºï¼šgit remote add upstream https://github.com/theme-next/hexo-theme-next.git æ‹‰å–nexté¡¹ç›®åˆ°æœ¬åœ°åˆ†æ”¯ï¼Œæœ¬åœ°çš„åˆ†æ”¯ï¼Œæ‰§è¡Œgit fetch upstream å°†upsteam/masteråˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯ä¸Š 12345678910git checkout master# ç”±äºŽä¿®æ”¹äº†_config.ymlæ–‡ä»¶ï¼Œå­˜åœ¨å†²çªï¼Œåˆå¹¶å¤±è´¥lvkai@osx:~/blog/kuring/themes/hexo-theme-next% git merge upstream/master 128 â†µRemoving source/css/_common/components/third-party/gentie.stylRemoving layout/_third-party/comments/gentie.swigAuto-merging _config.ymlCONFLICT (content): Merge conflict in _config.ymlRemoving README.en.mdAutomatic merge failed; fix conflicts and then commit the result. è§£å†³å†²çªåŽæäº¤å¹¶å°†masteråˆ†æ”¯pushåˆ°githubä»“åº“ æ³¨å†Œgitmentå‰å¾€ï¼šhttps://github.com/settings/profile Developer settings -&gt; Register a new application åœ¨ç•Œé¢ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š èŽ·å–åˆ°Client IDå’ŒClient Secret. æ–°å»ºgithub repoåˆ›å»ºæ–°çš„githubé¡¹ç›®ï¼šhttps://github.com/kuring/gitment-comments åœ¨nextä¸»é¢˜ä¸­è®¾ç½®gitmentnextä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸ºtheme/next/_config.ymlï¼Œä¿®æ”¹å…¶ä¸­çš„gitmentè®¾ç½®å¦‚ä¸‹ï¼Œ client_idä¸ºåœ¨githubä¸­æ³¨å†Œæ‰€èŽ·å–åˆ°çš„client id client_secretä¸ºåœ¨githubä¸­æ³¨å†Œæ‰€èŽ·å–åˆ°çš„client secret github_repoä¸ºä¸Šé¢æ–°åˆ›å»ºçš„github repoåç§° 123456789101112131415# Gitment# Introduction: https://imsun.net/posts/gitment-introduction/gitment: enable: true mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: false # Comments lazy loading with a button cleanly: false # Hide &apos;Powered by ...&apos; on footer, and more language: # Force language, or auto switch by theme github_user: kuring # MUST HAVE, Your Github ID github_repo: gitment-comments # MUST HAVE, The repo you use to store Gitment comments client_id: xxx # MUST HAVE, Github client id for the Gitment client_secret: xxxx # EITHER this or proxy_gateway, Github access secret token for the Gitment proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled æ‰§è¡Œhexo clean &amp;&amp; hexo g &amp;&amp; hexo sé‡æ–°ç”Ÿæˆé¡µé¢å¹¶åœ¨æœ¬åœ°è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°gitmentç»„ä»¶å·²ç»å¯ä»¥æ˜¾ç¤ºäº†ï¼Œä½†æ˜¯æç¤ºError: Comments Not Initializedé”™è¯¯ï¼Œç‚¹å‡»loginï¼Œç„¶åŽå…è®¸è®¤è¯ï¼Œå³å¯æ¶ˆé™¤è¯¥é”™è¯¯ã€‚ åœ¨ç•Œé¢ä¸Šæ·»åŠ è¯„è®ºåŽï¼Œå¯ä»¥åœ¨github repoçš„issuseä¸­çœ‹åˆ°ï¼Œæ•´ä¸ªæ­å»ºå®Œæ¯•ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[iptablesåŸºæœ¬çŸ¥è¯†]]></title>
      <url>%2Fpost%2Fiptables%2F</url>
      <content type="text"><![CDATA[netfilterä¸Žiptablesçš„å…³ç³»linuxåœ¨å†…æ ¸ä¸­å¯¹æ•°æ®åŒ…è¿‡æ»¤å’Œä¿®æ”¹çš„æ¨¡å—ä¸ºnetfilterï¼Œnetfilteræ¨¡å—æœ¬èº«å¹¶ä¸å¯¹æ•°æ®åŒ…è¿›è¡Œè¿‡æ»¤ï¼Œåªæ˜¯å…è®¸å°†è¿‡æ»¤æ•°æ®åŒ…æˆ–ä¿®æ”¹æ•°æ®åŒ…çš„å‡½æ•°hookåˆ°å†…æ ¸ç½‘ç»œåè®®æ ˆçš„é€‚å½“ä½ç½®ã€‚ iptablesæ˜¯ç”¨æˆ·æ€çš„å·¥å…·ï¼Œç”¨äºŽå‘netfilterä¸­æ·»åŠ è§„åˆ™ä»Žè€Œå®žçŽ°æŠ¥æ–‡çš„è¿‡æ»¤å’Œä¿®æ”¹ç­‰åŠŸèƒ½ï¼Œå·¥ä½œåœ¨ipå±‚ã€‚ebtableså·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œç”¨äºŽå¤„ç†ä»¥å¤ªç½‘å¸§ã€‚ å›¾ä¸­ç»¿è‰²ä»£è¡¨iptablesçš„è¡¨ï¼Œå¯ä»¥çœ‹åˆ°æœ‰éƒ¨åˆ†ä½äºŽäº†æ•°æ®é“¾è·¯å±‚ï¼Œä¹‹æ‰€ä»¥äº§ç”Ÿè¿™ç§å¥‡æ€ªçš„æž¶æž„ï¼ŒåŽŸå› æ˜¯bridge_nfæ¨¡å—ï¼Œå› ä¸ºbridgeå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œä¸ä¸€å®šä¼šç»è¿‡ç½‘ç»œå±‚ï¼Œä½†ä»ç„¶éœ€è¦iptablesçš„åŠŸèƒ½ã€‚è¯¦ç»†ä¿¡æ¯å¯ä»¥åœ¨ebtables/iptables interaction on a Linux-based bridgeä¸­äº†è§£ã€‚ æ¦‚å¿µï¼štables -&gt; chains -&gt; rules chainæ¯ä¸ªè¡¨éƒ½ç”±ä¸€ç»„å†…ç½®çš„é“¾ï¼Œè¿˜å¯ä»¥æ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰é“¾ï¼Œåªæ˜¯ç”¨æˆ·è‡ªå®šä¹‰é“¾æ²¡æœ‰é’©å­å¯ä»¥è§¦å‘ï¼Œéœ€è¦ä»Žå…¶ä»–é“¾é€šè¿‡-jå³JUMPè¿›è¡Œè§¦å‘ã€‚ INPUT é“¾ï¼šå‘å¾€æœ¬æœºçš„æŠ¥æ–‡ OUTPUT é“¾ï¼šç”±æœ¬æœºå‘å‡ºçš„æŠ¥æ–‡ FORWARD é“¾ï¼šç»ç”±æœ¬æœºè½¬å‘çš„æŠ¥æ–‡ PREROUTING é“¾ï¼šæŠ¥æ–‡åˆ°è¾¾æœ¬æœºï¼Œè¿›è¡Œè·¯ç”±å†³ç­–ä¹‹å‰ POSTROUTING é“¾ï¼šæŠ¥æ–‡ç”±æœ¬æœºå‘å‡ºï¼Œè¿›è¡Œè·¯ç”±å†³ç­–ä¹‹åŽ ä»Žchainçš„è§’åº¦è€ƒè™‘æ•°æ®åŒ…çš„æµå‘ï¼š åˆ°æœ¬æœºæŸè¿›ç¨‹çš„æŠ¥æ–‡ï¼šPREROUTING -&gt; INPUT ç”±æœ¬æœºè½¬å‘çš„æŠ¥æ–‡ï¼šPREROUTING -&gt; FORWARD -&gt; POSTROUTING ç”±æœ¬æœºæŸè¿›ç¨‹å‘å‡ºçš„æŠ¥æ–‡ï¼šOUTPUT -&gt; POSTROUTING å½“ä¸€ä¸ªç½‘ç»œåŒ…è¿›å…¥ä¸€å°æœºå™¨çš„æ—¶å€™ï¼Œé¦–å…ˆæ‹¿ä¸‹ MAC å¤´çœ‹çœ‹ï¼Œæ˜¯ä¸æ˜¯æˆ‘çš„ã€‚å¦‚æžœæ˜¯ï¼Œåˆ™æ‹¿ä¸‹ IP å¤´æ¥ã€‚å¾—åˆ°ç›®æ ‡ IP ä¹‹åŽå‘¢ï¼Œå°±å¼€å§‹è¿›è¡Œè·¯ç”±åˆ¤æ–­ã€‚åœ¨è·¯ç”±åˆ¤æ–­ä¹‹å‰ï¼Œè¿™ä¸ªèŠ‚ç‚¹æˆ‘ä»¬ç§°ä¸º PREROUTINGã€‚å¦‚æžœå‘çŽ° IP æ˜¯æˆ‘çš„ï¼ŒåŒ…å°±åº”è¯¥æ˜¯æˆ‘çš„ï¼Œå°±å‘ç»™ä¸Šé¢çš„ä¼ è¾“å±‚ï¼Œè¿™ä¸ªèŠ‚ç‚¹å«ä½œ INPUTã€‚å¦‚æžœå‘çŽ° IP ä¸æ˜¯æˆ‘çš„ï¼Œå°±éœ€è¦è½¬å‘å‡ºåŽ»ï¼Œè¿™ä¸ªèŠ‚ç‚¹ç§°ä¸º FORWARDã€‚å¦‚æžœæ˜¯æˆ‘çš„ï¼Œä¸Šå±‚å¤„ç†å®Œæ¯•å®Œæ¯•åŽï¼Œä¸€èˆ¬ä¼šè¿”å›žä¸€ä¸ªå¤„ç†ç»“æžœï¼Œè¿™ä¸ªå¤„ç†ç»“æžœä¼šå‘å‡ºåŽ»ï¼Œè¿™ä¸ªèŠ‚ç‚¹ç§°ä¸º OUTPUTï¼Œæ— è®ºæ˜¯ FORWARD è¿˜æ˜¯ OUTPUTï¼Œéƒ½æ˜¯è·¯ç”±åˆ¤æ–­ä¹‹åŽå‘ç”Ÿçš„ï¼Œæœ€åŽä¸€ä¸ªèŠ‚ç‚¹æ˜¯ POSTROUTINGã€‚ tableæœ‰äº†chainçš„æ¦‚å¿µåŽï¼Œä¸ºäº†ä¾¿äºŽchainä¸­ruleçš„ç®¡ç†ï¼Œåˆå¼•å…¥äº†tableçš„æ¦‚å¿µï¼Œç”¨äºŽå­˜æ”¾ç›¸åŒåŠŸèƒ½çš„ruleï¼Œä¸åŒåŠŸèƒ½çš„ruleæ”¾åˆ°ä¸åŒçš„tableä¸­ã€‚ åŒ…æ‹¬ï¼šfilter nat mangle raw filteré»˜è®¤è¡¨ï¼Œç®¡ç†æœ¬æœºæ•°æ®åŒ…çš„è¿›å‡ºï¼Œç”¨äºŽå®žçŽ°åŒ…çš„è¿‡æ»¤ï¼Œå¯¹åº”å†…æ ¸æ¨¡å—iptables_filter inputï¼šæƒ³è¦è¿›å…¥linuxä¸»æœºçš„åŒ…outputï¼šlinuxä¸»æœºè¦å‘é€çš„åŒ…forwardï¼šä¼ é€’åŒ…åˆ°åŽç«¯è®¡ç®—æœºï¼Œä¸Žnat tableå…³è”è¾ƒå¤š natç®¡ç†åŽç«¯ä¸»æœºè¿›å‡ºï¼Œä¸Žlinuxä¸»æœºæ²¡æœ‰å…³ç³»ï¼Œä¸ŽlinuxåŽçš„ä¸»æœºæœ‰å…³ preroutingï¼šè¿›è¡Œè·¯ç”±åˆ¤æ–­ä¹‹å‰çš„è§„åˆ™(dnat/redirect)postroutingï¼šè·¯ç”±åˆ¤æ–­ä¹‹åŽæ‰§è¡Œçš„è§„åˆ™(snat/masquerade)outputï¼šä¸Žå‘å‡ºåŽ»çš„åŒ…æœ‰å…³ mangleè¾ƒå°‘ä½¿ç”¨ï¼Œç”¨äºŽæ‹†è§£æŠ¥æ–‡ï¼Œä¿®æ”¹æ•°æ®åŒ…ï¼Œå¹¶é‡æ–°å°è£…ã€‚ rawrawè¡¨çš„ä¸»è¦ä½œç”¨æ˜¯å…è®¸æˆ‘ä»¬ç»™æŸäº›ç‰¹å®šçš„æ•°æ®åŒ…æ‰“ä¸Šæ ‡è®°ã€‚ ruleåŒ…å«äº†åŒ¹é…æ¡ä»¶å’Œå¤„ç†åŠ¨ä½œã€‚ åŒ¹é…æ¡ä»¶åŒ…æ‹¬ï¼šsource ipã€destination ipã€source portã€destination port å¤„ç†åŠ¨ä½œåŒ…æ‹¬ï¼š accept: å°†åŒ…äº¤ç»™åè®®æ ˆ dropï¼šç›´æŽ¥ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œä¸ç»™ä»»ä½•å›žåº” rejectï¼šæ‹’ç»æ•°æ®åŒ…é€šè¿‡ï¼Œå¹¶ç»™ä¸€ä¸ªå“åº”ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ°æ‹’ç»æ¶ˆæ¯ queue: äº¤ä¸ªæŸä¸ªç”¨æˆ·æ€è¿›ç¨‹å¤„ç† dnatï¼šç›®çš„åœ°å€è½¬æ¢ snatï¼šæºåœ°å€è½¬æ¢ï¼Œå¿…é¡»è¦æŒ‡å®šSNATåœ°å€ï¼Œå³â€“to-sourceå‚æ•°ï¼Œå¯ä»¥æ˜¯å•ä¸ªipï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘æ®µ masquerade: æºåœ°å€ä¼ªè£…ï¼Œè·Ÿsnatç±»ä¼¼ï¼Œä¸éœ€è¦æŒ‡å®šSNATåœ°å€ï¼Œä¼šè‡ªåŠ¨ä»ŽæœåŠ¡å™¨ä¸ŠèŽ·å–SNATçš„ipåœ°å€ã€‚å¦‚æžœæœ‰å¤šä¸ªç½‘å¡çš„æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨è·¯ç”±é€‰æ‹©ç®—æ³•ã€‚ table filter ruleçš„å…³ç³»è¿™ä¸‰è€…ä¹‹é—´çš„å…³ç³»è¿˜æ˜¯ç›¸å½“çš„ç»•ã€‚ é“¾ä¸­çš„è§„åˆ™å­˜åœ¨çš„è¡¨chainä¸­å­˜æ”¾äº†ruleï¼ŒæŸäº›chainä¸­æ³¨å®šä¸åŒ…å«æŸäº›ruleã€‚ä¾‹å¦‚preroutingé“¾ä¸­çš„ruleä»…å­˜åœ¨äºŽnat raw mangleä¸‰å¼ è¡¨ä¸­ã€‚ preroutingé“¾ä¸­çš„è§„åˆ™å­˜åœ¨çš„è¡¨ï¼šraw mangle natinputé“¾ä¸­çš„è§„åˆ™å­˜åœ¨çš„è¡¨ï¼šmangle filter natforwardé“¾ä¸­çš„è§„åˆ™å­˜åœ¨çš„è¡¨ï¼šmangle filteroutputé“¾ä¸­çš„è§„åˆ™å­˜åœ¨çš„è¡¨ï¼šraw mangle filter natpostroutingé“¾ä¸­çš„è§„åˆ™å­˜åœ¨çš„è¡¨ï¼šmangle nat è¡¨ä¸­çš„è§„åˆ™å¯ä»¥è¢«å“ªäº›é“¾ä½¿ç”¨rawè¡¨ä¸­çš„è§„åˆ™å¯ä»¥è¢«é“¾ä½¿ç”¨ï¼šprerouting output è¡¨çš„åå­—ä¸ºå°å†™ï¼Œé“¾çš„åå­—ä¸ºå¤§å†™ commandquery -t ç”¨äºŽæŒ‡å®šè¦æ“ä½œçš„è¡¨ï¼Œæ”¯æŒraw mangle filter natï¼Œçœç•¥-té€‰é¡¹ï¼Œé»˜è®¤ä½¿ç”¨filterè¡¨ -L åˆ—å‡ºrule -v å¯æŸ¥çœ‹æ›´è¯¦ç»†çš„ä¿¡æ¯ -n è§„åˆ™ä¸­ä»¥ipåœ°å€çš„å½¢å¼è¿›è¡Œæ˜¾ç¤º â€“line-number æ˜¾ç¤ºè§„åˆ™çš„ç¼–å· -x åŒ…çš„è®¡æ•°ä»¥ç²¾ç¡®æ•°å­—æ˜¾ç¤º iptables -t filter -Lï¼šä»Žè¡¨çš„è§’åº¦æŸ¥è¯¢è§„åˆ™ï¼Œç”¨äºŽæŸ¥çœ‹filterè¡¨ä¸­çš„æ‰€æœ‰è§„åˆ™ iptables -L INPUT: ä»Žé“¾çš„è§’åº¦æŸ¥è¯¢è§„åˆ™ï¼Œç”¨äºŽæŸ¥çœ‹INPUTé“¾ä¸­çš„æ‰€æœ‰è§„åˆ™ iptables -vL INPUT: ä»Žé“¾çš„è§’åº¦æŸ¥è¯¢è§„åˆ™ï¼Œç”¨äºŽæŸ¥çœ‹INPUTé“¾ä¸­çš„æ‰€æœ‰è§„åˆ™ï¼Œå¯æŸ¥çœ‹æ›´è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…å«äº†è§„åˆ™çš„åŒ¹é…ä¿¡æ¯ iptables -nvLï¼šä»¥ç²¾ç¡®æ•°å­—æ˜¾ç¤º ä¿®æ”¹-F: æ¸…ç©ºè§„åˆ™-I: è¡¨ç¤ºæ’å…¥è§„åˆ™-A: è¡¨ç¤ºä»¥è¿½åŠ çš„æ–¹å¼æ’å…¥è§„åˆ™ iptables -F INPUTï¼šæ¸…ç©ºfilterè¡¨ä¸­çš„INPUTé“¾ä¸­çš„æ‰€æœ‰è§„åˆ™ã€‚ åˆ é™¤-D: åˆ é™¤ä¸€æ¡è§„åˆ™ iptables -D é“¾å è§„åˆ™ç¼–å·ï¼Œå…¶ä¸­è§„åˆ™ç¼–å·å¯ä»¥é€šè¿‡--line-numberæŸ¥çœ‹åˆ°ã€‚ å®žæˆ˜ åŸºæœ¬è§„åˆ™ç®¡ç†æ’å…¥è§„åˆ™123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354# æ¸…ç©ºfilterè¡¨ä¸­çš„inputé“¾è§„åˆ™[vagrant@localhost ~]$ sudo iptables -F INPUT# æŸ¥çœ‹filterè¡¨ä¸­çš„è¯¦ç»†è§„åˆ™ï¼Œæ­¤æ—¶ä»Žå…¶ä»–æœºå™¨ä¸Špingè¯¥ipæ˜¯é€šçš„[vagrant@localhost ~]$ sudo iptables -nvL INPUTChain INPUT (policy ACCEPT 7 packets, 388 bytes) pkts bytes target prot opt in out source destination # å¢žåŠ è§„åˆ™ï¼Œæ‹’ç»192.168.33.1ä¸Šçš„è¯·æ±‚# -Iï¼šè¡¨ç¤ºæ’å…¥# INPUTä¸ºè¦æ’å…¥çš„é“¾# -sï¼šè¡¨ç¤ºæºipåœ°å€# -jï¼šè¡¨ç¤ºè¦æ‰§è¡Œçš„åŠ¨ä½œ[vagrant@localhost ~]$ sudo iptables -t filter -I INPUT -s 192.168.33.1 -j DROP# å†æ¬¡æŸ¥è¯¢filterè¡¨ä¸­çš„è§„åˆ™ï¼Œæ­¤æ—¶192.168.33.1ä¸Šçš„æŠ¥æ–‡å·²ç»ä¸é€š[vagrant@localhost ~]$ sudo iptables -t filter -nvLChain INPUT (policy ACCEPT 107 packets, 6170 bytes) pkts bytes target prot opt in out source destination 0 0 DROP all -- * * 192.168.33.1 0.0.0.0/0Chain FORWARD (policy ACCEPT 0 packets, 0 bytes) pkts bytes target prot opt in out source destinationChain OUTPUT (policy ACCEPT 56 packets, 4355 bytes) pkts bytes target prot opt in out source destination# appentä¸€æ¡æŽ¥æ”¶192.168.33.1çš„è¯·æ±‚è§„åˆ™[vagrant@localhost ~]$ sudo iptables -t filter -A INPUT -s 192.168.33.1 -j ACCEPT# æ–°å¢žåŠ çš„åºå·ä¸º2ï¼Œ192.168.33.1çš„åŒ…åŒ¹é…åˆ°1åŽå°±åœæ­¢å¾€ä¸‹èµ°ï¼Œå› æ­¤192.168.33.1è¿˜æ˜¯pingä¸é€šå½“å‰ä¸»æœº[vagrant@localhost ~]$ sudo iptables -nvL INPUT --line-numberChain INPUT (policy ACCEPT 65 packets, 3572 bytes)num pkts bytes target prot opt in out source destination1 9 756 DROP all -- * * 192.168.33.1 0.0.0.0/02 0 0 ACCEPT all -- * * 192.168.33.1 0.0.0.0/0# æ’å…¥ä¸€æ¡ACCEPT ruleï¼Œæ­¤æ—¶192.168.33.1å¯ä»¥pingé€šå½“å‰ä¸»æœºï¼Œæ–°æ’å…¥çš„è§„åˆ™ä¼˜å…ˆ[vagrant@localhost ~]$ sudo iptables -t filter -I INPUT -s 192.168.33.1 -j ACCEPT[vagrant@localhost ~]$ sudo iptables -nvL INPUT --line-numberChain INPUT (policy ACCEPT 7 packets, 388 bytes)num pkts bytes target prot opt in out source destination1 0 0 ACCEPT all -- * * 192.168.33.1 0.0.0.0/02 10 840 DROP all -- * * 192.168.33.1 0.0.0.0/03 0 0 ACCEPT all -- * * 192.168.33.1 0.0.0.0/0# æ–°æ’å…¥ä¸€æ¡accept 192.168.33.2çš„è§„åˆ™ï¼Œæ’å…¥ä½ç½®ä¸º2ï¼Œå¯ä»¥çœ‹åˆ°æ’å…¥åˆ°2çš„ä½ç½®äº†[vagrant@localhost ~]$ sudo iptables -t filter -I INPUT 2 -s 192.168.33.2 -j ACCEPT[vagrant@localhost ~]$ sudo iptables -nvL INPUT --line-numberChain INPUT (policy ACCEPT 7 packets, 388 bytes)num pkts bytes target prot opt in out source destination1 1 84 ACCEPT all -- * * 192.168.33.1 0.0.0.0/02 0 0 ACCEPT all -- * * 192.168.33.2 0.0.0.0/03 10 840 DROP all -- * * 192.168.33.1 0.0.0.0/04 0 0 ACCEPT all -- * * 192.168.33.1 0.0.0.0/0 åˆ é™¤è§„åˆ™æŽ¥ä¸‹åœ¨ä¸Šé¢å®žéªŒçš„åŸºç¡€ä¸Šæµ‹è¯•åˆ é™¤è§„åˆ™ 123456789101112131415# åˆ é™¤åˆšåˆšåˆ›å»ºçš„è§„åˆ™2[vagrant@localhost ~]$ sudo iptables -t filter -D INPUT 2[vagrant@localhost ~]$ sudo iptables -nvL INPUT --line-numberChain INPUT (policy ACCEPT 7 packets, 388 bytes)num pkts bytes target prot opt in out source destination1 1 84 ACCEPT all -- * * 192.168.33.1 0.0.0.0/02 10 840 DROP all -- * * 192.168.33.1 0.0.0.0/03 0 0 ACCEPT all -- * * 192.168.33.1 0.0.0.0/0# åˆ é™¤sourceä¸º192.168.33.1ï¼ŒåŠ¨ä½œä¸ºACCEPTçš„è§„åˆ™ï¼Œå®žé™…æ­¤æ—¶æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ä»…èƒ½åˆ é™¤ä¸€æ¡[vagrant@localhost ~]$ sudo iptables -t filter -D INPUT -s 192.168.33.1 -j ACCEPT[vagrant@localhost ~]$ sudo iptables -nvL INPUT --lineChain INPUT (policy ACCEPT 13 packets, 736 bytes)num pkts bytes target prot opt in out source destination1 11 936 DROP all -- * * 192.168.33.1 0.0.0.0/0 ä¿®æ”¹è§„åˆ™åœ¨ä¸Šé¢å®žéªŒçš„åŸºç¡€ä¸Šä¿®æ”¹è§„åˆ™ 12345678910# å°†è§„åˆ™åŠ¨ä½œä»ŽREJECTæ›´æ”¹ä¸ºREJECT[vagrant@localhost ~]$ sudo iptables -t filter -R INPUT 1 -s 192.168.33.1 -j REJECT[vagrant@localhost ~]$ sudo iptables -nvL INPUT --lineChain INPUT (policy ACCEPT 7 packets, 388 bytes)num pkts bytes target prot opt in out source destination1 0 0 REJECT all -- * * 192.168.33.1 0.0.0.0/0 reject-with icmp-port-unreachable# æ¯ä¸ªé“¾éƒ½æœ‰ä¸€ä¸ªé»˜è®¤è§„åˆ™ï¼Œå½“å‰INPUTé“¾ä¸­çš„é»˜è®¤ä¸ºACCEPT# ä»¥ä¸‹å¯ä»¥ä¿®æ”¹INPUTé“¾çš„é»˜è®¤è§„åˆ™ä¸ºDROPï¼Œè¿œç¨‹è¿žæŽ¥æ…Žç”¨ï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆ[vagrant@localhost ~]$ sudo iptables -t filter -P INPUT DROP ä¿å­˜è§„åˆ™é˜²ç«å¢™çš„æ‰€æœ‰ä¿®æ”¹éƒ½æ˜¯ä¸´æ—¶çš„ï¼Œé‡å¯ç³»ç»ŸåŽä¼šå¤±æ•ˆã€‚iptablesä¼šè¯»å–/etc/sysconfig/iptablesä¸­çš„è§„åˆ™ã€‚ 12345# iptables-saveå‘½ä»¤ä»…ä¼šæ‰“å°å½“å‰çš„è§„åˆ™ï¼Œéœ€è¦ä½¿ç”¨é‡å®šå‘å½“å‰è§„åˆ™åˆ°æ–‡ä»¶ä¸­[root@localhost system]# iptables-save &gt; /etc/sysconfig/iptables# å¯ä»¥ä»Žè§„åˆ™æ–‡ä»¶ä¸­è½½å…¥è§„åˆ™[root@localhost system]# iptables-restore &lt; /etc/sysconfig/iptables å®žéªŒäºŒ å„ç±»åŒ¹é…æ¡ä»¶çš„ä½¿ç”¨åŒ¹é…æ¡ä»¶123456789101112131415161718192021# å¯ä¸€æ¬¡æ€§æ’å…¥ä¸¤æ¡è§„åˆ™[vagrant@localhost ~]$ sudo iptables -t filter -I INPUT -s 192.168.33.1,192.168.33.2 -j DROP[vagrant@localhost ~]$ sudo iptables -t filter -nvL INPUT --lineChain INPUT (policy ACCEPT 31 packets, 1744 bytes)num pkts bytes target prot opt in out source destination1 0 0 DROP all -- * * 192.168.33.2 0.0.0.0/02 0 0 DROP all -- * * 192.168.33.1 0.0.0.0/0# å¯æŒ‡å®šipç½‘æ®µ[vagrant@localhost ~]$ sudo iptables -t filter -F INPUT[vagrant@localhost ~]$ sudo iptables -t filter -I INPUT -s 192.168.33.0/24 -j DROP[vagrant@localhost ~]$ sudo iptables -t filter -nvL INPUT --lineChain INPUT (policy ACCEPT 7 packets, 388 bytes)num pkts bytes target prot opt in out source destination1 0 0 DROP all -- * * 192.168.33.0/24 0.0.0.0/0[vagrant@localhost ~]$ sudo iptables -t filter -I INPUT ! -s 192.168.33.0/24 -j DROP[vagrant@localhost ~]$ sudo iptables -t filter -nvL INPUT --lineChain INPUT (policy ACCEPT 19 packets, 1048 bytes)num pkts bytes target prot opt in out source destination1 0 0 DROP all -- * * !10.0.2.0/24 0.0.0.0/0 åè®®ç±»åž‹ä½¿ç”¨-pæ¥æŒ‡å®šåè®®ç±»åž‹ï¼Œæ”¯æŒtcp udp icmpç­‰ï¼Œä¸æŒ‡å®šæ—¶é»˜è®¤åŒ¹é…æ‰€æœ‰åè®® ç½‘å¡æŽ¥å£-iæ¥æŒ‡å®šä»ŽæŸä¸ªç½‘å¡è¿›å…¥çš„æµé‡ï¼Œä»…ä½¿ç”¨äºŽPREROUTING INPUT FORWARDä¸‰æ¡é“¾ã€‚ -oæ¥æŒ‡å®šä»ŽæŸä¸ªç½‘ç»œæµå‡ºçš„æµé‡ï¼Œä»…é€‚ç”¨äºŽFORWARD OUTPUT POSTROUTINGä¸‰æ¡é“¾ã€‚ å®žéªŒä¸‰ æ‰©å±•æ¨¡å—ç«¯å£ä½¿ç”¨äº†æ‰©å±•æ¨¡å—tcp udpï¼Œé»˜è®¤å¯ä»¥çœç•¥ --dportæ¥åŒ¹é…æŠ¥æ–‡çš„ç›®çš„ç«¯å£ï¼Œä½¿ç”¨æ—¶å¿…é¡»æŒ‡å®šåè®®ï¼Œå³-pé€‰é¡¹ã€‚--sportæ¥åŒ¹é…æŠ¥æ–‡çš„æºç«¯å£ï¼Œä½¿ç”¨æ—¶å¿…é¡»æŒ‡å®šåè®®ï¼Œå³-pé€‰é¡¹ã€‚ ç«¯å£å¯ä»¥æŒ‡å®šèŒƒå›´ï¼Œä¾‹å¦‚22:25è¡¨ç¤º22-25ä¹‹é—´çš„æ‰€æœ‰ç«¯å£ï¼Œ22,25è¡¨ç¤º22å’Œ25ç«¯å£ï¼Œè¿˜å¯ä»¥é…åˆèµ·æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚22,80:88è¡¨ç¤º22å’Œ80-88ä¹‹é—´çš„ç«¯å£ã€‚ 123456# å¯ä»¥æŒ‡å®šç›®çš„ç«¯å£çš„èŒƒå›´[root@localhost vagrant]# iptables -t filter -I INPUT -s 192.168.33.1 -p tcp --dport 22:25 -j REJECT[root@localhost vagrant]# iptables -t filter -nvL INPUT --lineChain INPUT (policy ACCEPT 70 packets, 4024 bytes)num pkts bytes target prot opt in out source destination1 0 0 REJECT tcp -- * * 192.168.33.1 0.0.0.0/0 tcp dpts:22:25 reject-with icmp-port-unreachable iprangeæ‰©å±•æ¨¡å—iprangeæ‰©å±•æ¨¡å—å¯ä»¥æŒ‡å®šä¸€æ®µè¿žç»­çš„ipåœ°å€èŒƒå›´ã€‚ --src-rangeå’Œ--dst-rangeç”¨æ¥æŒ‡å®šæºåœ°å€å’Œç›®çš„èŒƒå›´ã€‚ 12345[root@localhost vagrant]# iptables -t filter -I INPUT -m iprange --src-range 192.168.33.1-192.168.33.10 -j DROP[root@localhost vagrant]# iptables -t filter -nvL INPUT --lineChain INPUT (policy ACCEPT 17 packets, 968 bytes)num pkts bytes target prot opt in out source destination1 0 0 DROP all -- * * 0.0.0.0/0 0.0.0.0/0 source IP range 192.168.33.1-192.168.33.10 stringæ‰©å±•æ¨¡å—åŒ¹é…æŠ¥æ–‡ä¸­åŒ…å«çš„å­—ç¬¦ä¸² 123456# åŒ¹é…æŠ¥æ–‡ä¸­åŒ…å«XXOOçš„æŠ¥æ–‡[root@localhost vagrant]# iptables -t filter -I INPUT -m string --algo bm --string &quot;XXOO&quot; -j REJECT[root@localhost vagrant]# iptables -t filter -nvL INPUT --lineChain INPUT (policy ACCEPT 15 packets, 852 bytes)num pkts bytes target prot opt in out source destination1 0 0 REJECT all -- * * 0.0.0.0/0 0.0.0.0/0 STRING match &quot;XXOO&quot; ALGO name bm TO 65535 reject-with icmp-port-unreachable å…¶ä»–æ‰©å±•timeæ‰©å±•ç”¨æ¥æ ¹æ®æ—¶é—´æ®µè¿›è¡ŒåŒ¹é… connlimitç”¨æ¥å¯¹ipçš„å¹¶å‘è¿žæŽ¥æ•°è¿›è¡Œé™åˆ¶ limitæ¨¡å—é™åˆ¶å•ä½æ—¶é—´å†…è¿›å‡ºåŒ…çš„æ•°é‡ tcpæ‰©å±•ä¸­å¯ä»¥ä½¿ç”¨--tcp-flagså¯æ ¹æ®tcp flagè¿›è¡ŒåŒ¹é… stateæ‰©å±•å¯æ ¹æ®tcpçš„è¿žæŽ¥çŠ¶æ€è¿›è¡ŒåŒ¹é… å®žéªŒå›› è‡ªå®šä¹‰é“¾12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273# åˆ›å»ºè‡ªå®šä¹‰é“¾ IN_WEB[root@localhost vagrant]# iptables -t filter -N IN_WEB[root@localhost vagrant]# iptables -nvLChain INPUT (policy ACCEPT 31 packets, 1780 bytes) pkts bytes target prot opt in out source destinationChain FORWARD (policy ACCEPT 0 packets, 0 bytes) pkts bytes target prot opt in out source destinationChain OUTPUT (policy ACCEPT 16 packets, 1216 bytes) pkts bytes target prot opt in out source destinationChain IN_WEB (0 references) pkts bytes target prot opt in out source destination [root@localhost vagrant]# iptables -t filter -I IN_WEB -s 192.168.33.1 -j REJECT[root@localhost vagrant]# iptables -t filter -I IN_WEB -s 192.168.33.2 -j REJECT[root@localhost vagrant]# iptables -t filter -nvL IN_WEB --lineChain IN_WEB (0 references)num pkts bytes target prot opt in out source destination1 0 0 REJECT all -- * * 192.168.33.2 0.0.0.0/0 reject-with icmp-port-unreachable2 0 0 REJECT all -- * * 192.168.33.1 0.0.0.0/0 reject-with icmp-port-unreachable# å°†IN_WEBè‡ªå®šä¹‰é“¾æ·»åŠ åˆ°INPUTé“¾ä¸Š[root@localhost vagrant]# iptables -t filter -I INPUT -p tcp --dport 80 -j IN_WEB# å¯ä»¥çœ‹åˆ°INPUTé“¾ä¸­å¤šå‡ºäº†IN_WEBé“¾[root@localhost vagrant]# iptables -nvLChain INPUT (policy ACCEPT 35 packets, 2012 bytes) pkts bytes target prot opt in out source destination 0 0 IN_WEB tcp -- * * 0.0.0.0/0 0.0.0.0/0 tcp dpt:80Chain FORWARD (policy ACCEPT 0 packets, 0 bytes) pkts bytes target prot opt in out source destinationChain OUTPUT (policy ACCEPT 18 packets, 1408 bytes) pkts bytes target prot opt in out source destinationChain IN_WEB (1 references) pkts bytes target prot opt in out source destination 0 0 REJECT all -- * * 192.168.33.2 0.0.0.0/0 reject-with icmp-port-unreachable 0 0 REJECT all -- * * 192.168.33.1 0.0.0.0/0 reject-with icmp-port-unreachable# é‡æ–°å®šä¹‰è‡ªå®šé“¾åå­— [root@localhost vagrant]# iptables -E IN_WEB WEB[root@localhost vagrant]# iptables -nvLChain INPUT (policy ACCEPT 39 packets, 2244 bytes) pkts bytes target prot opt in out source destination 0 0 WEB tcp -- * * 0.0.0.0/0 0.0.0.0/0 tcp dpt:80Chain FORWARD (policy ACCEPT 0 packets, 0 bytes) pkts bytes target prot opt in out source destinationChain OUTPUT (policy ACCEPT 20 packets, 1520 bytes) pkts bytes target prot opt in out source destinationChain WEB (1 references) pkts bytes target prot opt in out source destination 0 0 REJECT all -- * * 192.168.33.2 0.0.0.0/0 reject-with icmp-port-unreachable 0 0 REJECT all -- * * 192.168.33.1 0.0.0.0/0 reject-with icmp-port-unreachable # ç”±äºŽiptablesæœ‰è‡ªå®šä¹‰é“¾ï¼Œä¸èƒ½åˆ é™¤[root@localhost vagrant]# iptables -X WEBiptables: Too many links.# å°†INPUTé“¾å¼•ç”¨çš„WEBé“¾åˆ é™¤[root@localhost vagrant]# iptables -D INPUT 1# æ­¤æ—¶ä»ä¸èƒ½åˆ é™¤è‡ªå®šä¹‰é“¾ï¼Œå› ä¸ºè‡ªå®šä¹‰é“¾åˆ é™¤ï¼Œéœ€è¦ä¸Šé¢æ²¡æœ‰ä»»ä½•è§„åˆ™[root@localhost vagrant]# iptables -X WEBiptables: Directory not empty.# å…ˆæ¸…ç©ºè‡ªå®šä¹‰é“¾çš„è§„åˆ™åŽå¯ä»¥åˆ é™¤[root@localhost vagrant]# iptables -F WEB[root@localhost vagrant]# iptables -X WEB traceå¼€å¯traceåŠŸèƒ½ 12345# centos7 ç³»ç»Ÿä¸‹æœ‰æ•ˆï¼Œcentos6ä¸‹å†…æ ¸æ¨¡å—ä¸ºipt_LOG$ modprobe nf_log_ipv4# ç”¨æ¥éªŒè¯moduleæ˜¯å¦åŠ è½½æˆåŠŸ$ sysctl net.netfilter.nf_log.2 è¦å¼€å¯icmpåè®®çš„è¿½è¸ª 12iptables -t raw -A OUTPUT -p icmp -m comment --comment &quot;TRACE&quot; -j TRACEiptables -t raw -A PREROUTING -p icmp -m comment --comment &quot;TRACE&quot; -j TRACE å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤çœ‹åˆ°æ’å…¥çš„iptabelsè§„åˆ™ï¼š 1iptables -t raw -nvL --line-number è¿½è¸ªæ—¥å¿—æœ€ç»ˆä¼šåœ¨/var/log/messageæˆ–è€…/var/log/kernä¸‹çœ‹åˆ°ï¼š 1Feb 6 11:22:04 c43k09006.cloud.k09.am17 kernel: TRACE: raw:PREROUTING:policy:3 IN=docker0 OUT= PHYSIN=bond0.9 MAC=02:42:30:fb:43:94:5c:c9:99:de:c4:8b:08:00 SRC=10.45.8.10 DST=10.45.4.99 LEN=84 TOS=0x00 PREC=0x00 TTL=62 ID=25550 DF PROTO=ICMP TYPE=0 CODE=0 ID=24191 SEQ=2 æ ¼å¼è¿™å—çš„å«ä¹‰å¦‚ä¸‹ï¼š â€œTRACE: tablename:chainname:type:rulenum â€œ where type can be â€œruleâ€ for plain rule, â€œreturnâ€ for implicit rule at the end of a user defined chain and â€œpolicyâ€ for the policy of the built in chains. çŽ¯å¢ƒæ¸…ç†ï¼Œåˆ é™¤åˆšåˆšåˆ›å»ºçš„è§„åˆ™å³å¯ï¼Œå…¶ä¸­1ä¸ºè§„åˆ™çš„ç¼–å·ï¼š 12345# å¯ä»¥é€šè¿‡æ­¤æ¥æŸ¥è¯¢ä¹‹å‰åˆ›å»ºçš„è§„åˆ™ç¼–å·iptables -t raw --line-number -nvL# åˆ é™¤è§„åˆ™iptables -t raw -D PREROUTING 1iptables -t raw -D OUTPUT 1 ref iptablesè¯¦è§£ç³»åˆ— Iptables Tutorial 1.2.2]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[dockerç§æœ‰ä»“åº“æ­å»º]]></title>
      <url>%2Fpost%2Fdocker-registry%2F</url>
      <content type="text"><![CDATA[ä¸ºäº†å…¶ä»–ä¸»æœºå¯è®¿é—®docker registryï¼Œå¿…é¡»é‡‡ç”¨httpsåè®®ã€‚ 1234mkdir -p ~/docker_registry/certssigndomain=103-17-184-lg-201-k08openssl req -nodes -subj &quot;/C=CN/ST=BeiJing/L=BeiJing/CN=$signdomain&quot; -newkey rsa:4096 -keyout ~/docker_registry/certs/$signdomain.key -out ~/docker_registry/certs/$signdomain.csropenssl x509 -req -days 3650 -in ~/docker_registry/certs/$signdomain.csr -signkey ~/docker_registry/certs/$signdomain.key -out ~/docker_registry/certs/$signdomain.crt ä»Ždocker hubæ‹‰å–registryé•œåƒï¼Œå¹¶å¯åŠ¨é•œåƒ 123456docker run -d -p 5000:5000 --restart=always --name registry \ -v /data/docker_registry:/var/lib/registry \ -v /home/worker/docker_registry/certs:/certs \ -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/103-17-184-lg-201-k08.yidian.com.crt \ -e REGISTRY_HTTP_TLS_KEY=/certs/103-17-184-lg-201-k08.yidian.com.key \ registry:2 åœæ­¢registryé•œåƒå¹¶åˆ é™¤çš„å‘½ä»¤ä¸º 1docker stop registry &amp;&amp; docker rm -v registry ä¸‹è½½æœ€æ–°çš„centos7é•œåƒ 1docker pull centos:7.3.1611 å°†centos7é•œåƒå¢žåŠ tag 12345678docker tag centos:7.3.1611 103-17-184-lg-201-k08.yidian.com:5000/centos:7.3# å¯ä»¥çœ‹åˆ°åˆ—è¡¨ä¸­ä¼šå¤šå‡ºä¸€ä¸ªé•œåƒ[root@103-17-184-lg-201-k08 data]# docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEdocker.io/registry 2 047218491f8c 4 weeks ago 33.17 MB103-17-184-lg-201-k08.yidian.com:5000/centos 7.3 67591570dd29 3 months ago 191.8 MBdocker.io/centos 7.3.1611 67591570dd29 3 months ago 191.8 MB docker pushå‘½ä»¤ä»…æ”¯æŒhttpsåè®®ï¼Œç­¾åå·²ç»å¯åŠ¨äº†è‡ªç­¾åçš„httpsåè®®çš„registryï¼Œä¸ºäº†èƒ½å¤Ÿè®©dockerèƒ½å¤Ÿä¿¡ä»»registryï¼Œéœ€è¦åœ¨/etc/docker/certs.d/ç›®å½•ä¸‹å¢žåŠ ç›¸åº”çš„crtæ–‡ä»¶ï¼Œå¢žåŠ åŽçš„ç›®å½•ç»“æž„ä¸º/etc/docker/certs.d/103-17-184-lg-201-k08.yidian.com:5000/103-17-184-lg-201-k08.yidian.com.crtï¼Œæ·»åŠ å®ŒæˆåŽéœ€è¦é‡å¯dockeræœåŠ¡ã€‚ å°†image pushåˆ°registry 1docker push 103-17-184-lg-201-k08.yidian.com:5000/centos:7.3 api åˆ—å‡ºimagesï¼šhttps://10.103.17.184:5000/v2/_catalog åˆ—å‡ºimageçš„tagsï¼šhttps://10.103.17.184:5000/v2/centos/tags/list å¯ä»¥ç›´æŽ¥é€šè¿‡curlå‘½ä»¤æ¥è®¿é—®apiï¼šcurl --cacert 103-17-184-lg-201-k08.yidian.com.crt -v https://103-17-184-lg-201-k08.yidian.com:5000/v2 ref registry dockeråˆ›å»ºç§æœ‰ä»“åº“ Docker Registryï¼ˆå®˜æ–¹æ•™ç¨‹ï¼‰ Registry API]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[yumæºæ­å»º]]></title>
      <url>%2Fpost%2Fyum-build%2F</url>
      <content type="text"><![CDATA[æŸäº›æƒ…å†µä¸‹éœ€è¦æ­å»ºè‡ªå·±çš„yumæºï¼Œæ¯”å¦‚ç»´æŒç‰¹å®šçš„è½¯ä»¶åŒ…ç‰ˆæœ¬ç­‰ï¼Œåªéœ€è¦ä»Žç½‘ä¸Šä¸‹è½½åˆé€‚çš„rpmåŒ…ï¼Œå³å¯æž„å»ºyumæºã€‚ repodataæ•°æ®åˆ›å»º/data/yum.repoç›®å½•ç”¨æ¥å­˜æ”¾rpmåŒ…ã€‚ å¯ä»¥ä½¿ç”¨yumdownloaderå‘½ä»¤æ¥ä¸‹è½½rpmåŒ…åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”ä¸å®‰è£…ã€‚è¿™é‡Œä»¥å®‰è£…mesosä¸ºä¾‹ï¼Œåœ¨/data/yum.repoç›®å½•ä¸‹æ‰§è¡Œyumdownloader mesoså³å¯ä¸‹è½½mesosçš„rpmåŒ…åˆ°æœ¬åœ°ã€‚ å®‰è£…createrepoï¼šyum install createrepoï¼Œç”¨æ¥æ ¹æ®rpmåŒ…äº§ç”Ÿå¯¹åº”çš„åŒ…ä¿¡æ¯ã€‚ æ¯åŠ å…¥ä¸€ä¸ªrpmåŒ…éœ€è¦æ›´æ–°ä¸‹repoçš„ä¿¡æ¯ï¼Œæ‰§è¡Œcreaterepo --update /data/yum.repoã€‚ä¼šè‡ªåŠ¨äº§ç”Ÿrepodataç›®å½•ã€‚ æ­å»ºwebæœåŠ¡éœ€è¦å¯¹å¤–æä¾›webæœåŠ¡ï¼Œé€šå¸¸ä¼šä½¿ç”¨nginxæˆ–è€…apacheæ¥å¯¹å¤–æä¾›æœåŠ¡ï¼Œè¿™é‡Œä½¿ç”¨python SimpleHTTPServeræ¥å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ‰§è¡Œcd /data/yum.repo &amp;&amp; python -m SimpleHTTPServer 1080ã€‚ å®¢æˆ·ç«¯çš„repoæ–‡ä»¶è®¾ç½®å®‰è£…yumä¼˜å…ˆçº§æ’ä»¶ï¼Œç”¨æ¥è®¾ç½®yumæºçš„ä¼˜å…ˆçº§: yum install -y yum-plugin-priorities æ¯ä¸ªéœ€è¦ä½¿ç”¨è¯¥yumæºçš„å®¢æˆ·ç«¯éœ€è¦åœ¨/etc/yum.repo.d/ç›®å½•ä¸‹å¢žåŠ devops.repoæ–‡ä»¶ã€‚ 123456[devops]name=dev-opsbaseurl=http://10.103.17.184:1080/enabled=1gpgcheck=0priority=1]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[grafanaå‡çº§]]></title>
      <url>%2Fpost%2Fgrafana-upgrade%2F</url>
      <content type="text"><![CDATA[æœ¬æ¬¡grafanaçš„å‡çº§ä»Žç‰ˆæœ¬3.1.1ï¼Œå˜æ›´ä¸º4.4.3ï¼Œæ¶‰åŠåˆ°ä¸€ä¸ªå¤§çš„ç‰ˆæœ¬è·¨åº¦ã€‚åŒæ—¶ä¹‹å‰åœ¨ä½¿ç”¨çš„å­˜å‚¨ä¸ºsqliteï¼Œè¶ç€è¿™æ¬¡å‡çº§æ›´æ”¹ä¸ºmysqlã€‚ grafanaå‡çº§ç›´æŽ¥ä»Žå®˜ç½‘ä¸‹è½½å¯¹åº”çš„4.4.3ç‰ˆæœ¬çš„äºŒè¿›åˆ¶åŒ…ï¼Œä¿®æ”¹éƒ¨åˆ†é…ç½®å³å¯ï¼Œè¯¥éƒ¨åˆ†æ²¡ä»»ä½•éš¾åº¦ã€‚ sqlite to mysqlç”±äºŽgrafanaä½¿ç”¨çš„è¡¨ç»“æž„åœ¨3.1.1åˆ°4.4.3ä¹‹é—´æœ‰å˜æ›´ï¼Œä¸èƒ½ç›´æŽ¥å°†3.1.1ç‰ˆæœ¬çš„sqliteä¸­çš„æ•°æ®å¯¼å…¥åˆ°4.4.3çš„mysqlä¸­ã€‚æˆ‘çš„æ–¹æ³•ä¸ºå…ˆä½¿ç”¨3.1.1ç‰ˆgrafanaå°†æ•°æ®ä»Žsqliteå¯¼å…¥åˆ°mysqlä¸­ï¼Œç„¶åŽå†å‡çº§grafanaçš„ç‰ˆæœ¬ï¼Œgrafanaå¯ä»¥è‡ªåŠ¨ä¿®æ”¹è¡¨ç»“æž„ã€‚ åœ¨çš„mysqlä¸­åˆ›å»ºgrafanaçš„æ•°æ®åº“ï¼Œå¹¶ä¿®æ”¹æ•°æ®åº“çš„ç¼–ç ä¸ºutf-8. ä¿®æ”¹grafana 3.1.1é…ç½®æ–‡ä»¶conf/defaults.iniå¦‚ä¸‹ï¼š 1234567891011[database]# You can configure the database connection by specifying type, host, name, user and password# as separate properties or as on string using the url property.# Either &quot;mysql&quot;, &quot;postgres&quot; or &quot;sqlite3&quot;, it&apos;s your choicetype = mysqlhost = xx.xx.xx.xx:3306name = grafanauser = dev# If the password contains # or ; you have to wrap it with triple quotes. Ex &quot;&quot;&quot;#password;&quot;&quot;&quot;password = dev å¯åŠ¨grafanaåŽä¼šè‡ªåŠ¨åœ¨grafanaæ•°æ®åº“ä¸­åˆ›å»ºç›¸åº”çš„è¡¨ç»“æž„ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯å°†sqliteä¸­çš„æ•°æ®å¯¼å…¥åˆ°mysqlä¸­ã€‚ åœ¨dataç›®å½•ä¸‹å¢žåŠ å¦‚ä¸‹è„šæœ¬sqlitedump.shï¼Œå¹¶æ‰§è¡Œsh sqlitedump.sh grafana.db &gt; grafana.sqlã€‚ 123456789#!/bin/shDB=$1TABLES=$(sqlite3 $DB .tables | grep -v migration_log)for t in $TABLES; do echo &quot;TRUNCATE TABLE $t;&quot;donefor t in $TABLES; do echo -e &quot;.mode insert $t\nselect * from $t;&quot;done | sqlite3 $DB ç„¶åŽå°†grafana.sqlå¯¼å…¥åˆ°æ–°åˆ›å»ºçš„mysqlã€‚ å°†grafana 3.1.1ç‰ˆæœ¬åœæŽ‰ï¼Œå°†grafana 4.4.3ç‰ˆæœ¬çš„é…ç½®æŒ‡å‘åˆ°mysqlæ•°æ®åº“ï¼Œå¯åŠ¨grafana 4.4.3åŽï¼Œmysqlä¸­çš„è¡¨ç»“æž„ä¼šè‡ªåŠ¨å˜æ›´ã€‚ è‡³æ­¤ï¼Œgrafanaçš„å‡çº§å®Œæˆã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[é€šè¿‡rsyncæ¥ç»•è¿‡relayåŒæ­¥æ–‡ä»¶]]></title>
      <url>%2Fpost%2Frsync-bypass-ralay%2F</url>
      <content type="text"><![CDATA[ç”±äºŽä¸å…è®¸é€šè¿‡sshç›´æŽ¥è¿žæŽ¥æœåŠ¡å™¨ï¼Œå³æœåŠ¡å™¨çš„22ç«¯å£æ˜¯ä¸å¼€æ”¾çš„ï¼Œä½†æ˜¯å…¶ä»–ç«¯å£å·å¯ä»¥è®¿é—®ã€‚è¿™å°±é€ æˆäº†å¾€æœåŠ¡å™¨ä¸Šä¼ è¾“æ–‡ä»¶ä¼šç‰¹åˆ«éº»çƒ¦ï¼Œéœ€è¦é€šè¿‡relayä¸­è½¬ä¸€ä¸‹ã€‚ rsyncå‘½ä»¤æœ‰shellæ¨¡å¼å’Œdaemonæ¨¡å¼ï¼Œä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡rsyncçš„daemonæ¨¡å¼ï¼Œrysncçš„daemonæ¨¡å¼ä¼šé»˜è®¤ä½¿ç”¨873ç«¯å£ï¼Œä¸ä½¿ç”¨sshåè®®ï¼Œä»¥æ­¤æ¥ç»•è¿‡sshçš„22ç«¯å£é™åˆ¶ã€‚ æœ€ç»ˆå¯ä»¥å®žçŽ°åœ¨æœ¬åœ°é€šè¿‡rsyncä¸€æ¡å‘½ä»¤ç›´æŽ¥åŒæ­¥æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åˆ°æœåŠ¡å™¨çš„æŒ‡å®šç›®å½•ä¸‹ã€‚ é¦–å…ˆåœ¨æœåŠ¡å™¨ä¸Šæ­å»ºrsyncçš„æœåŠ¡ç«¯ï¼Œrsyncçš„å®‰è£…ä¸å†ä»‹ç»ã€‚ ä¿®æ”¹æœåŠ¡å™¨çš„rsyncé…ç½®æ–‡ä»¶/etc/rsyncd.confå¦‚ä¸‹ï¼š 123456[worker]path = /home/workerlist = trueuid = workergid = workerread only = false è¿™é‡Œä¸ºäº†ç®€ä¾¿ï¼Œå¹¶æœªè®¾ç½®rsyncçš„ç”¨æˆ·åå’Œå¯†ç ã€‚ å®¢æˆ·ç«¯åŒæ­¥æ–‡ä»¶çš„å‘½ä»¤å¦‚ä¸‹ï¼š 1rsync -avz $SRC worker@$HOST::worker --exclude=target --exclude=.git --exclude=.idea --delete å‘½ä»¤ä¸­çš„ç¬¬ä¸€ä¸ªworkerä¸ºHOSTçš„ç™»å½•ç”¨æˆ·åï¼Œç¬¬äºŒä¸ªworkerä¸ºrysncdé…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ç»„åã€‚â€“excludeé€‰é¡¹å¯ä»¥ç”¨æ¥å±è”½éœ€è¦åŒæ­¥çš„æ–‡ä»¶å¤¹ã€‚â€“deleteé€‰é¡¹ç”¨æ¥åŒæ­¥åˆ é™¤çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚ daemonæ¨¡å¼è·Ÿsshæ¨¡å¼ç›¸æ¯”ï¼Œæ— æ³•æŒ‡å®šæœåŠ¡å™¨çš„å…·ä½“æŸä¸€ä¸ªè·¯å¾„ï¼Œä½¿ç”¨ä¸å¤Ÿçµæ´»ï¼Œä½†ä¹ŸåŸºæœ¬å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚åªèƒ½é€šè¿‡daemoné…ç½®æ–‡ä»¶ä¸­é…ç½®çš„ç»„ä¸­çš„pathå‚æ•°ï¼ŒåŒæ­¥æ—¶ä»…èƒ½é€šè¿‡::ç»„åçš„å½¢å¼æ¥æŒ‡å®šã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è‡ªåŠ¨é€šè¿‡è·³æ¿æœºç™»å½•åˆ°å…¶ä»–æœåŠ¡å™¨]]></title>
      <url>%2Fpost%2Frelay-auto-login%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘å…¬å¸éœ€è¦é¦–å…ˆç™»å½•è·³æ¿æœºrelayï¼Œç„¶åŽé€šè¿‡è·³æ¿æœºæ‰èƒ½ç™»å½•æœåŠ¡å™¨ï¼Œæ“ä½œä¸Šç•¥æ˜¾éº»çƒ¦ã€‚ä¸ºäº†èŠ‚çœç™»å½•æœåŠ¡å™¨çš„æ—¶é—´ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬æ¥ç®€åŒ–ç™»å½•æ“ä½œã€‚ å®žçŽ°æ•ˆæžœä¸ºåœ¨æœ¬åœ°terminalä¸‹ï¼Œæ‰§è¡Œwrelay $hostï¼Œå³å¯è‡ªåŠ¨ç™»å½•åˆ°ç›¸åº”çš„ä¸»æœºã€‚ åœ¨relayæœåŠ¡å™¨ä¸Šå¢žåŠ å¯¹å…¶ä»–æœåŠ¡å™¨çš„å…ç™»å½•å‘½ä»¤åœ¨relayæœåŠ¡å™¨ä¸Šsshåˆ°å…¶ä»–ä¸»æœºæ—¶éœ€è¦è¾“å…¥å¯†ç ï¼Œä½¿ç”¨expectå‘½ä»¤æ¥ç™»å½•åˆ°å…¶ä»–ä¸»æœºæ—¶é€šè¿‡expectè„šæœ¬æ¥å®žçŽ°è‡ªåŠ¨è¾“å…¥å¯†ç å¹¶ç™»å½•çš„åŠŸèƒ½ã€‚ åœ¨/home/$userç›®å½•ä¸‹æ–°å»ºmybinæ–‡ä»¶å¤¹ï¼Œå¹¶å°†mybinæ–‡ä»¶å¤¹æ·»åŠ åˆ°$PATHçŽ¯å¢ƒå˜é‡ä¸­ï¼Œå…·ä½“ä¿®æ”¹æ–¹æ³•ä¸å±•å¼€ã€‚ åœ¨mybinç›®å½•ä¸‹å¢žåŠ gwè„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526#!/usr/bin/expectif &#123;$argc &lt; 1&#125; &#123; puts &quot;Usage:cmd &lt;host&gt;&quot; exit 1&#125;set host [lindex $argv 0]# åœ¨è¿™é‡Œå¡«å†™è¦ç™»å½•çš„ç”¨æˆ·set username &quot;worker&quot;# åœ¨è¿™é‡Œå¡«å†™è¦ç™»å½•çš„å¯†ç set password &quot;worker&quot;spawn ssh $username@$hostset timeout 2expect &#123; &quot;*password:&quot; &#123; send &quot;$password\n&quot; &#125; &quot;Are you sure you want to continue connecting (yes/no)?&quot; &#123; send &quot;yes\r&quot; exp_continue &#125;&#125;expect &quot;*#&quot;interact æ‰§è¡Œgw 10.1.1.8ï¼Œå³å¯ç™»å½•åˆ°å¯¹åº”çš„ä¸»æœºä¸Šã€‚ æœ¬åœ°ä¸»æœºå…ç™»å½•relayæœåŠ¡å™¨ï¼Œå¹¶è‡ªåŠ¨ç™»å½•åˆ°å¯¹åº”çš„æœåŠ¡å™¨åœ¨æœ¬åœ°è‡ªåŠ¨ç™»å½•relayä¸»æœºåŒæ ·ä½¿ç”¨expectçš„æ–¹å¼ï¼Œè„šæœ¬åç§°ä¸ºwrelayï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132#!/usr/bin/expectif &#123;$argc &lt; 1&#125; &#123; puts &quot;Usage:cmd &lt;remote_host&gt;&quot; exit 1&#125;# ä¸‹é¢æŒ‡å®šrelayä¸»æœºset host &quot;relay.name&quot;# è¿™é‡Œè¾“å…¥relayçš„ç”¨æˆ·åset username &quot;&quot;# è¿™é‡Œè¾“å…¥relayçš„å¯†ç set password &quot;&quot;set remote_host [lindex $argv 0]spawn ssh $username@$hostset timeout 2expect &#123; &quot;*password:&quot; &#123; send &quot;$password\n&quot; &#125; &quot;Are you sure you want to continue connecting (yes/no)?&quot; &#123; send &quot;yes\r&quot; exp_continue &#125;&#125;expect &quot;*#&quot;sleep 0.1# åœ¨relayä¸Šè‡ªåŠ¨ç™»å½•åˆ°å…¶ä»–æœåŠ¡å™¨ä¸»æœºsend &quot;gw $remote_host\n&quot;interact]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[blogä»Žfarboxè¿ç§»åˆ°äº†hexo]]></title>
      <url>%2Fpost%2Fmv-farbox-to-hexo%2F</url>
      <content type="text"><![CDATA[æ¸…æ˜ŽèŠ‚å‡æœŸçªç„¶æƒ³èµ·äº†æˆ‘å¥½ä¹…ä¸æ›´çš„blogï¼Œçœ‹åˆ°Farboxå®˜ç½‘ä¸Šçš„ã€Š2016ï¼Œç»ˆç»“äº†å‡ ä¸ªäº§å“ã€‹ï¼Œè¯´æ˜ŽFarboxå·²ç»åœæ­¢æ›´æ–°äº†ã€‚è™½ç„¶æˆ‘æŒºå–œæ¬¢Farboxè¿™ä¸ªé¡¹ç›®ï¼Œä¹Ÿè§è¯äº†Farboxçš„æˆé•¿åŠä½œè€…åšäº§å“çš„æ€è€ƒï¼Œåœ¨è¿™é‡Œä¹Ÿå‘ä½œè€…è‡´æ•¬ã€‚ æˆ‘å½“æ—¶å¼€å§‹å‡†å¤‡å¯ç”¨Farboxä¹‹å‰è¯•ç”¨è¿‡jekyllï¼Œç¿»éäº†æ•´ä¸ªgithubï¼Œä¹Ÿæ²¡æ‰¾åˆ°ä¸ªåˆæˆ‘å¿ƒæ„çš„themeã€‚å¹¸å¥½æ˜¯Farboxçš„å‡ºçŽ°ï¼Œè®©æˆ‘çœ¼å‰ä¸€äº®ï¼Œè¿™å°±æ˜¯æˆ‘æƒ³å¥½çš„blogç³»ç»Ÿäº†ã€‚Farboxçš„åœæ›´ä½¿æˆ‘ä¸å¾—ä¸è€ƒè™‘é‡æ–°æ¢ä¸ªblogï¼Œè™½ç„¶2016çš„æ–‡ç« æ•°é‡ä»…ä¸ºç½•è§çš„ä¸ªä½æ•°ï¼Œä½†æœ‰å¯èƒ½ä»Šå¹´æœ‰æ—¶é—´ä¼šå¤šå†™ä¸€äº›ã€‚ è¿‘å‡ å¹´hexoç‰¹åˆ«çš„ç«ï¼Œåœ¨è¯•çœ‹äº†å®˜æ–¹æ–‡æ¡£äº†è§£åŠŸèƒ½åŠè€ƒè™‘äº†blogçš„è¿ç§»æˆæœ¬åŽï¼Œå¿ƒæƒ³ï¼Œè¿™å°±æ˜¯æˆ‘æƒ³è¦çš„blogç³»ç»Ÿäº†ã€‚hexoè¯¥æœ‰çš„åŠŸèƒ½å…¨éƒ½æœ‰ï¼Œç”šè‡³æ¯”Farboxè¦å¼ºå¤§å¾ˆå¤šã€‚Farboxçš„å¾ˆå¤šè®¾è®¡æ€æƒ³è·Ÿhexoç›¸ä»¿ï¼Œä½†hexoæ˜¾çš„æ›´åŠ è‡ªç”±ï¼Œblogéœ€è¦è‡ªå·±ä¸€æ‰‹æ­å»ºå®Œæˆã€‚ å½“ç„¶hexoè¦æƒ³ä½¿ç”¨çš„å¥½ï¼Œåšä¸€äº›å…¨é¢çš„äº†è§£åŠæŠ˜è…¾æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ¯•ç«Ÿæœ€ç»ˆåˆ©ç”¨çš„Github pagesæ˜¯ä¸ªé™æ€çš„ç³»ç»Ÿã€‚æ—©å·²æ²¡æœ‰äº†æƒ³å½“å¹´ç¿»éæ•´ä¸ªgithubä¸Šjekyll themeçš„ç²¾åŠ›äº†ï¼Œæˆ‘è¿™æ¬¡çš„åŸºè°ƒæ˜¯èƒ½å°‘æŠ˜è…¾å°±å°‘æŠ˜è…¾ï¼Œæ¯•ç«Ÿblogæˆ‘ä¹Ÿä¸æ˜¯ç»å¸¸å†™ï¼Œè®¿é—®é‡ä¹Ÿæ›´æ˜¯å°‘çš„å¯æ€œï¼Œå°±å½“å…¨é¢äº†è§£ä¸‹å½“å‰æœ€ç«çš„hexoå°±å¥½äº†ã€‚ themeæœ¬ç€ä¸æŠ˜è…¾åŽŸåˆ™ï¼Œç›´æŽ¥å¯ç”¨äº†å¾ˆç«çš„hexo-theme-nextï¼Œæ–‡æ¡£æ¯”è¾ƒå…¨ï¼Œç»´æŠ¤æ¯”è¾ƒåŠæ—¶ã€‚åŸºæœ¬ä¸ŠæŒ‰ç…§æ–‡æ¡£èµ°ä¸€éï¼Œè¯¥é…ç½®çš„å°±éƒ½å¯ä»¥é…ç½®ä¸Šäº†ã€‚ ä»£ç åŒæ­¥ä»£ç é€šè¿‡gitåŒæ­¥æ˜¯å¿…å¤‡æŠ€èƒ½ã€‚ hexoé¡¹ç›®ä»£ç åŒæ­¥hexoé‡‡ç”¨çš„æ˜¯node.jsçŽ¯å¢ƒï¼Œè€ŒGithub pagesæ˜¯é™æ€çš„ï¼Œå› æ­¤Github pagesä¸Šä»…èƒ½å­˜å‚¨çš„æ˜¯hexoç¼–è¯‘åŽçš„é™æ€æ–‡ä»¶ï¼Œè¿™äº›é™æ€æ–‡ä»¶ç›´æŽ¥é€šè¿‡hexo déƒ¨ç½²åˆ°kuring.github.comä»“åº“ä¸­å°±å¯ä»¥äº†ã€‚ è€Œå¯¹äºŽé¡¹ç›®ä¸­çš„_config.ymlã€mdæ–‡ä»¶æˆ‘ç›´æŽ¥ç”¨gitåŒæ­¥åˆ°Githubä¸Šå¦å¤–ä¸€ä¸ªé¡¹ç›®hexo_bakä¸­äº†ã€‚ç½‘ä¸Šè¿˜æœ‰æ€è·¯æ˜¯åŒæ­¥åˆ°kuring.github.comä¸Šçš„å¦å¤–ä¸€ä¸ªåˆ†æ”¯ï¼Œæˆ‘æ„Ÿè§‰å¤ªå•°å—¦ï¼Œå®¹æ˜“å‡ºé”™ï¼Œè¿˜ä¸å¦‚ç›´æŽ¥åˆ†å¼€æ¥çš„ç®€ä¾¿ã€‚ themeé¡¹ç›®çš„ä»£ç åŒæ­¥themeé¡¹ç›®ä¸­ä¹ŸåŒ…å«äº†éƒ¨åˆ†è‡ªå·±çš„é…ç½®åŠä¿®æ”¹ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„åŒæ­¥ç­–ç•¥ä¸ºä»Žgithubä¸Šforkå¯¹åº”çš„themeé¡¹ç›®ï¼Œç„¶åŽclone forkä¸‹æ¥çš„é¡¹ç›®åˆ°æœ¬åœ°ï¼Œç„¶åŽç›´æŽ¥åœ¨themeçš„é¡¹ç›®ä¸­é€šè¿‡gitå‘½ä»¤åŒæ­¥åˆ°github forkçš„é¡¹ç›®ä¸­ã€‚ ç½‘ä¸Šä¹Ÿæœ‰æ€è·¯æ˜¯é€šè¿‡git subtreeçš„æ–¹å¼æ¥è§£å†³ï¼Œæˆ‘ä»ç„¶æ„Ÿè§‰å¤ªå•°å—¦ï¼Œä¸é‡‡ç”¨ã€‚ ä½†è¿™æ ·ä¸€ä¸ªblogé¡¹ç›®éœ€è¦å¤šä¸ªgitä»“åº“ï¼Œgit pushèµ·æ¥ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå¥½åœ¨themeä¸€èˆ¬ä¸æ€Žä¹ˆä¿®æ”¹ã€‚ è¯„è®ºç³»ç»Ÿä¹‹å‰ç”¨å¤šè¯´çš„æ—¶å€™ä¹Ÿæ²¡å‡ ä¸ªè¯„è®ºçš„ï¼Œç”¨èµ·æ¥è¿˜ä¸é”™ï¼Œè‡³å°‘æ¯”è¢«å¢™äº†çš„disqusè¦å¥½å¾ˆå¤šï¼Œå¯æ˜¯å¤šè¯´è¿™ä¹ˆå¥½çš„é¡¹ç›®è¦å…³é—­äº†ã€‚æˆ‘ç›´æŽ¥ä½¿ç”¨äº†å›½å†…çš„ç½‘æ˜“äº‘è·Ÿå¸–æ¥æ»¡è¶³è¯„è®ºçš„éœ€æ±‚ã€‚ ç«™å†…æœç´¢ç«™å†…æœç´¢æ˜¯å¿…ä¸å¯å°‘çš„åŠŸèƒ½ï¼Œnextä¸»é¢˜æä¾›äº†å¤šç§é€‰æ‹©ï¼Œæˆ‘ç›´æŽ¥ä½¿ç”¨äº†hexo-generator-searchdbé€šè¿‡æœ¬åœ°æœç´¢æ¥å®Œæˆï¼Œç”Ÿæˆçš„xmlæ–‡ä»¶ç›®å‰è¿˜æ¯”è¾ƒå°ï¼Œæ•ˆæžœè¿˜å¯ä»¥ã€‚ å¸¸ç”¨å‘½ä»¤ å¯ç”¨æœ¬åœ°serverç«¯ï¼šhexo clean &amp;&amp; hexo g &amp;&amp; hexo s éƒ¨ç½²åˆ°githubï¼šhexo d å‘å¸ƒæ–‡ç« ï¼šhexo new æ–‡ç« url ä½¿ç”¨hexo new draft testä¼šåœ¨source/_draftsç›®å½•ä¸‹åˆ›å»ºå¯¹åº”æ–‡ä»¶ï¼Œæ­¤æ—¶æ–‡ä»¶ä¸ä¼šç”Ÿæˆé¡µé¢ï¼Œç”¨äºŽå­˜æ”¾æœªå†™å®Œçš„æ–‡ç« ã€‚hexo publish draft testå‘½ä»¤å¯å°†_draftsä¸‹çš„æ–‡ç« ç§»åŠ¨åˆ°_postsç›®å½•ä¸‹ï¼Œå¹¶æ·»åŠ åˆ›å»ºæ—¶é—´ç­‰ä¿¡æ¯ã€‚ æ”¶ä¸ªå°¾blogæ€»ç®—è¿ç§»å®Œæˆäº†ï¼ŒæœŸæœ›ä»Šå¹´èƒ½å¤šå†™ä¸Šå‡ ç¯‡ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä½¿ç”¨logstashæ”¶é›†php-fpm slow log]]></title>
      <url>%2Fpost%2Flogstash-php-fpm%2F</url>
      <content type="text"><![CDATA[ç›®å‰php-fpmçš„æœåŠ¡éƒ¨ç½²åœ¨äº†dockerä¸­ï¼Œå¯¹php-fpmçš„logå’Œphp error logå¯ä»¥é€šè¿‡syslogåè®®çš„å½¢å¼å‘é€å‡ºåŽ»ï¼Œè€Œphp-fpmçš„slow logå´ä¸èƒ½é…ç½®ä¸ºsyslogåè®®ï¼Œåªèƒ½è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå› ä¸ºä¸€æ¡slow logçš„æ˜¯æœ‰å¤šè¡Œç»„æˆçš„ã€‚ åœ¨dockerä¸­ä½¿ç”¨æ—¶å‘çŽ°fpm-slowlogä¸èƒ½æ­£å¸¸è¾“å‡ºï¼ŒåŽç»å‘çŽ°æ˜¯dockeré»˜è®¤æ²¡æœ‰ptraceç³»ç»Ÿè°ƒç”¨çš„æƒé™ï¼Œè€Œslow logçš„äº§ç”Ÿéœ€è¦è¯¥ç³»ç»Ÿè°ƒç”¨ã€‚é€šè¿‡åœ¨dockerå¯åŠ¨çš„æ—¶å€™å¢žåŠ â€â€“cap-add SYS_PTRACEâ€å¯åŠ¨é¡¹å¯ä¿®æ­£è¯¥é—®é¢˜ã€‚ ä¸ºäº†æ”¶é›†slow logï¼Œå¯ä»¥é€šè¿‡logstashã€flumeç­‰å·¥å…·è¿›è¡Œæ”¶é›†ï¼Œæœ¬æ–‡é‡‡ç”¨logstashå¯¹slow logè¿›è¡Œæ”¶é›†ï¼Œå¹¶å°†æ”¶é›†çš„logå†™å…¥åˆ°kafkaä¸­ï¼Œä¾¿äºŽåŽç»­çš„å¤„ç†ã€‚logstashçš„inputé‡‡ç”¨è¯»å–æ–‡ä»¶çš„æ–¹å¼ï¼Œå³è·Ÿtail -fçš„åŽŸç†ç±»ä¼¼ã€‚ä¸ºäº†èƒ½å¤Ÿå°†å¤šè¡Œæ—¥å¿—ä½œä¸ºä¸€è¡Œï¼Œé‡‡ç”¨äº†filterä¸­çš„multilineæ¥å¯¹å¤šè¡Œæ—¥å¿—è¿›è¡Œåˆå¹¶æ“ä½œã€‚logstashçš„é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324input &#123; file &#123; path =&gt; [â€œ/var/log/php-fpm/fpm-slow.log&quot;] &#125;&#125;filter &#123; multiline &#123; pattern =&gt; &quot;^$&quot; negate =&gt; true what =&gt; &quot;previous&quot; &#125;&#125;output &#123; stdout&#123;codec =&gt; rubydebug&#125; kafka &#123; codec =&gt; plain &#123; format =&gt; â€œtag|%&#123;host&#125;%&#123;message&#125;&quot; &#125; topic_id =&gt; &quot;fpm-slowlog&quot; bootstrap_servers =&gt; â€œkafka1.hostname:8082,kafka2.hostname:8082&quot; &#125;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ELKè§£æžnginxæ—¥å¿—]]></title>
      <url>%2Fpost%2Felk_nginx%2F</url>
      <content type="text"><![CDATA[ELKè§£æžnginxæ—¥å¿— æœ€è¿‘ä½¿ç”¨ELKæ­å»ºäº†ä¸€ä¸ªnginxçš„æ—¥å¿—è§£æžçŽ¯å¢ƒï¼Œä¸­é—´é‡åˆ°ä¸€äº›æŒ«æŠ˜ï¼Œå¥½ä¸å®¹æ˜“æ­å»ºå®Œæ¯•ï¼Œæœ‰å¿…è¦è®°å½•ä¸€ä¸‹ã€‚ nginxnginxé…ç½®æ–‡ä»¶ä¸­çš„æ—¥å¿—é…ç½®å¦‚ä¸‹ï¼š 123456error_log /var/log/nginx/error.log;log_format main &apos;$remote_addr [$time_local] &quot;$request&quot; &apos; &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;access_log /var/log/nginx/access.log main; logstashç”±äºŽæ˜¯æµ‹è¯•çŽ¯å¢ƒï¼Œæˆ‘è¿™é‡Œä½¿ç”¨logstashè¯»å–nginxæ—¥å¿—æ–‡ä»¶çš„æ–¹å¼æ¥èŽ·å–nginxçš„æ—¥å¿—ï¼Œå¹¶ä¸”ä»…è¯»å–äº†nginxçš„access logï¼Œå¯¹äºŽerror logæ²¡æœ‰å…³å¿ƒã€‚ ä½¿ç”¨çš„logstashç‰ˆæœ¬ä¸º2.2.0ï¼Œåœ¨log stashç¨‹åºç›®å½•ä¸‹åˆ›å»ºconfæ–‡ä»¶å¤¹ï¼Œç”¨äºŽå­˜æ”¾è§£æžæ—¥å¿—çš„é…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºæ–‡ä»¶test.confï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223input &#123; file &#123; path =&gt; [&quot;/var/log/nginx/access.log&quot;] &#125;&#125;filter &#123; grok &#123; match =&gt; &#123; &quot;message&quot; =&gt; &quot;%&#123;IPORHOST:clientip&#125; \[%&#123;HTTPDATE:time&#125;\] \&quot;%&#123;WORD:verb&#125; %&#123;URIPATHPARAM:request&#125; HTTP/%&#123;NUMBER:httpversion&#125;\&quot; %&#123;NUMBER:http_status_code&#125; %&#123;NUMBER:bytes&#125; \&quot;(?&lt;http_referer&gt;\S+)\&quot; \&quot;(?&lt;http_user_agent&gt;\S+)\&quot; \&quot;(?&lt;http_x_forwarded_for&gt;\S+)\&quot;&quot; &#125; &#125; &#125;output &#123; elasticsearch &#123; hosts =&gt; [&quot;10.103.17.4:9200&quot;] index =&gt; &quot;logstash-nginx-test-%&#123;+YYYY.MM.dd&#125;&quot; workers =&gt; 1 flush_size =&gt; 1 idle_flush_time =&gt; 1 template_overwrite =&gt; true &#125; stdout&#123;codec =&gt; rubydebug&#125;&#125; éœ€è¦è¯´æ˜Žçš„æ˜¯ï¼Œfilterå­—æ®µä¸­çš„grokéƒ¨åˆ†ï¼Œç”±äºŽnginxçš„æ—¥å¿—æ˜¯æ ¼å¼åŒ–çš„ï¼Œlogstashè§£æžæ—¥å¿—çš„æ€è·¯ä¸ºé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…æ—¥å¿—ï¼Œå¹¶å°†å­—æ®µä¿å­˜åˆ°ç›¸åº”çš„å˜é‡ä¸­ã€‚logstashä¸­ä½¿ç”¨grokæ’ä»¶æ¥è§£æžæ—¥å¿—ï¼Œgrokä¸­messageéƒ¨åˆ†ä¸ºå¯¹åº”çš„grokè¯­æ³•ï¼Œå¹¶ä¸å®Œå…¨ç­‰ä»·äºŽæ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•ï¼Œåœ¨å…¶ä¸­å¢žåŠ äº†å˜é‡ä¿¡æ¯ã€‚ å…·ä½“grokè¯­æ³•ä¸ä½œè¿‡å¤šä»‹ç»ï¼Œå¯ä»¥é€šè¿‡logstashçš„å®˜æ–¹æ–‡æ¡£ä¸­æ¥äº†è§£ã€‚ä½†grokè¯­æ³•ä¸­çš„å˜é‡ç±»åž‹å¦‚IPORHOSTå¹¶æœªæ‰¾åˆ°å…·ä½“çš„æ–‡æ¡£ï¼Œåªèƒ½é€šè¿‡åœ¨logstashçš„å®‰è£…ç›®å½•ä¸‹é€šè¿‡grep -nr &quot;IPORHOST&quot; .æ¥æœç´¢å…·ä½“çš„å«ä¹‰ã€‚ é…ç½®æ–‡ä»¶ä¸­çš„stdoutéƒ¨åˆ†ç”¨äºŽæ‰“å°grokè§£æžç»“æžœçš„ä¿¡æ¯ï¼Œåœ¨è°ƒè¯•é˜¶æ®µä¸€å®šè¦æ‰“å¼€ã€‚ å¯ä»¥é€šè¿‡è¿™é‡Œæ¥éªŒè¯grokè¡¨è¾¾å¼çš„è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼Œç¼–å†™grokè¡¨è¾¾å¼çš„æ—¶å€™å¯ä»¥åœ¨è¿™é‡Œç¼–å†™å’Œæµ‹è¯•ã€‚ å¯¹äºŽelasticsearchéƒ¨åˆ†ä¸åšè¿‡å¤šä»‹ç»ï¼Œç½‘ä¸Šå®¹æ˜“æ‰¾åˆ°èµ„æ–™ã€‚ kibanakibanaä¸åšè¿‡å¤šä»‹ç»ï¼Œä½¿ç”¨å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å’Œè‡ªå·±æ‘¸ç´¢ã€‚ referencelogstashä¸­çš„grokæ’ä»¶ä»‹ç»]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åˆ©ç”¨awsç§‘å­¦ä¸Šç½‘]]></title>
      <url>%2Fpost%2Faws_net%2F</url>
      <content type="text"><![CDATA[æ›¾ç»ä½¿ç”¨è¿‡å¤šç§ç§‘å­¦ä¸Šç½‘æ–¹å¼ï¼Œâ€‹æœ€è¿‘å°è¯•äº†ä½¿ç”¨awsçš„å…è´¹è¯•ç”¨ä¸€å¹´çš„åŠŸèƒ½æ­å»ºshadowsocksï¼Œè®¿é—®googleçš„é€Ÿåº¦éžå¸¸ä¸é”™ï¼Œæ¯”å¾ˆå¤šæ”¶è´¹çš„æœåŠ¡è¦å¥½ç”¨ï¼ŒamazonçœŸæ˜¯è‰¯å¿ƒä¼ä¸šï¼ æœ¬æ–‡ç”¨äºŽè®°å½•åœ¨awsä¸Šæ­å»ºæœåŠ¡çš„æ­¥éª¤åŠå…¶ä¸­çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œæ­¥éª¤ä¸ä¼šå¤ªè¯¦ç»†ï¼Œawsä¸Šå…³äºŽä¸»æœºçš„åŠŸèƒ½éœ€è¦è¯»è€…è‡ªå·±åœ¨è¯•éªŒçš„è¿‡ç¨‹ä¸­åŽ»è‡ªå·±æŽ¢ç´¢ã€‚ æ³¨å†Œawsè´¦å·ä¸ºäº†èƒ½å¤Ÿæ­å»ºæ­å»ºawsæœåŠ¡ï¼Œæ‹¥æœ‰ä¸€ä¸ªamazonè´¦å·æ˜¯å¿…é¡»çš„ï¼Œåœ¨awså…è´¹å¥—é¤çš„é¡µé¢ç‚¹å‡»ã€Žåˆ›å»ºå…è´¹è´¦å·ã€æŒ‰é’®å³å¯æŒ‰ç…§æ­¥éª¤åˆ›å»ºawsè´¦å·ã€‚ å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ³¨å†Œawsçš„è´¦å·éœ€è¦ä¸€å¼ ä¿¡ç”¨å¡ã€‚ å¼€å¯EC2ä¸»æœºå®žä¾‹è¯¥æ­¥éª¤çš„ç›®çš„æ˜¯å¼€å¯awsä¸Šçš„ä¸»æœºå®žä¾‹ã€‚â€‹ è¿›å…¥awsçš„æŽ§åˆ¶é¢æ¿ï¼Œåœ¨å·¦ä¸Šè§’çš„æœåŠ¡ä¸­é€‰æ‹©EC2ï¼Œawsæä¾›äº†å¤šç§ç±»åž‹çš„ä¸»æœºï¼Œè¿™é‡Œé€‰æ‹©EC2å³å¯ã€‚ åœ¨EC2æŽ§åˆ¶é¢æ¿ç•Œé¢ä¸­éœ€è¦é€‰æ‹©å³ä¸Šè§’çš„åŒºåŸŸï¼Œè¿™ä¸ªç”¨äºŽé€‰æ‹©EC2ä¸»æœºæ‰€åœ¨çš„æœºæˆ¿ï¼Œä¸åŒæœºæˆ¿ä¹‹é—´ä¸»æœºæ˜¯ä¸å¯ä»¥å…±äº«çš„ã€‚æˆ‘è¿™é‡Œé€‰æ‹©äº†ã€Žç¾Žå›½è¥¿éƒ¨ï¼ˆä¿„å‹’å†ˆï¼‰ã€ï¼Œæ„Ÿè§‰é€Ÿåº¦è¿˜ä¸é”™ï¼Œæ²¡æœ‰è¯•éªŒè¿‡äºšæ´²åœ°åŒºçš„ï¼Œæ–°åŠ å¡çš„é€Ÿåº¦æ˜¯ä¸æ˜¯ä¼šæ›´å¥½äº›ã€‚åŽç»­ç»è¿‡éªŒè¯ï¼Œé¦–å°”çš„æœåŠ¡å™¨ç¡®å®žé€Ÿåº¦æ›´å¿«ä¸€äº›ã€‚â€‹ä¸‹é¢å³å¯åˆ›å»ºEC2çš„å®žä¾‹äº†ï¼Œç‚¹å‡»ç•Œé¢ä¸Šçš„ã€Žå¯åŠ¨å®žä¾‹ã€æŒ‰é’®å³å¯æŒ‰ç…§æ­¥éª¤åˆ›å»ºEC2å®žä¾‹äº†ï¼Œåˆ›å»ºå®žä¾‹çš„æ—¶å€™ä¸€å®šè¦é€‰æ‹©å…è´¹çš„EC2ä¸»æœºï¼Œå¦åˆ™å°±ä¼šæ‚²å‰§äº†ã€‚æˆ‘é€‰æ‹©äº†ubuntu14.04çš„ä¸»æœºï¼Œredhat7.2çš„ä¸»æœºyumæºä¸å¤ªå…¨ï¼Œæ²¡æœ‰é€‰æ‹©ä½¿ç”¨ã€‚ æœ€ç»ˆä¼šå¾—åˆ°sshç™»å½•ç”¨çš„pemæ–‡ä»¶ï¼Œç”¨äºŽsshè¿œç¨‹ç™»å½•ä¸»æœºã€‚å¹¶åœ¨ç•Œé¢ä¸Šå¯åŠ¨åˆšåˆšåˆ›å»ºçš„å®žä¾‹ã€‚ æŒ‰ç…§shadowsocksæŽ¥ä¸‹æ¥å°±æ˜¯åœ¨EC2å®žä¾‹ä¸Šå®‰è£…sock5ä»£ç†å·¥å…·äº†ã€‚ ç™»å½•åˆšåˆšå¯åŠ¨çš„EC2ï¼Œéœ€è¦pemæ–‡ä»¶ã€‚å¯ä»¥é€šè¿‡ssh -i &quot;key.pem&quot; ubuntu@ec2-52-26-2-14.us-west-2.compute.amazonaws.comå‘½ä»¤æ¥ç™»å½•åˆ°è¿œç¨‹ä¸»æœºï¼Œå…¶ä»–å·¥å…·è¯·è‡ªè¡Œgoogleã€‚ ä½¿ç”¨å‘½ä»¤pip install shadowsocksæ¥å®‰è£…shadowssocksï¼Œpipå‘½ä»¤çš„å®‰è£…è‡ªè¡Œè§£å†³ã€‚ åœ¨ubuntuçš„homeç›®å½•ä¸‹æ‰§è¡Œmkdir shadowsocksåˆ›å»ºä¿å­˜é…ç½®æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºé…ç½®æ–‡ä»¶config.jsonï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12345678&#123; &quot;server&quot;:&quot;0.0.0.0&quot;, &quot;server_port&quot;:10001, &quot;local_port&quot;:1080, &quot;password&quot;:&quot;xxx&quot;, &quot;timeout&quot;:600, &quot;method&quot;:&quot;bf-cfb&quot;&#125; éœ€è¦è¯´æ˜Žçš„æ˜¯æœ€å¥½é…ç½®ä¸€ä¸‹server_porté€‰é¡¹ï¼Œæ›´æ”¹shadowsocksçš„é»˜è®¤ç«¯å£å·ã€‚methodé€‰é¡¹ç”¨äºŽæŽ§åˆ¶åŠ å¯†æ–¹å¼ï¼Œæˆ‘è¿™é‡Œæ›´æ”¹ä¸ºäº†bf-cfbã€‚ æ‰§è¡Œnohup ssserver -c config.json &amp;å‘½ä»¤å³å¯å¯åŠ¨shadowsocksæœåŠ¡ã€‚ ç”±äºŽå¯¹å¤–å¢žåŠ äº†10001ç«¯å£å·ï¼Œawsçš„é»˜è®¤å®‰å…¨ç­–ç•¥ä¸ºä»…å¯¹å¤–æä¾›22ç«¯å£ï¼Œéœ€è¦åœ¨EC2ä¸»æœºçš„å®‰å…¨ç­–ç•¥ä¸­å¢žåŠ å¤–æ”¾è®¿é—®tcpç«¯å£10001çš„æƒé™ã€‚ è„šæœ¬ä¸ºäº†å®‰è£…æ–¹ä¾¿ï¼Œæˆ‘ç®€å•å†™äº†ä¸ªè„šæœ¬å¦‚ä¸‹ 12345678910111213141516yum -y install epel-release#yum update -yyum install python2-pip -ypip install shadowsocksmkdir ~/shadowsocksecho &apos;&#123; &quot;server&quot;:&quot;0.0.0.0&quot;, &quot;server_port&quot;:10001, &quot;local_port&quot;:1080, &quot;password&quot;:&quot;xxx&quot;, &quot;timeout&quot;:600, &quot;method&quot;:&quot;aes-256-cfb&quot;&#125;&apos; &gt; ~/shadowsocks/config.jsonsystemctl disable firewalld.servicesystemctl stop firewalld.servicenohup ssserver -c ~/shadowsocks/config.json &amp; åœ¨æŸäº›äº‘ä¸»æœºçš„CentOS7ç³»ç»Ÿå‘çŽ°æ— æ³•ä½¿ç”¨yum install python2-pipè¿›è¡Œå®‰è£…ï¼ŒåŽŸå› æ˜¯æœ‰äº›æºè¢«ç¦ç”¨äº†ï¼Œå¯ä»¥ä½¿ç”¨yum repolist disabledæ¥æŸ¥çœ‹è¢«ç¦ç”¨çš„æºï¼Œå…¶ä¸­ä¼šåŒ…å«epelæºã€‚å¯ä»¥ä½¿ç”¨yum install python2-pip -y --enablerepo=epelçš„æ–¹å¼æ¥å®‰è£…ã€‚ å®‰è£…shadowsockså®¢æˆ·ç«¯è¿™é‡Œæ˜¯æ”¯æŒçš„å®¢æˆ·ç«¯åˆ—è¡¨ï¼Œâ€‹æˆ‘è¿™é‡Œä»…ä½¿ç”¨çš„macå®¢æˆ·ç«¯ShadowsocksXï¼Œæ”¯æŒAuto Proxy Modeå’ŒGlobal Modeä¸¤ç§æ–¹å¼ï¼Œå…¶ä¸­Autoæ–¹å¼ä¼šè‡ªåŠ¨ä¸‹è½½ä½¿ç”¨sock5ä»£ç†çš„åˆ—è¡¨ï¼Œéžå¸¸æ–¹ä¾¿ã€‚ kcptunä¸ºäº†åŠ å¿«è®¿é—®é€Ÿåº¦ï¼ŒæŽ¨èä½¿ç”¨kcp + shadowsocks kcpçš„æœåŠ¡ç«¯é…ç½®å¦‚ä¸‹ï¼Œå³å¯ç”¨20001ç«¯å£ï¼Œè¯¥ç«¯å£ä¼šå°†æµé‡å¯¼å…¥åˆ°127.0.0.1:10001ç«¯å£ï¼Œå³æœ¬æœºçš„shadowsocksç«¯å£ 1234cd ~ &amp;&amp; mkdir kcptun &amp;&amp; cd kcptunwget https://github.com/xtaci/kcptun/releases/download/v20190109/kcptun-linux-amd64-20190109.tar.gztar zvxf kcptun-linux-amd64-20190109.tar.gznohup ./server_linux_amd64 -l :20001 -t 127.0.0.1:10001 -key xxx -mode fast2 --log ~/kcptun/20001.log &amp; é…ç½®äº†kcptunçš„shadowsockså®¢æˆ·ç«¯ä»…éœ€è¦é…ç½®ä»£ç†ä¸ºè¿œç¨‹çš„kcpdunç«¯å£å³å¯ï¼Œä¸å†éœ€è¦æŒ‡å®šshadowsocksçš„ç«¯å£ï¼Œç›¸å½“äºŽshadowsocksæ˜¯é€æ˜Žçš„ã€‚ ç›‘æŽ§ä¸ºäº†é¿å…awsäº§ç”Ÿé¢å¤–çš„è´¹ç”¨ï¼Œä¸€å®šè¦è®¾ç½®ä¸€ä¸‹è´¹ç”¨æŠ¥è­¦ï¼Œå¦åˆ™è¢«æ‰£è´¹äº†å°±éº»çƒ¦äº†ã€‚ å¦å¤–ï¼Œå¯å®šæœŸæŸ¥çœ‹ä¸‹awsçš„è´¹ç”¨ã€‚è¯•ç”¨æœŸä¸ºä¸€å¹´ï¼Œä¸€å¹´åŽä¸€å®šè¦è®°å¾—åœæŽ‰awsæœåŠ¡ã€‚ æœ€åŽï¼Œç¥ä½ çŽ©çš„æ„‰å¿«ï¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[2015å¹´å¹´ç»ˆæ€»ç»“]]></title>
      <url>%2Fpost%2F2015_summary%2F</url>
      <content type="text"><![CDATA[æŒ‰ç…§æƒ¯ä¾‹ï¼Œå¹´ç»ˆæ€»ç»“ä¾æ—§æ˜¯æŒ‰ç…§å†œåŽ†ç®—ï¼Œå†œåŽ†ä¹™æœªå¹´çš„å¹´ç»ˆæ€»ç»“ã€‚ 2015å¹´çš„å¤å¤©å¯¹æˆ‘è€Œè¨€æ˜¯ä¸ªè½¬æŠ˜ç‚¹ï¼Œç»ˆäºŽå®žçŽ°äº†æˆ‘å·¥ä½œä»¥æ¥ä¸€ç›´æƒ³åŒ—æ¼‚çš„æ¢¦æƒ³ï¼Œå—å¤Ÿäº†å„ç§æŸç¼šï¼Œå—å¤Ÿäº†å¸¦åŒäº‹çš„å„ç§æ— å¥ˆï¼Œå—å¤Ÿäº†è·ŸåŒäº‹æ²¡æœ‰è¯é¢˜çš„å·¥ä½œï¼Œå—å¤Ÿäº†å¤©å¤©é›¾éœ¾æ¯”åŒ—äº¬ä¸çŸ¥ä¸¥é‡å¤šå°‘å€å´æ²¡æœ‰ä¸€ç‚¹å£°éŸ³ï¼Œå—å¤Ÿäº†æ»¡åŸŽå¸‚æ‰¾ä¸åˆ°ä¸€å®¶äº’è”ç½‘å…¬å¸ï¼Œå—å¤Ÿäº†æ»¡åŸŽå¸‚æ‰¾ä¸åˆ°ä¸€ä¸ªæŠ€æœ¯ä¼šè®®ï¼Œå—å¤Ÿäº†äºŽä¸ºäº†å·¥ä½œè€Œå·¥ä½œçš„åŒäº‹ä»¬å…±äº‹ï¼Œå—å¤Ÿäº†å¤©å¤©å—åˆ°å®˜æœ¬ä½æ€æƒ³çš„ä¾µèš€ã€‚ ä¸ŠåŠå¹´åœ¨æµŽå—å·¥ä½œç”Ÿæ´»ï¼Œä¸‹åŠå¹´åœ¨åŒ—äº¬å·¥ä½œç”Ÿæ´»ã€‚ ä¼¼ä¹Žä¸€ç›´ä»¥æ¥æˆ‘çš„ä¸€äº›äººç”Ÿå¤§äº‹éƒ½æ˜¯åœ¨å¤å¤©å‘ç”Ÿçš„ã€‚ å·¥ä½œåœ¨æµŽå—çš„å·¥ä½œæ²¡ä»€ä¹ˆå¥½æ€»ç»“çš„ï¼Œæˆ‘å·²ç»åœ¨æµŽå—å·¥ä½œå¤šå¹´ï¼Œä¼¼ä¹Žä¹Ÿæ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ã€‚ ç”±äºŽäº’è”ç½‘å…¬å¸å’Œä¼ ç»Ÿè¡Œä¸šè½¯ä»¶å…¬å¸å­˜åœ¨è¾ƒå¤§çš„å·®å¼‚ï¼Œæ¥åˆ°ä¸€ç‚¹èµ„è®¯åŽå¤§çº¦é€‚åº”äº†ä¸¤ä¸ªæœˆæ‰å®Œå…¨é€‚åº”ã€‚åˆ°çŽ°åœ¨ï¼Œè®©æˆ‘å›žæƒ³ä¹‹å‰çš„å·¥ä½œçŠ¶æ€ï¼Œæ„Ÿè§‰å¥½é™Œç”Ÿï¼Œå¥½é¥è¿œã€‚ æˆ‘çš„å²—ä½ä¸ºè¿ç»´å¼€å‘ï¼Œå«åšåŸºç¡€å¹³å°çš„ç ”å‘æ›´åˆé€‚äº›ã€‚ç”±äºŽä¹‹å‰æ²¡æœ‰è¿ç»´æ–¹é¢çš„å·¥ä½œç»éªŒï¼Œå¯¹è¿ç»´å¼€å‘è¿™æ ·çš„èŒä½æ²¡æœ‰æ¸…æ™°çš„è®¤è¯†ã€‚å¯¹è¿ç»´çš„éœ€æ±‚ä¹Ÿæ˜¯åœ¨å·¥ä½œä¸­é€æ­¥åŽ»æ‘¸ç´¢çš„ã€‚ ä¹‹å‰åœ¨æµŽå—å·¥ä½œçš„æ—¶å€™ï¼Œç”±äºŽä»Žäº‹çš„æ˜¯ä¼ ç»Ÿè½¯ä»¶è¡Œä¸šï¼Œå¯¹æŠ€æœ¯çš„ä½¿ç”¨æ¯”è¾ƒä¿å®ˆï¼Œå…¬å¸ä¸­å¾ˆå°‘ä¼šé‡‡ç”¨å¾ˆæ–°çš„æŠ€æœ¯ï¼Œæ¯”å¦‚stormã€kafkaç­‰ã€‚å¾ˆå¤šè¡Œä¸šæˆ‘ä¸ªäººåˆ©ç”¨ä¸šä½™æ—¶é—´å€’æ˜¯å­¦ä¹ äº†å¾ˆå¤šäº’è”ç½‘ä¸­ä¼šç”¨åˆ°çš„æŠ€æœ¯ï¼Œä½†æ˜¯ç”±äºŽç¼ºä¹å®žè·µæœºä¼šï¼Œæ—¶é—´ä¸€é•¿å°±å¿˜è®°äº†ã€‚ å¦å¤–ç”±äºŽå¤„ç†ä¸šåŠ¡ç±»åž‹ä¸åŒï¼Œä½¿ç”¨çš„æŠ€æœ¯å¾€å¾€ä¹Ÿä¸ä¸€æ ·ã€‚æ¯”å¦‚haproxyè¿™ç§åå‘ä»£ç†è½¯ä»¶åœ¨éžäº’è”ç½‘è¡Œä¸šä¸­å…¶å®žç”¨åˆ°æ¯”è¾ƒå°‘ï¼Œå› ä¸ºéžäº’è”ç½‘è¡Œä¸šé¢å‘çš„ç¾¤ä½“å¾€å¾€æ˜¯æ”¿åºœå’Œä¼ä¸šç±»çš„ï¼Œä¸æ˜¯ä½¿ç”¨äº’è”ç½‘çš„å¹¿å¤§ç”¨æˆ·ç¾¤ä½“ï¼Œå› æ­¤åå‘ä»£ç†è½¯ä»¶å¾ˆå°‘æœ‰æ°¸æ— ä¹‹åœ°ã€‚æˆ‘ä¹‹å‰å¾…è¿‡çš„å‡ å®¶æœ‰äº›æŠ€æœ¯èƒŒæ™¯çš„éžäº’è”ç½‘å…¬å¸å¾€å¾€ä¼šè‡ªå·±å¼€å‘ä¸€äº›é€‚åˆå…¬å¸è‡ªå·±ä¸šåŠ¡çš„ç±»åº“æˆ–è€…æŠ€æœ¯æž¶æž„ï¼Œå¾ˆå¤šæŠ€æœ¯å«é‡ä¹Ÿæ˜¯è›®é«˜çš„ï¼Œåªæ˜¯ä¸ä¸ºå¤–ç•Œæ‰€çŸ¥ï¼Œç»„ä»¶æ— æ³•å…¬ç”¨ï¼Œæ›´æ²¡æœ‰å¼€æºçš„ã€‚ å½“ç„¶äº†ï¼Œéšç€äº’è”ç½‘è¡Œä¸šçš„å‘å±•ï¼Œä¼ ç»Ÿçš„è½¯ä»¶ä¼ä¸šæ‰€ä½¿ç”¨çš„æŠ€æœ¯ä¹Ÿåœ¨æ›´æ–°ï¼Œä¹Ÿåœ¨é‡‡ç”¨äº’è”ç½‘ä¼ä¸šä½¿ç”¨çš„æŠ€æœ¯ã€‚ å› æ­¤ï¼Œæ¥åˆ°äº†äº’è”ç½‘è¡Œä¸šå¯¹æˆ‘è€Œè¨€æœ€é‡è¦çš„å°±æ˜¯æŽŒæ¡äº’è”ç½‘è¡Œä¸šä¸­ä¼šç”¨åˆ°çš„æŠ€æœ¯ï¼Œé™¤äº†å·¥ä½œè¿‡ç¨‹ä¸­ä¼šä½¿ç”¨ä¸€äº›æ–°æŠ€æœ¯ä¹‹å¤–ï¼Œæ™šä¸Šä¸‹ç­ä¹‹åŽä¹Ÿä¼šå°†æ—¶é—´å……åˆ†åˆ©ç”¨ä¸Šï¼Œå­¦ä¹ ä¸€äº›å·¥ä½œä¸­ä¼šç”¨åˆ°çš„æŠ€æœ¯ã€‚ç”±äºŽè¦å­¦çš„æŠ€æœ¯å®žåœ¨å¤ªå¤šäº†ï¼Œè‡³äºŽå…ˆå­¦ä»€ä¹ˆåŽå­¦ä»€ä¹ˆï¼Œæˆ‘é‡‡å–äº†â€œç”¨åˆ°ä»€ä¹ˆå°±å­¦ä»€ä¹ˆï¼Œå¹¿æ’’ç½‘ï¼ŒåŽæ·±å…¥â€çš„åŽŸåˆ™ï¼Œè¿™æ ·æ—¢èƒ½è¾¾åˆ°ä¸å¤ªå½±å“å·¥ä½œï¼Œåˆå¯ä»¥è¾¾åˆ°ä¸€å®šå¹¿åº¦ï¼Œç­‰åˆ°å¹¿åº¦å¤Ÿäº†å†æ·±å…¥äº†è§£å„ä¸ªæŠ€æœ¯ã€‚ ç”±äºŽè‡ªå·±çš„å„ç§é—®é¢˜ï¼Œä¹Ÿé€ æˆè¿‡å‡ æ¬¡ç³»ç»Ÿçš„çº¿ä¸Šçš„æ•…éšœï¼Œé è°±ç¨‹åº¦è¿˜æœ‰å¾…æé«˜ã€‚ åœ¨æµŽå—çš„çŽ¯å¢ƒä¸‹ä»Žæ¥æ²¡æœ‰è§è¿‡@ç¦æ³¢å’Œ@å‡¯è£ä¸ºäº†å·¥ä½œè¿™èˆ¬æ‹¼å¾—çš„åŒäº‹ï¼Œè™½ç„¶ä»–ä»¬è¿™ç§æ‹¼å¾—æ–¹å¼æˆ‘å­¦ä¸æ¥ï¼Œä½†è‡³å°‘è¦ä»Žç²¾ç¥žä¸Šæ‹¼ä¸€ä¸‹ã€‚ å·¥ä½œçš„åŽŸå› ï¼Œæ­£åœ¨ä½¿ç”¨çš„ç¼–ç¨‹ä¹Ÿå˜å¾—æ›´å¤šï¼Œå·¥ä½œä¸­ä¼šç”¨åˆ°C++ã€Javaã€Pythonã€Golangã€å‰ç«¯æŠ€æœ¯ç­‰ï¼Œä¸åŒçš„è¯­è¨€ä½¿ç”¨äºŽä¸åŒçš„åœºæ™¯ä¸‹ã€‚ å·¥ä½œä¸Šå¹¶æ²¡æœ‰å¤ªå¤§çš„æˆå°±ï¼Œä¸»è¦æ˜¯å› ä¸ºéœ€è¦å­¦ä¹ çš„ä¸œè¥¿å¤ªå¤šï¼Œéœ€éœ€è¦äº†è§£ï¼Œå„ç§æŠ€æœ¯éœ€è¦å­¦ä¹ ï¼Œä¸€äº›å¼€æºçš„å¤§æ•°æ®å¤„ç†æŠ€æœ¯å’Œå­˜åœ¨çš„å‘ä¹Ÿéœ€è¦å­¦ä¹ ã€‚ç›¸ä¿¡éšç€å­¦ä¹ çš„ä¸æ–­æ·±å…¥ï¼Œ2016å¹´å·¥ä½œèƒ½å°æœ‰æˆå°±ã€‚ å­¦ä¹ ç”±äºŽæˆ‘å­¦ä¹ æ–°çŸ¥è¯†å¾ˆå¤šæ—¶å€™è¿˜æ˜¯çœ‹æŠ€æœ¯ç±»çš„ä¹¦ç±ï¼Œæ¯”è¾ƒå–œæ¬¢ç³»ç»Ÿä¸€ç‚¹çš„å­¦ä¹ ï¼Œçº¸è´¨ä¹¦æ˜¯æˆ‘çš„æœ€çˆ±ã€‚ä»Šå¹´ä¹°è¿‡ä¸å°‘çš„æŠ€æœ¯ä¹¦ç±ï¼Œç‰¹åˆ«æ˜¯ä¸‹åŠå¹´ä»¥æ¥ï¼Œè‡³å°‘æœ‰20æœ¬æŠ€æœ¯ä¹¦çš„æ ·å­ã€‚ä¹‹å‰éƒ½ä¼šç³»ç»Ÿçš„è®²ä¹¦ç±çœ‹å®Œï¼Œä¸‹åŠå¹´ä¹°çš„æŠ€æœ¯ä¹¦ç±åŸºæœ¬éƒ½æ˜¯çœ‹ä¸Šä¸€åŠæˆ–æ‰¾ä¸ªæŠ€æœ¯é‡ç‚¹å°±æ‰”åˆ°ä¸€è¾¹åŽ»äº†ã€‚ä¸»è¦æ˜¯å› ä¸ºæ²¡æœ‰äº†è¶³å¤Ÿçš„æ—¶é—´æ¥ç³»ç»Ÿçš„å­¦ä¹ æ•´æœ¬ä¹¦çš„å†…å®¹ï¼Œæ›´å¤šçš„æ—¶å€™æ˜¯å¯¹ç—‡ä¸‹è¯è€Œå·²ã€‚ å­¦ä¹ çš„æ–¹å‘ä¸Šé€æ¸è½¬ä¸ºåŠ¡å®žï¼Œä¸ºå·¥ä½œæ‰€ç”¨ï¼Œè§£å†³å·¥ä½œä¹‹æ‰€éœ€ï¼Œä¸åƒä¹‹å‰å­¦çš„å¾ˆå¤šä¸œè¥¿éƒ½æ˜¯çº¸ä¸Šè°ˆå…µï¼Œç¼ºå°‘å®žè·µçš„æœºä¼šã€‚ ç”Ÿæ´»ä¸ŠåŠå¹´ç”Ÿæ´»åœ¨æµŽå—ï¼Œä¸‹åŠå¹´ç”Ÿæ´»åœ¨åŒ—äº¬ã€‚ åœ¨æµŽå—çš„ç”Ÿæ´»ç›¸å¯¹æƒ¬æ„ï¼ŒåŠ ç­ç›¸å¯¹å°‘äº›ï¼Œè™½ç„¶æ˜¯å•åŒå‘¨è½®ä¼‘çš„ç”Ÿæ´»ï¼Œä½†å‘¨æœ«ä»ç„¶æ˜¯æœ‰æ—¶é—´å‡ºåŽ»è½¬è½¬çš„ã€‚ æ¥åŒ—äº¬åŽï¼Œå¾ˆå¤šæ—¶å€™å˜æˆäº†å·¥ä½œåœ¨åŒ—äº¬ï¼Œå‘¨æœ«å›žæµŽå—çš„ç”Ÿæ´»ï¼Œæœ‰æ—¶å€™ä¸¤å‘¨å›žåŽ»ä¸€æ¬¡ï¼Œæœ‰æ—¶å€™ä¸€å‘¨å›žåŽ»ä¸€æ¬¡ï¼Œä¸€èˆ¬å‘¨ä¸€æ—©ä¸Šåæœ€æ—©çš„é«˜é“å›žåŒ—äº¬ã€‚è¿™æ ·çš„ç”Ÿæ´»ç›¸å¯¹å•è°ƒï¼Œä¹Ÿç¡®å®žéžå¸¸è¾›è‹¦ï¼ŒåŸºæœ¬è¢«å·¥ä½œå’Œå­¦ä¹ å åŽ»äº†ç»å¤§å¤šæ•°æ—¶é—´ï¼Œå‰©ä¸‹çš„æ—¶é—´éžå¸¸æœ‰é™ã€‚å¯ä»¥è¯´å·¥ä½œå°±æ˜¯æˆ‘çš„ç”Ÿæ´»ï¼Œæˆ‘çš„ç”Ÿæ´»å°±æ˜¯å·¥ä½œã€‚ ç”±äºŽå¾ˆå¤šæ—¶é—´éƒ½æ˜¯è¿œç¦»å®¶çš„ï¼Œè‡ªå·±ä¸ºå®¶åº­ä»˜å‡ºçš„ç¡®å®žéžå¸¸å°‘ï¼Œè¿™ç‚¹æ·±è¡¨é—æ†¾ã€‚ è¿åŠ¨ä¹‹å‰ä¸Šç­çš„æ—¶å€™æ¯å¤©å¯ä»¥éª‘ä¸€ä¸ªå¤šå°æ—¶çš„è‡ªè¡Œè½¦æ¥è¿åŠ¨ï¼Œè€Œä¸”å¡åº¦ä¹Ÿæ¯”è¾ƒå¤§ã€‚åŽæ¥ï¼Œè¿åŠ¨å¯¹æˆ‘è€Œè¨€å°±ç›¸å½“åŒ®ä¹äº†ï¼Œæ²¡æœ‰æ´»åŠ¨çš„æ¬¡æ•°éƒ½éžå¸¸æœ‰é™ï¼Œè¿åŠ¨è¿™ä¸€ç‚¹åšçš„ç›¸å½“ä¸å¥½ã€‚ ä»Šå¹´ä»Žå¤å¤©å¼€å§‹å­¦ä¹ æ¸¸æ³³ï¼Œç»ˆäºŽå°†æ¸¸æ³³å­¦ä¼šäº†ï¼Œè€Œä¸”æ¸¸æ³³çš„æ¬¡æ•°ä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œè™½ç„¶ä»…ä»…ç†Ÿç»ƒçš„æ˜¯è›™æ³³ã€‚å…¬å¸æ¯å‘¨ä¸‰ä¸‹åˆæœ‰ä¸ªæ´»åŠ¨æ—¶é—´ï¼Œæœ‰ä¸€æ®µæ—¶é—´æ¯å‘¨ä¸‰ä¸‹åˆéƒ½ä¼šåŽ»æ¸¸æ³³çš„ï¼Œæ­£å¥½æ­¤æ—¶å­¦ä¼šäº†æ¸¸æ³³ã€‚ å¶ç„¶çš„ä¸€æ¬¡æœºä¼šï¼ŒåŒå­¦é‚€è¯·æ‰“äº†ä¸€æ¬¡å°çƒï¼Œç«Ÿå¯¹å°çƒæ„Ÿå…´è¶£èµ·æ¥ã€‚ åŒ—äº¬å¯¹æˆ‘è€Œè¨€è¿˜æ˜¯ä¸ªé™Œç”Ÿçš„åœ°æ–¹ï¼Œå¶å°”å‘¨æœ«æœ‰æ—¶é—´ï¼Œä¼šåŽ»ä¸€äº›åœ°æ–¹è½¬è½¬ã€‚ å¥åº·ä»Šå¹´ä¸‹åŠå¹´å¼€å§‹ï¼ŒèŒä¸šç—‡çŠ¶é€æ¸æ˜Žæ˜¾ï¼Œæ¯å¤©åå¾—æ—¶é—´ä¸€é•¿ï¼Œè…°ç–¼å°±æ¥äº†ï¼Œè€Œä¸”æœ‰æ„ˆæ¼”æ„ˆçƒˆä¹‹åŠ¿ã€‚åŽæ¥å°è¯•äº†ç«™ç€åŠžå…¬ï¼Œæœ¬æ¥ä»¥ä¸ºæ¯å¤©åªè¦ç«™ç€åŠžå…¬è…°ç–¼å°±ä¸è¦ç´§äº†ï¼Œè¯•éªŒåŽæ‰å‘çŽ°ç«™ä¹…äº†ä¹Ÿæ˜¯ä¼šè…°ç–¼çš„ã€‚ç›®å‰æ¯å¤©åŸºæœ¬éƒ½æ˜¯ç«™ç€åŠžå…¬äº†ï¼Œåªæœ‰ç«™ç´¯äº†çš„æƒ…å†µä¸‹æ‰ä¼šåä¸‹æ¥åŠžå…¬ã€‚ æ¥åˆ°åŒ—äº¬åŽç¡çš„åºŠåž«ä¸æ˜¯å¤ªèˆ’æœï¼ŒåŽæ¥å¹²è„†æ›´æ”¹ä¸ºäº†ç¡ç¡¬æ¿åºŠï¼Œæ—©ä¸Šèµ·æ¥åŽç¡®å®žèƒ½æ˜Žæ˜¾æ„Ÿè§‰åˆ°ç¡ç¡¬æ¿åºŠè½»æ¾çš„å¤šã€‚ é¢ˆæ¤Žä¹Ÿä¸æ˜¯å¤ªå¥½ï¼Œè™½ç„¶æ„Ÿè§‰åˆ°æ—¶å€™æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œä½†è‡³å°‘æ²¡æœ‰é‚£ä¹ˆå¥åº·äº†ã€‚ åšæŒ‰æ‘©çš„æ—¶å€™æ‰å‘çŽ°è‡ªå·±çš„è…°è‚ŒåŠ³æŸæŒºä¸¥é‡äº†ï¼Œä¹Ÿè®¸æ˜¯æŒ‰æ‘©å¸ˆæ•…æ„è¯´çš„ä¸¥é‡ï¼Œè‡³å°‘æŒ‰æ‘©æ—¶ç–¼çš„æˆ‘ç›´å«ï¼Œä¹Ÿèƒ½æ„Ÿè§‰åˆ°æŒ‰æ‘©æ—¶è…°éƒ¨çš„è‚Œè‚‰ç¡¬å—ã€‚å¬åˆ°æŒ‰æ‘©å¸ˆçš„ä¸€å¥è¯æŒºä¼¤æ„Ÿçš„ï¼Œã€Žä½ ä¸ºäº†å·¥ä½œä¹Ÿæ˜¯å¤Ÿæ‹¼çš„ï¼ŒæŠŠè…°ä¼¤æˆè¿™æ ·ã€ã€‚ æ±½è½¦ä¸€å‘æ¯”è¾ƒæŽ’æ–¥æ±½è½¦çš„æˆ‘ä¹Ÿåœ¨ä»Šå¹´çš„ä¸‰æœˆä»½æ‹¿åˆ°äº†é©¾ç…§ï¼Œå¹¶ä¸”ä¸€åº¦äº§ç”Ÿäº†å¹´åº•è´­ä¹°æ±½è½¦çš„æƒ³æ³•ï¼Œæ›¾ç»ä¹Ÿæ˜¯ç—´è¿·è¿‡ä¸€æ®µæ—¶é—´çš„æ±½è½¦èŠ‚ç›®ï¼Œåœ¨åšé¥­å’Œéª‘ç€è‡ªè¡Œè½¦åŽ»ä¸Šç­çš„è·¯ä¸Šå¬æ±½è½¦å¹¿æ’­ï¼Œå¯¹å¸¸è§çš„è½¦åž‹éƒ½æœ‰æ‰€äº†è§£ï¼Œè¿˜åŽ»è¿‡æ˜¥å­£è½¦å±•ï¼Œè¿›è¿‡4Såº—ï¼Œè‡ªå·±å¯¹è½¦çš„äº†è§£ä¹Ÿæ˜¯ä¸Žæ—¥ä¿±å¢žã€‚æ›¾ç»æƒ³è¿‡ç›®æ ‡è½¦åž‹ä¸ºæ ‡è‡´2008ï¼ŒåŽæ¥æ›´æ¢ä¸ºé©¬å…­ï¼ŒåŽæ¥æ›´æ¢ä¸ºæ˜‚ç§‘å¡žæ‹‰ã€‚æ›¾ç»ç—´è¿·åˆ°åœ¨é©¬è·¯ä¸Šè§åˆ°ä¸è®¤è¯†çš„è½¦åž‹å°±æ‰“å¼€æ±½è½¦ä¹‹å®¶çš„appæ¥æŸ¥çœ‹è¯¦æƒ…çš„åœ°æ­¥ã€‚ ä½†åŽæ¥æ¥åŒ—äº¬å·¥ä½œåŽï¼Œä¹‹å‰åšé¥­å’Œéª‘è‡ªè¡Œè½¦ä¸Šç­çš„æ—¶å…‰éƒ½å˜æˆäº†åœ¨å…¬å¸ä¸Šç­ï¼Œä¹Ÿå°±æ²¡æœ‰äº†æ—¶é—´æ¥å¬æ±½è½¦å¹¿æ’­ï¼Œæ¸æ¸çš„å¯¹æ±½è½¦çš„å…´è¶£åœ¨é€æ¸ä¸‹é™ï¼Œç›´åˆ°çŽ°åœ¨å†ä¹Ÿä¸å…³æ³¨ä»»ä½•å’Œæ±½è½¦ç›¸å…³çš„ä¿¡æ¯ã€‚ é€šè¿‡æ­¤æ¥çœ‹ï¼Œå…´è¶£æ˜¯å¯ä»¥åŸ¹å…»çš„ï¼Œä½†åŸ¹å…»èµ·æ¥çš„å…´è¶£ï¼Œä¸€æ—¦æ”¾ä¸‹äº†ï¼Œå…´è¶£å°±ä¼šé€æ¸æ·¡æŽ‰ï¼Œç›´åˆ°æ¢å¤åˆ°æœ€åˆçš„çŠ¶æ€ã€‚ æ—…æ¸¸è¯´æ¥æƒ­æ„§ï¼Œ2015å¹´æ²¡æœ‰ä»»ä½•çš„æ—…è¡Œè®¡åˆ’ã€‚æˆ‘å”¯ä¸€çš„ä¸€æ¬¡æ—…è¡Œæ˜¯å…¬å¸æ ¡å›­æ‹›è˜æ—¶åœ¨å“ˆå°”æ»¨ç¨å¾®è½¬äº†ä¸‹ã€‚æ›¾å¤šå°‘æ¬¡å®¶äººå»ºè®®å‡ºåŽ»æ—…è¡Œï¼Œéƒ½è¢«æˆ‘å¦å†³äº†ã€‚ç†ç”±è¦ä¹ˆæ˜¯ä¸æ„¿è·Ÿå›¢ï¼Œè¦ä¹ˆæ—¶é—´ä¸å¤Ÿï¼Œè¦ä¹ˆè‡ªå·±ä¸æ„¿åŽ»ï¼Œè¦ä¹ˆè€ƒè™‘é’±çš„é—®é¢˜ã€‚ æ¸¸æˆæœ€è¿‘å‡ å¹´æ¯åˆ°å‘¨æœ«æ˜¯å¿…ç„¶ä¼šæ™šä¸Šå‡ ç›˜dotaçš„ï¼Œä¸»è¦æ˜¯ç”¨æ¥æ”¾æ¾ï¼Œå¦å¤–ä¹Ÿæœ‰ç‚¹çŽ©æ¸¸æˆçš„ç˜¾ã€‚æˆ‘ä¹‹æ‰€ä»¥ä¸€ç›´æ²¡æœ‰æˆ’æŽ‰çŽ©æ¸¸æˆï¼Œæ˜¯å› ä¸ºæˆ‘å¿ƒé‡Œæ¸…æ¥šåˆ°äº†ä¸€å®šçš„å¹´é¾„æ®µå¯¹dotaè‡ªç„¶ä¸å°±æ„Ÿå…´è¶£äº†ã€‚åªæ˜¯æ²¡æƒ³åˆ°æ¥çš„è¿™ä¹ˆå¿«ï¼Œè¿‘å‡ ä¸ªæœˆå¯¹æ¸¸æˆçŽ©çš„è¶Šæ¥è¶Šå°‘ï¼Œæœ‰æ—¶å€™ä¸€å‘¨éƒ½ä¸ä¼šæ™šä¸Šä¸€æ¬¡äº†ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰ç‰¹åˆ«æƒ³çŽ©çš„å†²åŠ¨äº†ã€‚ ä¹Ÿè®¸æ˜¯å› ä¸ºçŽ©æ¸¸æˆéœ€è¦ä¹…åï¼Œè€Œä¹…åå®¹æ˜“è…°ç—›ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºæˆ‘çŽ°åœ¨å·²ç»è¾¾åˆ°äº†ç‰¹å®šçš„å¹´é¾„æ®µï¼Œæ€»ä¹‹ï¼Œéƒ½åœ¨è¯´æ˜Žï¼Œæˆ‘åœ¨å˜è€ï¼Œç²¾åŠ›ç¡®å®žæ²¡æœ‰ä¹‹å‰æ—ºç››äº†ã€‚ å±•æœ› æ·±å…¥å­¦ä¹ å„ç§æŠ€æœ¯ï¼ŒæŠ€æœ¯æ›´ä¸Šå¤šå±‚æ¥¼ã€‚ è‡³å°‘è¦æ—…è¡Œä¸€æ¬¡ï¼ŒæœŸæœ›çš„ç›®çš„åœ°æ˜¯æ—¥æœ¬æˆ–éŸ©å›½ï¼Œå¦‚æžœå®žåœ¨ä¸è¡Œå°±å›½å†…ã€‚ æœŸæœ›èƒ½å­¦ä¼šè‡ªç”±æ³³ï¼Œè¶æ³³ä¼°è®¡æ²¡æˆã€‚ å¤šåŠ å¼ºå°çƒçš„ç»ƒä¹ ã€‚ ç†Ÿæ‚‰ä¸‹åŒ—äº¬ï¼Œå¤šè½¬è½¬åŒ—äº¬ï¼ŒåŽ»è¿‡çš„åœ°æ–¹è¿˜éžå¸¸éžå¸¸çš„å°‘ã€‚ å¦‚æžœæœ‰æ—¶é—´çš„è¯ï¼Œå¤šå­¦ä¸€äº›é”»ç‚¼æ™ºåŠ›çš„æ¸¸æˆï¼Œæ¯”å¦‚é­”æ–¹ã€‚ å·¥ä½œä¸­æé«˜äº›æ•ˆçŽ‡ï¼Œå¤šä¸€äº›ç”Ÿæ´»ã€‚ å¤šè¯»è‹±æ–‡æŠ€æœ¯æ–‡æ¡£ã€‚ å¤šå‚åŠ ä¸€äº›æŠ€æœ¯äº¤æµæ´»åŠ¨æˆ–å…¶ä»–æ´»åŠ¨ã€‚ â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ã€Žç‹—ã€çš„æ•…äº‹]]></title>
      <url>%2Fpost%2Fmydog%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡è®²è¿°çš„æ˜¯æˆ‘å®¶ç‹—çš„æ™®é€šä¸€ç”Ÿï¼Œæˆ‘å®¶çš„ç‹—å³æ²¡æœ‰åè´µçš„ç§æ—ï¼Œä¹Ÿæ²¡æœ‰å–œäººçš„å¤–è²Œï¼Œå°±æ˜¯å†œæ‘å®¶ä¸­æœ€å¸¸è§çš„çœ‹å®¶ç‹—ã€‚ ç‹—çš„ä¸€ç”Ÿä¸­è¿žä¸ªæ­£å„¿å…«ç»çš„åå­—éƒ½æ²¡æœ‰ï¼Œçˆ¶æ¯å¹³æ—¥é‡Œå‘¼å”¤ç‹—éƒ½æ˜¯æˆ‘ä»¬é‚£æ–¹è¨€ä¸­é€šç”¨çš„ã€Žå—·ï¼ˆä¸€å£°ï¼‰å—·(ä¸‰å£°)å—·ï¼ˆä¸€å£°ï¼‰ã€ï¼ˆæˆ‘ä»¬é‚£æ–¹è¨€å¯¹å®¶é‡Œçš„ç‰²å£éƒ½æœ‰ä¸€ç§ç‰¹æ®Šçš„å‘¼å”¤æ–¹å¼ï¼‰ï¼Œè€Œæˆ‘é€šå¸¸ä¼šé€šè¿‡èˆŒå¤´è·Ÿä¸Šé¢šå‘å‡ºçš„å£°éŸ³æ¥å‘¼å”¤ã€‚ä»¥è‡³äºŽåœ¨å†™æœ¬æ–‡æ—¶ï¼Œæˆ‘ä¸çŸ¥é“è¯¥å¦‚ä½•ç§°å‘¼äº†ï¼Œåªèƒ½çº¦å®šä¿—æˆä¸ºã€Žç‹—ã€ã€‚ ã€Žç‹—ã€åœ¨å®¶ä¸­çš„ä½œç”¨ä¸ºçœ‹å®¶æŠ¤é™¢çš„ä½œç”¨ï¼Œåœ¨æ‘ä¸­å…»ç‹—çš„ç›®çš„å¤§æŠµå¦‚æ­¤ï¼Œç‹—çš„ä½œç”¨ä¹Ÿä»…ä»…æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ä¸€æ¡ç‹—ã€‚æ‘æ°‘ä»¬è¿˜æ²¡æœ‰æ¸…é—²åˆ°é å…»ç‹—æ¥å¨±ä¹çš„åœ°æ­¥ï¼Œä½•å†µé‚»é‡Œé‚»å¤–çš„éƒ½è®¤è¯†ï¼Œéšä¾¿æ‰¾ä¸ªäººéƒ½èƒ½èŠä¸Šä¸ªæŠŠå°æ—¶ï¼Œé æ‹‰å‘±èŠå¤©æ¥å¨±ä¹æ¯”é›ç‹—æ›´ä¸°å¯Œç›´æŽ¥ã€‚ è‡ªæ‰“æˆ‘è®°äº‹èµ·ï¼Œå®¶é‡Œå…±å…»è¿‡ä¸‰åªç‹—ï¼Œç¬¬ä¸€åªå…»äº†è‡³å°‘äº”å¹´çš„æ ·å­ï¼Œæœ€ç»ˆå·²ç»è®°ä¸æ¸…æ¥šä¸ºä½•è€Œå¤±åŽ»äº†ï¼Œæˆ–æ˜¯å› ä¸ºå‡ºåŽ»èµ°ä¸¢äº†ï¼Œäº¦æˆ–æ˜¯å› ä¸ºè¯¯é£Ÿäº†ä¸œè¥¿è€Œæ­»åŽ»ã€‚ç¬¬ä¸‰åªç‹—æ˜¯åªæœ‰ç§æ—çš„ç‹—ï¼Œä»…ä»…æ˜¯ä¸­é—´çš„è¿‡å®¢ï¼Œç¡®å®žå®¶äººçš„æœ€çˆ±ï¼Œæœ‰ä¸ªä¼˜é›…çš„åå­—ã€Žç‚¹ç‚¹ã€ï¼Œä»…æ­¤ä¸€ç‚¹å°±èƒ½å°†æ­¤ã€Žç‹—ã€ç§’æ€Næ¡è¡—ï¼Œäº‹å®žä¹Ÿæ˜¯å¦‚æ­¤ã€‚ å®¶ä¸­ä¹Ÿå…»è¿‡ä¸€äº›å…¶ä»–çš„åŠ¨ç‰©ï¼ŒçŒªã€çŒ«ã€é¸¡ç­‰ã€‚çŒªç­‰åˆ°é•¿è‚¥äº†ä¹Ÿå°±å–æŽ‰äº†ï¼Œä¹Ÿå°±å››äº”ä¸ªæœˆçš„æ ·å­ã€‚å°æ—¶å€™å®¶é‡Œå…»è¿‡æ¯çŒªï¼Œä¼°è®¡ä¹Ÿå¾—æœ‰ä¸ªäº”å¹´ä»¥ä¸Šï¼Œä½†æ¯çŒªé™¤äº†åƒå’Œç¡ä¹‹å¤–ï¼Œä¼¼ä¹Žä¹Ÿæ²¡å•¥äº†ã€‚çŒ«å…»è¿‡å¤šåªï¼Œç¡®å®žè·Ÿæœ‰äº›çŒ«æ˜¯æœ‰æ„Ÿæƒ…çš„ï¼Œä½†å¤§éƒ½æ¯”è¾ƒçŸ­æš‚ï¼ŒçŒ«ç»å¸¸è·‘å‡ºåŽ»å°±å›žä¸æ¥äº†ã€‚æœ‰äº›é¸¡åœ¨å®¶é‡Œä¹Ÿå…»è¿‡å››äº”å¹´ï¼Œä½†é¸¡ç»™æˆ‘ç•™ä¸‹çš„å°è±¡ä¸­é™¤äº†åƒå’Œä¸‹è›‹ä¹‹å¤–ï¼Œå°±å‰©ä¸‹ç¾Žå‘³çš„é¸¡æ±¤äº†ã€‚å”¯ç‹¬ã€Žç‹—ã€åœ¨å®¶ä¸­çš„æ—¶é—´æœ€é•¿ï¼Œåœ¨å®¶ä¸­çš„åœ°ä½ä¹Ÿæœ€é«˜ï¼Œç»™å®¶é‡Œçš„è´¡çŒ®ä¹Ÿæ˜¯æœ€å¤§çš„ï¼Œç»™æˆ‘ç•™ä¸‹çš„å°è±¡ä¹Ÿæ˜¯é¢‡ä¸ºæ·±åˆ»ã€‚ ã€Žç‹—ã€å¤§æ¦‚æ˜¯æˆ‘åœ¨åˆšä¸Šåˆä¸­é‚£ä¼šï¼Œçˆ¶äº²ä»Žé›†å¸‚ä¸ŠèŠ±äº†15æˆ–è€…30å…ƒé’±æŠ‘æˆ–60å…ƒä¹°çš„ã€‚åˆšä¹°æ¥çš„æ—¶å€™è®°å¾—è¿˜ä¸æ»¡æœˆçš„æ ·å­ï¼Œç‰¹åˆ«çš„å¯çˆ±ï¼Œç™½ç°è‰²æ¯›å±…å¤šï¼ŒèƒŒä¸Šæœ‰ä¸ªå¤§å¤§çš„ç°é»‘è‰²å¤§åœ†ç‚¹ï¼Œä¸æ­£ä¸æ–œåœ†å¿ƒå°±åœ¨è„Šæ¢éª¨çš„ä½ç½®ï¼Œè€Œä¸”åœ†æ˜¯éžå¸¸çš„æ ‡å‡†çš„åœ†ï¼Œå¤´å’Œå°¾å·´æ˜¯é»„è‰²çš„æ¯›ã€‚ç”±äºŽå°ï¼Œä¸ä¼šé€ æˆä»€ä¹ˆç ´åï¼Œå°±ç›´æŽ¥æ”¾åœ¨å±‹å­æ€»å¤©å¤©è·‘ï¼Œæˆ‘ä»¬åƒé¥­æ—¶ï¼Œå®ƒå°±åœ¨ä¸‹é¢è½¬å•Šè½¬ï¼Œç­‰å¾…ç€ç»™ç‚¹é¦’å¤´æˆ–è€…èœæ¥åƒï¼Œä¸€è§åˆ°æœ‰ä¸œè¥¿åƒï¼Œé‚£å°¾å·´å°±æ‘‡å•Šæ‘‡ï¼Œæ‘‡å•Šæ‘‡ã€‚æœ‰æ—¶å€™åœ¨å±‹å­é‡Œç¢äº‹äº†ï¼Œæˆ‘å°±ç”¨æ‰‹æªä½å®ƒèƒŒä¸Šçš„è‚‰çš®ï¼Œæ‰”åˆ°ä¸€è¾¹åŽ»ï¼Œä¸ä¸€ä¼šåˆä¼šå›žæ¥ï¼Œç„¶åŽåˆè®©æˆ‘ç»™æªåˆ°ä¸€è¾¹åŽ»ï¼Œè¿™æ ·æªæ¥æªåŽ»çš„å¥½å¥½çŽ©ï¼Œå¬å¤§äººä»¬è¯´ï¼Œè¿™æ ·ç‹—æ˜¯ä¸ç–¼çš„ã€‚ æªç€æªç€ã€Žç‹—ã€å°±è¿™æ ·è¢«æˆ‘æªå¤§äº†ï¼Œå¤§äº†ä¹‹åŽè‡ªç„¶è¦å‘æŒ¥æŒ‡è´£äº†ï¼Œæ€»ä¸èƒ½å¤©å¤©è®©å®¶é‡Œç™½ç™½å…»ç€ï¼Œå‡¡äº‹å¿…ç„¶æœ‰å…¶å­˜åœ¨ä»·å€¼ï¼Œå®ƒçš„ä»·å€¼å°±æ˜¯çœ‹å®¶æŠ¤é™¢ã€‚è¿™æ ·ä¸€å¹²å¯å°±æ˜¯ä¸€è¾ˆå­ï¼Œå®ƒçš„ä¸€è¾ˆå­å°±åœ¨å®¶é‡Œä¸å¤§çš„é™¢å­é‡Œé¢ç»•ç€é“é“¾è½¬ï¼Œè½¬å•Šè½¬ï¼Œç›´åˆ°å†ä¹Ÿæ²¡æœ‰åŠ›æ°”è½¬ä¸‹åŽ»ã€‚è‡ªä»Žè¢«æ‹´ä¸Šé“é“¾çš„æ—¶åˆ»å¼€å§‹ï¼Œç›´åˆ°ç”Ÿå‘½çš„æœ€åŽä¸€åˆ»ï¼Œå†ä¹Ÿæ²¡æœ‰è¿›è¿‡æ›¾ç»åœ¨é¥­æ¡Œåº•ä¸‹ç»•å•Šç»•æ‰¾é£Ÿç‰©çš„å±‹å­ï¼Œé¥­æ¡Œä¸‹å†ä¹Ÿå®¹ä¸ä¸‹å®ƒã€‚ ã€Žç‹—ã€çš„çœ‹å®¶è¿˜æ˜¯éžå¸¸å°½èŒå°½è´£ï¼Œå½“ç„¶äº†ï¼Œè¦ä¸æ€Žä¹ˆæ˜¯ç‹—å‘¢ã€‚åªè¦æ˜¯å®¶é‡Œæ¥çš„æ˜¯é™Œç”Ÿäººï¼Œéƒ½ä¼šå’¬ä¸ªä¸åœï¼Œç”šè‡³æ˜¯æˆ‘çˆ·çˆ·æ¥æˆ‘å®¶ï¼Œéƒ½ä¼šå’¬ä¸ªä¸åœã€‚è¦æ˜¯è§‰å¾—å¬èµ·æ¥å¤ªåµäº†ï¼Œåªè¦å¯¹å®ƒå–Šä¸€å£°ã€Œç‹—ã€å°±ä¼šæ¶ˆåœå¾ˆå¤šï¼Œè·Ÿå®¶äººçš„é»˜å¥‘é…åˆçš„ç›¸å½“ä¸é”™ã€‚ ã€Žç‹—ã€çš„è®°æ€§ä¹Ÿæ˜¯ç›¸å½“ä¸é”™çš„ï¼Œè®°å¾—ä¸Šé«˜ä¸­æ—¶ï¼Œä¸€ä¸ªæœˆåªèƒ½å›žä¸€æ¬¡å®¶ï¼Œæ¯æ¬¡å›žå®¶ç‹—éƒ½ä¼šè®¤è¯†ï¼Œä»Žæ¥ä¸ä¼šå½“æˆé™Œç”Ÿäººç‹‚å’¬ã€‚åŽæ¥ï¼Œä¸Šäº†å¤§å­¦ï¼Œæˆäº†åŠå¹´å›žä¸€æ¬¡å®¶äº†ï¼Œåˆšè¿›å®¶é—¨ç‹—å°±å¼€å§‹å«ï¼Œä¹Ÿå°±æ˜¯è„šè¸è¿›é™¢å­æ²¡å¤šä¹…ï¼Œç‹—å°±ä¸å«äº†ï¼Œå·²ç»è®¤å‡ºæˆ‘ä¹Ÿæ›¾ç»æ˜¯è¿™é‡Œçš„ä¸»äººã€‚æ¯æ¬¡å›žå®¶éƒ½ä¼šè·Ÿã€Žç‹—ã€çŽ©ä¸ŠåŠå¤©ï¼Œå–‚ç‚¹åƒçš„ï¼ŒæŒ æŒ è‚šå­ï¼Œçœ‹ç€å®ƒå›´ç€æˆ‘è½¬ã€‚ è™½ç„¶å¯¹é™Œç”Ÿäººæ€»æ˜¯å’¬ä¸ªä¸åœï¼Œä½†æ˜¯å½“äººèµ°åˆ°æ—è¾¹æ—¶å´ä¸ä¼šä¸ŠåŽ»å’¬äººï¼Œå¯¹å®ƒå‡¶ç‚¹ç”šè‡³è¿˜ä¼šå“å¾—è·‘åˆ°ç‹—çªé‡ŒåŽ»ï¼Œå®Œå…¨ä¸æ˜¯ç–¯ç‹—é‚£æ ·ä¼šå’¬äººã€‚ä½†ä¹Ÿç¡®å®žå’¬è¿‡ä¸€æ¬¡äººï¼Œè®°å¾—é‚£æ˜¯ä¸Šé«˜ä¸€é‚£ä¼šï¼Œå§¨å¤«åœ¨æˆ‘å®¶å–å¤šäº†ï¼Œèµ°åˆ°å®ƒæ—è¾¹ï¼Œå®ƒè¿˜åœ¨ä¸åœçš„å’¬ï¼Œå§¨å¤«ç”±äºŽå–çš„å¤šï¼Œå¯¹å…¶è¸¹äº†å‡ è„šï¼ŒæŠ‘æˆ–èº«ä¸Šé…’å‘³è¿‡é‡ï¼Œè¿™ä¸‹ã€Žç‹—ã€å¯ä¸å¹²äº†ï¼Œç…§ç€å§¨å¤«çš„è„šè„–å­å°±å’¬äº†ä¸€å£ã€‚è¿™æ˜¯å·²çŸ¥çš„ä»…æœ‰çš„ä¸€æ¬¡å’¬äººç»åŽ†ã€‚ ã€Žç‹—ã€æ˜¯æ¯ç‹—ï¼Œå¤§æ¦‚ä¸€å²å¤šçš„æ—¶å€™ç”Ÿè¿‡ä¸‰åªç‹—ï¼Œå…¶ä¸­ä¸¤åªå·²ç»å¤­æŠ˜äº†ï¼Œå¦å¤–ä¸€åªç›®å‰åœ¨æˆ‘çˆ·çˆ·å®¶é‡Œå…»ç€ã€‚å®¶é‡Œæ¥é™Œç”Ÿäººæ—¶ï¼Œç‹—éƒ½ä¼šä»Žç‹—çªçŒ›ç„¶é—´é’»å‡ºæ¥ï¼Œä»¿ä½›æ—©å‘çŽ°ä¸€ä¼šé™Œç”Ÿäººå°±èƒ½é¢†åˆ°å¥–èµä¸€èˆ¬ã€‚ä¸¤åªå°ç‹—çš„æ­»éƒ½æ˜¯å®ƒçŒ›ç„¶é—´å‡ºæ¥æ—¶å°†æ­£åœ¨åƒå¥¶çš„å°ç‹—ç”¨é“é“¾ç»™å¸¦å‡ºæ¥æ‘”æ­»çš„ï¼ŒæŒºå¯æ€œçš„ã€‚ä¸çŸ¥æ˜¯ä¸æ˜¯è„‘å­ç¼ºæ ¹ç­‹ï¼Œçœ‹å®¶çš„æœ¬é¢†è¿œæ¯”çœ‹æŠ¤è‡ªå·±å­©å­æ¥çš„é«˜è¶…ï¼Œå°±å¥½æ¯”åœ¨ä¼‘äº§å‡çš„å¦ˆå¦ˆï¼Œå´å¤©å¤©æƒ³ç€å·¥ä½œï¼Œè‡ªæ­¤ä¹‹åŽå†ä¹Ÿæ²¡ç”Ÿè¿‡å°ç‹—ã€‚ ã€Žç‹—ã€çš„ä¸€å£°æ˜¯ç”¨é“é“¾ç¦é”¢çš„ä¸€ç”Ÿï¼Œæˆå¹´åŽ99%çš„æ—¶å…‰éƒ½æ˜¯ç”¨é“é“¾æ‹´ç€çš„ï¼Œæ¯”äº’è”ç½‘å…¬å¸çš„æœåŠ¡å¯é æ€§éƒ½å¥½çš„å¤šã€‚å¶å°”é“é“¾ä¼šæ¾æŽ‰ï¼Œå®ƒä»ç„¶ä¸çŸ¥é“è‡ªå·±çš„åœ°ç›˜ä¹‹å¤–ä»ç„¶å¯ä»¥æ´»åŠ¨ï¼Œç›´åˆ°å¶ç„¶é—´èµ°å‡ºäº†è‡ªå·±çš„æ´»åŠ¨èŒƒå›´ï¼Œæ‰å‘çŽ°åŽŸæ¥è‡ªå·±çš„åœ°ç›˜å¤–ä¹Ÿå¯ä»¥è‚†æ„èµ°åŠ¨äº†ï¼Œä¸è¿‡ç¾Žå¥½çš„æ—¶å…‰ä¸ä¼šå¤ªé•¿ï¼Œå› ä¸ºç­‰ç€å®¶äººå‘çŽ°äº†ï¼Œç¦é”¢çš„é“é“¾åˆè·‘åˆ°è‡ªå·±çš„è„–å­é‡Œäº†ã€‚æœ‰æ—¶å®¶äººå‘çŽ°çš„ä¸åŠæ—¶ï¼Œå‘çŽ°å®ƒåˆå›žåˆ°äº†åŽŸåœ°äº†ï¼Œä¹Ÿè®¸å®ƒå‘çŽ°åŽŸæ¥æ›¾ç»å‘å¾€çš„é™Œç”Ÿåœ°æ–¹ä¹Ÿä¸è¿‡å¦‚æ­¤ï¼Œè¿œæ²¡æœ‰è‡ªå·±çš„åœ°ç›˜æ¥çš„å®‰å…¨å¯é å’Œæ¸©é¦¨ã€‚ è®°å¾—æœ‰ä¸€æ¬¡å†¬å¤©å¤§é›¾ï¼Œèƒ½è§åº¦éžå¸¸ä½Žï¼Œã€Žç‹—ã€è·‘å‡ºäº†å®¶é—¨ï¼Œä¸€è·¯å‘åŒ—ï¼Œç”±äºŽé›¾å¤ªå¤§ï¼Œè¿·å¤±äº†æ–¹å‘ã€‚æˆ‘è·‘å‡ºåŽ»åœ¨å®¶é™„è¿‘æ‰¾äº†åŠä¸ªå°æ—¶æœªæžœï¼Œçˆ·çˆ·éª‘ç€è‡ªè¡Œè½¦å‡ºåŽ»æ‰“å¬åˆ°åˆ«äººçœ‹è§è¿‡ï¼Œçˆ¶äº²ç»ˆäºŽåœ¨ç¦»å®¶äºŒé‡Œåœ°å¤–çš„åœ°æ–¹æ‰¾åˆ°äº†ï¼Œä¹Ÿæ˜¯è™šæƒŠä¸€åœºã€‚ ã€Žç‹—ã€å¯¹åƒå¾—ä»Žæ¥ä¸æŒ‘ï¼Œåªè¦æœ‰åƒçš„å°±è¡Œã€‚è®°å¾—ä¹‹å‰å®¶é‡Œè¿˜å–‚çŒªçš„æ—¶å€™ï¼Œå®ƒå°±åœ¨æ—è¾¹ç­‰ç€çŒªä»¬åƒå®ŒåŽå†åŽ»åƒçŒªå‰©ä¸‹çš„ï¼Œæ¯æ¬¡éƒ½ä¼šæŠŠçŒªæ§½èˆ”çš„æºœæ»‘ï¼Œæ¯”å¯ä»¥åˆ·è¿‡çš„è¿˜å¹²å‡€ã€‚åŽæ¥å®¶é‡Œä¸å–‚çŒªäº†ï¼Œå°±åœ¨å–‚é¸¡çš„æ—¶å€™ä¸€å—å–‚ä¸€ä¸‹ã€‚å¤å¤©åƒå®Œè¥¿ç“œåŽï¼ŒæŠŠè¥¿ç“œçš®æ‰”è¿‡åŽ»ï¼Œç‹—ä¹Ÿå¯ä»¥å•ƒå¾—ä»…å‰©ä¸‹ä¸€å±‚è–„è–„çš„çš®ã€‚å¶å°”å¿˜è®°å–‚äº†ï¼Œã€Žç‹—ã€å°±ä¼šzhengzhengçš„å«ï¼Œå®¶äººè‡ªç„¶ä¹Ÿèƒ½é¢†æ‚Ÿã€Žç‹—ã€çš„æ„å›¾ã€‚ å¤§çº¦åˆšå¼€å§‹å·¥ä½œé‚£ä¼šï¼Œå§‘å®¶çš„ç‹—ã€Žç‚¹ç‚¹ã€ç”±äºŽæ²¡æ—¶é—´ç…§é¡¾åœ¨æˆ‘å®¶é‡Œå…»äº†åŠå¹´ï¼Œã€Žç‚¹ç‚¹ã€æ˜¯å§å§ç»™å–çš„åå­—ï¼Œé•¿å¾—ä¸€å‰¯å°å·§å¯çˆ±æ ·ï¼Œåœ¨åŸŽå¸‚çš„ç¬¼å­ä¸­é åƒç‹—ç²®é•¿å¤§ã€‚åœ¨æˆ‘ä»¬é‚£å–‚ç‹—å‡ ä¹Žæ˜¯ä¸ç”¨ç‹—ç²®çš„ï¼Œä¼°è®¡ä¹Ÿä¹°ä¸åˆ°ï¼Œå› ä¸ºæ²¡å¸‚åœºã€‚ã€Žç‚¹ç‚¹ã€è‡ªç„¶æ˜¯ä¸èƒ½è·Ÿã€Žç‹—ã€åƒä¸€æ ·çš„ï¼Œæ¯å¤©éƒ½ä¼šå‘³ä¸€äº›ç‹—ç²®ï¼ŒåŽæ¥å®¶äººå°±ä¹°äº†äº›è¿‡æœŸçš„æ–¹ä¾¿é¢å’Œé¦’å¤´æ€å’Œç€æ¥å–‚ï¼Œè€Œã€Žç‹—ã€çš„ä¸»é£Ÿä¾æ—§æ˜¯åƒç€è·Ÿé¸¡ä¸€æ ·çš„å‡‰æ°´æ´»çŽ‰ç±³é¢ã€‚ã€Žç‚¹ç‚¹ã€ç™½å¤©éƒ½åœ¨ç¬¼å­é‡Œï¼Œåªæœ‰æ”¾å‡ºæ¥çš„æ—¶å€™æ‰ä¼šæ‰¾ä¸ªåœ°æ–¹æ‹‰å±Žæ’’å°¿ï¼Œè‡ªç„¶æ¯”éšåœ°å¤§å°ä¾¿çš„ã€Žç‹—ã€æ›´è®¨äººå–œæ¬¢ã€‚æ™šä¸Šã€Žç‚¹ç‚¹ã€æ˜¯æ”¾åœ¨é™¢å­é‡Œçš„ï¼Œé™¢å­é‡Œçš„ä»»ä½•è§’è½éƒ½æ˜¯ã€Žç‚¹ç‚¹ã€çš„æ´»åŠ¨èŒƒå›´ï¼Œè¿™ç‚¹ä¹Ÿæ˜¯ã€Žç‹—ã€å¯æœ›ä¸å¯åŠçš„ã€‚ç™½å¤©ã€Žç‚¹ç‚¹ã€çš„ç¬¼å­æ˜¯æ”¾åœ¨å¤§é—¨ä¸‹çš„ï¼Œé€¢äººä»Žé—¨å£ç»è¿‡éƒ½èƒ½çœ‹åˆ°å¯äººçš„æ ·å­ï¼Œè‡ªç„¶ä¹Ÿä¼šå¸å¼•å¾ˆå¤šäººçš„ç›®å…‰ã€‚ ä¹Ÿå°±æ˜¯ä»Žã€Žç‚¹ç‚¹ã€åˆšæ¥æˆ‘å®¶çš„æ—¶å€™ï¼Œå‘çŽ°æœ‰æ—¶å€™ä»Žå®ƒèº«æ—ç»è¿‡ï¼Œå®ƒéƒ½æ²¡æœ‰ä»»ä½•ååº”äº†ï¼Œå› ä¸ºã€Žç‹—ã€çš„è€³æœµä¸å¥½ç”¨äº†ã€‚äººè€äº†è€³æœµä¼šè‹ï¼Œç‹—äº¦å¦‚æ­¤ã€‚æœ‰æ—¶å€™é™Œç”Ÿäººéƒ½è¿›åˆ°å®¶é‡Œäº†ï¼Œå‘çŽ°ã€Žç‹—ã€ä»ç„¶åœ¨ç‹—çªé‡Œæˆ–å¤–é¢å¤ªé˜³ä¸‹ç¡è§‰ï¼Œå³ä½¿è€³æœµæ˜¯è´´åœ¨åœ°é¢ä¸Šçš„ã€‚ç‹—å¤©ç”Ÿéª„å‚²çš„å°±æ˜¯è€³æœµï¼Œè¯•æƒ³ä¸€åå·¥ç¨‹å¸ˆå¦‚æžœä¸èƒ½ç”¨åŒæ‰‹æ•²ä»£ç ï¼Œé‚£æ€Žä¹ˆç§°ä¹‹ä¸ºç å†œã€‚ è‡ªä»Žã€Žç‹—ã€è‹äº†åŽï¼Œæ˜Žæ˜¾æ„Ÿè§‰åˆ°ã€Žç‹—ã€çš„æƒ…ç»ªå˜å¾—ä½Žæ²‰äº†ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºè€³æœµä¸å¥½ç”¨äº†ï¼Œä¹Ÿè®¸æ˜¯è¿›å…¥æ™šå¹´äº†ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºã€Žç‚¹ç‚¹ã€çš„ç¼˜æ•…ï¼Œè™½è´µä¸ºæ­£å®¤ï¼Œå´ä¸å†å—å® å¹¸ã€‚ç›´åˆ°åŠå¹´åŽçš„ã€Žç‚¹ç‚¹ã€èµ°åŽï¼Œä¹Ÿä¸€ç›´æ²¡æœ‰ç¼“è¿‡æ¥ã€‚ è¿‘å‡ å¹´ï¼Œæˆ‘æ¯æ¬¡å›žå®¶éƒ½èƒ½æ„Ÿå—åˆ°ã€Žç‹—ã€æ˜¯ä¸€å¹´ä¸å¦‚ä¸€å¹´ï¼Œæœ€åŽä¸€æ¬¡è§åˆ°æ˜¯åœ¨2015å¹´çš„åä¸€ï¼Œé‚£æ—¶å®ƒå¾ˆå¤šæ—¶å€™éƒ½æ˜¯è¶´åœ¨çªé‡Œç¡è§‰çš„ï¼Œé™¤äº†çœ‹å®¶ï¼Œä¹Ÿæ²¡å•¥æœ¬äº‹ï¼Œæ—¢ç„¶çœ‹å®¶æŠ€èƒ½å·²å¤±ï¼Œé‚£å°±åªèƒ½ç¡è§‰äº†ã€‚ 2016.1.22å‚æ™šå¬åˆ°äº†ã€Žç‹—ã€åŽ»ä¸–çš„æ¶ˆæ¯ï¼Œè„‘æµ·ä¸­è‡ªç„¶ä¹Ÿæ˜¯è”æƒ³å…³äºŽã€Žç‹—ã€çš„å¾€äº‹ï¼ŒåŽ†åŽ†åœ¨ç›®ï¼Œçœ¼è§’æ³ªèŠ±ç›´æµã€‚æ²¡æœ‰ä»»ä½•ä»ªå¼ï¼Œã€Žç‹—ã€æ‚„æ‚„çš„ç¦»å¼€äº†å¥‰çŒ®äº†è‡ªå·±ä¸€ç”Ÿçš„å²—ä½ï¼Œæ‘†è„±äº†æŸç¼šäº†è‡ªå·±ä¸€è¾ˆå­çš„é”é“¾ï¼Œé»¯ç„¶ç¦»å¼€äº†è‡ªå·±çš„ä¸»äººã€‚ å½“å¤©å¤©æ°”æžåº¦å¯’å†·ï¼Œåº”è¯¥æ˜¯ä¸€å¹´ä¸­æœ€å†·çš„å¤©æ°”äº†ï¼Œå®¶ä¸­ä¸‹èµ·äº†å¤§é›ªï¼Œä¹Ÿè®¸æ˜¯è€å¤©é€ç»™ã€Žç‹—ã€çš„è‘¬ç¤¼ï¼Œé›ªèŠ±ä»¿ä½›è·Ÿã€Žç‹—ã€çš„çµé­‚ä¸€èˆ¬çº¯æ´ã€‚ ç®—ä¸‹æ¥ä»Ž2000å¹´å·¦å³åˆ°çŽ°åœ¨è¯¥æœ‰16å²çš„æ ·å­äº†ï¼Œè¿™16å¹´æ˜¯æˆ‘äººç”Ÿä¸­æœ€å¹´è½»çš„æ—¶å…‰ï¼Œæˆ‘ä»Žæ‡µæ‡‚çš„å°‘å¹´å·²å˜æˆäº†ç¤¾ä¼šä¸­çš„é’å¹´ï¼Œå´æ˜¯ã€Žç‹—ã€çš„ä¸€ç”Ÿã€‚ ä¸‹å›¾æ˜¯2016.1.22ä¸Šåˆæ—¶çš„ç…§ç‰‡ï¼Œå·²ç»ç”Ÿå‘½åž‚å±ï¼Œç”Ÿå‘½åœ¨å€’è®¡æ—¶ã€‚ ä¸€ä¸ªæœˆå‰ï¼Œçˆ¶äº²åˆå¼„äº†æ¡å°ç‹—ï¼Œå‡‘å·§çš„æ˜¯ï¼Œå°ç‹—çš„æ¨¡æ ·è·Ÿã€Žç‹—ã€é•¿çš„é¢‡ä¸ºç›¸ä¼¼ï¼Œæ¯›è‰²ä¹Ÿä¸€è‡´ï¼Œç”šè‡³è¿žèƒŒä¸Šä¹Ÿæœ‰ä¸€ä¸ªç°é»‘è‰²çš„åœ†ç‚¹ã€‚è™½æ²¡å½“é¢è§è¿‡ï¼Œä½†çœ‹å°ç‹—çš„ç…§ç‰‡ä¸ç¦è”æƒ³åˆ°ã€Žç‹—ã€çš„å°æ—¶å€™ä»¿ä½›æ˜¯ç‹—çš„å°æ—¶å€™ï¼Œè¿™ä¹Ÿè®¸æ˜¯ã€Žç‹—ã€çš„ç”Ÿå‘½çš„å»¶ç»­ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[keepalivedç®€æ˜“æ•™ç¨‹]]></title>
      <url>%2Fpost%2Fkeepalived_easy%2F</url>
      <content type="text"><![CDATA[keepalivedçš„ä½œç”¨ä¸ºä¿æŒå­˜æ´»æœåŠ¡ï¼ŒæœåŠ¡å¯åŠ¨åŽä¼šåœ¨ä¸¤å°ç‰©ç†æœºå™¨ä¹‹é—´ç»´æŠ¤ä¸€ä¸ªvipï¼Œä½†æ˜¯ä»…æœ‰ä¸€å°ç‰©ç†æœºå™¨æ‹¥æœ‰è¯¥vipï¼Œè¿™æ ·å°±ä¿è¯äº†ä¸¤å°æœºå™¨ä¹‹é—´æ˜¯ä¸»å¤‡ã€‚ å®‰è£…åœ¨ubuntuä¸‹ç›´æŽ¥æ‰§è¡Œï¼šsudo apt-get install keepalived. ä½¿ç”¨æœ¬ä¾‹å­ä¸¤å°æœºå™¨çš„ç‰©ç†ipåœ°å€åˆ†åˆ«ä¸º10.101.185å’Œ10.101.1.186ï¼Œè¦å¢žåŠ çš„è™šæ‹Ÿipåœ°å€ä¸º10.101.0.101ã€10.101.0.102ã€10.101.0.107å’Œ10.101.0.108ï¼Œå…¶ä¸­10.101.0.101å’Œ10.101.0.102åœ¨10.101.185ä¸Šä¸ºä¸»ï¼Œ10.101.0.107å’Œ10.101.0.108åœ¨10.101.1.186ä¸Šä¸ºä¸»ã€‚ keepalivedçš„é»˜è®¤é…ç½®æ–‡ä»¶ä½äºŽ/etc/keepalived/keepalived.confç›®å½•ä¸‹ï¼Œç”±äºŽä¸¤å°ç‰©ç†æœºå™¨ä¹‹é—´çš„ä¸»è¾…å…³ç³»ä¸åŒï¼Œé…ç½®æ–‡ä»¶ä¹Ÿä¸ç›¸åŒã€‚ 10.101.185æœºå™¨ä¸Šçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445! Configuration File for keepalivedglobal_defs &#123; # æŠ¥è­¦é‚®ç®±é…ç½® notification_email &#123; ops@yidian-inc.com &#125; smtp_server 10.101.1.139 smtp_connect_timeout 30 router_id 101-1-185-lg-201-l10.yidian.com // è¿è¡Œæœºå™¨çš„å”¯ä¸€æ ‡è¯†ï¼Œæ¯ä¸ªæœºå™¨åº”è¯¥éƒ½ä¸ä¸€æ ·ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨hostnameä»£æ›¿ï¼Œå…·ä½“ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹æš‚æ—¶ä¸æ˜¯å¾ˆæ¸…æ¥š&#125;vrrp_instance ha-internal-1 &#123; state MASTER interface eth0 virtual_router_id 1 // VRIDæ ‡è®°ï¼Œå¯ä»¥è®¾ç½®ä¸º0-255ï¼Œå¯¹åº”VRRDåè®®ä¸­çš„Virtual Rtr Id priority 100 // å¯¹åº”VRRDåè®®ä¸­çš„priorityé€‰é¡¹ advert_int 1 // æ£€æµ‹é—´éš”ï¼Œé»˜è®¤ä¸º1sï¼Œå¯¹åº”VRRDåè®®ä¸­çš„adver int authentication &#123; auth_type PASS // è®¤è¯æ–¹å¼ï¼Œæ”¯æŒPASSå’ŒAH auth_pass 1-internal-ha // è®¤è¯çš„å¯†ç ï¼Œä»ŽæŠ“å–çš„åŒ…ä¸­çœ‹åˆ° &#125; // å£°æ˜Žçš„è™šæ‹Ÿipåœ°å€ï¼Œè¿™äº›ipä¼šåœ¨VRRPä¸€äº›çš„ä¸€ä¸ªåŒ…å‘é€ // å¦å¤–VRRPåè®®ä¸­è¿˜æœ‰ä¸€ä¸ªCount IP Addrsç”¨æ¥æŒ‡æ˜Žéœ€è¦å£°æ˜Žå¤šå°‘ä¸ªVIP virtual_ipaddress &#123; 10.101.0.101/22 dev eth0 10.101.0.102/22 dev eth0 &#125;&#125;vrrp_instance ha-internal-2 &#123; state BACKUP interface eth0 virtual_router_id 2 priority 99 advert_int 1 authentication &#123; auth_type PASS auth_pass 2-internal-ha &#125; virtual_ipaddress &#123; 10.101.0.107/22 dev eth0 10.101.0.108/22 dev eth0 &#125;&#125; 10.101.1.186ä¸Šçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142! Configuration File for keepalivedglobal_defs &#123; notification_email &#123; ops@yidian-inc.com &#125; smtp_server 10.101.1.139 smtp_connect_timeout 30 router_id 101-1-186-lg-201-l10.yidian.com&#125;vrrp_instance ha-internal-1 &#123; state BACKUP interface eth0 virtual_router_id 1 priority 99 advert_int 1 authentication &#123; auth_type PASS auth_pass 1-internal-ha &#125; virtual_ipaddress &#123; 10.101.0.101/22 dev eth0 10.101.0.102/22 dev eth0 &#125;&#125;vrrp_instance ha-internal-2 &#123; state MASTER interface eth0 virtual_router_id 2 priority 100 advert_int 1 authentication &#123; auth_type PASS auth_pass 2-internal-ha &#125; virtual_ipaddress &#123; 10.101.0.107/22 dev eth0 10.101.0.108/22 dev eth0 &#125;&#125; é…ç½®æ–‡ä»¶æ­å»ºå®Œæ¯•åŽï¼Œé€šè¿‡sudo service keepalived startå³å¯å¯åŠ¨æœåŠ¡ï¼Œæ‰§è¡Œip addrå‘½ä»¤å³å¯çœ‹åˆ°vipã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡ifconfigå‘½ä»¤æ˜¯çœ‹ä¸åˆ°vipçš„ã€‚ æœ‰äº†vipï¼Œå…¶ä»–æœåŠ¡å°±å¯ä»¥åˆ©ç”¨è¯¥vipåšä¸€äº›ç»‘å®švipçš„ç«¯å£æ¥ä½œä¸ºä¸»è¾…çƒ­å¤‡æ¨¡å¼äº†ã€‚ about vrrpå…³äºŽVRRPçš„è¯¦ç»†è¯´æ˜Žå¯ä»¥æŸ¥çœ‹RFC3768ï¼Œæˆ‘è¿™é‡Œè®°å½•å‡ ç‚¹è¯´æ˜Žã€‚ åè®®ä¸­çš„ä»¥å¤ªç½‘Destination Addressçš„å€¼å¿…é¡»ä¸ºå¤šæ’­åœ°å€224.0.0.18ã€‚ å½“å‰æ­£åœ¨ä½¿ç”¨çš„VRRPç‰ˆæœ¬ä¸ºversion 2ï¼Œè®¤è¯åŠŸèƒ½å·²ç»å–æ¶ˆï¼Œä½†ä¸ºäº†å‘ä¸‹å…¼å®¹ï¼Œä»ç„¶å¯ç”¨ã€‚åœ¨æŠ“å–çš„åŒ…ä¸­ï¼Œä»åœ¨ä½¿ç”¨è®¤è¯ä¿¡æ¯ downloadè¿™é‡Œæä¾›ä¸¤ä¸ªvrrpåè®®çš„pcapåŒ…]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¤§é¡¶å †å°é¡¶å †ä¸Žå †æŽ’åº]]></title>
      <url>%2Fpost%2Falgorithm_heap%2F</url>
      <content type="text"><![CDATA[ä¸€ç›´å¯¹å †æŽ’åºç®—æ³•ç”¨çš„ä¸é”™ï¼Œä½†æ˜¯åˆæ˜¯åœ¨æŽ’åºä¸­æŒºé‡è¦çš„ç®—æ³•ï¼Œå¹¶ä¸”å¯ä»¥æ±‚è§£å…¶ä»–é—®é¢˜ï¼Œæ¯”å¦‚top ké—®é¢˜ã€‚å·²ç»å¯¹å †æŽ’åºå­¦ä¹ è¿‡å¥½å¤šæ¬¡äº†ï¼Œæ— å¥ˆæ¯æ¬¡éƒ½è®°ä¸å¤ªæ¸…æ¥šå…·ä½“çš„ç»†èŠ‚é—®é¢˜ï¼Œæœ¬æ–‡å¯¹å †çš„é—®é¢˜è¿›è¡Œæ•´ç†ã€‚æœ¬æ–‡çš„æŽ’åºä¾‹å­æ¥æºäºŽä¸¥è”šæ•çš„ã€Šæ•°æ®ç»“æž„ã€‹ï¼Œæœ¬æ–‡çš„çŸ¥è¯†ç‚¹æ¥è‡ªã€Šç®—æ³•å¯¼è®ºã€‹ã€‚ æœ€å¤§å †ä¸ºå †ä¸­çš„æœ€å¤§å…ƒç´ ä½äºŽæ ¹èŠ‚ç‚¹ï¼Œé¡¾åæ€ä¹‰ï¼Œæœ€å°å †çš„æ ¹èŠ‚ç‚¹ä¸ºæœ€å°å€¼ã€‚å †çš„æ€§è´¨å†³å®šäº†å †ä¸­èŠ‚ç‚¹ä¸€å®šå¤§äºŽç­‰äºŽå…¶å­èŠ‚ç‚¹ã€‚åœ¨å †æŽ’åºç®—æ³•ä¸­ç”¨åˆ°çš„æ˜¯æœ€å¤§å †ï¼Œæœ€å°å †ç”¨äºŽæž„é€ ä¼˜å…ˆé˜Ÿåˆ—ï¼Œè¦æ˜¯ä½¿ç”¨æœ€å°å †è¿›è¡ŒæŽ’åºï¼Œå¾—åˆ°çš„æŽ’åºç»“æžœä¸ºå€’åºã€‚ å †çš„ç»“æž„ä¸ºå®Œå…¨äºŒå‰æ ‘ï¼Œå› æ­¤å¯ä»¥ç”¨æ•°ç»„å­˜å‚¨æ¥ä»£æ›¿æ ‘çš„é“¾å¼å­˜å‚¨ç»“æž„ã€‚ å»ºæœ€å¤§å †è¿‡ç¨‹æˆ‘è¿™é‡Œé€šè¿‡å›¾è¡¨çš„å½¢å¼å¯¹å»ºå¤§é¡¶å †çš„è¿‡ç¨‹è¿›è¡Œäº†å±•ç¤ºï¼Œä¸å†å¯¹æ–‡å­—è¿›è¡Œå™è¿°ã€‚åœ¨å †æŽ’åºçš„è¿‡ç¨‹ä¸­ä¼šä¸æ–­è¿›è¡Œå»ºæœ€å¤§å †è¿‡ç¨‹çš„è°ƒç”¨ã€‚ å †æŽ’åºçš„æ ¸å¿ƒæ­¥éª¤æ¸…æ¥šäº†å †çš„åˆå§‹åŒ–ï¼Œå†çœ‹ä¸€ä¸‹ä¸‹é¢çš„å †æŽ’åºæ­¥éª¤å°±éžå¸¸æ¸…æ¥šäº†ï¼Œä¸éœ€è¦å›¾ç‰‡è¿›è¡Œæè¿°äº†ã€‚å †æŽ’åºçš„æ­¥éª¤ï¼š å°†å¾…æŽ’åºçš„æ•°ç»„åˆå§‹åŒ–ä¸ºå¤§é¡¶å †ï¼Œè¯¥è¿‡ç¨‹å³å»ºå †ã€‚ å°†å †é¡¶å…ƒç´ ä¸Žæœ€åŽä¸€ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œé™¤åŽ»æœ€åŽä¸€ä¸ªå…ƒç´ å¤–å¯ä»¥ç»„å»ºä¸ºä¸€ä¸ªæ–°çš„å¤§é¡¶å †ã€‚ æ–°å»ºç«‹çš„å †ä¸æ˜¯å¤§é¡¶å †ï¼Œéœ€è¦é‡æ–°å»ºç«‹å¤§é¡¶å †ã€‚é‡å¤ä¸Šé¢çš„å¤„ç†æµç¨‹ï¼Œç›´åˆ°å †ä¸­ä»…å‰©ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ top ké—®é¢˜çš„å †è§£æ³•è¯¥é—®é¢˜æœ€å¸¸è§„å’Œé€šç”¨çš„è§£å†³æ€è·¯ä¸ºä½¿ç”¨å¿«é€ŸæŽ’åºï¼Œè¿˜å¯ä»¥åœ¨Nçš„èŒƒå›´ä¸å¤§çš„æƒ…å†µä¸‹é‡‡ç”¨å“ˆå¸Œï¼ˆæ¡¶ï¼‰çš„æ–¹å¼ã€‚ å¦å¤–ä¸€ç§è§£æ³•å°±æ˜¯å †æŽ’åºçš„æ€è·¯æ¥è§£å†³ã€‚è¿™é‡Œç”¨åˆ°çš„ä¸ºæœ€å°å †ï¼Œç”¨æœ€å°å †æ¥å­˜å‚¨æœ€å¤§çš„kä¸ªæ•°ï¼Œå…¶ä¸­å †é¡¶å…ƒç´ ä¸ºæœ€å¤§kä¸ªæ•°ç§æœ€å°çš„æ•°ã€‚è¿™ä¸ªè§£æ³•åˆçœ‹æœ‰äº›åˆ«æ‰­ï¼Œæ±‚æœ€å¤§çš„kä¸ªæ•°ï¼Œå±…ç„¶ä¼šç”¨åˆ°å°é¡¶å †ã€‚ è¯¥ç®—æ³•å¿…ç„¶æ˜¯ä¸€ä¸ªä¸ªéåŽ†Nä¸ªæ•°ä¸€æ¬¡å°±å¤Ÿäº†ï¼Œè¿™ç‚¹å¾ˆå¥½ç†è§£ã€‚æ¯è¯»å–ä¸€ä¸ªæ–°çš„æ•°xï¼Œå¦‚æžœxæ¯”å †é¡¶çš„å…ƒç´ yå°ï¼Œåˆ™æŠ›å¼ƒï¼›å¦‚æžœxæ¯”yå¤§ï¼Œåˆ™ç”¨xæ›¿æ¢yï¼Œå¹¶é‡æ–°æ›´æ–°å †ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è®°2015å¹´åä¸€å‡æœŸçš„ä¸€ä»¶å°äº‹]]></title>
      <url>%2Fpost%2F2015_10_01%2F</url>
      <content type="text"><![CDATA[åä¸€å›žå†œæ‘è€å®¶ï¼Œæœ‰ä»¶å°äº‹æœ‰äº›æ„Ÿæ‚Ÿã€‚ åªè¦å®¶é‡Œæœ‰äººï¼Œå®¶é‡Œçš„å¤§é—¨ç™½å¤©ä¸€ç›´éƒ½æ˜¯æ•žç€çš„ï¼Œå¤–é¢çš„äººéƒ½å¯ä»¥ç›´æŽ¥èµ°è¿›æ¥ï¼Œè¿™åœ¨å†œæ‘æ˜¯å¾ˆæ­£å¸¸çš„ä¸€ä»¶äº‹æƒ…ï¼Œé—¨æ•žç€æ‰è¯´æ˜Žå®¶é‡Œæ˜¯æœ‰äººçš„ï¼Œå†œæ‘çš„äººæ²¡æœ‰åŸŽé‡Œäººè¿™ä¹ˆå¤šçš„éš”é˜‚ã€‚ æ­£å·§åœ°é‡Œçš„æ´»éƒ½å¹²å¾—å·®ä¸å¤šäº†ï¼Œæ¯äº²åœ¨é™¢å­é‡Œæ™’ç€å¤ªé˜³ï¼Œæˆ‘åœ¨å±‹å­é‡Œæ”¶æ‹¾ä¸œè¥¿ã€‚ä»Žé—¨å£èµ°åˆ°é™¢é‡Œä¸€ä¸ªäººæ¥ï¼Œåªè§ä¸€èº«é“å§‘æ‰“æ‰®ï¼Œè¿˜å¸¦ä¸€é¡¶å¸½å­ï¼Œå˜´é‡ŒæŒ¯æŒ¯æœ‰è¾žï¼Œè¯´æ˜¯æ³°å±±å¨˜å¨˜åº™é‡Œçš„ä¿ä½‘å®¶é‡Œå¹³å®‰ä¹‹ç±»çš„ã€‚æ¯äº²è§åˆ°æ¥è€…ç¬¬ä¸€ååº”å°±æ˜¯éª—å­ï¼Œç«‹é©¬ä¸Šå‰è¯´æ˜¯åœ°é‡Œæœ‰æ´»è¦å¹²ï¼Œé©¬ä¸Šè¦å‡ºåŽ»äº†ã€‚æ¥è€…åŽ‹æ ¹ä¸ç†ä¼šæ¯äº²çš„è¯ï¼Œä¾æ—§æ˜¯ä¿ä½‘å¹³å®‰ä¹‹ç±»çš„ï¼Œåƒæžäº†å¤§è¡—ä¸Šè¿Žä¸Šå‰åŽ»å¾—ä¹žè®¨è€…ã€‚æ¥è€…è¯´é“ï¼Œè¦ææ¬¾ä¹‹ç±»çš„ï¼Œå¹¶æœ‰ä¸ªå°æœ¬å­ï¼Œä¸Šé¢å†™ç€ææ¬¾è€…çš„åå­—ã€‚æ¯äº²çœ‹äº†çœ¼ææ¬¾è€…çš„åå•ï¼Œå¾ˆå¤šéƒ½æ˜¯é‚»å±…å®¶çš„ï¼Œè¯´æ˜Žæ¥è€…åˆšä»Žå®¶é‡Œè¿‡æ¥ï¼Œè¿Ÿç–‘äº†ä¸€ä¼šä¾¿ç­¾ä¸Šäº†åå­—ï¼Œå›žå±‹é‡ŒåŽ»å–é’±ã€‚ è¿™æ—¶è¿˜åœ¨å±‹å­é‡Œçš„æˆ‘æ‰çœ‹åˆ°å¹¶æ˜Žç™½è¿‡æ¥æ˜¯è¿™ä¹ˆä¸€å›žäº‹ï¼Œæˆ‘ä¸€çœ‹æ¯äº²åå­—éƒ½ç­¾ä¸Šäº†ï¼Œé’±è‚¯å®šæ˜¯è¦ç»™çš„äº†ï¼Œæƒ³é€ƒæŽ‰é¿å…å°‘ä¸äº†ä¸€ç•ªçº ç»“ã€‚æˆ‘ä¾¿å›žå±‹å­åŽ»å–é’±ï¼Œåœ¨åŸŽå¸‚å¾…ä¹ æƒ¯äº†ï¼ŒçŸ¥é“ä¹žè®¨è€…äº”æ¯›ä¸€å—å°±èƒ½æ‰“å‘çš„å¾ˆé«˜å…´ï¼Œæˆ‘ä¾¿ä»Žé’±åŒ…é‡ŒåŽ»äº†ä¸¤å¼ ä¸€å—çš„ï¼Œå…¶ä¸­ä¸€å¼ è¿˜æ˜¯å¤‡ç”¨çš„ï¼Œæˆ‘å…ˆç»™ä¸€å—ï¼Œè¦æ˜¯å«Œå°‘å†ç»™ä¸¤å—ã€‚æˆ‘å…ˆäºŽæ¯äº²å‡ºäº†å±‹å­ï¼Œç»™åˆ°äº†æ¥è€…ä¸€å—é’±ï¼Œå²‚çŸ¥æ¥è€…è¯´é“åˆ«äººéƒ½æ˜¯ç»™ä¸‰åäº”åçš„ï¼Œè¿™äº›å¤ªå°‘äº†æˆ‘ä¸è¦ã€‚é ï¼è¿™å¹´å¤´ä¹žè®¨è¿˜å«Œé’±å°‘å•Šï¼Œè¿˜æ˜¯æˆ‘å¤ªoutäº†ï¼Ÿæˆ‘ç›´æŽ¥è¯´é‚£ä½ èµ°å§ï¼Œæˆ‘æ²¡é’±ï¼Œå¹¶è½¬å¤´å›žå±‹å­ï¼Œå¯æœ€çƒ¦çš„æ˜¯å¥¹ä¹Ÿè·Ÿç€å¾€å±‹é‡Œèµ°ã€‚ å°±åœ¨è¿™æ—¶æ¯äº²ä»Žå±‹å­é‡Œèµ°å‡ºæ¥å¹¶æ‹¿ç€10å—é’±ï¼Œè¿Žä¸Šå‰åŽ»ç»™äº†å¥¹ã€‚åˆæ˜¯å«Œå°‘ä¹‹ç±»çš„è¯ï¼Œæœ€åŽä¹Ÿä¸æƒ…æ„¿çš„æ”¶ä¸‹äº†ï¼Œå¹¶ç•™ä¸‹äº†ä¸€æ ¹çº¢ä¸å¸¦ï¼Œè¯´äº›å…¨å®¶å¹³å®‰ä¹‹ç±»çš„è¯å°±èµ°äº†ï¼Œå½“ç„¶äº†éª—å­çš„ç›®çš„å·²ç»å®Œæˆäº†ï¼Œåªéœ€åŒ†åŒ†æ”¶åœºå°±è¡Œäº†ã€‚ æ­¤äº‹çš„ç»è¿‡åˆ°æ­¤ç»“æŸï¼Œä½†å´æœ‰ä¸ªé—®é¢˜æŒºä»¤æˆ‘æ·±æ€çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå†™ä¸‹æœ¬æ–‡çš„åŽŸå› ã€‚ çˆ¶æ¯å¹¶ä¸å¯Œè£•ï¼Œå®¶é‡Œä¸€ç›´ä¹Ÿæ˜¯è¿‡å¾—æ¯”è¾ƒå¹³æ·¡çš„ç”Ÿæ´»ï¼Œåœ¨æˆ‘çœ‹æ¥å‹¤å¥‹å’Œå‹¤ä¿­èŠ‚çº¦ä¸€ç›´æ˜¯æˆ‘ä»¬è€å®¶é‚£å—çš„ç¾Žå¾·ã€‚å¹³å¸¸å®¶é‡Œä¹°ä¸ªèœä»€ä¹ˆçš„éƒ½è¦ä¸ºäº†å‡ æ¯›é’±æŽ‚é‡åŠå¤©ï¼Œä½†å´åœ¨é¢å¯¹ä¹žè®¨æ–½èˆè¿™ç§äº‹æƒ…ä¸Šæ‰”æŽ‰äº†10å—é’±çš„å·¨æ¬¾ï¼Œè€Œä¸”æ¯äº²å¯¹äºŽéª—é’±è¿™ä»¶äº‹ä»Žå§‹è‡³ç»ˆéƒ½æ˜¯çŸ¥æƒ…çš„ã€‚ äº‹åŽï¼Œæˆ‘çš„åŒæ ·ä¸Šå½“å—éª—çš„é‚»å±…ä¹Ÿæ¥åˆ°äº†æˆ‘å®¶ï¼Œé€šè¿‡é‚»å±…å’Œæˆ‘æ¯äº²çš„è°ˆè¯æˆ‘å¤§ä½“ç†è§£äº†ä»–ä»¬åœ¨ç»åŽ†æ­¤äº‹æ—¶çš„å¿ƒç†æ´»åŠ¨ã€‚ç”±äºŽæ¯å¹´éƒ½ä¼šæœ‰å¤šæ¬¡æ¥åˆ°å®¶é‡Œè¿›è¡Œéª—é’±çš„ï¼Œéª—é’±çš„æ–¹å¼æ˜¯å¤šç§å¤šæ ·çš„ï¼Œæ— éžæ˜¯æ‰¾ä¸åˆ°å­©å­ï¼Œå›žä¸äº†å®¶ä¹‹ç±»çš„ï¼Œæ¯äº²ä¸€å¼€å§‹è§åˆ°éª—å­å°±çŸ¥é“æ˜¯ä¸ªéª—å­ï¼Œè¿™ç¬¬ä¸€å°è±¡çš„åˆ¤æ–­æ˜¯è¿‡å…³çš„ã€‚ æ¯äº²å¯¹éª—å­çš„ç¬¬äºŒä¸ªè¡Œä¸ºæ˜¯é˜»æ‹¦ï¼Œæ¯äº²ç”¨äº†è¦åŽ»åœ°é‡Œå¹²æ´»çš„ä¿¡æ¯æ¥é˜»æ‹¦ï¼Œä½†æ˜¯é˜»æ‹¦ä¸å½»åº•ï¼Œè§é˜»æ‹¦ä¸æˆåŠŸå°±æ”¾å¼ƒäº†ã€‚è¿™ä¸€ç‚¹ä¸Šå°±æ˜¾çŽ°å‡ºäº†çš„ç¼ºç‚¹ï¼Œä¸çŸ¥é“ç”¨åˆç†çš„æ‰‹æ®µæ¥ä¿æŠ¤è‡ªå·±ï¼Œå¹¶å®Œå…¨ä»Žä¸»åŠ¨çŠ¶æ€å˜ä¸ºäº†è¢«åŠ¨çŠ¶æ€ã€‚ä¹‹æ‰€ä»¥æ„å¿—è¿™ä¹ˆä¸åšå®šï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å› ç´ å°±æ˜¯æ¯äº²çŸ¥é“å¼ºåŠ é˜»æ‹¦çš„åŽæžœå°±æ˜¯éª—å­å¯èƒ½ä¼šçˆ†ç²—å£ï¼Œå®Œå…¨ä¸æƒ³å¬éª—å­çµ®çµ®å¨å¨ä¸ªæ²¡å®Œæ²¡äº†ï¼Œæ’µéƒ½æ’µä¸èµ°ï¼Œè¿˜ä¸å¦‚ç»™ç‚¹é’±çœäº‹ã€‚å¦å¤–å¾—ç½ªçš„éª—å­çš„åŽæžœå¯èƒ½ä¼šæ›´éº»çƒ¦ï¼Œæ¯•ç«Ÿéª—å­å¾€å¾€éƒ½æ˜¯ä¸€ä¸ªå›¢ä¼™ï¼Œä¸”çŸ¥é“å®¶åº­ä½å€ï¼Œæ€•æœ‰ä»€ä¹ˆæŠ¥å¤è¡Œä¸ºã€‚æ‰€ä»¥ä¹‹æ‰€æœ‰ç»™é’±çš„åŽŸå› å°±æ˜¯èŠ±é’±ä¹°ä¸ªå®‰å®ï¼Œå…å¾—å¸¦æ¥ä¸€èº«çš„éº»çƒ¦ï¼Œå½“ç„¶ä»Žè¿™ä¸ªå‡ºå‘ç‚¹ä¸Šç»™é’±æ˜¯å¯¹çš„ã€‚éª—å­ä¹Ÿæ­£æ˜¯åˆ©ç”¨äº†è¿™ä¸€ç‚¹æ‰åœ¨å†œæ‘å±¡è¯•ä¸çˆ½ã€‚ ä½†ç»™é’±çš„æ•°ç›®è·Ÿå¹³æ—¶çš„ç”Ÿæ´»æ°´å¹³æ˜¯å®Œå…¨ä¸ç›¸ç¬¦çš„ï¼Œè¦çŸ¥é“åœ¨å†œæ‘ä¹°ä¸Š10å—é’±çš„èœå¯ä»¥åƒä¸Šå¥½å‡ é¡¿ã€‚æˆ‘è§‰å¾—ä¹‹æ‰€ä»¥å‡ºçŽ°è¿™ä¸ªé—®é¢˜ï¼Œæ ¹æºåœ¨äºŽå¯¹è‡ªå·±çš„ä¸å¤Ÿé‡è§†ã€‚åœ¨ä¸­å›½è¿™ç§æƒåŠ›çš„ç¤¾ä¼šä¸­ï¼Œæ¯äº²ä¸€ç›´è§‰å¾—å¤„äºŽæƒåŠ›çš„æœ€åº•å±‚ï¼Œäº‹å®žä¹Ÿç¡®å®žå¦‚æ­¤ã€‚å³ä½¿åœ¨è‡ªå·±çš„å®¶ä¸­ä¹Ÿå¾ˆå®¹æ˜“å˜ä¸»åŠ¨ä¸ºè¢«åŠ¨ï¼Œè®©éª—å­å¾—æ‰‹ã€‚ å¯èƒ½æœ‰äººä¼šè¯´å†œæ‘çš„æ³•å¾‹æ„è¯†æ·¡è–„ï¼Œä¸çŸ¥é“åˆç†çš„ç»´æƒï¼Œå®Œå…¨å¯ä»¥æ‰“110æ¥è§£å†³ã€‚æˆ‘æ›¾ç»æ‰“110å¤„ç†è¿‡åº—é“ºæ‰°æ°‘è¿™ç§é¸¡æ¯›å°äº‹ï¼Œ110ç»™çš„å¤„ç†æ—¶é—´ä¸º5å¤©ï¼Œè¿™è¿˜æ˜¯åœ¨åŸŽå¸‚é‡Œã€‚æˆ‘ä¼°è®¡æ¢åšå†œæ‘çš„æ´¾å‡ºæ‰€ï¼Œè¿™ç§å°äº‹ä¼°è®¡110æ˜¯è¯·ä¸åŠ¨çš„ã€‚ æˆ‘åœ¨æ­¤æ¬¡äº‹ä»¶ä¸­å¹¶æ²¡æœ‰ç¬¬ä¸€æ—¶é—´ä½œå‡ºåº”æœ‰çš„ååº”ï¼Œè¿™ç‚¹æˆ‘éœ€è¦åçœã€‚é¦–å…ˆï¼Œæˆ‘è§åˆ°æ¯äº²ç­¾å­—åŽæ²¡æœ‰è·Ÿéª—å­è¦ä¸€ä¸‹å·¥ä½œè¯æ˜Žï¼Œè¿™æ ·å­è‡³å°‘è®©éª—å­æ²¡è¿™ä¹ˆå®¹æ˜“å¾—é€žï¼Œç»™æˆ‘çš„åé©³å¢žåŠ å¤§å¤§çš„ç­¹ç ã€‚å…¶æ¬¡ï¼Œæ²¡æœ‰é˜»æ‹¦æ¯äº²ç»™éª—å­é€é’±ï¼ŒæŒ‰ç…§æˆ‘çš„æ„æ€æ˜¯è·Ÿéª—å­æ­»ç¼ åˆ°åº•çš„ï¼Œæ¯•ç«Ÿæ˜¯åœ¨æˆ‘å®¶ï¼Œç»™ä¸ç»™é’±ä¹Ÿæ˜¯æˆ‘çš„è‡ªç”±ã€‚ä½†æˆ‘æ€•åœ¨å®¶é‡Œç”Ÿæ´»æ—¶é—´ä¸é•¿ï¼Œéª—å­çš„è§„çŸ©æˆ‘ä¸æ‡‚ï¼Œè¿˜æ˜¯é¡ºä»Žäº†æ¯äº²çš„è¡Œä¸ºã€‚ ä¹‹æ‰€ä»¥å†™è¿™ç¯‡æ–‡ç« æ˜¯æƒ³æ¢³ç†ä¸‹å†œæ°‘èº«ä¸Šçš„å…±åŒç¼ºç‚¹åŠæˆ‘èº«ä¸Šçš„ç¼ºç‚¹ã€‚æˆ‘ä¸æ˜¯æ­§è§†å†œæ°‘ï¼Œæˆ‘æ˜¯å†œæ‘å‡ºæ¥çš„ï¼Œæˆ‘çŸ¥é“å†œæ‘äººçš„è¾›è‹¦ï¼Œå¿™èµ·æ¥çš„æ—¶å€™ä»–ä»¬çš„è¾›è‹¦ç¨‹åº¦æ˜¯æˆ‘ç­‰ç å†œä¸èƒ½ä¼åŠçš„ã€‚ åœ¨è¿™é‡Œä¸ºå¹¿å¤§å¥‹æ–—åœ¨ç”°åœ°é‡Œçš„å†œæ°‘è‡´æ•¬ï¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[SaltStackä½¿ç”¨]]></title>
      <url>%2Fpost%2Fsaltstack%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡åœ¨å­¦ä¹ saltstackçš„è¿‡ç¨‹ä¸­ç¼–å†™ï¼Œå†…å®¹æ¯”è¾ƒåŸºç¡€ï¼Œæ–¹ä¾¿ä½¿ç”¨æ—¶æŸ¥é˜…å‘½ä»¤ã€‚ å®‰è£…ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œç›´æŽ¥é‡‡ç”¨yumçš„å®‰è£…æ–¹å¼ï¼Œcentosæºä¸­å¹¶æ²¡æœ‰saltï¼Œéœ€è¦æ‰‹å·¥æ·»åŠ ä¸€ä¸‹ã€‚ CentOS 7å®‰è£…master 12rpm -Uvh http://ftp.jaist.ac.jp/pub/Linux/Fedora/epel/7/x86_64/e/epel-release-7-5.noarch.rpmyum install salt-master ä¿®æ”¹/etc/salt/masteré…ç½®æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æŒ‡å®šsaltæ–‡ä»¶æ ¹ç›®å½•ä½ç½®ï¼Œé»˜è®¤è·¯å¾„ä¸º/srv/salt/ã€‚ 123file_roots: base: - /svr/salt/ saltåœ¨å®‰è£…çš„æ—¶å€™å·²ç»åˆ›å»ºäº†systemctlå‘½ä»¤å¯åŠ¨ç¨‹åºéœ€è¦çš„serviceæ–‡ä»¶ï¼Œä½äºŽ/usr/lib/systemd/system/salt-master.serviceï¼Œé‡å¯systemctl restart salt-master.serviceç”Ÿæ•ˆã€‚ CentOS 6.5å®‰è£…minion 12rpm -Uvh http://ftp.linux.ncsu.edu/pub/epel/6/i386/epel-release-6-8.noarch.rpmyum install salt-minion ä¿®æ”¹/etc/salt/minioné…ç½®æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æŒ‡å®šmasterä¸»æœºçš„åœ°å€ 1master: 192.168.204.128 æ‰§è¡Œservice salt-minion restartå¯¹æœåŠ¡è¿›è¡Œé‡å¯ã€‚ è¿žé€šæ€§æµ‹è¯•æ‰§è¡Œsalt-key -Lå‘½ä»¤å¯ä»¥çœ‹åˆ°å·²è®¤è¯å’Œæœªè®¤è¯çš„minionï¼Œæ‰§è¡Œsalt-key -a 192.168.204.149å¯æŽ¥æ”¶minionã€‚ åœ¨masterä¸»æœºä¸­æ‰§è¡Œsalt &#39;*&#39; test.pingå¯æµ‹è¯•è¿žæŽ¥çš„minionä¸»æœºã€‚ 1234567891011121314151617âžœ stats salt-key -LAccepted Keys:Denied Keys:Unaccepted Keys:192.168.204.149Rejected Keys:âžœ stats salt-key -a 192.168.204.149The following keys are going to be accepted:Unaccepted Keys:192.168.204.149Proceed? [n/Y] yKey for minion 192.168.204.149 accepted.âžœ stats salt &apos;*&apos; test.ping192.168.204.149: True stateå¯ä»¥é€šè¿‡é¢„å…ˆå®šä¹‰å¥½çš„slsæ–‡ä»¶å¯¹è¢«æŽ§ä¸»æœºè¿›è¡Œç®¡ç†ï¼Œè¿™é‡Œæ¼”ç¤ºä¸€ä¸ªç®€å•çš„æ–‡ä»¶å¤åˆ¶çš„ä¾‹å­ï¼Œè¯¥ä¾‹å­å¯ä»¥å°†masterä¸»æœºä¸Šçš„vimrcæ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡ä¸»æœºä¸Šã€‚ åœ¨masterä¸»æœºçš„/svr/salt/editç›®å½•ä¸‹æ–°å»ºvim.slsæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 123456/etc/vimrc: file.managed: - source: salt://edit/vimrc - mode: 644 - user: root - group: root å¦å¤–åœ¨editç›®å½•ä¸‹éœ€è¦å­˜åœ¨ä¸€ä¸ªç©ºçš„init.slsï¼Œä»¥ç¡®ä¿state.slså¯ä»¥æ‰¾åˆ°è¯¥ç›®å½•ä¸‹çš„slsæ–‡ä»¶ã€‚åŒæ—¶è¯¥ç›®å½•ä¸‹è¿˜éœ€è¦å­˜åœ¨è¦å¤åˆ¶çš„vimrcæ–‡ä»¶ã€‚ æ‰§è¡Œsalt &#39;*&#39; state.sls edit.vimå³å¯ä»¥æ‰§è¡Œè¯¥å‘½ä»¤ã€‚ å¦‚æžœå°†vim.slsæ›´æ”¹ä¸ºinit.slsæ–‡ä»¶ï¼Œæ‰§è¡Œsalt &#39;*&#39; state.sls editå‘½ä»¤å³å¯ã€‚ å¸¸ç”¨å‘½ä»¤salt â€˜192.168.204.149â€™ cmd.run â€˜free -mâ€™ salt â€˜192.168.204.149â€™ sys.list_modules åˆ—å‡ºminionæ”¯æŒå“ªäº›æ¨¡å—ï¼Œé»˜è®¤å·²ç»æ”¯æŒå¾ˆå¤šæ¨¡å— salt â€˜192.168.204.149â€™ cp.get_file salt://test_file /root/test_file å°†masterä¸»æœºfile_rootsç›®å½•ä¸‹çš„æ–‡ä»¶å¤åˆ¶åˆ°minionä»»æ„ç›®å½•ä¸‹ï¼Œè¯¥å‘½ä»¤ä¸å¯ä»¥å°†masterä¸»æœºä»»æ„ç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œå¤åˆ¶ salt â€˜192.168.204.149â€™ cp.get_dir salt://test_dir/ /root/ å®žéªŒæœªæˆåŠŸ salt â€˜*â€™ file.mkdir dir_path=/root/test_dir user=root group=root mode=700 åœ¨minionä¸»æœºä¸Šåˆ›å»ºç›®å½•s å‚è€ƒæ–‡ç« *saltstackå®˜æ–¹æ–‡æ¡£ *ã€Špythonè‡ªåŠ¨åŒ–è¿ç»´æŠ€æœ¯ä¸Žæœ€ä½³å®žè·µã€‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[2015å¹´æ‰¾å·¥ä½œçš„ä¸€æ®µç»åŽ†]]></title>
      <url>%2Fpost%2F2015_interview%2F</url>
      <content type="text"><![CDATA[å‰æ®µæ—¶é—´æˆ‘çš„å·¥ä½œæœ‰äº†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å˜åŠ¨ï¼Œæˆ‘çš„å·¥ä½œåœ°ç‚¹ä»ŽæµŽå—åˆ°äº†åŒ—äº¬ï¼Œç¦»å¼€äº†å¾…äº†9å¹´çš„æµŽå—ï¼Œç¦»å¼€äº†æ¸©é¦¨çš„å®¶ï¼Œç¦»å¼€äº†æˆ‘çš„äº²äººï¼Œç‹¬è‡ªä¸€äººå¼€å¯äº†åŒ—æ¼‚æ¨¡å¼ã€‚ æœ¬æ–‡ä¸æ‰“ç®—å™è¿°é¢è¯•ç»†èŠ‚é—®é¢˜ï¼Œå…·ä½“çš„é¢è¯•ç»†èŠ‚æˆ‘è‡ªå·±åœ¨å°è±¡ç¬”è®°ä¸­æ•´ç†è¿‡ï¼Œä½†ä¸æ‰“ç®—æ”¾å‡ºæ¥ã€‚æœ¬æ–‡ä»…é€‰å–æœ‰ä»£è¡¨æ€§çš„å‡ å®¶å…¬å¸æ¥å™è¿°ã€‚ ä¹‹æ‰€ä»¥æœ‰å¦‚æ­¤å¤§çš„å˜åŠ¨ï¼Œæœ€å¤§çš„å› ç´ æ˜¯æˆ‘çš„ä¸ªäººæŠ€æœ¯çš„å‘å±•é‡åˆ°äº†ç“¶é¢ˆã€‚æˆ‘è¿‘å‡ å¹´å¯¹ä¸ªäººå‘å±•çš„å®šä½æ˜¯åœ¨æŠ€æœ¯ä¸Šèƒ½å¤Ÿæ›´ä¸Šä¸€å±‚æ¥¼ï¼Œå°½é‡ä¸èµ°ç®¡ç†è·¯çº¿ï¼Œè¿˜æ˜¯ä»¥è¸è¸å®žå®žå­¦æŠ€æœ¯ä¸ºä¸»è¦ä»»åŠ¡ã€‚å¯æ˜¯åœ¨æµŽå—å·¥ä½œå·²ç»æ…¢æ…¢è¢«æŽ¨ä¸Šäº†ç®¡ç†çš„å²—ä½ï¼Œæˆ‘æ€•ä¼šé€æ¸è„±ç¦»æŠ€æœ¯ï¼Œç›´åˆ°å®Œå…¨èµ°ä¸Šäº†ç®¡ç†çš„å²—ä½ï¼Œè¿™è·Ÿæˆ‘å¯¹æŠ€æœ¯éžå¸¸æ„Ÿå…´è¶£çš„åˆè¡·æ˜¯æœ‰äº›è¿èƒŒçš„ã€‚ å·¥ä½œè¿™å‡ å¹´ï¼ŒæŠ€æœ¯çš„è¿›æ­¥ä¸»è¦æ¥è‡ªäºŽè‡ªå·±ä¸šä½™æ—¶é—´çš„å­¦ä¹ ï¼Œå·¥ä½œä¸­è¶Šæ¥è¶Šå­¦ä¸å¤ªç€ä¸œè¥¿ï¼Œä¸æ˜¯å› ä¸ºå·¥ä½œä¸­ä¸éœ€è¦ç‰›é€¼çš„æŠ€æœ¯ï¼Œè€Œæ˜¯æ²¡æœ‰äººå’Œç²¾åŠ›åŽ»ç ”ç©¶æ–°æŠ€æœ¯ï¼ŒæµŽå—ç¼ºä¹è¿™ä¸ªçŽ¯å¢ƒï¼Œè€Œä¸”æ˜¯éžå¸¸åŒ®ä¹ã€‚æˆ‘å·²ç»æ·±æ·±æ„Ÿè§‰åˆ°æµŽå—çš„ITè¡Œä¸šæœªæ¥ä¼šé€æ¸ç¼©å°ï¼Œå®žé™…ä¸Šç›®å‰æµŽå—çš„åœˆå­å°±æ˜¯å¾ˆå°çš„ï¼Œç¨å¾®æœ‰ç‚¹è§„æ¨¡çš„å…¬å¸ä¹Ÿå°±é‚£ä¹ˆå‡ å®¶è€Œå·²ã€‚ æˆ‘è‡ªä»Žå¼€å§‹å·¥ä½œå°±ä»¥äº’è”ç½‘å…¬å¸ä¸ºç›®æ ‡ï¼Œå¯ä»¥æµŽå—æ²¡æœ‰ä¸€å®¶çœŸæ­£æ„ä¹‰ä¸Šçš„äº’è”ç½‘å…¬å¸ï¼Œç”¨çš„æŠ€æœ¯ä¹Ÿéƒ½ä¸å’‹åœ°ï¼Œå·¥ä½œäº”å¹´åŽï¼Œæœ‰äº†ä¸€å®šçš„æŠ€æœ¯ç§¯ç´¯ï¼Œå®¶åº­ä¹Ÿç®—ç¨³å®šäº†ï¼Œæ˜¯æ—¶å€™å‡ºæ¥é—¯é—¯äº†ï¼Œä¸èƒ½åœ¨æµŽå—çš„å®‰é€¸çŽ¯å¢ƒä¸­ï¼Œåƒæ°´ç…®é’è›™èˆ¬ç­‰å¾…ç€æµŽå—ITä¸šçš„ä¸‹æ»‘ã€‚ è¿™æ¬¡æ¥åŒ—äº¬æ‰¾å·¥ä½œçš„ç›®æ ‡éžå¸¸æ˜Žç¡®ï¼Œäº’è”ç½‘å…¬å¸ï¼Œæœ€å¥½æ˜¯è§„æ¨¡èƒ½å¤Ÿç¨å¾®å¤§äº›çš„ï¼ŒBATæ›´å¥½ï¼Œä¸æƒ³åŠ å…¥Aè½®çš„å…¬å¸ï¼Œæˆ‘éœ€è¦çš„æ˜¯æˆç†Ÿçš„äº’è”ç½‘å…¬å¸çš„çŽ¯å¢ƒå’ŒæŠ€æœ¯ï¼Œæ¥æ´—åˆ·æˆ‘å·²ç»åœ¨ä¼ ç»Ÿè¡Œä¸šå¥‹æ–—äº†å¤šå¹´çš„æ—§ä¹ ã€‚ æˆ‘æ˜¯è£¸è¾žçš„ï¼Œå› ä¸ºæ¯•ç«Ÿé¢è¯•æ˜¯éœ€è¦åŽ»åŒ—äº¬çš„ï¼Œåœ¨èŒè¯·å‡é¢å¤ªéº»çƒ¦ï¼Œä¸”ä¸èƒ½å¤Ÿå…¨èº«å¿ƒçš„æ‰¾å·¥ä½œã€‚æˆ‘ç»™è‡ªå·±æ‰¾å·¥ä½œçš„æœŸé™ä¸ºä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œæˆ‘æœ€ç»ˆä¸Šç­çš„æ—¶é—´æ˜¯åœ¨20å¤©å¤šç‚¹çš„æ—¶é—´ã€‚ åœ¨è¾žèŒåŽçš„ç¬¬ä¸€å‘¨æˆ‘åœ¨å®¶é‡Œè¾¹ä¼‘æ¯è¾¹çœ‹äº†ä¸€éã€ŠSTLæºç å‰–æžã€‹ï¼Œä¹‹å‰ä¸€ç›´è§‰å¾—æ²¡å¿…è¦çœ‹æ­¤ä¹¦ï¼Œç»“æžœçœ‹èµ·æ¥æ•ˆæžœè¿˜ä¸é”™ï¼Œæ¯”æˆ‘æƒ³è±¡çš„è¦ç®€å•çš„å¤šçš„å¤šã€‚å¦å¤–ï¼Œæˆ‘åˆ¶ä½œäº†è‡ªå·±çš„ç®€åŽ†ï¼ŒåŒ…æ‹¬äº†pdfç‰ˆæœ¬å’Œmarkdownç‰ˆæœ¬ï¼Œå¹¶åœ¨æ‹‰å‹¾ç½‘ä¸ŠæŠ•é€’äº†å‡ ä»½ç®€åŽ†ã€‚ å°±è¿™æ ·ç¬¬ä¸€å‘¨è¿‡åŽ»äº†ï¼Œè€Œæˆ‘æ²¡æœ‰æ”¶åˆ°ä»»ä½•çš„é¢è¯•é€šçŸ¥ï¼Œç¬¬äºŒå‘¨æˆ‘å¿…é¡»åŠ ç´§å¼€å§‹æ‰¾å·¥ä½œäº†ã€‚é¦–å…ˆåœ¨100offerä¸Šç”³è¯·æ‹å–äº†æˆ‘çš„ç®€åŽ†ï¼Œä¹‹å‰ä¸€ç›´å…³æ³¨100offerï¼Œå¾®ä¿¡å…¬ä¼—è´¦å·å’ŒçŸ¥ä¹Žä¸Šç»å¸¸çœ‹åˆ°100offerçš„æ–‡ç« ï¼Œæ„Ÿè§‰æ˜¯ä¸ªé è°±çš„å¹³å°ï¼Œäº‹å®žè¯æ˜Žç¡®å®žæ˜¯ä¸€ä¸ªé è°±çš„å¹³å°ã€‚å¦å¤–ï¼Œæ°å·§æˆ‘åœ¨å¾®ä¿¡å…¬å…±è´¦å·â€œä½™æ™Ÿä»¥ä¸ºâ€çš„æ–‡ç« çœ‹åˆ°äº†æ€Žæ ·å†™ç®€åŽ†çš„æ–‡ç« ï¼Œå°±è·Ÿä½œè€…èŠäº†ä¸€ä¼šï¼Œå¹¶ä¸”ä½œè€…åœ¨twitterä¸ŠæŽ¨èäº†æˆ‘çš„ç®€åŽ†ï¼Œæˆ‘çš„åšå®¢æœ‰å²ä»¥æ¥æ—¥pvè¾¾åˆ°äº†600å¤šï¼Œè¿™æ˜¯æˆ‘æ²¡æœ‰æƒ³åˆ°çš„ï¼Œåœ¨è¿™é‡Œéžå¸¸æ„Ÿè°¢ä½™æ™Ÿçš„æ— ç§å¸®åŠ©ã€‚ 100offerä¸Šæ‹å–åŽæ²¡å¤šä¹…å°±æ”¶åˆ°äº†äºŒä¸ªé¢è¯•é€šçŸ¥ï¼Œå‘¨ä¸‰ä¸Šåˆå°±èµ¶åˆ°äº†åŒ—äº¬å‚åŠ é¢è¯•ã€‚ä¸Šåˆå‚åŠ çš„ä¸€å®¶æ¸¸æˆå…¬å¸çš„é¢è¯•ï¼Œç”¨C++åšåŽå°çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œå…¶å®žæˆ‘å¹¶ä¸å–œæ¬¢æ¸¸æˆç±»å·¥ä½œï¼Œæ¥é¢è¯•ä¹Ÿä»…ä»…æ˜¯ä¸ºäº†äº†è§£åŒ—äº¬é¢è¯•çš„æµç•…å¢žåŠ ä¸€äº›èµ„åŽ†è€Œå·²ã€‚ä¸¤å¤©åŽæ”¶åˆ°äº†è¯¥å…¬å¸çš„offerï¼Œè€Œæˆ‘ç†æ‰€å½“ç„¶æ˜¯æ‹’ç»äº†ã€‚ å‘¨å››ä¸Šåˆå‚åŠ äº†ä¸€ä¸ªåˆ›ä¸šå›¢é˜Ÿçš„é¢è¯•ï¼Œé¢è¯•å®˜å¹´é¾„è·Ÿæˆ‘å·®ä¸å¤šï¼Œé—®çš„é—®é¢˜éžå¸¸å¤šï¼Œéžå¸¸æ‚ï¼Œæœ€åŽè¿˜æœ‰ä¸€ä¸ªæˆ‘æœ€è®¨åŽŒçš„é€»è¾‘é¢˜ï¼Œä¸€ç›´é¢è¯•åˆ°ä¸‹åˆä¸€ç‚¹ã€‚è¿™å®¶å…¬å¸çš„é¢è¯•æ˜¯é€šè¿‡twitterä¸Šçœ‹åˆ°æˆ‘çš„ç®€åŽ†è”ç³»æˆ‘çš„ï¼Œæˆ‘æ¥çš„ç›®çš„å…¶å®žä¹Ÿæ˜¯å‡ºäºŽå­¦ä¹ å’Œäº†è§£è¡Œä¸šã€‚é¢è¯•å®ŒåŽè·Ÿå›¢é˜Ÿæˆå‘˜ä¸€èµ·åƒäº†ä¸ªé¥­ï¼Œä»¤æˆ‘æ„ŸåŠ¨çš„æ˜¯æˆ‘é¢è¯•å®Œå·²ç»ä¸€ç‚¹é’Ÿäº†ï¼Œè€Œå¤§å®¶éƒ½åœ¨ç­‰ç€æˆ‘ä¸€èµ·åƒé¥­ï¼Œå›¢é˜Ÿçš„æˆå‘˜éƒ½æ˜¯åšæŠ€æœ¯çš„ç å†œï¼Œè¿˜æ˜¯éžå¸¸å¥½ç›¸å¤„çš„ã€‚å¦‚æžœæˆ‘å·²ç»æœ‰äº†å‡ å¹´çš„å·¥ä½œç»åŽ†ï¼Œæˆ–è®¸æˆ‘ä¼šé€‰æ‹©è¿™æ ·ä¸€å®¶å…¬å¸ã€‚ ä¸‹åˆå‚åŠ äº†æˆ‘ç›®å‰æ‰€åœ¨å…¬å¸ä¸€ç‚¹èµ„è®¯çš„é¢è¯•ï¼Œé¢è¯•æµç¨‹è¿˜æ˜¯éžå¸¸niceçš„ï¼Œæ„Ÿè§‰è·Ÿæˆ‘å¿ƒç›®ä¸­çš„äº’è”ç½‘å…¬å¸åŸºæœ¬å»åˆï¼Œè™½ç„¶é¢è¯•çš„æ—¶å€™é—®çš„é—®é¢˜è¿‡äºŽç®€å•äº›ï¼Œä»¤æˆ‘æœ‰ç‚¹æ€€ç–‘å…¬å¸çš„çœŸå®žæŠ€æœ¯å®žåŠ›ã€‚å¦å¤–è¿˜é—®äº†ä¸€å †æˆ‘å¹¶ä¸æ·±å…¥çš„webæŠ€æœ¯é—®é¢˜ï¼Œä»¤æˆ‘éžå¸¸æ‰æ€¥ã€‚ æ²¡æœ‰é¢è¯•çš„æ—¶å€™ï¼Œæˆ‘å°±ç›´æŽ¥å›žæµŽå—äº†ï¼Œæ¯•ç«Ÿåœ¨è‡ªå·±å®¶é‡Œæ¯”åŒ—äº¬ä¸çŸ¥èˆ’æœå¤šå°‘å€ã€‚ ç¬¬ä¸‰å‘¨çš„æ—¶å€™ï¼Œæˆ‘å·²ç»å¼€å§‹æœ‰äº›æ…Œäº†ã€‚è¯¥ç”¨çš„èƒ½æœ‰é¢è¯•æœºä¼šçš„æ–¹å¼æˆ‘éƒ½ç”¨äº†ï¼Œè€Œå´æ”¶ä¸åˆ°é¢è¯•çš„é‚€è¯·äº†ã€‚æˆ‘ç”¨åˆ°äº†100offerã€æ‹‰å‹¾ç½‘ã€å†…æŽ¨ã€jobdeerã€åŒå­¦å†…æŽ¨çš„æ–¹å¼ã€‚éš¾é“æ˜¯æˆ‘ç®€åŽ†å†™çš„å¤ªæ°´äº†ï¼Œå¯æ˜¯æˆ‘å·²ç»å¾ˆéš¾æ”¹è¿›è‡ªå·±çš„ç®€åŽ†äº†ï¼Œæˆ‘ä¸æƒ³å°†ç®€åŽ†å†™çš„å¤¸å¼ äº†ã€‚ æˆ‘å¼€å§‹åæ€åŽŸå› ã€‚æˆ‘å‘çŽ°äº’è”ç½‘ç”¨åˆ°çš„æˆ‘æ“…é•¿çš„C++æŠ€æœ¯çš„å…¬å¸éžå¸¸å°‘ï¼Œäº’è”ç½‘è¿½æ±‚çš„æ˜¯çŸ­å¹³å¿«ï¼ŒC++å¹¶ä¸å…·å¤‡å¼€å‘é€Ÿåº¦å¿«çš„ç‰¹ç‚¹ï¼Œå› æ­¤å¹¶ä¸å—äº’è”ç½‘å…¬å¸æ¬¢è¿Žã€‚åƒBATç±»çš„å…¬å¸ç”¨C++æŠ€æœ¯è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œå› ä¸ºåšåˆ°ä¸€å®šç¨‹åº¦ä¼šæ·±ç©¶ç¨‹åºçš„æ€§èƒ½ï¼Œè€Œè¿™æ˜¯C++æ“…é•¿çš„ã€‚è€ŒBATç±»çš„å…¬å¸ï¼Œæˆ‘å¹¶æ²¡æœ‰ä»»ä½•ä¼˜åŠ¿ï¼Œæˆ‘è™½æœ‰å‡ å¹´å·¥ä½œç»éªŒï¼Œä½†æ˜¯éƒ½æ˜¯åœ¨ä¼ ç»Ÿè¡Œä¸šï¼Œäº’è”ç½‘è¡Œä¸šçš„ç»éªŒå´ä¸º0ã€‚å¾ˆå¤šå¤§å…¬å¸çš„hråœ¨çœ‹åˆ°æˆ‘çš„ç®€åŽ†åŽç›´æŽ¥å°±ç»™passæŽ‰äº†ï¼ŒåŽ‹æ ¹æ²¡æœ‰é¢è¯•çš„æœºä¼šã€‚ æˆ‘æ‰¾åŒå­¦å†…æŽ¨äº†ç™¾åº¦çš„ç®€åŽ†ï¼Œå¦å¤–åœ¨æ‹‰å‹¾ç½‘ä¸Šä¹ŸæŠ•äº†ä¸€äº›ç™¾åº¦çš„ç®€åŽ†ã€‚åœ¨æˆ‘å…¥èŒä¹‹å‰çš„å‡ å¤©ç™¾åº¦çš„hrå¦¹å­ç»™æˆ‘ç”µè¯æ²Ÿé€šè¯´ä¸€å‘¨ä¹‹å†…ä¼šç»™æˆ‘é¢è¯•é€šçŸ¥ï¼Œæœ€ç»ˆçš„ç»“æžœæ˜¯ä¸€å‘¨åŽç™¾åº¦hrå¦¹å­ç»™æˆ‘æ‰“ç”µè¯è®©æˆ‘åŽ»é¢è¯•ï¼Œçœ‹æ¥å¤§å…¬å¸çš„æµç¨‹çœŸæ˜¯å¤æ‚ï¼Œè¿žé¢è¯•éƒ½å¾—æŽ’é˜Ÿï¼Œè€Œé‚£å¤©æ˜¯æˆ‘å…¥èŒçš„ç¬¬ä¸€å¤©ã€‚æ²¡åŠžæ³•ï¼Œåªèƒ½å§”å©‰çš„æ‹’ç»äº†ï¼Œhrå€’æ˜¯å¾ˆçˆ½å¿«çš„æŒ‚æŽ‰äº†ç”µè¯ã€‚ ç›®å‰ï¼Œæˆ‘å·²ç»å…¥èŒæœ‰ä¸‰å‘¨çš„æ—¶é—´äº†ï¼Œå·¥ä½œå·²ç»è¶‹äºŽç¨³å®šã€‚æˆ‘ä¹Ÿæ¬åˆ°äº†å…¬å¸é™„è¿‘ï¼Œç¦»å…¬å¸å°±å‡ åˆ†é’Ÿçš„è·¯ç¨‹ï¼Œæ¯•ç«Ÿå°±è‡ªå·±ä¸€ä¸ªäººï¼Œæ²¡å¿…è¦ç¦»å…¬å¸å¤ªè¿œï¼Œä¸Šä¸‹ç­å¤ªæŠ˜è…¾ã€‚æ™šä¸Šä¸€èˆ¬ä¼šåœ¨å…¬å¸å¾…åˆ°åç‚¹ä»¥åŽï¼Œæ¯•ç«Ÿå›žåŽ»äº†ä¹Ÿæ²¡å¤ªæœ‰ä»€ä¹ˆäº‹æƒ…ã€‚å‘¨æœ«ä¼šæŠ½æ—¶é—´å›žæµŽå—è·Ÿå®¶äººå›¢èšï¼Œæˆ–è€…å®¶äººæ¥åŒ—äº¬ï¼Œä¸æœŸæœ›å› ä¸ºå·¥ä½œçš„åŽŸå› è€Œå¯¹å®¶åº­æœ‰æŸä¼¤ã€‚å·¥ä½œæ–¹é¢çš„å†…å®¹è¿˜ç®—æ»¡æ„ï¼Œèƒ½æ¶‰åŠåˆ°å¾ˆå¤šæ–°æŠ€æœ¯ï¼Œå¯¹ä¸ªäººçš„æˆé•¿è¿˜ä¸é”™ï¼Œåªæ˜¯ç»„å†…çš„äººå‘˜è¾ƒå°‘ï¼Œæ²Ÿé€šäº¤æµçš„æœºä¼šä¸å¤Ÿå¤šï¼Œé€šè¿‡æ‹›è˜æ…¢æ…¢å°±ä¼šè§£å†³äº†ã€‚ç”±äºŽç”¨åˆ°çš„å¾ˆå¤šæŠ€æœ¯éƒ½ä¸å¤Ÿç†Ÿæ‚‰ï¼Œè‡ªå·±ä¿¨ç„¶å˜æˆäº†ä¸€ä¸ªèœé¸Ÿï¼Œæœ‰å¤§é‡çš„æŠ€æœ¯éœ€è¦å­¦ä¹ ã€‚åŒäº‹ä¹Ÿè¿˜æ¯”è¾ƒç»™åŠ›ï¼Œå¤§å®¶å¯¹å·¥ä½œä¹Ÿå¾ˆè®¤çœŸè´Ÿè´£ï¼Œå›¢é˜Ÿçš„å‡èšåŠ›ä¹Ÿç¬¦åˆæˆ‘çš„é¢„æœŸã€‚ æ€»ç»“æ¥çœ‹ï¼Œè¿™æ®µæ‰¾å·¥ä½œçš„ç»åŽ†è™½æœ‰å¾ˆå¤šå¤±è¯¯çš„åœ°æ–¹ï¼Œé”™è¯¯çš„å¯¹è¡Œä¸šçš„éœ€æ±‚è¿›è¡Œäº†ä¼°è®¡ï¼Œä»¥ä¸ºC++ç¨‹åºå‘˜å¾ˆæŠ¢æ‰‹ï¼Œäº‹å®žå¹¶ä¸æ˜¯å¦‚æ­¤ï¼Œä½†ç»“æžœè¿˜ç®—æ»¡æ„ã€‚çŽ°åœ¨è‡ªå·±ä¸€ä¸ªäººåœ¨åŒ—äº¬å¥‹æ–—ï¼ŒæœŸæœ›é€šè¿‡è‡ªå·±çš„åŠªåŠ›èƒ½å¤Ÿæœ‰ä¸ªå¥½çš„æ”¶è´§ã€‚è¦æƒ³å†™çš„ä¸œè¥¿å¾ˆå¤šï¼Œå¾ˆå¤šéƒ½ä¸€ç¬”å¸¦è¿‡äº†ï¼ŒéžæŠ€æœ¯ç±»çš„æ–‡ç« å†™èµ·æ¥è¿˜æ˜¯æŒºè´¹è„‘åŠ›çš„ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[getaddrinfoå‡½æ•°è°ƒç”¨é—®é¢˜]]></title>
      <url>%2Fpost%2Fquestion_getaddrinfo%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘åœ¨å¼€å‘ç¨‹åºçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€ä¸ªgetaddrinfoå‡½æ•°çš„é—®é¢˜ï¼Œä»¤æˆ‘æ„Ÿåˆ°éžå¸¸å¥‡æ€ªã€‚ ç¨‹åºä¸­è°ƒç”¨äº†librdkafkaåº“ï¼Œå½“ç¨‹åºé€‰æ‹©ç”¨-staticæ–¹å¼é“¾æŽ¥æ‰€æœ‰åº“æ—¶ç¨‹åºä¼šåœ¨librdkafkaåº“ä¸­æŸä¸ªå‡½æ•°core dumpï¼Œä½†æ˜¯é€‰æ‹©åŠ¨æ€é“¾æŽ¥ç³»ç»Ÿåº“ï¼ˆåŒ…æ‹¬libpthreadã€libdlã€libzã€libmã€libcç­‰ï¼‰æ—¶ç¨‹åºå´èƒ½æ­£å¸¸è¿è¡Œã€‚ æ¯æ¬¡ç¨‹åºéƒ½å›žcore dumpåœ¨getaddrinfoå‡½æ•°ä¸­ï¼Œç»è¿‡æœç´¢å‘çŽ°æœ‰äººè·Ÿæˆ‘é‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œä½†æ˜¯å´æ²¡æœ‰è§£å†³æ–¹æ¡ˆã€‚ æˆ‘è¿™é‡Œå®žéªŒäº†æ–‡ä¸­æåˆ°äº†ä¾‹å­ï¼Œåœ¨é™æ€é“¾æŽ¥çš„æ—¶å€™ç¡®å®žä¼šæŠ¥é”™ï¼ŒåŠ¨æ€é“¾æŽ¥å´éžå¸¸æ­£å¸¸ï¼Œç¼–è¯‘é€‰é¡¹ä¸ºg++ -o test_getaddrinfo test_getaddrinfo.cpp -lpthread -Wall -staticã€‚ 123456789101112131415161718192021222324include &lt;stdio.h&gt;#include &lt;netdb.h&gt;#include &lt;pthread.h&gt;#include &lt;unistd.h&gt;void *test(void *)&#123; struct addrinfo *res = NULL; fprintf(stderr, "x="); int ret = getaddrinfo("localhost", NULL, NULL, &amp;res); fprintf(stderr, "%d ", ret); return NULL;&#125;int main()&#123; for (int i = 0; i &lt; 512; i++) &#123; pthread_t thr; pthread_create(&amp;thr, NULL, test, NULL); &#125; sleep(5); return 0;&#125; å‘çŽ°ç¨‹åºåœ¨é“¾æŽ¥çš„æ—¶å€™ä¼šæç¤ºå¦‚ä¸‹è­¦å‘Šï¼š 1234/tmp/cc0WILtn.o: In function `test(void*)&apos;:test_getaddrinfo.cpp:(.text+0x49): warning: Using &apos;getaddrinfo&apos; in statically linked applications requires at runtime the shared libraries from the glibc version used for linking/usr/lib/gcc/x86_64-redhat-linux/4.8.3/../../../../lib64/libpthread.a(libpthread.o): In function `sem_open&apos;:(.text+0x685b): warning: the use of `mktemp&apos; is dangerous, better use `mkstemp&apos; ä»Žç½‘ä¸ŠæŸ¥çœ‹æœ‰è¯¥è­¦å‘Šçš„äººè¿˜æ˜¯éžå¸¸å¤šçš„ï¼Œéƒ½æ˜¯åœ¨-staticæ–¹å¼é“¾æŽ¥glibcåº“æ—¶é‡åˆ°çš„ï¼Œä½†æ˜¯æ²¡æœ‰å‘çŽ°å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚è¯¥é—®é¢˜çš„åŽŸå› äº§ç”Ÿä¼°è®¡æ˜¯glibcåœ¨é™æ€é“¾æŽ¥æ—¶è°ƒç”¨libnssåº“å­˜åœ¨é—®é¢˜ï¼Œå› æ­¤ä¸æå€¡é™æ€é“¾æŽ¥æ–¹å¼ã€‚ æˆ‘çœ‹åˆ°äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š æ–¹æ¡ˆä¸€ï¼šç”¨newlibæˆ–uClibcæ¥ä»£æ›¿glibcæ¥é™æ€é“¾æŽ¥ï¼Œè¿™ç§æ–¹æ¡ˆæˆ‘æ²¡æœ‰åŽ»å°è¯•æ˜¯å¦å¯è¡Œã€‚ æ–¹æ¡ˆäºŒï¼šç”¨--enable-static-nssé‡æ–°ç¼–è¯‘glibcã€‚æˆ‘è¯•äº†ä¸€ä¸‹é—®é¢˜ä»ç„¶å­˜åœ¨ã€‚ æˆ‘ä¹‹æ‰€ä»¥é‡‡ç”¨é™æ€é“¾æŽ¥çš„æ–¹å¼ï¼Œæ˜¯å› ä¸ºå¼€å‘æœºå™¨å’Œè¿è¡Œæœºå™¨çš„glibcç‰ˆæœ¬ä¸ä¸€è‡´é€ æˆçš„ã€‚æˆ‘å°è¯•å°†libc.soç›¸å…³æ–‡ä»¶å¤åˆ¶è¿è¡Œæœºå™¨ä¸Šï¼Œå¹¶è®©ç¨‹åºé“¾æŽ¥æˆ‘å¤åˆ¶è¿‡åŽ»çš„æ–‡ä»¶ï¼ŒlddæŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶æ²¡æœ‰é”™è¯¯ï¼Œä½†æ˜¯å½“è¿è¡Œç¨‹åºæ—¶ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š 1./xxx: relocation error: /home/kuring/lib/libc.so.6: symbol _dl_starting_up, version GLIBC_PRIVATE not defined in file ld-linux-x86-64.so.2 with link time reference æœ€ç»ˆï¼Œæˆ‘æ”¾å¼ƒäº†é™æ€é“¾æŽ¥çš„æ–¹å¼ï¼Œé‡‡ç”¨äº†åŠ¨æ€é“¾æŽ¥æ–¹å¼æ¥æš‚æ—¶è§£å†³äº†é—®é¢˜ã€‚å¦‚æžœä½ çŸ¥é“è§£å†³æ–¹æ¡ˆï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚ å‚è€ƒæ–‡ç«  getaddrinfo causes segfault if multithreaded and linked statically Even statically linked programs need some shared libraries which is not acceptable for me. Create statically-linked binary that uses getaddrinfo? Static Linking Considered Harmful]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[LNMPå¼€å‘çŽ¯å¢ƒæ­å»º]]></title>
      <url>%2Fpost%2Fbuild_lnmp%2F</url>
      <content type="text"><![CDATA[è¿™æ˜¯ä¸€ç¯‡æ‹¿æ¥ä¸»ä¹‰çš„æ–‡ç« ï¼Œæ‰€æœ‰çš„å®‰è£…æ­¥éª¤ä»…ä¸ºäº’è”ç½‘ä¸ŠæŸ¥æ‰¾ï¼Œç½‘ç»œä¸Šçš„æ•™ç¨‹å„ç§å‡Œä¹±ï¼Œè¿™é‡Œæ ¹æ®æˆ‘çš„å®žè·µæƒ…å†µè¿›è¡Œäº†æ›´æ”¹ï¼Œæœ¬æ–‡ä»…è®°å½•äº†æˆ‘çš„å®‰è£…è¿‡ç¨‹ï¼Œç”±äºŽä¸åŒçŽ¯å¢ƒå¯èƒ½å¯¼è‡´å®‰è£…æ­¥éª¤ä¸ç”šç›¸åŒã€‚ MAC OS X 10.10phpMac OSX 10.10çš„ç³»ç»Ÿè‡ªå¸¦äº†phpã€php-fpmï¼ŒçœåŽ»äº†å®‰è£…çš„éº»çƒ¦ï¼Œå¯ä»¥æ‰§è¡Œphp -væŸ¥çœ‹phpçš„ç‰ˆæœ¬ã€‚è¿™é‡Œéœ€è¦ç®€å•åœ°ä¿®æ”¹ä¸‹php-fpmçš„é…ç½®ï¼Œå¦åˆ™è¿è¡Œphp-fpmä¼šæŠ¥é”™ã€‚ 12sudo cp /private/etc/php-fpm.conf.default /private/etc/php-fpm.confvim /private/etc/php-fpm.conf ä¿®æ”¹php-fpm.confæ–‡ä»¶ä¸­çš„error_logé¡¹ï¼Œé»˜è®¤è¯¥é¡¹è¢«æ³¨é‡ŠæŽ‰ï¼Œè¿™é‡Œéœ€è¦åŽ»æ³¨é‡Šå¹¶ä¸”ä¿®æ”¹ä¸ºerror_log = /usr/local/var/log/php-fpm.logã€‚å¦‚æžœä¸ä¿®æ”¹è¯¥å€¼ï¼Œè¿è¡Œphp-fpmçš„æ—¶å€™ä¼šæç¤ºlogæ–‡ä»¶è¾“å‡ºè·¯å¾„ä¸å­˜åœ¨çš„é”™è¯¯ã€‚ å¦‚æžœç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªphp-fpm.confï¼Œä¸çŸ¥é“éœ€è¦ç¼–è¾‘å“ªä¸€ä¸ªï¼Œå¯ä»¥æ‰§è¡Œphp-fpm -tå‘½ä»¤æŸ¥çœ‹php-fpmè¦è¯»å–çš„é…ç½®æ–‡ä»¶ã€‚ é€šè¿‡php-fpm -Dæ¥å¯åŠ¨php-fpmï¼Œå¯ä»¥é€šè¿‡lsof -Pni4 | grep LISTEN | grep phpå‘½ä»¤æ¥æŸ¥çœ‹php-fpmæ˜¯å¦ç›‘å¬åœ¨9000ç«¯å£ã€‚ nginxè¿™é‡Œä¸ºäº†ç®€å•ï¼Œç›´æŽ¥é‡‡ç”¨äº†brewçš„æ–¹å¼å®‰è£…ã€‚æ‰§è¡Œ 1brew install nginx nginxçš„é…ç½®æ–‡ä»¶ä½äºŽ/usr/local/etc/nginx/nginx.confï¼Œé»˜è®¤åªèƒ½è§£æžhtmlæ–‡ä»¶ï¼Œéœ€è¦é…ç½®åŽæ‰èƒ½è°ƒç”¨php-fpmè§£æžphpæ–‡ä»¶ã€‚ä¸‹é¢å†…å®¹ä¸ºè¯¥ä¿®æ”¹åŽçš„æ–‡ä»¶å…¨éƒ¨æœ‰æ•ˆå†…å®¹ï¼š 123456789101112131415161718192021222324252627282930worker_processes 1;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server &#123; listen 8080; server_name localhost; root /Users/kuring/www; // é¡µé¢å­˜æ”¾è·¯å¾„ location / &#123; index index.html index.htm index.php; &#125; error_page 500 502 503 504 /50x.html; location = /50x.html &#123; root html; &#125; location ~ \.php$ &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; &#125; &#125;&#125;include servers/*; ç„¶åŽæ‰§è¡Œnginxå‘½ä»¤å³å¯å¯åŠ¨ï¼Œé»˜è®¤ç›‘å¬çš„ç«¯å£ä¸º8080ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://127.0.0.1:8080å³å¯çœ‹åˆ°nginxçš„åˆå§‹ç•Œé¢ã€‚nginxè¦æƒ³ç›‘å¬1024ä»¥ä¸‹ç«¯å£è¿˜éœ€è¦è¿›ä¸€æ­¥çš„é…ç½®ï¼Œ8080ç«¯å£æ—¢èƒ½æ»¡è¶³æˆ‘éœ€æ±‚ï¼Œä¸å†æ›´æ”¹ã€‚ mysql1brew install mysql åœ¨å¯åŠ¨mysqlä¹‹å‰å¯å¯¹mysqlçš„é…ç½®æ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼Œæˆ‘è¿™é‡Œéœ€è¦æ›´æ”¹mysqlçš„ç¼–ç æ–¹å¼ï¼Œå°†æ‰€æœ‰çš„ç¼–ç æ–¹å¼éƒ½æ›´æ”¹ä¸ºutf8ï¼Œé˜²æ­¢ä¹±ç é—®é¢˜çš„å‘ç”Ÿã€‚mysqlçš„é…ç½®æ–‡ä»¶ä¸ºmy.cnfï¼Œæˆ‘çš„ä½äºŽ/usr/local/Cellar/mysql/5.6.25/my.cnfï¼Œå¯¹æ–‡ä»¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œæœ‰äº›é€‰é¡¹ä¸å­˜åœ¨ï¼Œå¯æ‰‹åŠ¨æ·»åŠ ã€‚ 12345678[mysqld]character-set-server=utf8[client]default-character-set=utf8[mysqld_safe]default-character-set=utf8 è¾“å…¥mysqldå‘½ä»¤å³å¯å¯åŠ¨mysqlï¼Œå¯åŠ¨mysqlåŽè¾“å…¥mysql_secure_installationå‘½ä»¤å¯¹mysqlè¿›è¡Œé…ç½®ï¼Œå¯ä»¥è®¾ç½®rootç”¨æˆ·çš„å¯†ç ã€‚ é€šè¿‡mysql -uroot -på‘½ä»¤è¿žæŽ¥åˆ°mysqlåŽï¼Œè¾“å…¥statuså‘½ä»¤å¯æŸ¥çœ‹åˆšæ‰æ›´æ”¹çš„ç¼–ç æ˜¯å¦ç”Ÿæ•ˆã€‚ ç”±äºŽä¸éœ€è¦é•¿æœŸä½¿ç”¨mysqlï¼Œè¿™é‡Œä¸è®¾ç½®mysqlè‡ªå¯åŠ¨å‘½ä»¤ã€‚ CentOS6æˆ‘é¦–å…ˆé‡‡ç”¨çš„æ–¹æ¡ˆä¸ºå®Œå…¨ç”¨æ™®é€šç”¨æˆ·å®‰è£…ï¼Œå°è¯•å¤±è´¥åŽé‡‡ç”¨rootå®‰è£…ä¾èµ–åº“æ™®é€šç”¨æˆ·ç¼–è¯‘ç¨‹åºçš„æ–¹æ¡ˆã€‚ æ™®é€šç”¨æˆ·å®‰è£…ä¾èµ–åº“æˆ‘é¦–é€‰é€‰æ‹©åœ¨æ™®é€šç”¨æˆ·kuringä¸‹è¿›è¡Œå®‰è£…å’Œè¿è¡Œæ•´ä¸ªwebçŽ¯å¢ƒã€‚å› æ­¤ä¸èƒ½ä½¿ç”¨yumå®‰è£…æ–¹å¼ï¼Œå¿…é¡»é‡‡ç”¨æºç å®‰è£…çš„æ–¹å¼ã€‚é€šè¿‡æ™®é€šç”¨æˆ·å®‰è£…ï¼Œæœ€éº»çƒ¦çš„åœ°æ–¹å°±åœ¨äºŽéœ€è¦å®‰è£…å¾ˆå¤šçš„ä¾èµ–åº“ï¼Œè€Œä¾èµ–çš„åº“çš„å®‰è£…å¯èƒ½åˆæœ‰éœ€è¦çš„åº“ï¼Œä¸”åº“ä¹‹é—´å­˜åœ¨ç‰ˆæœ¬é—®é¢˜ã€‚ é¦–å…ˆæ™®åŠå‡ ä¸ªå°çŸ¥è¯†ï¼š bashæŸ¥æ‰¾å‘½ä»¤çš„å…ˆåŽé¡ºåºä¸ºï¼š aliasåˆ«å shellä¸­çš„å…³é”®å­—ï¼Œå¦‚ifç­‰ shellä¸­çš„å‡½æ•° shellå†…ç½®å‘½ä»¤ï¼Œå¦‚echoç­‰ $PATHçŽ¯å¢ƒå˜é‡ï¼ŒPATHä¸­çš„åŒ¹é…é¡ºåºä¸ºä»Žå‰å‘åŽçš„ã€‚ ç¨‹åºæŸ¥æ‰¾libåº“çš„å…ˆåŽé¡ºåºä¸ºï¼š ç¼–è¯‘ç¨‹åºæ—¶æŒ‡å®šçš„é“¾æŽ¥åº“è·¯å¾„ï¼Œg++ç¼–è¯‘å™¨å¯ä»¥é€šè¿‡-Wl,-rpath,è·¯å¾„æ¥æŒ‡å®šé“¾æŽ¥åº“çš„è·¯å¾„ã€‚ çŽ¯å¢ƒå˜é‡LD_LIBRARY_PATHæŒ‡å®šçš„æœç´¢è·¯å¾„ã€‚ /etc/ld.so.confæŒ‡å®šçš„è·¯å¾„ã€‚ é»˜è®¤çš„ç³»ç»ŸåŠ¨æ€åº“æœç´¢è·¯å¾„ï¼Œå¦‚/usr/lib64ã€/usr/local/lib64ç­‰ã€‚ å¾ˆå¤šç¨‹åºé‡‡ç”¨pkg-configç¨‹åºæ¥æ£€æŸ¥åº“çš„ç‰ˆæœ¬å·ï¼Œpkg-configå‘½ä»¤ä¾èµ–äºŽåŠ¨æ€é“¾æŽ¥åº“å¯¹åº”çš„.pcæ–‡ä»¶ï¼Œè¿™äº›.pcæ–‡ä»¶ä¸€èˆ¬ä½äºŽç³»ç»Ÿçš„/usr/local/lib/pkgconfigç›®å½•ä¸‹ã€‚ä¸ºäº†èƒ½å¤Ÿå°†å®‰è£…å®Œæˆçš„åº“é€šè¿‡pkg-configæ‰¾åˆ°å¯¹åº”çš„.pcæ–‡ä»¶ï¼Œéœ€è¦å°†.pcæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„/home/kuring/local/lib/pkg-configè®¾ç½®åˆ°çŽ¯å¢ƒå˜é‡PKG_CONFIG_PATHä¸­ã€‚ å®‰è£…phpä¾èµ–çš„libxml2åº“æ—¶æç¤ºæ‰¾ä¸åˆ°libtoolã€autoconfå’Œautomakeï¼Œé¦–å…ˆå®‰è£…libtoolã€‚æ‰§è¡Œ./configure --prefix=/home/kuring/local;make; make installå°†å…¶å®‰è£…åˆ°å½“å‰ç”¨æˆ·çš„localç›®å½•ä¸‹ã€‚ ç”¨åŒæ ·çš„æ­¥éª¤å®‰è£…autoconfï¼Œæ‰§è¡Œ./configure --prefix=/home/kuring/local;make; make installã€‚ ä¸ºäº†èƒ½å¤Ÿå°†å®‰è£…çš„ç¨‹åºèµ·ä½œç”¨ï¼Œéœ€è¦å°†/home/kuring/localç›®å½•æ·»åŠ åˆ°PATHçŽ¯å¢ƒå˜é‡ä¸­ï¼Œåœ¨.bash_profileæ–‡ä»¶ä¸­æ·»åŠ PATH=$PATH:$HOME/local/binè¯­å¥ï¼Œå¹¶æ‰§è¡Œsource ~/.bash_profileã€‚ å®‰è£…ä¹‹å‰éœ€è¦å…ˆå®‰è£…libxml2åº“ï¼Œä¸‹è½½åœ°å€é‡‡ç”¨git clone git://git.gnome.org/libxml2çš„æ–¹å¼ä¸‹è½½ã€‚åœ¨æ‰§è¡Œsh autogenäº§ç”Ÿconfigureé…ç½®æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå‘çŽ°æç¤º 12./configure: line 13094: syntax error near unexpected token `LZMA,liblzma,&apos;./configure: line 13094: ` PKG_CHECK_MODULES(LZMA,liblzma,&apos; ç»è¿‡å‘çŽ°æ˜¯ç”±äºŽæ‰¾ä¸åˆ°PKG_CHECK_MODULESé€ æˆçš„ï¼Œæ­£å¸¸æƒ…å†µä¸‹è¯¥å‡½æ•°å®šä¹‰åœ¨aclocal.m4æ–‡ä»¶ï¼Œè€Œè¯¥æƒ…å†µä¸‹aclocal.m4æ–‡ä»¶ä¸­å¹¶ä¸å­˜åœ¨è¯¥å‡½æ•°ã€‚ä¹‹æ‰€ä»¥ä¸å­˜åœ¨æ˜¯ç”±äºŽaclocalå‘½ä»¤æ‰¾ä¸åˆ°pkg.m4æ–‡ä»¶é€ æˆçš„ï¼Œå¯ä»¥é€šè¿‡aclocal --printå‘½ä»¤æŸ¥çœ‹æŸ¥æ‰¾çš„pkg.m4æ–‡ä»¶çš„è·¯å¾„ã€‚æˆ‘è¿™é‡Œçš„è§£å†³æ€è·¯ä¸ºç›´æŽ¥ä»Žå…¶ä»–æœºå™¨ä¸Šå¤åˆ¶ä¸€ä¸ªpkg.m4æ–‡ä»¶è¿‡æ¥ã€‚ åœ¨äº§ç”Ÿäº†configureå‘½ä»¤åŽï¼Œæ‰§è¡Œ./configure --prefix=/home/kuring/localå‘½ä»¤åŽå‘çŽ°æç¤ºæ‰¾ä¸åˆ°Python.hå‘½ä»¤çš„é”™è¯¯ã€‚ é‰´äºŽé‡åˆ°äº†å¦‚æ­¤ä¹‹å¤šçš„é”™è¯¯ï¼Œæœ¬ç€ä¸æµªè´¹ç”Ÿå‘½çš„åŽŸåˆ™è¿˜æ˜¯é‡‡ç”¨yumæ¥å®‰è£…ä¾èµ–åº“å§ã€‚ phpè¿™é‡Œçš„mysqlç›´æŽ¥é‡‡ç”¨äº†yumå‘½ä»¤å®‰è£…çš„ã€‚ åœ¨æ‰§è¡Œphpçš„./configureå‘½ä»¤åŽæç¤ºlibxml2æ‰¾ä¸åˆ°é”™è¯¯ï¼Œç›´æŽ¥yum install libxml-develå‘½ä»¤å®‰è£…libxml-develå³å¯ã€‚ç„¶åŽæ‰§è¡Œ./configure --enable-fpm --prefix=/home/kuring/php5.5 --with-mysqli=/usr/bin/mysql_config;make; make install;ã€‚åœ¨ç¼–è¯‘phpçš„æ—¶å€™è¦åŠ ä¸Šphp-fpmé€‰é¡¹æ¥å®‰è£…php-fpmå‘½ä»¤ã€‚ å®‰è£…åŽé…ç½®~/.bash_profileæ–‡ä»¶çš„$PATHçŽ¯å¢ƒå˜é‡çš„å€¼ä¸ºï¼šPATH=$HOME/bin:$HOME/php5.5/bin:$HOME/php5.5/sbin:$PATHã€‚ æ­¤æ—¶å³å¯é€šè¿‡php-fpm -Då‘½ä»¤æ¥å¯åŠ¨php-fpmå‘½ä»¤äº†ã€‚ å®‰è£…å®ŒæˆåŽé€šè¿‡phpinfo()å‡½æ•°æŸ¥çœ‹é‡Œé¢æœ‰MySQLiçš„é€‰é¡¹ï¼Œä½†æ˜¯å®žé™…ç¨‹åºè¿è¡Œçš„æ—¶å€™å±…ç„¶ä¸æ”¯æŒmysqliçš„ä¸€äº›åŠ›å‡½æ•°ï¼Œè¯´æ˜Žmysqliçš„æ‰©å±•å®‰è£…ä¸æˆåŠŸã€‚åœ¨/home/kuring/php5.5/include/php/ext/mysqliç›®å½•ä¸­æ‰¾åˆ°äº†å¯¹åº”çš„.hæ–‡ä»¶ï¼Œå´æ²¡æœ‰æ‰¾åˆ°mysqli.soçš„åŠ¨æ€é“¾æŽ¥åº“æ–‡ä»¶ã€‚å¤§æ¦‚æ˜¯ç”±äºŽåœ¨ç¼–è¯‘phpæ—¶mysqlçš„è·¯å¾„é…ç½®æœ‰äº›é—®é¢˜é€ æˆçš„ï¼Œå› ä¸ºmysqlæ˜¯é€šè¿‡yumå®‰è£…çš„ï¼Œè·¯å¾„æ¯”è¾ƒä¹±ä¸€äº›ã€‚ ä¸ºäº†èƒ½å¤Ÿäº§ç”Ÿmysqli.soæ–‡ä»¶ï¼Œé‡‡ç”¨å•ç‹¬ç¼–è¯‘çš„æ–¹å¼ï¼Œåœ¨phpçš„æºç ç›®å½•ä¸­å·²ç»åŒ…å«äº†mysqliçš„æºç ï¼Œè¿›å…¥mysqliæºç ç›®å½•ä¸‹æ‰§è¡Œphpize;./configure --prefix=/home/kuring/php5.5/mysqli --with-php-config=/home/kuring/php5.5/bin/php-config --with-mysqli=/usr/bin/mysql_config;make;make installï¼›ã€‚å°†mysqli.soæ–‡ä»¶å®‰è£…åˆ°äº†/home/kuring/php5.5/lib/php/extensions/no-debug-non-zts-20121212ç›®å½•ä¸‹ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆç›®å½•æœ«å°¾è¿˜è¦åŠ ä¸ªè¿™ä¹ˆé•¿çš„æ–‡ä»¶å¤¹åï¼Œç›´æŽ¥å°†æ–‡ä»¶å¤åˆ¶åˆ°ä¸Šä¸€çº§ç›®å½•ä¸‹ã€‚ åœ¨/home/kuring/php5.5ç›®å½•ä¸‹æ²¡æœ‰æ‰¾åˆ°php.iniæ–‡ä»¶ï¼Œé€šè¿‡php --iniå‘½ä»¤æŸ¥çœ‹phpçš„é…ç½®æ–‡ä»¶è·¯å¾„ä¸º/home/kuring/php5.5/libï¼Œç›´æŽ¥ä»Žphpçš„æºç æ–‡ä»¶ä¸­å¤åˆ¶ä¸€ä¸ªphp.iniæ–‡ä»¶åˆ°è¯¥ç›®å½•ä¸‹ã€‚å¹¶å°†php.iniä¸­çš„å¢žåŠ å¦‚ä¸‹å†…å®¹ï¼š 12extension_dir = &quot;/home/kuring/php5.5/lib/php/extensions&quot;extension=mysqli.so å†è¿è¡Œç¨‹åºï¼Œå‘çŽ°mysqliçš„ç³»åˆ—å‡½æ•°å·²ç»æ”¯æŒäº†ï¼Œå¥½ä¸€æ®µæŠ˜è…¾ã€‚ php-fpmæ‰§è¡Œcp $HOME/php5.5/etc/php-fpm.conf.default $HOME/php5.5/etc/php-fpm.confæ¥å¢žåŠ é…ç½®æ–‡ä»¶ã€‚ nginxé¦–å…ˆå®‰è£…pcreåº“ï¼Œè¯¥åº“ä¸ºæ­£åˆ™è¡¨è¾¾å¼åº“ã€‚ä¸‹è½½åŽé€šè¿‡ ä¸‹è½½æºç åŽæ‰§è¡Œ./configure --prefix /home/kuring/nginx;make;make install;å³å¯å®‰è£…å®Œæˆã€‚ ä¿®æ”¹nginxçš„é…ç½®æ–‡ä»¶ä¸ºå¦‚ä¸‹å†…å®¹ï¼š 123456789101112131415161718192021222324252627282930worker_processes 1;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server &#123; listen 8080; server_name localhost; root /home/kuring/www; location / &#123; index index.html index.htm index.php; &#125; error_page 500 502 503 504 /50x.html; location = /50x.html &#123; root html; &#125; location ~ \.php$ &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; &#125; &#125;&#125;include servers/*; å¸¸è§æ“ä½œnginx nginx -s stopï¼šå…³é—­ nginx -tï¼šæ£€æµ‹nginxçš„é…ç½®æ˜¯å¦æ­£ç¡® mysql mysqld_safeï¼šå¯åŠ¨mysql mysqladmin shutdown -u root -pï¼šå…³é—­mysql create user kuring identified by â€˜kuring_passâ€™ï¼šmysqlåˆ›å»ºç”¨æˆ·ï¼ˆæˆ‘å°è¯•è¿‡å‡ æ¬¡ï¼Œæ¯æ¬¡åˆ›å»ºçš„ç”¨æˆ·å¯†ç éƒ½ä¸ºç©ºï¼‰ drop user kuringï¼šåˆ é™¤ä¸€ä¸ªç”¨æˆ· grant all privileges on . to â€˜rootâ€˜@â€™%â€™ identified by â€˜rootâ€™ with grant option ï¼šå…è®¸mysqlçš„rootç”¨æˆ·é€šè¿‡è¿œç¨‹ç™»å½• åˆ›å»ºç”¨æˆ·çš„æ“ä½œä½¿ç”¨create user kuring identified by &#39;kuring_pass&#39;å‘½ä»¤åˆ›å»ºç”¨æˆ·kuringã€‚é»˜è®¤åˆ›å»ºå®Œæˆçš„ç”¨æˆ·åœ¨æœ¬æœºæ— æ³•ç™»é™†ï¼Œä½†æ˜¯è¿œç¨‹å´å¯ä»¥ç™»é™†ã€‚ è¿™æ˜¯å› ä¸ºmysqlæ•°æ®åº“ä¸­çš„userè¡¨ä¸­å­˜åœ¨ä¸€æ¡è®°å½•é€ æˆçš„ã€‚ 12345678910111213141516use mysql;select user,host,password from user;// åœ¨è¡¨ä¸­å­˜åœ¨ä¸€æ¡ç”¨æˆ·åä¸ºç©ºçš„è®°å½•+---------+-----------+-------------------------------------------+| User | host | password |+---------+-----------+-------------------------------------------+| root | localhost | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B || root | 127.0.0.1 | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B || root | ::1 | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B || | localhost | || root | % | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B || report1 | % | *884CAA4D6FA1C3F7E4849C8DAF1B5B37FCB3EC0B |+---------+-----------+-------------------------------------------+// å°†mysqlä¸­çš„ä¸ºç©ºçš„è®°å½•åˆ é™¤æŽ‰ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡åˆ›å»ºçš„ç”¨æˆ·è¿žæŽ¥äº† åœ¨mysqlå‘½ä»¤è¡Œä¸­æ‰§è¡Œgrant all privileges on kuring_db.* to kuring identified by &#39;kuring_pass&#39;å‘½ä»¤å¯ä»¥ç»™åˆšåˆ›å»ºçš„ç”¨æˆ·å¯¹æ•°æ®åº“çš„æƒé™ã€‚ ä¿®æ”¹mysqlç”¨æˆ·å¯†ç mysqlå°†ç”¨æˆ·åå’Œå¯†ç å­˜æ”¾åˆ°äº†mysqlæ•°æ®åº“çš„userè¡¨ä¸­ï¼Œåœ¨mysqlå‘½ä»¤è¡Œä¸­æ‰§è¡Œuse mysql;update user set password=password(&quot;new password&quot;) where user=&quot;username&quot;;flush privileges;å³å¯æ›´æ–°ç›¸åº”ç”¨æˆ·çš„å¯†ç ã€‚ php-fpm php-fpm -Dï¼šå¯åŠ¨php-fpmï¼Œå¦‚æžœéœ€è¦æŒ‡å®šphp.iniæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨-cå‚æ•° php-fpm -tï¼šæ£€æŸ¥php-fpmçš„é…ç½®æ–‡ä»¶ kill -USR2: é‡å¯php-fpm kill -INT: åœæ­¢php-fpm php php â€“iniï¼šæ˜¾ç¤ºphp.iniæ–‡ä»¶è·¯å¾„ å‚è€ƒæ–‡ç«  è¿ç”¨Autoconfå’ŒAutomakeç”ŸæˆMakefileçš„å­¦ä¹ ä¹‹è·¯]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å…¬å¸é—®é¢˜åŠç»éªŒæ€»ç»“]]></title>
      <url>%2Fpost%2Fcompany_question%2F</url>
      <content type="text"><![CDATA[æˆ‘åœ¨è½¯ä»¶è¡Œä¸šå·¥ä½œå·²ç»æœ‰äº”ä¸ªå¹´å¤´äº†ï¼Œåœ¨çŽ°åœ¨è¿™å®¶å…¬å¸å·²ç»æœ‰ä¸¤ä¸ªå¹´å¤´äº†ã€‚è™½ç„¶èº«ä¸ºå…¬å¸çš„ç ”å‘éƒ¨ç»ç†å¯ä»¥å‚ä¸Žå…¬å¸çš„ä¸€äº›å†³å®šï¼Œä½†æ˜¯æ²¡æœ‰ç»å¯¹çš„è¯è¯­æƒï¼Œå¯¹äºŽå…¬å¸çš„å¾ˆå¤šå†³å®šæˆ‘æ·±çŸ¥æ˜¯é”™è¯¯çš„ï¼Œè™½ç„¶åŽæ¥ä¹Ÿè¯æ˜Žæ˜¯é”™è¯¯çš„ï¼Œä½†æ˜¯æˆ‘ä»ç„¶æ— èƒ½ä¸ºåŠ›ã€‚è¿™é‡Œæ€»ç»“ä¸€ä¸‹åœ¨å…¬å¸ä¸­é‡åˆ°çš„é—®é¢˜ã€‚ å®å¯æ‹›è˜ä¸€ä¸ªæŠ€æœ¯æ°´å¹³é«˜çš„ä¹Ÿä¸æ„¿æ‹›è˜ä¸‰ä¸ªæŠ€æœ¯æ°´å¹³ä½Žçš„ã€‚åœ¨å·¥ä½œä¸­èƒ½å¤Ÿéžå¸¸æœ‰åŠ›çš„è¯æ˜Žè¿™ä¸€ç‚¹ï¼Œä¸‰ä¸ªåˆšå·¥ä½œçš„æŠ€æœ¯äººå‘˜ï¼Œå°¤å…¶å¯¹äºŽC++è¿™æ ·é—¨æ§›ç¨å¾®é«˜ä¸€äº›ï¼Œéœ€è¦å·¥ä½œç»éªŒæ¥å¼¥è¡¥C++ä¸­å‘çš„è¯­è¨€ï¼Œä¸‰ä¸ªC++æŠ€æœ¯äººå‘˜è¿œæ²¡æœ‰ä¸€ä¸ªé«˜æ°´å¹³çš„å·¥ä½œæ•ˆçŽ‡é«˜ï¼Œå› ä¸ºä¸‰ä¸ªèœé¸Ÿéœ€è¦å°†å¤§ç‰›è¸©è¿‡çš„å‘å…¨éƒ¨è¸©ä¸€éï¼Œè¸©è¿‡å¤šå°‘å‘å°±ä»£è¡¨èµ°äº†å¤šå°‘å¼¯è·¯ã€‚ å…´è¶£æ˜¯æœ€å¤§çš„è€å¸ˆã€‚æˆ‘å¸¦è¿‡ä¸å°‘äººï¼Œå¾ˆå¤šéƒ½æ˜¯æ–°äººï¼Œæˆ‘ç»™ä»–ä»¬åˆ¶å®šäº†å­¦ä¹ è®¡åˆ’ï¼ŒæœŸæœ›ä»–ä»¬èƒ½å¤Ÿåœ¨ä¸šä½™æ—¶é—´å¤šå­¦ä¹ ï¼Œä½†å®žé™…ä¸Šå“ªæœ‰å‡ ä¸ªäººèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ä¸šä½™æ—¶é—´çš„ã€‚æˆ‘å°±éžå¸¸æ€€ç–‘ä»–ä»¬å¯¹æŠ€æœ¯çš„å…´è¶£é—®é¢˜ï¼Œå¦‚æžœä»–ä»¬å¯¹æŠ€æœ¯ä¸æ„Ÿå…´è¶£é‚£ä¸ºä»€ä¹ˆè¦åŠ å…¥è¯¥è¡Œä¸šï¼Œä¸ºæ²¡æœ‰å…´è¶£çš„å·¥ä½œè€Œå·¥ä½œå°±æ˜¯è‡ªå·±å¯¹è‡ªå·±è€æµæ°“ã€‚å¦‚æžœä»–ä»¬å¯¹æŠ€æœ¯æ„Ÿå…´è¶£ï¼Œé‚£åªèƒ½è¯´æ˜Žä»–ä»¬ä¸šä½™æ—¶é—´ä¸­æœ‰æ›´å¤§çš„è¯±æƒ‘ã€‚ åœ¨æ‹›è˜ä¸­ä¸è¦è¿‡äºŽåœ¨æ„é‡‘é’±ï¼Œä¾¿å®œæ— å¥½è´§åœ¨æ‹›è˜è¡Œä¸šä¸­ä»ç„¶éžå¸¸é€‚ç”¨ã€‚åœ¨æ‹›è˜ä¸­åƒä¸‡ä¸è¦åæƒœç»™å‘˜å·¥çš„é‚£ç‚¹é’±ï¼Œå› ä¸ºä¸€åƒå—é’±è€Œé”™å¤±ä¸€ä¸ªå¥½çš„å‘˜å·¥æ˜¯éžå¸¸ä¸å€¼å¾—çš„ã€‚ ç›ˆåˆ©æ¨¡å¼å†³å®šäº†å…¬å¸å¯¹äº§å“çš„æ€åº¦ã€‚æˆ‘æ‰€åœ¨çš„è½¯ä»¶è¡Œä¸šå±žäºŽä¼ ç»Ÿçš„è½¯ä»¶è¡Œä¸šï¼Œä¼ ç»Ÿè½¯ä»¶è¡Œä¸šçš„ç›ˆåˆ©æ¨¡å¼ä¸ºé”€å”®ï¼Œç”±äºŽè½¯ä»¶å…·æœ‰å¯å¤åˆ¶æ€§çš„ç‰¹ç‚¹ï¼Œå› æ­¤åªè¦ä¸€å¥—äº§å“å–çš„è¶Šå¤šå°±èµšçš„è¶Šå¤šã€‚å¯¹äºŽä¼ ç»Ÿè½¯ä»¶è¡Œä¸šçš„äº§å“ä½¿ç”¨è€…å¾ˆå¤šæƒ…å†µä¸‹å°±æ˜¯å‡ ä¸ªäººï¼Œè‡³å°‘è·Ÿäº’è”ç½‘äº§å“çš„ç”¨æˆ·æ•°é‡ä¸åœ¨ä¸€ä¸ªé‡çº§ã€‚ä½¿ç”¨çš„äººæ•°å†³å®šäº†ä¼ ç»Ÿè½¯ä»¶è¡Œä¸šçš„ç”¨æˆ·ä½“éªŒå¯ä»¥åšçš„å¾ˆçƒ‚ï¼ŒæŠ€æœ¯æ°´å¹³å¯ä»¥ä¸ç”¨é‚£ä¹ˆé«˜ï¼Œåªè¦èƒ½ç”¨å°±è¡Œï¼Œæ…¢ç‚¹æ— æ‰€è°“ï¼Œåªè¦èƒ½å–å‡ºåŽ»å°±è¡Œäº†ã€‚èº«ä¸ºä¸€ä¸ªæŠ€æœ¯äººå‘˜ï¼Œä¸€ä¸ªå¯¹æŠ€æœ¯æœ‰è¿½æ±‚çš„æŠ€æœ¯äººå‘˜ï¼Œè¿™ä»¤æˆ‘éžå¸¸åæ„Ÿï¼Œæˆ‘åšæŠ€æœ¯æˆ‘ä¸èƒ½å¯¹æŠ€æœ¯æ— æ‰€è°“ï¼Œæˆ‘è®¨åŽŒå¬åˆ°æ— æ‰€è°“è¿™æ ·çš„å­—çœ¼ã€‚ ä¸€å®šè¦æ˜Žç¡®å…¬å¸çš„å®šä½ï¼Œæ˜Žç™½ä»€ä¹ˆæ—¶å€™åº”è¯¥å¹²ä»€ä¹ˆï¼Œä»€ä¹ˆåº”è¯¥å¹²ï¼Œé‡Žå¿ƒå¤ªå¤§ä¹Ÿæ˜¯é—®é¢˜ã€‚å…¬å¸å¤„äºŽæˆé•¿é˜¶æ®µæå‡ºäº†ä»Šå¹´è¥ä¸šé¢æ¯”åŽ»å¹´å¢žé•¿10å€çš„ç›®æ ‡ï¼Œæˆ‘å¬åˆ°ä¹‹åŽå°±æ˜¯å—¤ä¹‹ä»¥é¼»ï¼Œè¿™åŽ‹æ ¹å°±æ˜¯ä¸å¯èƒ½çš„ä»»åŠ¡ï¼Œè€Œäº‹å®žè¯æ˜Žè¿™ä¹Ÿæ ¹æœ¬ä¸å¯èƒ½å®Œæˆï¼Œå®žé™…ä¸Šå½“å¹´è¥ä¸šé¢ä»…æ¯”åŽ»å¹´å¢žé•¿äº†ä¸€å€ã€‚ ä¸€å®¶å…¬å¸ä¸€å®šè¦æœ‰è‡ªå·±çš„æ˜Žç¡®äº§å“çº¿ï¼Œè¦æŠµä½å¤–ç•Œçš„è¯±æƒ‘ã€‚å…¬å¸çš„äº§å“çº¿æœ¬æ¥æ˜¯éžå¸¸æ˜Žç¡®çš„ï¼ŒåŽæ¥ç”±äºŽå®¢æˆ·éœ€æ±‚å’Œå„ç§æ–¹é¢çš„åŽŸå› ï¼Œå¼€å§‹è€ƒè™‘ç–¯ç‹‚æ‰©å±•äº§å“ï¼Œè¿™å°±é€ æˆäº†æœ¬æ¥äººæ‰‹å°±ç´§è¹™çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰æ—¶é—´åŽ»æ”¹å–„çŽ°æœ‰çš„ç³»ç»Ÿï¼Œä¸å¾—ä¸åŽ»ç ”å‘æ–°çš„äº§å“ã€‚è‡ªå·±æ²¡æœ‰çš„äº§å“ç”šè‡³è·Ÿå®¢æˆ·åˆä½œæˆ–è€…å®Œå…¨è´­ä¹°åˆ«äººçš„äº§å“ï¼Œå¯¼è‡´å…¬å¸å¾ˆå¤šäººéƒ½åœ¨è€ƒè™‘è·Ÿå…¶ä»–å…¬å¸åˆä½œçš„äº‹å®œã€‚ç»“æžœå¯æƒ³è€ŒçŸ¥ï¼Œæ–°äº§å“çš„é”€å”®å¹¶ä¸ç†æƒ³ï¼Œæ—§æœ‰çš„äº§å“å‡çº§ç»´æŠ¤çš„ä¹Ÿå¼€å§‹å˜æ…¢ã€‚psï¼šæˆ‘æ˜¯éžå¸¸è®¨åŽŒåœ¨æŠ€æœ¯ä¸Šè·Ÿå…¶ä»–å…¬å¸ä¹‹é—´è€ƒè™‘åˆä½œçš„é—®é¢˜ï¼Œå› ä¸ºè¿™ä»Žæœ¬è´¨ä¸Šè®²å¹¶æ²¡æœ‰äº§ç”Ÿä»»ä½•çš„ç¤¾ä¼šä»·å€¼ï¼ŒæŠ€æœ¯ä¸Šå¿…ç„¶æ¶‰åŠåˆ°æŽ¥å£çš„é—®é¢˜ï¼Œåªè¦æ˜¯æŽ¥å£å¿…ç„¶ä¼šæœ‰å¾ˆå¤šç»†èŠ‚é—®é¢˜ï¼Œè¿™äº›å¾€å¾€ä¼šå‡ºçŽ°æŠ€æœ¯äººå‘˜æ‰¯çš®çš„é—®é¢˜ï¼Œä¸€ä¸ªé—®é¢˜ä½ å¯ä»¥è§£å†³ä»–ä¹Ÿå¯ä»¥è§£å†³ï¼Œä½†æ˜¯è°éƒ½ä¸æ„¿æ„è§£å†³ï¼Œä½ è¯´çƒ¦ä¸çƒ¦ã€‚ æŠ€æœ¯äººå‘˜åŽæ¥è¦ä¹ˆè½¬è¡Œè¦ä¹ˆåšç®¡ç†äº†ã€‚åœ¨æµŽå—æŠ€æœ¯äººå‘˜å°±è¿™ä¸¤ç§å‡ºè·¯å§ï¼Œæ²¡è§è¿‡å¤šå°‘å¤§é¾„çš„ç¨‹åºå‘˜ï¼Œå¾ˆå¤šæƒ…å†µä¸‹å†™ç€å†™ç€ç¨‹åºçªç„¶å‘çŽ°è‡ªå·±è½¬ä¸ºå…¬å¸çš„ä¸­å±‚äº†ï¼Œæ¯”å¦‚æˆ‘ï¼Œå¹¶é€æ¸å‚ä¸Žå…¬å¸çš„äº‹åŠ¡ã€‚å¾ˆå¤šå¯¹ç¨‹åºä¸æ„Ÿå…´è¶£çš„ï¼Œå¯èƒ½å°±ç›´æŽ¥æ¢ä¸ªè¡Œä¸šæˆ–è€…è½¬è¡Œåšé”€å”®äº†ã€‚ æœ‰äº›äººå†æ€Žä¹ˆåŸ¹å…»ä¹Ÿæˆä¸äº†é«˜æ‰‹ã€‚åœ¨å·¥ä½œæˆ‘å‘çŽ°ï¼Œæœ‰äº›äººå³ä½¿æœ‰äº†å‡ å¹´çš„å·¥ä½œç»éªŒï¼Œå¯¹å…¬å¸çš„äº§å“ä¹Ÿéžå¸¸äº†è§£ï¼Œä½†æ˜¯åœ¨è§£å†³é—®é¢˜çš„æ—¶å€™æ€»æ˜¯æ‰¾ä¸åˆ°ç‚¹å­ä¸Šï¼Œå äº†ä¸€å¤§å †èµ„æºï¼Œæœ€åŽè§£å†³èµ·é—®é¢˜æ¥å³æ…¢åˆç»•å¼¯è·¯ï¼Œè¿˜ç•™ä¸‹ä¸€å †bugã€‚å¯¹äºŽè¿™éƒ¨åˆ†äººï¼Œæˆ‘æƒ³è¯´ä¹Ÿè®¸è¿™ä¸ªè¡Œä¸šä¸é€‚åˆä½ ã€‚ é¢†å¯¼åƒä¸‡ä¸å¯ä¸‰å¤©ä¸¤å¤´ä¸€ä¸ªæƒ³æ³•ï¼Œè¿™åœ¨å‘˜å·¥çœ‹æ¥å°±æ˜¯ä¸€ä¸ªä¸é è°±çš„é¢†å¯¼ã€‚è°éƒ½ä¸æ„¿æ„è¿½éšä¸€ä¸ªæ‹¿ç€è‡ªå·±å½“çŒ´è€çš„é¢†å¯¼ï¼Œä¸€ä¼šä¸€ä¸ªæƒ³æ³•åªèƒ½è¯´æ˜Žé¢†å¯¼ä¸å¤Ÿæˆç†Ÿï¼Œä¸é€‚åˆåšé¢†å¯¼ã€‚è·Ÿéšæ°å‡ºçš„äººï¼Œä¸ºæ°å‡ºçš„äººå·¥ä½œã€‚ æžå…¬å¸æœ€å¥½ä¸è¦æžæ–½å·¥å¤ªä¹…çš„ã€‚å…¬å¸å¾ˆå¤šåšå·¥ç¨‹çš„éƒ½åœ¨ä¸ºçŽ°åœºçš„æƒ…å†µå¿™ç¢Œï¼Œä¸€ä¸ªç‚¹æž¶è®¾å®Œæ¯•åŽå¾€å¾€è¿˜éœ€è¦è€—è´¹å¤§é‡çš„æ—¶é—´æ¥ç»´æŠ¤ï¼Œç»´æŠ¤å¯¹äºŽå…¬å¸è€Œè¨€ç‰µæ¶‰åˆ°ç²¾åŠ›å¤ªå¤§ï¼Œå°½é‡é¿å…éœ€è¦æ•´å¤©è·Ÿå®¢æˆ·æ‰“äº¤é“å’Œæ•´å¤©ç»´æŠ¤çš„ä¸šåŠ¡ã€‚ ä¸“ç§‘ç”Ÿæ˜¯å¾ˆéš¾æ’‘èµ·ä¸€å®¶ç§‘æŠ€ä¼ä¸šã€‚è™½ç„¶æˆ‘ä¸å®Œå…¨è®¤åŒå­¦åŽ†å°±èƒ½å†³å®šèƒ½åŠ›ï¼Œä½†å­¦åŽ†è·Ÿèƒ½åŠ›ä¹‹é—´æ˜¯æˆæ­£æ¯”å…³ç³»çš„ã€‚æˆ‘çš„æœ‹å‹ä¸­æœ‰ä¸“ç§‘ç”Ÿåœ¨å·¥ä½œå‡ å¹´åŽå¯ä»¥åšä¸“ä¸šçš„è§†é¢‘æ•™ç¨‹ï¼Œå¹¶ä¸”ä¸šä½™æ—¶é—´å†™è¿‡å‡ éƒ¨çŽ„å¹»å°è¯´ã€‚ç”±äºŽå­¦ä¹ ç»åŽ†çš„ä¸åŒè¿™å°±é€ å°±äº†ç§‘ç­å‡ºèº«çš„ç¨‹åº¦ä¸åŒï¼Œè‡ªç„¶èƒ½åŠ›ä¹‹é—´æ˜¯æœ‰å·®å¼‚çš„ã€‚è™½ç„¶ä¸­å›½çš„å¤§å­¦æ•™è‚²è·Ÿå·¥ä½œå¾ˆè„±èŠ‚ï¼Œä½†æ˜¯åœ¨å·¥ä½œä¸­è¿˜æ˜¯èƒ½å¤Ÿè·Ÿå¤§å­¦æ•™è‚²æŒ‚èµ·é’©æ¥çš„ã€‚å­¦åŽ†è·Ÿç´ è´¨ä¹‹é—´ä¹Ÿæ˜¯æˆæ­£æ¯”å…³ç³»çš„ï¼Œè¿™é‡Œçš„ç´ è´¨ä½“çŽ°åœ¨å·¥ä½œä¸­å°±åŒ…æ‹¬äº†å·¥ä½œä¸­çš„è´£ä»»å¿ƒï¼Œå·¥ä½œæ€åº¦ç­‰æ–¹é¢ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œè¦å±•å¼€çš„è¯æˆ‘å¯ä»¥ä¸¾å‡ºéžå¸¸å¤šæ´»ç”Ÿç”Ÿçš„ä¾‹å­ã€‚å› æ­¤ï¼Œæˆ‘éžå¸¸ä¸æå€¡åœ¨å…¬å¸æ‹›è˜ä¸­æ‹›è˜ä¸“ç§‘ç”Ÿã€‚æˆ‘å‘çŽ°åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¾ˆå¤šä¸“ç§‘äººå‘˜æ˜¯è¿žæ™®é€šè¯éƒ½ä¸ä¼šçš„ï¼Œæ“ç€å„ç§æ–¹è¨€æˆ–å„ç§è¢«æ™®é€šè¯çš„æ–¹è¨€ã€‚åŸºæœ¬ä¸Šèƒ½ä¸èƒ½è¯´æ™®é€šè¯ä¹Ÿæ˜¯ä¸€ä¸ªæ–­å®šäººç´ è´¨çš„æ ‡å‡†ï¼Œæ‰©å±•åˆ°å…¶ä»–è¡Œä¸šåŒæ ·é€‚ç”¨ã€‚ ä¹Ÿè®¸æœ¬æ–‡çš„è§‚ç‚¹æœ‰äº›åæ¿€ï¼Œæ²¡é”™æˆ‘å°±æ˜¯ä¸€ä¸ªåæ¿€çš„ITå·¥ç¨‹å¸ˆï¼Œå°±é…±ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[C++11ä¸­çš„å³å€¼å¼•ç”¨]]></title>
      <url>%2Fpost%2Fcpp11_right_reference%2F</url>
      <content type="text"><![CDATA[åœ¨C++98ä¸­æœ‰å·¦å€¼å’Œå³å€¼çš„æ¦‚å¿µï¼Œä¸è¿‡è¿™ä¸¤ä¸ªæ¦‚å¿µå¯¹äºŽå¾ˆå¤šç¨‹åºå‘˜å¹¶ä¸å…³å¿ƒï¼Œå› ä¸ºä¸çŸ¥é“è¿™ä¸¤ä¸ªæ¦‚å¿µç…§æ ·å¯ä»¥å†™å‡ºå¥½ç¨‹åºã€‚åœ¨C++11ä¸­å¯¹å³å€¼çš„æ¦‚å¿µè¿›è¡Œäº†å¢žå¼ºï¼Œæˆ‘ä¸ªäººç†è§£è¿™éƒ¨åˆ†å†…å®¹æ˜¯C++11å¼•å…¥çš„ç‰¹æ€§ä¸­æœ€éš¾ä»¥ç†è§£çš„äº†ã€‚è¯¥ç‰¹æ€§çš„å¼•å…¥è‡³å°‘å¯ä»¥è§£å†³C++98ä¸­çš„ç§»åŠ¨è¯­ä¹‰å’Œå®Œç¾Žè½¬å‘é—®é¢˜ï¼Œè‹¥ä½ è¿˜ä¸æ¸…æ¥šè¿™ä¸¤ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆï¼Œè¯·å‘ä¸‹çœ‹ã€‚ æ¸©é¦¨æç¤ºï¼Œç”±äºŽå†…å®¹æ¯”è¾ƒéš¾æ‡‚ï¼Œè¯·ä»”ç»†çœ‹ã€‚C++å·²ç»å¤Ÿå¤æ‚äº†ï¼ŒC++11ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§ä»¤C++æ›´åŠ å¤æ‚äº†ã€‚åœ¨å­¦ä¹ æœ¬æ–‡çš„æ—¶å€™ä¸€å®šè¦ç†è§£æ¸…æ¥šå·¦å€¼ã€å³å€¼ã€å·¦å€¼å¼•ç”¨å’Œå³å€¼å¼•ç”¨ã€‚ ç§»åŠ¨æž„é€ å‡½æ•°é¦–å…ˆçœ‹ä¸€ä¸ªC++98ä¸­çš„å…³äºŽå‡½æ•°è¿”å›žç±»å¯¹è±¡çš„ä¾‹å­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566class MyString &#123;public: MyString() &#123; _data = nullptr; _len = 0; printf("Constructor is called!\n"); &#125; MyString(const char* p) &#123; _len = strlen (p); _init_data(p); cout &lt;&lt; "Constructor is called! this-&gt;_data: " &lt;&lt; (long)_data &lt;&lt; endl; &#125; MyString(const MyString&amp; str) &#123; _len = str._len; _init_data(str._data); cout &lt;&lt; "Copy Constructor is called! src: " &lt;&lt; (long)str._data &lt;&lt; " dst: " &lt;&lt; (long)_data &lt;&lt; endl; &#125; ~MyString() &#123; if (_data) &#123; cout &lt;&lt; "DeConstructor is called! this-&gt;_data: " &lt;&lt; (long)_data &lt;&lt; endl; free(_data); &#125; else &#123; std::cout &lt;&lt; "DeConstructor is called!" &lt;&lt; std::endl; &#125; &#125; MyString&amp; operator=(const MyString&amp; str) &#123; if (this != &amp;str) &#123; _len = str._len; _init_data(str._data); &#125; cout &lt;&lt; "Copy Assignment is called! src: " &lt;&lt; (long)str._data &lt;&lt; " dst" &lt;&lt; (long)_data &lt;&lt; endl; return *this; &#125; operator const char *() const &#123; return _data; &#125;private: char *_data; size_t _len; void _init_data(const char *s) &#123; _data = new char[_len+1]; memcpy(_data, s, _len); _data[_len] = '\0'; &#125; &#125;; MyString foo()&#123; MyString middle("123"); return middle;&#125;int main() &#123; MyString a = foo(); return 1;&#125; è¯¥ä¾‹å­åœ¨ç¼–è¯‘å™¨æ²¡æœ‰è¿›è¡Œä¼˜åŒ–çš„æƒ…å†µä¸‹ä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹ï¼Œæˆ‘åœ¨è¾“å‡ºçš„å†…å®¹ä¸­åšäº†æ³¨é‡Šå¤„ç†ï¼Œå¦‚æžœè¿žè¿™ä¸ªä¾‹å­çš„è¾“å‡ºéƒ½çœ‹ä¸æ‡‚ï¼Œå»ºè®®å†çœ‹ä¸€ä¸‹C++çš„è¯­æ³•äº†ã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„ç¼–è¯‘å™¨å‘½ä»¤ä¸ºg++ test.cpp -o main -g -fno-elide-constructorsï¼Œä¹‹æ‰€ä»¥è¦åŠ ä¸Š-fno-elide-constructorsé€‰é¡¹æ—¶å› ä¸ºg++ç¼–è¯‘å™¨é»˜è®¤æƒ…å†µä¸‹ä¼šå¯¹å‡½æ•°è¿”å›žç±»å¯¹è±¡çš„æƒ…å†µä½œè¿”å›žå€¼ä¼˜åŒ–å¤„ç†ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬è®¨è®ºçš„é‡ç‚¹ã€‚ 123456Constructor is called! this-&gt;_data: 29483024 // middleå¯¹è±¡çš„æž„é€ å‡½æ•°Copy Constructor is called! src: 29483024 dst: 29483056 // ä¸´æ—¶å¯¹è±¡çš„æž„é€ ï¼Œé€šè¿‡middleå¯¹è±¡è°ƒç”¨å¤åˆ¶æž„é€ å‡½æ•°DeConstructor is called! this-&gt;_data: 29483024 // middleå¯¹è±¡çš„æžæž„Copy Constructor is called! src: 29483056 dst: 29483024 // aå¯¹è±¡æž„é€ ï¼Œé€šè¿‡ä¸´æ—¶å¯¹è±¡è°ƒç”¨å¤åˆ¶æž„é€ å‡½æ•°DeConstructor is called! this-&gt;_data: 29483056 // ä¸´æ—¶å¯¹è±¡æžæž„DeConstructor is called! this-&gt;_data: 29483024 // aå¯¹è±¡æžæž„ åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œä¸´æ—¶å¯¹è±¡çš„æž„é€ ã€å¤åˆ¶å’Œæžæž„æ“ä½œæ‰€å¸¦æ¥çš„æ•ˆçŽ‡å½±å“ä¸€ç›´æ˜¯C++ä¸­ä¸ºäººè¯Ÿç—…çš„é—®é¢˜ï¼Œä¸´æ—¶å¯¹è±¡çš„æž„é€ å’Œæžæž„æ“ä½œå‡å¯¹å †ä¸Šçš„å†…å­˜è¿›è¡Œæ“ä½œï¼Œè€Œå¦‚æžœ_dataçš„å†…å­˜è¿‡å¤§ï¼ŒåŠ¿å¿…ä¼šéžå¸¸å½±å“æ•ˆçŽ‡ã€‚ä»Žç¨‹åºå‘˜çš„è§’åº¦è€Œè¨€ï¼Œè¯¥ä¸´æ—¶å¯¹è±¡æ˜¯é€æ˜Žçš„ã€‚è€Œè¿™ä¸€é—®é¢˜æ­£æ˜¯C++11ä¸­éœ€è¦è§£å†³çš„é—®é¢˜ã€‚ åœ¨C++11ä¸­è§£å†³è¯¥é—®é¢˜çš„æ€è·¯ä¸ºï¼Œå¼•å…¥äº†ç§»åŠ¨æž„é€ å‡½æ•°ï¼Œç§»åŠ¨æž„é€ å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ã€‚ 123456MyString(MyString &amp;&amp;str) &#123; cout &lt;&lt; "Move Constructor is called! src: " &lt;&lt; (long)str._data &lt;&lt; endl; _len = str._len; _data = str._data; str._data = nullptr;&#125; åœ¨ç§»åŠ¨æž„é€ å‡½æ•°ä¸­æˆ‘ä»¬çªƒå–äº†strå¯¹è±¡å·²ç»ç”³è¯·çš„å†…å­˜ï¼Œå°†å…¶æ‹¿ä¸ºå·±ç”¨ï¼Œå¹¶å°†strç”³è¯·çš„å†…å­˜ç»™èµ‹å€¼ä¸ºnullptrã€‚ç§»åŠ¨æž„é€ å‡½æ•°å’Œå¤åˆ¶æž„é€ å‡½æ•°çš„ä¸åŒä¹‹å¤„åœ¨äºŽç§»åŠ¨æž„é€ å‡½æ•°çš„å‚æ•°ä½¿ç”¨&amp;&amp;ï¼Œè¿™å°±æ˜¯ä¸‹æ–‡è¦è®²è§£çš„å³å€¼å¼•ç”¨ç¬¦å·ã€‚å‚æ•°ä¸å†æ˜¯constï¼Œå› ä¸ºåœ¨ç§»åŠ¨æž„é€ å‡½æ•°éœ€è¦ä¿®æ”¹å³å€¼strçš„å†…å®¹ã€‚ ç§»åŠ¨æž„é€ å‡½æ•°çš„è°ƒç”¨æ—¶æœºä¸ºç”¨æ¥æž„é€ ä¸´æ—¶å˜é‡å’Œç”¨ä¸´æ—¶å˜é‡æ¥æž„é€ å¯¹è±¡çš„æ—¶å€™ç§»åŠ¨è¯­ä¹‰ä¼šè¢«è°ƒç”¨ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¾“å‡ºç»“æžœçœ‹åˆ°ï¼Œæˆ‘ä»¬æ‰€ä½¿ç”¨çš„ç¼–è¯‘å‚æ•°ä¸ºg++ test.cpp -o main -g -fno-elide-constructors --std=c++11ã€‚ 123456Constructor is called! this-&gt;_data: 22872080 // middleå¯¹è±¡æž„é€ Move Constructor is called! src: 22872080 // ä¸´æ—¶å¯¹è±¡é€šè¿‡ç§»åŠ¨æž„é€ å‡½æ•°æž„é€ ï¼Œå°†middleç”³è¯·çš„å†…å­˜çªƒå–DeConstructor is called! // middleå¯¹è±¡æžæž„Move Constructor is called! src: 22872080 // å¯¹è±¡aé€šè¿‡ç§»åŠ¨æž„é€ å‡½æ•°æž„é€ ï¼Œå°†ä¸´æ—¶å¯¹è±¡çš„å†…å­˜çªƒå–DeConstructor is called! // ä¸´æ—¶å¯¹è±¡æžæž„DeConstructor is called! this-&gt;_data: 22872080 // å¯¹è±¡aæžæž„ é€šè¿‡è¾“å‡ºç»“æžœå¯ä»¥çœ‹å‡ºï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­ä»…ç”³è¯·äº†ä¸€å—å†…å­˜ï¼Œè¿™ä¹Ÿæ­£å¥½ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚äº†ã€‚ C++98ä¸­çš„å·¦å€¼å’Œå³å€¼æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹C++98ä¸­çš„å·¦å€¼å’Œå³å€¼çš„æ¦‚å¿µã€‚å·¦å€¼å’Œå³å€¼æœ€ç›´è§‚çš„ç†è§£å°±æ˜¯ä¸€æ¡è¯­å¥ç­‰å·å·¦è¾¹çš„ä¸ºå·¦å€¼ï¼Œç­‰å·å³è¾¹çš„ä¸ºå³å€¼ï¼Œè€Œäº‹å®žä¸Šè¯¥ç§ç†è§£æ˜¯é”™è¯¯çš„ã€‚å·¦å€¼ï¼šå¯ä»¥å–åœ°å€ï¼Œæœ‰åå­—çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªæŒ‡å‘æŸå†…å­˜ç©ºé—´çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨&amp;æ“ä½œç¬¦èŽ·å–å†…å­˜åœ°å€ã€‚å³å€¼ï¼šä¸èƒ½å–åœ°å€ï¼Œå³éžå·¦å€¼çš„éƒ½æ˜¯å³å€¼ï¼Œæ²¡æœ‰åå­—çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªä¸´æ—¶å€¼ï¼Œè¡¨è¾¾å¼ç»“æŸåŽå³å€¼å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚æˆ‘æƒ³é€šè¿‡ä¸‹é¢çš„ä¾‹å­ï¼Œè¯»è€…å¯ä»¥æ¸…æ¥šçš„ç†è§£å·¦å€¼å’Œå³å€¼äº†ã€‚ 12345678910111213141516// lvalues://int i = 42;i = 43; // iæ˜¯å·¦å€¼int* p = &amp;i; // iæ˜¯å·¦å€¼int&amp; foo();foo() = 42; // foo()è¿”å›žå¼•ç”¨ç±»åž‹æ˜¯å·¦å€¼int* p1 = &amp;foo(); // foo()å¯ä»¥å–åœ°å€æ˜¯å·¦å€¼// rvalues://int foobar();int j = 0;j = foobar(); // foobar()æ˜¯å³å€¼int* p2 = &amp;foobar(); // ç¼–è¯‘é”™è¯¯ï¼Œfoobar()æ˜¯å³å€¼ä¸èƒ½å–åœ°å€j = 42; // 42æ˜¯å³å€¼ C++11å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰åœ¨C++98ä¸­æœ‰å¼•ç”¨çš„æ¦‚å¿µï¼Œå¯¹äºŽconst int &amp;m = 1ï¼Œå…¶ä¸­mä¸ºå¼•ç”¨ç±»åž‹ï¼Œå¯ä»¥å¯¹å…¶å–åœ°å€ï¼Œæ•…ä¸ºå·¦å€¼ã€‚åœ¨C++11ä¸­ï¼Œå¼•å…¥äº†å³å€¼å¼•ç”¨çš„æ¦‚å¿µï¼Œä½¿ç”¨&amp;&amp;æ¥è¡¨ç¤ºã€‚åœ¨å¼•å…¥äº†å³å€¼å¼•ç”¨åŽï¼Œåœ¨å‡½æ•°é‡è½½æ—¶å¯ä»¥æ ¹æ®æ˜¯å·¦å€¼å¼•ç”¨è¿˜æ˜¯å³å€¼å¼•ç”¨æ¥åŒºåˆ†ã€‚ 12345678910111213141516void fun(MyString &amp;str)&#123; cout &lt;&lt; "left reference" &lt;&lt; endl;&#125;void fun(MyString &amp;&amp;str)&#123; cout &lt;&lt; "right reference" &lt;&lt; endl;&#125;int main() &#123; MyString a("456"); fun(a); // å·¦å€¼å¼•ç”¨ï¼Œè°ƒç”¨void fun(MyString &amp;str) fun(foo()); // å³å€¼å¼•ç”¨ï¼Œè°ƒç”¨void fun(MyString &amp;&amp;str) return 1;&#125; åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ç§é€šè¿‡å·¦å€¼å¼•ç”¨å’Œå³å€¼å¼•ç”¨é‡è½½å‡½æ•°çš„æ–¹å¼ä»…ä¼šåœ¨ç±»çš„æž„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œç¬¦ä¸­å‡ºçŽ°ï¼Œè¢«ä¾‹å­ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿é‡‡ç”¨å‡½æ•°çš„å½¢å¼ï¼Œè¯¥ç§å½¢å¼çš„å‡½æ•°ç”¨åˆ°çš„æ¯”è¾ƒå°‘ã€‚ä¸Šè¿°ä»£ç ä¸­æ‰€ä½¿ç”¨çš„å°†èµ„æºä»Žä¸€ä¸ªå¯¹è±¡åˆ°å¦å¤–ä¸€ä¸ªå¯¹è±¡ä¹‹é—´çš„è½¬ç§»å°±æ˜¯ç§»åŠ¨è¯­ä¹‰ã€‚è¿™é‡Œæåˆ°çš„èµ„æºæ˜¯æŒ‡ç±»ä¸­çš„åœ¨å †ä¸Šç”³è¯·çš„å†…å­˜ã€æ–‡ä»¶æè¿°ç¬¦ç­‰èµ„æºã€‚ å‰é¢å·²ç»ä»‹ç»è¿‡äº†ç§»åŠ¨æž„é€ å‡½æ•°çš„å…·ä½“å½¢å¼å’Œä½¿ç”¨æƒ…å†µï¼Œè¿™é‡Œå¯¹ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦çš„å®šä¹‰å†è¯´æ˜Žä¸€ä¸‹ï¼Œå¹¶å°†mainå‡½æ•°çš„å†…å®¹ä¹Ÿä¸€èµ·æ›´æ”¹ï¼Œå°†å¾—åˆ°å¦‚ä¸‹è¾“å‡ºç»“æžœã€‚ 1234567891011121314151617181920212223242526272829MyString&amp; operator=(MyString&amp;&amp; str) &#123; cout &lt;&lt; "Move Operator= is called! src: " &lt;&lt; (long)str._data &lt;&lt; endl; if (this != &amp;str) &#123; if (_data != nullptr) &#123; free(_data); &#125; _len = str._len; _data = str._data; str._len = 0; str._data = nullptr; &#125; return *this; &#125;int main() &#123; MyString b; b = foo(); return 1;&#125;// è¾“å‡ºç»“æžœï¼Œæ•´ä¸ªè¿‡ç¨‹ä»…ç”³è¯·äº†ä¸€ä¸ªå†…å­˜åœ°å€Constructor is called! // å¯¹è±¡bæž„é€ å‡½æ•°è°ƒç”¨Constructor is called! this-&gt;_data: 14835728 // middleå¯¹è±¡æž„é€ Move Constructor is called! src: 14835728 // ä¸´æ—¶å¯¹è±¡é€šè¿‡ç§»åŠ¨æž„é€ å‡½æ•°ç”±middleå¯¹è±¡æž„é€ DeConstructor is called! // middleå¯¹è±¡æžæž„Move Operator= is called! src: 14835728 // å¯¹è±¡bé€šè¿‡ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦ç”±ä¸´æ—¶å¯¹è±¡èµ‹å€¼DeConstructor is called! // ä¸´æ—¶å¯¹è±¡æžæž„DeConstructor is called! this-&gt;_data: 14835728 // å¯¹è±¡bæžæž„å‡½æ•°è°ƒç”¨ åœ¨C++ä¸­å¯¹ä¸€ä¸ªå˜é‡å¯ä»¥é€šè¿‡constæ¥ä¿®é¥°ï¼Œè€Œconstå’Œå¼•ç”¨æ˜¯å¯¹å˜é‡çº¦æŸçš„ä¸¤ç§æ–¹å¼ï¼Œä¸ºå¹¶è¡Œå­˜åœ¨ï¼Œç›¸äº’ç‹¬ç«‹ã€‚å› æ­¤ï¼Œå°±å¯ä»¥åˆ’åˆ†ä¸ºäº†constå·¦å€¼å¼•ç”¨ã€éžconstå·¦å€¼å¼•ç”¨ã€constå³å€¼å¼•ç”¨å’Œéžconstå³å€¼å¼•ç”¨å››ç§ç±»åž‹ã€‚å…¶ä¸­å·¦å€¼å¼•ç”¨çš„ç»‘å®šè§„åˆ™å’ŒC++98ä¸­æ˜¯ä¸€è‡´çš„ã€‚ éžconstå·¦å€¼å¼•ç”¨åªèƒ½ç»‘å®šåˆ°éžconstå·¦å€¼ï¼Œä¸èƒ½ç»‘å®šåˆ°constå³å€¼ã€éžconstå³å€¼å’Œconstå·¦å€¼ã€‚è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡constå…³é”®å­—çš„è¯­ä¹‰æ¥åˆ¤æ–­ã€‚ constå·¦å€¼å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°ä»»ä½•ç±»åž‹ï¼ŒåŒ…æ‹¬constå·¦å€¼ã€éžconstå·¦å€¼ã€constå³å€¼å’Œéžconstå³å€¼ï¼Œå±žäºŽä¸‡èƒ½å¼•ç”¨ç±»åž‹ã€‚å…¶ä¸­ç»‘å®šconstå³å€¼çš„è§„åˆ™æ¯”è¾ƒå°‘è§ï¼Œä½†æ˜¯è¯­æ³•ä¸Šæ˜¯å¯è¡Œçš„ï¼Œæ¯”å¦‚const int &amp;a = 1ï¼Œåªæ˜¯æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šç›´æŽ¥ä½¿ç”¨int &amp;a = 1äº†ã€‚ éžconstå³å€¼å¼•ç”¨ä¸èƒ½ç»‘å®šåˆ°ä»»ä½•å·¦å€¼å’Œconstå³å€¼ï¼Œåªèƒ½ç»‘å®šéžconstå³å€¼ã€‚ constå³å€¼å¼•ç”¨ç±»åž‹ä»…æ˜¯ä¸ºäº†è¯­æ³•çš„å®Œæ•´æ€§è€Œè®¾è®¡çš„ï¼Œ æ¯”å¦‚å¯ä»¥ä½¿ç”¨const MyString &amp;&amp;right_ref = foo()ï¼Œä½†æ˜¯å³å€¼å¼•ç”¨ç±»åž‹çš„å¼•å…¥ä¸»è¦æ˜¯ä¸ºäº†ç§»åŠ¨è¯­ä¹‰ï¼Œè€Œç§»åŠ¨è¯­ä¹‰éœ€è¦å³å€¼å¼•ç”¨æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ï¼Œå› æ­¤constå³å€¼å¼•ç”¨ç±»åž‹æ²¡æœ‰å®žé™…æ„ä¹‰ã€‚ æˆ‘ä»¬é€šè¿‡è¡¨æ ¼çš„å½¢å¼å¯¹ä¸Šæ–‡ä¸­æåˆ°çš„å››ç§å¼•ç”¨ç±»åž‹å¯ä»¥ç»‘å®šçš„ç±»åž‹è¿›è¡Œæ€»ç»“ã€‚ å¼•ç”¨ç±»åž‹/æ˜¯å¦ç»‘å®š éžconstå·¦å€¼ constå·¦å€¼ éžconstå³å€¼ constå³å€¼ å¤‡æ³¨ éžconstå·¦å€¼å¼•ç”¨ | æ˜¯ | å¦ | å¦ | å¦ |æ—  |constå·¦å€¼å¼•ç”¨ | æ˜¯ | æ˜¯ | æ˜¯ | æ˜¯ | å…¨èƒ½ç»‘å®šç±»åž‹ï¼Œç»‘å®šåˆ°constå³å€¼çš„æƒ…å†µæ¯”è¾ƒå°‘è§ |éžconstå³å€¼å¼•ç”¨ | å¦ | å¦ | æ˜¯ | å¦ | C++11ä¸­å¼•å…¥çš„ç‰¹æ€§ï¼Œç”¨äºŽç§»åŠ¨è¯­ä¹‰å’Œå®Œç¾Žè½¬å‘ |constå€¼å¼•ç”¨ | æ˜¯ | å¦ | å¦ | å¦ | æ²¡æœ‰å®žé™…æ„ä¹‰ï¼Œä¸ºäº†è¯­æ³•å®Œæ•´æ€§è€Œå­˜åœ¨ | ä¸‹é¢é’ˆå¯¹ä¸Šè¿°ä¾‹å­ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹fooå‡½æ•°ç»‘å®šå‚æ•°çš„æƒ…å†µã€‚ å¦‚æžœåªå®žçŽ°äº†void foo(MyString &amp;str)ï¼Œè€Œæ²¡æœ‰å®žçŽ°void fun(MyString &amp;&amp;str)ï¼Œåˆ™å’Œä¹‹å‰ä¸€æ ·fooå‡½æ•°çš„å®žå‚åªèƒ½æ˜¯éžconstå·¦å€¼ã€‚ å¦‚æžœåªå®žçŽ°äº†void foo(const MyString &amp;str)ï¼Œè€Œæ²¡æœ‰å®žçŽ°void fun(MyString &amp;&amp;str)ï¼Œåˆ™å’Œä¹‹å‰ä¸€æ ·fooå‡½æ•°çš„å‚æ•°å³å¯ä»¥æ˜¯å·¦å€¼åˆå¯ä»¥æ˜¯å³å€¼ï¼Œå› ä¸ºconstå·¦å€¼å¼•ç”¨æ˜¯ä¸‡èƒ½ç»‘å®šç±»åž‹ã€‚ å¦‚æžœåªå®žçŽ°äº†void foo(MyString &amp;&amp;str)ï¼Œè€Œæ²¡æœ‰å®žçŽ°void fun(MyString &amp;str)ï¼Œåˆ™fooå‡½æ•°çš„å‚æ•°åªèƒ½æ˜¯éžconstå³å€¼ã€‚ å¼ºåˆ¶ç§»åŠ¨è¯­ä¹‰std::move()å‰æ–‡ä¸­æˆ‘ä»¬é€šè¿‡å³å€¼å¼•ç”¨ç»™ç±»å¢žåŠ ç§»åŠ¨æž„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦å·²ç»è§£å†³äº†å‡½æ•°è¿”å›žç±»å¯¹è±¡æ•ˆçŽ‡ä½Žä¸‹çš„é—®é¢˜ã€‚é‚£ä¹ˆè¿˜æœ‰ä»€ä¹ˆé—®é¢˜æ²¡æœ‰è§£å†³å‘¢ï¼Ÿ åœ¨C++98ä¸­çš„swapå‡½æ•°çš„å®žçŽ°å½¢å¼å¦‚ä¸‹ï¼Œåœ¨è¯¥å‡½æ•°ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•´ä¸ªå‡½æ•°ä¸­çš„å˜é‡aã€bã€cå‡ä¸ºå·¦å€¼ï¼Œæ— æ³•ç›´æŽ¥ä½¿ç”¨å‰é¢ç§»åŠ¨è¯­ä¹‰ã€‚ 1234567template &lt;class T&gt; void swap ( T&amp; a, T&amp; b )&#123; T c(a); a=b; b=c;&#125; ä½†æ˜¯å¦‚æžœè¯¥å‡½æ•°ä¸­èƒ½å¤Ÿä½¿ç”¨ç§»åŠ¨è¯­ä¹‰æ˜¯éžå¸¸åˆé€‚çš„ï¼Œä»…æ˜¯ä¸ºäº†äº¤æ¢ä¸¤ä¸ªå˜é‡ï¼Œå´è¦åå¤ç”³è¯·å’Œé‡Šæ”¾èµ„æºã€‚æŒ‰ç…§å‰é¢çš„çŸ¥è¯†å˜é‡cä¸å¯èƒ½ä¸ºéžconstå³å€¼å¼•ç”¨ï¼Œå› ä¸ºå˜é‡aä¸ºéžconstå·¦å€¼ï¼Œéžconstå³å€¼å¼•ç”¨ä¸èƒ½ç»‘å®šåˆ°ä»»ä½•å·¦å€¼ã€‚ åœ¨C++11çš„æ ‡å‡†åº“ä¸­å¼•å…¥äº†std::move()å‡½æ•°æ¥è§£å†³è¯¥é—®é¢˜ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨ä¸ºå°†å…¶å‚æ•°è½¬æ¢ä¸ºå³å€¼ã€‚åœ¨C++11ä¸­çš„swapå‡½æ•°å°±å¯ä»¥æ›´æ”¹ä¸ºäº†ï¼š 1234567template &lt;class T&gt; void swap (T&amp; a, T&amp; b)&#123; T c(std::move(a)); a=std::move(b); b=std::move(c);&#125; åœ¨ä½¿ç”¨äº†moveè¯­ä¹‰ä»¥åŽ,swapå‡½æ•°çš„æ•ˆçŽ‡ä¼šå¤§å¤§æå‡ï¼Œæˆ‘ä»¬æ›´æ”¹mainå‡½æ•°åŽæµ‹è¯•å¦‚ä¸‹: 1234567891011121314151617int main() &#123; // moveå‡½æ•° MyString d("123"); MyString e("456"); swap(d, e); return 1;&#125;// è¾“å‡ºç»“æžœï¼Œé€šè¿‡è¾“å‡ºç»“æžœå¯ä»¥çœ‹å‡ºå¯¹è±¡äº¤æ¢æ˜¯æˆåŠŸçš„Constructor is called! this-&gt;_data: 38469648 // å¯¹è±¡dæž„é€ Constructor is called! this-&gt;_data: 38469680 // å¯¹è±¡eæž„é€ Move Constructor is called! src: 38469648 // swapå‡½æ•°ä¸­çš„å¯¹è±¡cé€šè¿‡ç§»åŠ¨æž„é€ å‡½æ•°æž„é€ Move Operator= is called! src: 38469680 // swapå‡½æ•°ä¸­çš„å¯¹è±¡aé€šè¿‡ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦èµ‹å€¼Move Operator= is called! src: 38469648 // swapå‡½æ•°ä¸­çš„å¯¹è±¡bé€šè¿‡ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦èµ‹å€¼DeConstructor is called! // swapå‡½æ•°ä¸­çš„å¯¹è±¡cæžæž„DeConstructor is called! this-&gt;_data: 38469648 // å¯¹è±¡eæžæž„DeConstructor is called! this-&gt;_data: 38469680 // å¯¹è±¡dæžæž„ å³å€¼å¼•ç”¨å’Œå³å€¼çš„å…³ç³»è¿™ä¸ªé—®é¢˜å°±æœ‰ç‚¹ç»•äº†ï¼Œéœ€è¦å¼€åŠ¨æ€è€ƒä¸€ä¸‹å³å€¼å¼•ç”¨å’Œå³å€¼æ˜¯å•¥å«ä¹‰äº†ã€‚è¯»è€…ä¼šå‡­ç©ºçš„è®¤ä¸ºå³å€¼å¼•ç”¨è‚¯å®šæ˜¯å³å€¼ï¼Œå…¶å®žä¸ç„¶ã€‚æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå¹¶å°†mainå‡½æ•°è¿›è¡Œä¿®æ”¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021void test_rvalue_rref(MyString &amp;&amp;str)&#123; cout &lt;&lt; "tmp object construct start" &lt;&lt; endl; MyString tmp = str; cout &lt;&lt; "tmp object construct finish" &lt;&lt; endl;&#125;int main() &#123; test_rvalue_rref(foo()); return 1;&#125;// è¾“å‡ºç»“æžœConstructor is called! this-&gt;_data: 28913680Move Constructor is called! src: 28913680DeConstructor is called!tmp object construct startCopy Constructor is called! src: 28913680 dst: 28913712 // å¯ä»¥çœ‹åˆ°è¿™é‡Œè°ƒç”¨çš„æ˜¯å¤åˆ¶æž„é€ å‡½æ•°è€Œä¸æ˜¯ç§»åŠ¨æž„é€ å‡½æ•°tmp object construct finishDeConstructor is called! this-&gt;_data: 28913712DeConstructor is called! this-&gt;_data: 28913680 æˆ‘æƒ³ç¨‹åºè¿è¡Œçš„ç»“æžœè‚¯å®šè·Ÿå¤§å¤šæ•°äººæƒ³åˆ°çš„ä¸ä¸€æ ·ï¼Œâ€œAre you kidding me?ä¸æ˜¯åº”è¯¥è°ƒç”¨ç§»åŠ¨æž„é€ å‡½æ•°å—ï¼Ÿä¸ºä»€ä¹ˆè°ƒç”¨äº†å¤åˆ¶æž„é€ å‡½æ•°ï¼Ÿâ€ã€‚å…³äºŽå³å€¼å¼•ç”¨å’Œå·¦å³å€¼ä¹‹é—´çš„è§„åˆ™æ˜¯ï¼š å¦‚æžœå³å€¼å¼•ç”¨æœ‰åå­—åˆ™ä¸ºå·¦å€¼ï¼Œå¦‚æžœå³å€¼å¼•ç”¨æ²¡æœ‰åå­—åˆ™ä¸ºå³å€¼ã€‚ é€šè¿‡è§„åˆ™æˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­å³å€¼å¼•ç”¨stræ˜¯æœ‰åå­—çš„ï¼Œå› æ­¤ä¸ºå·¦å€¼ï¼Œtmpçš„æž„é€ ä¼šè°ƒç”¨å¤åˆ¶æž„é€ å‡½æ•°ã€‚ä¹‹æ‰€ä»¥ä¼šè¿™æ ·ï¼Œæ˜¯å› ä¸ºå¦‚æžœtmpæž„é€ çš„æ—¶å€™è°ƒç”¨äº†ç§»åŠ¨æž„é€ å‡½æ•°ï¼Œåˆ™è°ƒç”¨å®ŒæˆåŽstrçš„ç”³è¯·çš„å†…å­˜è‡ªå·±å·²ç»ä¸å¯ç”¨äº†ï¼Œå¦‚æžœåœ¨è¯¥å‡½æ•°ä¸­è¯¥è¯­å¥çš„åŽé¢åœ¨è°ƒç”¨strå˜é‡ä¼šå‡ºçŽ°æˆ‘ä»¬æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚é‰´äºŽæ­¤ï¼Œæˆ‘ä»¬ä¹Ÿå°±èƒ½å¤Ÿç†è§£ä¸ºä»€ä¹ˆæœ‰åå­—çš„å³å€¼å¼•ç”¨æ˜¯å·¦å€¼äº†ã€‚å¦‚æžœå·²ç»ç¡®å®šåœ¨tmpæž„é€ è¯­å¥çš„åŽé¢ä¸éœ€è¦ä½¿ç”¨strå˜é‡äº†ï¼Œå¯ä»¥ä½¿ç”¨std::move()å‡½æ•°å°†strå˜é‡ä»Žå·¦å€¼è½¬æ¢ä¸ºå³å€¼ï¼Œè¿™æ ·tmpå˜é‡çš„æž„é€ å°±å¯ä»¥ä½¿ç”¨ç§»åŠ¨æž„é€ å‡½æ•°äº†ã€‚ è€Œå¦‚æžœæˆ‘ä»¬è°ƒç”¨çš„æ˜¯MyString b = foo()è¯­å¥ï¼Œç”±äºŽfoo()å‡½æ•°è¿”å›žçš„æ˜¯ä¸´æ—¶å¯¹è±¡æ²¡æœ‰åå­—å±žäºŽå³å€¼ï¼Œå› æ­¤bçš„æž„é€ ä¼šè°ƒç”¨ç§»åŠ¨æž„é€ å‡½æ•°ã€‚ è¯¥è§„åˆ™éžå¸¸çš„é‡è¦ï¼Œè¦æƒ³èƒ½å¤Ÿæ­£ç¡®ä½¿ç”¨å³å€¼å¼•ç”¨ï¼Œè¯¥è§„åˆ™å¿…é¡»è¦æŽŒæ¡ï¼Œå¦åˆ™å†™å‡ºæ¥çš„ä»£ç ä¼šæœ‰ä¸€ä¸ªå¤§å‘ã€‚ å®Œç¾Žè½¬å‘å‰é¢å·²ç»ä»‹ç»äº†æœ¬æ–‡çš„ä¸¤å¤§ä¸»é¢˜ä¹‹ä¸€çš„ç§»åŠ¨è¯­ä¹‰ï¼Œè¿˜å‰©ä¸‹å®Œç¾Žè½¬å‘æœºåˆ¶ã€‚å®Œç¾Žè½¬å‘æœºåˆ¶é€šå¸¸ç”¨äºŽåº“å‡½æ•°ä¸­ï¼Œè‡³å°‘åœ¨æˆ‘çš„å·¥ä½œä¸­è¿˜æ˜¯å¾ˆå°‘ä½¿ç”¨çš„ã€‚å¦‚æžœå®žåœ¨ä¸æƒ³ç†è§£è¯¥é—®é¢˜ï¼Œå¯ä»¥ä¸ç”¨å‘ä¸‹çœ‹äº†ã€‚åœ¨æ³›åž‹ç¼–ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°çš„ä¸€ä¸ªé—®é¢˜æ˜¯æ€Žæ ·å°†ä¸€ç»„å‚æ•°åŽŸå°ä¸åŠ¨çš„è½¬å‘ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ã€‚è¿™é‡Œçš„åŽŸå°ä¸åŠ¨æ˜¯æŒ‡ï¼Œå¦‚æžœå‡½æ•°æ˜¯å·¦å€¼ï¼Œé‚£ä¹ˆè½¬å‘ç»™çš„é‚£ä¸ªå‡½æ•°ä¹Ÿè¦æŽ¥æ”¶ä¸€ä¸ªå·¦å€¼ï¼›å¦‚æžœå‚æ•°æ˜¯å³å€¼ï¼Œé‚£ä¹ˆè½¬å‘ç»™çš„å‡½æ•°ä¹Ÿè¦æŽ¥æ”¶ä¸€ä¸ªå³å€¼ï¼›å¦‚æžœå‚æ•°æ˜¯constçš„ï¼Œè½¬å‘ç»™çš„å‡½æ•°ä¹Ÿè¦æŽ¥æ”¶ä¸€ä¸ªconstå‚æ•°ï¼›å¦‚æžœå‚æ•°æ˜¯éžconstçš„ï¼Œè½¬å‘ç»™çš„å‡½æ•°ä¹Ÿè¦æŽ¥æ”¶ä¸€ä¸ªéžconstå€¼ã€‚ è¯¥é—®é¢˜çœ‹ä¸ŠåŽ»éžå¸¸ç®€å•ï¼Œå…¶å®žä¸ç„¶ã€‚çœ‹ä¸€ä¸ªä¾‹å­ï¼š 1234567891011121314151617181920212223242526#include &lt;iostream&gt;using namespace std;void fun(int &amp;) &#123; cout &lt;&lt; "lvalue ref" &lt;&lt; endl; &#125; void fun(int &amp;&amp;) &#123; cout &lt;&lt; "rvalue ref" &lt;&lt; endl; &#125; void fun(const int &amp;) &#123; cout &lt;&lt; "const lvalue ref" &lt;&lt; endl; &#125; void fun(const int &amp;&amp;) &#123; cout &lt;&lt; "const rvalue ref" &lt;&lt; endl; &#125;template&lt;typename T&gt;void PerfectForward(T t) &#123; fun(t); &#125; int main()&#123; PerfectForward(10); // rvalue ref int a; PerfectForward(a); // lvalue ref PerfectForward(std::move(a)); // rvalue ref const int b = 8; PerfectForward(b); // const lvalue ref PerfectForward(std::move(b)); // const rvalue ref return 0;&#125; åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æƒ³è¾¾åˆ°çš„ç›®çš„æ˜¯PerfectForwardæ¨¡æ¿å‡½æ•°èƒ½å¤Ÿå®Œç¾Žè½¬å‘å‚æ•°tåˆ°funå‡½æ•°ä¸­ã€‚ä¸Šè¿°ä¾‹å­ä¸­çš„PerfectForwardå‡½æ•°å¿…ç„¶ä¸èƒ½å¤Ÿè¾¾åˆ°æ­¤ç›®çš„ï¼Œå› ä¸ºPerfectForwardå‡½æ•°çš„å‚æ•°ä¸ºå·¦å€¼ç±»åž‹ï¼Œè°ƒç”¨çš„funå‡½æ•°ä¹Ÿå¿…ç„¶ä¸ºvoid fun(int &amp;)ã€‚ä¸”è°ƒç”¨PerfectForwardä¹‹å‰å°±äº§ç”Ÿäº†ä¸€æ¬¡å‚æ•°çš„å¤åˆ¶æ“ä½œï¼Œå› æ­¤è¿™æ ·çš„è½¬å‘åªèƒ½ç§°ä¹‹ä¸ºæ­£ç¡®è½¬å‘ï¼Œè€Œä¸æ˜¯å®Œç¾Žè½¬å‘ã€‚è¦æƒ³è¾¾åˆ°å®Œç¾Žè½¬å‘ï¼Œéœ€è¦åšåˆ°åƒè½¬å‘å‡½æ•°ä¸å­˜åœ¨ä¸€æ ·çš„æ•ˆçŽ‡ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬è€ƒè™‘å°†PerfectForwardå‡½æ•°çš„å‚æ•°æ›´æ”¹ä¸ºå¼•ç”¨ç±»åž‹ï¼Œå› ä¸ºå¼•ç”¨ç±»åž‹ä¸ä¼šæœ‰é¢å¤–çš„å¼€é”€ã€‚å¦å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘è½¬å‘å‡½æ•°PerfectForwardæ˜¯å¦å¯ä»¥æŽ¥æ”¶å¼•ç”¨ç±»åž‹ã€‚å¦‚æžœè½¬å‘å‡½æ•°PerfectForwardä»…èƒ½æŽ¥æ”¶å·¦å€¼å¼•ç”¨æˆ–å³å€¼å¼•ç”¨çš„ä¸€ç§ï¼Œé‚£ä¹ˆä¹Ÿæ— æ³•å®žçŽ°å®Œç¾Žè½¬å‘ã€‚ æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨const T &amp;tç±»åž‹çš„å‚æ•°ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å‰æ–‡ä¸­æåˆ°è¿‡ï¼Œconstå·¦å€¼å¼•ç”¨ç±»åž‹å¯ä»¥ç»‘å®šåˆ°ä»»ä½•ç±»åž‹ã€‚ä½†æ˜¯è¿™æ ·ç›®æ ‡å‡½æ•°å°±ä¸ä¸€å®šèƒ½æŽ¥æ”¶constå·¦å€¼å¼•ç”¨ç±»åž‹çš„å‚æ•°äº†ã€‚constå·¦å€¼å¼•ç”¨å±žäºŽå·¦å€¼ï¼Œéžconstå·¦å€¼å¼•ç”¨å’Œéžconstå³å€¼å¼•ç”¨æ˜¯æ— æ³•ç»‘å®šåˆ°constå·¦å€¼çš„ã€‚ å¦‚æžœå°†å‚æ•°tæ›´æ”¹ä¸ºéžconstå³å€¼å¼•ç”¨ã€constå³å€¼ä¹Ÿæ˜¯ä¸å¯ä»¥å®žçŽ°å®Œç¾Žè½¬å‘çš„ã€‚ åœ¨C++11ä¸­ä¸ºäº†èƒ½å¤Ÿè§£å†³å®Œç¾Žè½¬å‘é—®é¢˜ï¼Œå¼•å…¥äº†æ›´ä¸ºå¤æ‚çš„è§„åˆ™ï¼šå¼•ç”¨æŠ˜å è§„åˆ™å’Œç‰¹æ®Šæ¨¡æ¿å‚æ•°æŽ¨å¯¼è§„åˆ™ã€‚ å¼•ç”¨æŠ˜å æŽ¨å¯¼è§„åˆ™ä¸ºäº†èƒ½å¤Ÿç†è§£æ¸…æ¥šå¼•ç”¨æŠ˜å è§„åˆ™ï¼Œè¿˜æ˜¯é€šè¿‡ä»¥ä¸‹ä¾‹å­æ¥å­¦ä¹ ã€‚ 12345678910typedef int&amp; TR;int main()&#123; int a = 1; int &amp;b = a; int &amp; &amp;c = a; // ç¼–è¯‘å™¨æŠ¥é”™ï¼Œä¸å¯ä»¥å¯¹å¼•ç”¨å†æ˜¾ç¤ºæ·»åŠ å¼•ç”¨ TR &amp;d = a; // é€šè¿‡typedefå®šä¹‰çš„ç±»åž‹éšå¼æ·»åŠ å¼•ç”¨æ˜¯å¯ä»¥çš„ return 1;&#125; åœ¨C++ä¸­ï¼Œä¸å¯ä»¥åœ¨ç¨‹åºä¸­å¯¹å¼•ç”¨å†æ˜¾ç¤ºæ·»åŠ å¼•ç”¨ç±»åž‹ï¼Œå¯¹äºŽint &amp; &amp;cçš„å£°æ˜Žå˜é‡æ–¹å¼ï¼Œç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ã€‚ä½†æ˜¯å¦‚æžœåœ¨ä¸Šä¸‹æ–‡ä¸­ï¼ˆåŒ…æ‹¬ä½¿ç”¨æ¨¡æ¿å®žä¾‹åŒ–ã€typedefã€autoç±»åž‹æŽ¨æ–­ç­‰ï¼‰å‡ºçŽ°äº†å¯¹å¼•ç”¨ç±»åž‹å†æ·»åŠ å¼•ç”¨çš„æƒ…å†µï¼Œç¼–è¯‘å™¨æ˜¯å¯ä»¥ç¼–è¯‘é€šè¿‡çš„ã€‚å…·ä½“çš„å¼•ç”¨æŠ˜å è§„åˆ™å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹å‡ºä¸€æ—¦å¼•ç”¨ä¸­å®šä¹‰äº†å·¦å€¼ç±»åž‹ï¼ŒæŠ˜å è§„åˆ™æ€»æ˜¯å°†å…¶æŠ˜å ä¸ºå·¦å€¼å¼•ç”¨ã€‚è¿™å°±æ˜¯å¼•ç”¨æŠ˜å è§„åˆ™çš„å…¨éƒ¨å†…å®¹äº†ã€‚å¦å¤–æŠ˜å è§„åˆ™è·Ÿå˜é‡çš„constç‰¹æ€§æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚ 1234A&amp; &amp; =&gt; A&amp;A&amp; &amp;&amp; =&gt; A&amp;A&amp;&amp; &amp; =&gt; A&amp;A&amp;&amp; &amp;&amp; =&gt; A&amp;&amp; ç‰¹æ®Šæ¨¡æ¿å‚æ•°æŽ¨å¯¼è§„åˆ™ä¸‹é¢æˆ‘ä»¬å†æ¥å­¦ä¹ ç‰¹æ®Šæ¨¡æ¿å‚æ•°æŽ¨å¯¼è§„åˆ™ï¼Œè€ƒè™‘ä¸‹é¢çš„æ¨¡æ¿å‡½æ•°ï¼Œæ¨¡æ¿å‡½æ•°æŽ¥æ”¶ä¸€ä¸ªå³å€¼å¼•ç”¨ä½œä¸ºæ¨¡æ¿å‚æ•°ã€‚ 12template&lt;typename T&gt;void foo(T&amp;&amp;); è¯´ç™½ç‚¹ï¼Œç‰¹æ®Šæ¨¡æ¿å‚æ•°æŽ¨å¯¼è§„åˆ™å…¶å®žå°±æ˜¯å¼•ç”¨æŠ˜å è§„åˆ™åœ¨æ¨¡æ¿å‚æ•°ä¸ºå³å€¼å¼•ç”¨æ—¶æ¨¡æ¿æƒ…å†µä¸‹çš„åº”ç”¨ï¼Œæ˜¯å¼•ç”¨æŠ˜å è§„åˆ™çš„ä¸€ç§æƒ…å†µã€‚æˆ‘ä»¬ç»“åˆä¸Šæ–‡ä¸­çš„å¼•ç”¨æŠ˜å è§„åˆ™ï¼Œ å¦‚æžœfooçš„å®žå‚æ˜¯ä¸Šæ–‡ä¸­çš„Aç±»åž‹çš„å·¦å€¼æ—¶ï¼ŒTçš„ç±»åž‹å°±ä¸ºA&amp;ã€‚æ ¹æ®å¼•ç”¨æŠ˜å è§„åˆ™ï¼Œæœ€åŽfooçš„å‚æ•°ç±»åž‹ä¸ºA&amp;ã€‚ å¦‚æžœfooçš„å®žå‚æ˜¯ä¸Šæ–‡ä¸­çš„Aç±»åž‹çš„å³å€¼æ—¶ï¼ŒTçš„ç±»åž‹å°±ä¸ºA&amp;&amp;ã€‚æ ¹æ®å¼•ç”¨æŠ˜å è§„åˆ™ï¼Œæœ€åŽfooçš„å‚æ•°ç±»åž‹ä¸ºA&amp;&amp;ã€‚ è§£å†³å®Œç¾Žè½¬å‘é—®é¢˜æˆ‘ä»¬å·²ç»å­¦ä¹ äº†æ¨¡æ¿å‚æ•°ä¸ºå³å€¼å¼•ç”¨æ—¶çš„ç‰¹æ®Šæ¨¡æ¿å‚æ•°æŽ¨å¯¼è§„åˆ™ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ©ç”¨åˆšå­¦ä¹ çš„çŸ¥è¯†æ¥è§£å†³æœ¬æ–‡ä¸­å¾…è§£å†³çš„å®Œç¾Žè½¬å‘çš„ä¾‹å­ã€‚ 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;using namespace std;void fun(int &amp;) &#123; cout &lt;&lt; "lvalue ref" &lt;&lt; endl; &#125;void fun(int &amp;&amp;) &#123; cout &lt;&lt; "rvalue ref" &lt;&lt; endl; &#125;void fun(const int &amp;) &#123; cout &lt;&lt; "const lvalue ref" &lt;&lt; endl; &#125;void fun(const int &amp;&amp;) &#123; cout &lt;&lt; "const rvalue ref" &lt;&lt; endl; &#125;//template&lt;typename T&gt;//void PerfectForward(T t) &#123; fun(t); &#125;// åˆ©ç”¨å¼•ç”¨æŠ˜å è§„åˆ™ä»£æ›¿äº†åŽŸæœ‰çš„ä¸å®Œç¾Žè½¬å‘æœºåˆ¶template&lt;typename T&gt;void PerfectForward(T &amp;&amp;t) &#123; fun(static_cast&lt;T &amp;&amp;&gt;(t)); &#125;int main()&#123; PerfectForward(10); // rvalue refï¼ŒæŠ˜å åŽtç±»åž‹ä»ç„¶ä¸ºT &amp;&amp; int a; PerfectForward(a); // lvalue refï¼ŒæŠ˜å åŽtç±»åž‹ä¸ºT &amp; PerfectForward(std::move(a)); // rvalue refï¼ŒæŠ˜å åŽtç±»åž‹ä¸ºT &amp;&amp; const int b = 8; PerfectForward(b); // const lvalue refï¼ŒæŠ˜å åŽtç±»åž‹ä¸ºconst T &amp; PerfectForward(std::move(b)); // const rvalue refï¼ŒæŠ˜å åŽtç±»åž‹ä¸ºconst T &amp;&amp; return 0;&#125; ä¾‹å­ä¸­å·²ç»å¯¹å®Œç¾Žè½¬å‘çš„å„ç§æƒ…å†µè¿›è¡Œäº†è¯´æ˜Žï¼Œè¿™é‡Œéœ€è¦å¯¹PerfectForwardæ¨¡æ¿å‡½æ•°ä¸­çš„static_castè¿›è¡Œè¯´æ˜Žã€‚static_castä»…æ˜¯å¯¹ä¼ é€’å³å€¼æ—¶èµ·ä½œç”¨ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹å½“å‚æ•°ä¸ºå³å€¼æ—¶çš„æƒ…å†µï¼Œè¿™é‡Œçš„å³å€¼åŒ…æ‹¬äº†constå³å€¼å’Œéžconstå³å€¼ã€‚ 1234567// å‚æ•°ä¸ºå³å€¼ï¼Œå¼•ç”¨æŠ˜å è§„åˆ™å¼•ç”¨å‰template&lt;int &amp;&amp; &amp;&amp;T&gt;void PerfectForward(int &amp;&amp; &amp;&amp;t) &#123; fun(static_cast&lt;int &amp;&amp; &amp;&amp;&gt;(t)); &#125;// å¼•ç”¨æŠ˜å è§„åˆ™åº”ç”¨åŽtemplate&lt;int &amp;&amp;T&gt;void PerfectForward(int &amp;&amp;t) &#123; fun(static_cast&lt;int &amp;&amp;&gt;(t)); &#125; å¯èƒ½è¯»è€…ä»ç„¶æ²¡æœ‰å‘çŽ°ä¸Šè¿°ä¾‹å­ä¸­çš„é—®é¢˜ï¼Œâ€œä¸ç”¨static_castè¿›è¡Œå¼ºåˆ¶ç±»åž‹è½¬æ¢ä¸æ˜¯ä¹Ÿå¯ä»¥å—ï¼Ÿâ€ã€‚åˆ«å¿˜è®°å‰æ–‡ä¸­ä»ç„¶æåˆ°ä¸€ä¸ªå³å€¼å¼•ç”¨å’Œå³å€¼ä¹‹é—´å…³ç³»çš„è§„åˆ™ï¼Œå¦‚æžœå³å€¼å¼•ç”¨æœ‰åå­—åˆ™ä¸ºå·¦å€¼ï¼Œå¦‚æžœå³å€¼å¼•ç”¨æ²¡æœ‰åå­—åˆ™ä¸ºå³å€¼ã€‚ã€‚è¿™é‡Œçš„å˜é‡tè™½ç„¶ä¸ºå³å€¼å¼•ç”¨ï¼Œä½†æ˜¯æ˜¯å·¦å€¼ã€‚å¦‚æžœæˆ‘ä»¬æƒ³ç»§ç»­å‘funå‡½æ•°ä¸­ä¼ é€’å³å€¼ï¼Œå°±éœ€è¦ä½¿ç”¨static_castè¿›è¡Œå¼ºåˆ¶ç±»åž‹è½¬æ¢äº†ã€‚ å…¶å®žåœ¨C++11ä¸­å·²ç»ä¸ºæˆ‘ä»¬å°è£…äº†std::forwardå‡½æ•°æ¥æ›¿ä»£æˆ‘ä»¬ä¸Šæ–‡ä¸­ä½¿ç”¨çš„static_castç±»åž‹è½¬æ¢ï¼Œè¯¥ä¾‹å­ä¸­ä½¿ç”¨std::forwardå‡½æ•°çš„ç‰ˆæœ¬å˜ä¸ºäº†ï¼š 12template&lt;typename T&gt;void PerfectForward(T &amp;&amp;t) &#123; fun(std::forward&lt;T&gt;(t)); &#125; å¯¹äºŽä¸Šæ–‡ä¸­std::moveå‡½æ•°çš„å®žçŽ°ä¹Ÿæ˜¯ä½¿ç”¨äº†å¼•ç”¨æŠ˜å è§„åˆ™ï¼Œå®žçŽ°æ–¹å¼è·Ÿstd::forwardä¸€è‡´ã€‚ å¼•ç”¨ ã€Šæ·±å…¥ç†è§£C++11-C++11æ–°ç‰¹æ€§è§£æžä¸Žåº”ç”¨ã€‹ C++11 æ ‡å‡†æ–°ç‰¹æ€§: å³å€¼å¼•ç”¨ä¸Žè½¬ç§»è¯­ä¹‰ å¦‚ä½•è¯„ä»· C++11 çš„å³å€¼å¼•ç”¨ï¼ˆRvalue referenceï¼‰ç‰¹æ€§ï¼Ÿ C++11 å®Œç¾Žè½¬å‘ C++ Rvalue References Explained è¯¦è§£C++å³å€¼å¼•ç”¨ ï¼ˆå¯¹C++ Rvalue References Explainedçš„ç¿»è¯‘ï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¤§åž‹ç½‘ç«™æŠ€æœ¯æž¶æž„è¯»ä¹¦ç¬”è®°]]></title>
      <url>%2Fpost%2Flarge_website_architecture%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘ç²—è¯»äº†ä¸€éã€Šå¤§åž‹ç½‘ç«™æŠ€æœ¯æž¶æž„-æ ¸å¿ƒåŽŸç†ä¸Žæ¡ˆä¾‹åˆ†æžã€‹ï¼Œå¹¶å¯¹å…¶ä¸­çš„å†…å®¹é€šè¿‡æ€ç»´å¯¼å›¾çš„å½¢å¼è¿›è¡Œäº†æ•´ç†ã€‚æœ¬ä¹¦çš„æ‰€è®²è§£çš„å†…å®¹å‡ä¸ºå¤§åž‹ç½‘ç«™ä¸­æ¶‰åŠåˆ°çš„é—®é¢˜åŠç›¸å…³æŠ€æœ¯ï¼Œä½†å¹¶æœªå±•å¼€æ·±å…¥è®¨è®ºç›¸å…³æŠ€æœ¯çš„è§£å†³åŠžæ³•ï¼Œéžå¸¸é€‚åˆå…¥é—¨ã€‚ä¸‹é¢æˆ‘å°†æˆ‘çš„æ€ç»´å¯¼å›¾ä»¥å›¾ç‰‡çš„å½¢å¼è´´å‡ºæ¥ï¼Œå¹¶æä¾›XMindç¼–è¾‘çš„.xmidæ ¼å¼çš„æ–‡ä»¶ã€‚ ä¸‹è½½å¤§åž‹ç½‘ç«™æŠ€æœ¯æž¶æž„è¯»ä¹¦ç¬”è®°]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è§£å†³airodump-ngæ˜¾ç¤ºssidåç§°çš„ä¹±ç é—®é¢˜]]></title>
      <url>%2Fpost%2Fairodump-ng_ssid_messy%2F</url>
      <content type="text"><![CDATA[é—®é¢˜æè¿°æ— çº¿wifiçš„essidæ”¯æŒè‹±æ–‡å’Œä¸­æ–‡ï¼Œä¸­æ–‡çš„ç¼–ç åœ¨802.11åè®®å¹¶æ²¡æœ‰è§„å®šï¼Œå¯¹äºŽ802.11åè®®è€Œè¨€ä»…å°†essidçœ‹ä½œæ˜¯äºŒè¿›åˆ¶ã€‚è€Œä¸­æ–‡åˆå­˜åœ¨å¤šç§ç¼–ç æ–¹å¼ï¼Œæœ€å¸¸è§çš„å°±æ˜¯GB18030ï¼ˆæˆ‘è¿™é‡Œç›´æŽ¥ç”¨GB18030ä»£æ›¿äº†GBç³»åˆ—çš„å­—ç¬¦é›†ï¼‰å’ŒUTF-8äº†ã€‚ iwlistç¨‹åºé€šè¿‡å‘½ä»¤iwlist wlan0 scanningå¯ä»¥åœ¨ç»ˆç«¯ä¸Šæ­£å¸¸æ˜¾ç¤ºUTF-8ç¼–ç çš„essidï¼Œå¯¹äºŽå…¶ä»–ç¼–ç çš„ä¸­æ–‡ä»ç„¶æ˜¯ä¹±ç ï¼Œè¿™ä¹Ÿå°±éžå¸¸å®¹æ˜“ç†è§£äº†ã€‚å› ä¸ºå…·ä½“çš„essidèƒ½å¦å°†ä¸­æ–‡æ­£å¸¸æ˜¾ç¤ºåœ¨ç»ˆç«¯å±å¹•ä¸Šè·Ÿessidçš„ç¼–ç å’Œå½“å‰ç»ˆç«¯çŽ¯å¢ƒçš„ç¼–ç æ˜¯å¦èƒ½å¤ŸåŒ¹é…æœ‰å…³ï¼Œå¦‚æžœessidçš„ç¼–ç å’Œå½“å‰ç»ˆç«¯çŽ¯å¢ƒçš„ç¼–ç å‡ä¸ºUTF-8ï¼Œåˆ™essidå¯ä»¥åœ¨å±å¹•ä¸Šæ­£å¸¸æ˜¾ç¤ºã€‚å¦‚æžœå½“å‰ç½‘ç»œä¸­çš„å¯ä»¥æœç´¢åˆ°çš„essidå³åŒ…å«äº†GB18030ç¼–ç åˆåŒ…å«äº†UTF-8ç¼–ç ï¼Œåˆ™æ‰“å°åœ¨ç»ˆç«¯ä¸Šçš„essidå¿…ç„¶ä¼šæœ‰ä¹±ç çš„æƒ…å†µå‡ºçŽ°ã€‚ airodump-ngç¨‹åºé—®é¢˜å¯¹äºŽairodump-ngç¨‹åºè€Œè¨€ï¼Œå³æ—¶æ˜¯essidçš„ç¼–ç å’Œç»ˆç«¯ç¼–ç ä¸€è‡´ä¹Ÿä¼šå‡ºçŽ°æŸäº›ä¸­æ–‡å­—ç¬¦ä¹±ç çš„é—®é¢˜ï¼Œè¿™ä¸€ç‚¹æ¯”è¾ƒå¥‡æ€ªã€‚æ¯”å¦‚â€œå…è´¹â€ä¸­çš„â€œå…â€å­—æ˜¯ä¹±ç ï¼Œâ€œè´¹â€å´èƒ½æ­£å¸¸æ˜¾ç¤ºã€‚é€šè¿‡è¿™ä¸€çŽ°è±¡æœ‰ç†ç”±æ€€ç–‘airodump-ngå¯¹essidåšäº†æŸäº›å¤„ç†ã€‚ ç»è¿‡æŸ¥çœ‹æºç å‘çŽ°ï¼Œåœ¨airodump-ng.cæ–‡ä»¶ä¸­å­˜åœ¨ä¸‰å¤„å¦‚ä¸‹ç±»ä¼¼ä»£ç ï¼Œä½œç”¨ä¸ºå°†essidä¸­çš„asciiå€¼åœ¨(126,160)ä¹‹é—´çš„è½¬æ¢ä¸ºâ€.â€ã€‚çœ‹æ¥airodump-ngç¨‹åºå¹¶æ²¡æœ‰è€ƒè™‘åˆ°ä¸­æ–‡çš„æƒ…å†µï¼Œä»…å°†asciiä¸­æ— æ³•æ˜¾ç¤ºçš„å­—ç¬¦åšäº†è½¬æ¢ã€‚å°†ç¨‹åºä¸­çš„ä¸‰å¤„ä»£ç æ³¨é‡ŠåŽå°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†ã€‚å…·ä½“ä¸‰å¤„ä»£ç å¯ä»¥é€šè¿‡æœç´¢â€™.â€™æ¥æŸ¥æ‰¾ã€‚ 123456789for( i = 0; i &lt; n; i++ )&#123; c = p[2 + i]; if( c == 0 || ( c &gt; 126 &amp;&amp; c &lt; 160 ) ) &#123; c = '.'; //could also check ||(c&gt;0 &amp;&amp; c&lt;32) &#125; st_cur-&gt;probes[st_cur-&gt;probe_index][i] = c;&#125; NetworkManageré€šè¿‡å®žè·µå‘çŽ°ï¼ŒGNOMEå’ŒKDEæ¡Œé¢ä¸‹çš„æŸ¥çœ‹æ— çº¿ç½‘ç»œè¿žæŽ¥çš„ssidæ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„ï¼Œå³å¯ä»¥æ­£å¸¸æ˜¾ç¤ºGB18030ï¼Œåˆå¯ä»¥æ­£å¸¸æ˜¾ç¤ºUTF-8ç¼–ç çš„essidã€‚åˆ™å¯ä»¥æŽ¨æµ‹ï¼Œåœ¨æ¡Œé¢çŽ¯å¢ƒä¸‹çš„æœç´¢ç½‘ç»œçš„ç¨‹åºè‚¯å®šå¯¹ç¼–ç åšäº†æŸäº›å¤„ç†ï¼Œé¡ºç€è¿™ä¸ªæ€è·¯ï¼Œå°±å¯ä»¥æŸ¥æ‰¾GNOMEæˆ–KDEçš„ä»£ç äº†ã€‚ åœ¨GNOMEçš„æºç ä¸­çœ‹åˆ°äº†network-manager-appletï¼Œè¯¥ç¨‹åºå³ä¸ºæ¡Œé¢ä¸ŠæŸ¥çœ‹æ— çº¿ç½‘ç»œè¿žæŽ¥çš„å°æŽ§ä»¶ã€‚åœ¨applet-device-wifi.cæ–‡ä»¶ä¸­çœ‹åˆ°äº†å¦‚ä¸‹ä»£ç ï¼Œå…¶ä¸­çš„nm_utils_ssid_to_utf8å‡½æ•°å³ä¸ºå°†å…¶ä»–ç¼–ç è½¬æ¢ä¸ºUTF-8ç¼–ç çš„å‡½æ•°ã€‚ 12345678910111213141516static char *get_ssid_utf8 (NMAccessPoint *ap)&#123; char *ssid_utf8 = NULL; const GByteArray *ssid; if (ap) &#123; ssid = nm_access_point_get_ssid (ap); if (ssid) ssid_utf8 = nm_utils_ssid_to_utf8 (ssid); &#125; if (!ssid_utf8) ssid_utf8 = g_strdup (_("(none)")); return ssid_utf8;&#125; nm_utils_ssid_to_utf8å‡½æ•°å®šä¹‰åœ¨NetworkManagerå·¥ç¨‹ä¸­çš„nm-utils.cæ–‡ä»¶ä¸­ã€‚è¯¥å‡½æ•°çš„ä»£ç å¦‚ä¸‹ï¼Œè¯¥å‡½æ•°å…·ä½“åŠŸèƒ½å¯ä»¥æŸ¥çœ‹ä»£ç ä¸­çš„æ³¨é‡Šï¼Œå·²ç»éžå¸¸è¯¦ç»†äº†ã€‚å…¶ä¸­ä»¥g_å¼€å¤´çš„å‡½æ•°æ˜¯glibåº“ä¸­çš„å‡½æ•°ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738char *nm_utils_ssid_to_utf8 (const GByteArray *ssid)&#123; char *converted = NULL; char *lang, *e1 = NULL, *e2 = NULL, *e3 = NULL; g_return_val_if_fail (ssid != NULL, NULL); if (g_utf8_validate ((const gchar *) ssid-&gt;data, ssid-&gt;len, NULL)) return g_strndup ((const gchar *) ssid-&gt;data, ssid-&gt;len); /* LANG may be a good encoding hint */ g_get_charset ((const char **)(&amp;e1)); if ((lang = getenv ("LANG"))) &#123; char * dot; lang = g_ascii_strdown (lang, -1); if ((dot = strchr (lang, '.'))) *dot = '\0'; get_encodings_for_lang (lang, &amp;e1, &amp;e2, &amp;e3); g_free (lang); &#125; converted = g_convert ((const gchar *) ssid-&gt;data, ssid-&gt;len, "UTF-8", e1, NULL, NULL, NULL); if (!converted &amp;&amp; e2) converted = g_convert ((const gchar *) ssid-&gt;data, ssid-&gt;len, "UTF-8", e2, NULL, NULL, NULL); if (!converted &amp;&amp; e3) converted = g_convert ((const gchar *) ssid-&gt;data, ssid-&gt;len, "UTF-8", e3, NULL, NULL, NULL); if (!converted) &#123; converted = g_convert_with_fallback ((const gchar *) ssid-&gt;data, ssid-&gt;len, "UTF-8", e1, "?", NULL, NULL, NULL); &#125; return converted;&#125; nm_utils_ssid_to_utf8è¯¥å‡½æ•°ä½äºŽlibnm-util.so.1åŠ¨æ€åº“ä¸­ï¼Œå¯é€šè¿‡nm -D /usr/lib64/libnm-util.so.1 | grep nm_utils_ssid_to_utf8å‘½ä»¤æŸ¥çœ‹å¯¼å‡ºè¡¨ä¸­å­˜åœ¨è¯¥å‡½æ•°ã€‚ä½†æ˜¯ç³»ç»Ÿä¸­å¹¶ä¸å­˜åœ¨è¯¥å‡½æ•°çš„å¤´æ–‡ä»¶libnm-util.hï¼Œç»™è¯¥åº“çš„è°ƒç”¨å¢žåŠ äº†ä¸å°‘éš¾åº¦ã€‚å¯ä»¥é€šè¿‡å°†ç›¸å…³å¤´æ–‡ä»¶å¼•å…¥åˆ°è¯¥å·¥ç¨‹ç¼–è¯‘çš„æ–¹å¼æ¥å®Œæˆï¼Œä½†æ˜¯å¯èƒ½ä¼šç‰µæ¶‰åˆ°çš„å¤´æ–‡ä»¶æ¯”è¾ƒå¤šï¼Œæ¯”è¾ƒç¹çã€‚ æˆ‘è¿™é‡Œç›´æŽ¥é‡‡ç”¨äº†å°†NetworkManagerä¸­ç›¸å…³ä»£ç æŠ“å–å‡ºæ¥çš„æ€è·¯ï¼Œå¹¶å°†å…¶å°è£…æˆç±»çš„å½¢å¼ä»¥æ–¹ä¾¿è°ƒç”¨ã€‚å…·ä½“ä»£ç å¯ä»¥å‚ç…§demoä¸­çš„ä¾‹å­ã€‚ glibglibæ˜¯GTKåº•å±‚è°ƒç”¨çš„æ ¸å¿ƒåº“ï¼Œè·Ÿglibcæ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œè™½ç„¶åå­—ä¸­ä»…å·®ä¸€ä¸ªå­—æ¯ã€‚ä¸ºäº†è°ƒç”¨è¯¥åº“éœ€è¦åœ¨ç¼–è¯‘çš„æ—¶å€™æ·»åŠ pkg-config --cflags --libs glib-2.0ä¿¡æ¯ï¼Œä»¥å¼•å…¥éœ€è¦çš„å¤´æ–‡ä»¶å’Œè¦é“¾æŽ¥çš„åº“ã€‚ ç›¸å…³ä¸‹è½½æ–‡ä¸­ç”¨åˆ°çš„è½¯ä»¶æºç å’Œç¨‹åºdemo å¼•ç”¨ GNOMEæºç åˆ—è¡¨]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[leetcodeé¢˜ç›®ä¹‹Single Number]]></title>
      <url>%2Fpost%2Fsingle_number%2F</url>
      <content type="text"><![CDATA[é¢˜ç›®ä¸€ Single Number Given an array of integers, every element appears twice except for one. Find that single one.Note:Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory? é¢˜ç›®äºŒ Single Number II Given an array of integers, every element appears three times except for one. Find that single one.Note:Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory? é¢˜ç›®ä¸€åˆ†æžåŠè§£ç­”é’ˆå¯¹é¢˜ç›®ä¸€ï¼Œä¸€çœ‹å°±èƒ½çœ‹å‡ºæ˜¯è€ƒå¯Ÿå¼‚æˆ–æ“ä½œçš„ç‰¹ç‚¹ï¼Œå¹¶è¿…é€Ÿå†™å‡ºäº†è§£ç­”æ–¹æ³•ã€‚ 1234567891011class Solution &#123;public: int singleNumber(int A[], int n) &#123; int result = 0; for (int i = 0; i &lt; n; i++) &#123; result ^= A[i]; &#125; return result; &#125;&#125;; é¢˜ç›®äºŒåˆ†æžåŠè§£ç­”è¦æƒ³å®žçŽ°æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)çš„ç®—æ³•ï¼Œè¿˜æ˜¯è·Ÿé¢˜ç›®ä¸€ä¸€æ ·éœ€è¦å……åˆ†åˆ©ç”¨ä½æ“ä½œç‰¹æ€§ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç›´æŽ¥å¯ç”¨çš„ä½æ“ä½œç‰¹æ€§å¯ä»¥å®Œæˆï¼ŒäºŽæ˜¯æƒ³åˆ°è‚¯å®šæ˜¯å„ç§ä½æ“ä½œçš„ç»„åˆæ“ä½œï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç»§ç»­å‘ä¸‹æƒ³åˆ°å…·ä½“çš„ç®—æ³•ã€‚æœ¬è´¨ä¸Šè¯¥é¢˜ç›®å°±æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªä¸‰è¿›åˆ¶çš„æ“ä½œï¼Œå½“ä¸€ä¸ªä½çš„æœ€å¤§å€¼ä¸º2ï¼Œå½“ä¸º3æ—¶ç›´æŽ¥æ¸…0ã€‚ å‚ç…§ç½‘ä¸Šçš„ç®—æ³•ï¼Œåˆ©ç”¨ä¸€ä¸ªintç±»åž‹çš„æ•°ç»„æ¥æ¨¡æ‹Ÿä¸€ä¸ªä¸‰è¿›åˆ¶æ•°ï¼Œæ¯ä¸ªintå€¼çš„æœ€å¤§å€¼ä¸º3ï¼Œå½“ç„¶è¿™æ ·å­˜åœ¨ä¸€å®šç©ºé—´ä¸Šçš„æµªè´¹ã€‚ç®—æ³•éœ€è¦å°†Aä¸­çš„æ¯ä¸ªå€¼é€šè¿‡ç§»ä½è¿ç®—èŽ·å–åˆ°è¯¥ä½çš„çŠ¶æ€ï¼Œå¹¶å°†å€¼æ·»åŠ åˆ°ç”¨æ¥æ¨¡æ‹Ÿä¸‰è¿›åˆ¶çš„intæ•°ç»„ä¸­ç›¸åº”çš„ä½ç½®ï¼Œæœ€åŽå°†æ¨¡æ‹Ÿä¸‰è¿›åˆ¶intæ•°ç»„ä¸­çš„å€¼ä¸º3çš„æ›´æ”¹ä¸º0ã€‚ 12345678910111213141516class Solution &#123;public: int singleNumber(int A[], int n) &#123; int count[32] = &#123;0&#125;; int result = 0; for (int i = 0; i &lt; 32; i++) &#123; for (int j = 0; j &lt; n; j++&#123; if ((A[j] &gt;&gt; i) &amp; 1) &#123; count[i]++; &#125; &#125; result |= ((count[i] % 3) &lt;&lt; i); &#125; return result; &#125;&#125;; å¦å¤–ï¼Œè¿˜æœ‰ä¸Šè¿°ç®—æ³•çš„æ”¹è¿›ç®—æ³•ï¼Œæ›´ä¸ºèŠ‚çœç©ºé—´ï¼Œæ•ˆçŽ‡æ›´é«˜ï¼Œä½†æ˜¯ç¡®å®žä¸å®¹æ˜“ç†è§£å’Œè®°å¿†ï¼Œå±žäºŽä¸‹æ¬¡ä»ç„¶æ— æ³•è®°å¿†çš„ç®—æ³•ç±»åž‹ã€‚è¿™é‡Œä»…æä¾›ä»£ç ï¼Œä¸å†ç»™å‡ºè§£é‡Šï¼Œè‡ªå·±é¢†æ‚Ÿã€‚ 123456789101112int singleNumber(int A[], int n) &#123; int ones = 0, twos = 0, threes = 0; for (int i = 0; i &lt; n; i++) &#123; twos |= ones &amp; A[i]; ones ^= A[i];// å¼‚æˆ–3æ¬¡ å’Œ å¼‚æˆ– 1æ¬¡çš„ç»“æžœæ˜¯ä¸€æ ·çš„ //å¯¹äºŽones å’Œ twos æŠŠå‡ºçŽ°äº†3æ¬¡çš„ä½ç½®è®¾ç½®ä¸º0 ï¼ˆå–åä¹‹åŽ1çš„ä½ç½®ä¸º0ï¼‰ threes = ones &amp; twos; ones &amp;= ~threes; twos &amp;= ~threes; &#125; return ones;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ç‰›å®¢ç½‘å†…æŽ¨ç¬”è¯•å·é¢˜ç›®2015.3.12]]></title>
      <url>%2Fpost%2Fnowcoder_2015.3.12%2F</url>
      <content type="text"><![CDATA[å‰æ®µæ—¶é—´å‚åŠ äº†ç‰›å®¢ç½‘çš„ç­”é¢˜æ´»åŠ¨ï¼Œå…±ä¸¤å¥—è¯•é¢˜ï¼Œæ¯å¥—é¢˜ç›®3ä¸ªç®—æ³•é¢˜ï¼Œæˆ‘åªåšäº†æ¯å¥—é¢˜çš„å‰ä¸¤é“ã€‚æœ€è¿‘æƒ³æŸ¥çœ‹ä¹‹å‰åšçš„é¢˜ç›®çš„ç­”æ¡ˆï¼Œå´å‘çŽ°éžå¸¸ä¸æ–¹ä¾¿ï¼Œç‰¹æ­¤å°†æˆ‘åšè¿‡çš„4é“é¢˜ç›®è®°å½•ä¸€ä¸‹ï¼Œç®—æ³•çš„æ€è·¯å°±ä¸å†è§£é‡Šäº†ã€‚ é¢˜ç›®ä¸€ å¥‡æ•°ä½ä¸Šéƒ½æ˜¯å¥‡æ•°æˆ–è€…å¶æ•°ä½ä¸Šéƒ½æ˜¯å¶æ•° ç»™å®šä¸€ä¸ªé•¿åº¦ä¸å°äºŽ2çš„æ•°ç»„arrã€‚ å†™ä¸€ä¸ªå‡½æ•°è°ƒæ•´arrï¼Œä½¿arrä¸­è¦ä¹ˆæ‰€æœ‰çš„å¶æ•°ä½ä¸Šéƒ½æ˜¯å¶æ•°ï¼Œè¦ä¹ˆæ‰€æœ‰çš„å¥‡æ•°ä½ä¸Šéƒ½æ˜¯å¥‡æ•°ä¸Šã€‚ è¦æ±‚ï¼šå¦‚æžœæ•°ç»„é•¿åº¦ä¸ºNï¼Œæ—¶é—´å¤æ‚åº¦è¯·è¾¾åˆ°O(N)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦è¯·è¾¾åˆ°O(1),ä¸‹æ ‡0,2,4,6â€¦ç®—ä½œå¶æ•°ä½,ä¸‹æ ‡1,3,5,7â€¦ç®—ä½œå¥‡æ•°ä½ï¼Œä¾‹å¦‚[1,2,3,4]è°ƒæ•´ä¸º[2,1,4,3]å³å¯ã€‚ 12345678910111213141516171819202122232425262728293031class Solution &#123;public: void oddInOddEvenInEven(vector&lt;int&gt;&amp; arr, int len) &#123; int odd = 1; int even = 0; while (odd &lt; len &amp;&amp; even &lt; len) &#123; if (arr[odd] % 2 == 0) &#123; while (arr[even] % 2 == 0) &#123; even += 2; &#125; if (even &lt; len) &#123; int tmp = arr[even]; arr[even] = arr[odd]; arr[odd] = tmp; &#125; else &#123; break; &#125; &#125; else &#123; odd += 2; &#125; &#125; &#125;&#125;; é¢˜ç›®äºŒ æ±‚æ­£æ•°æ•°ç»„çš„æœ€å°ä¸å¯ç»„æˆå’Œ ç»™å®šä¸€ä¸ªå…¨æ˜¯æ­£æ•°çš„æ•°ç»„arrï¼Œå®šä¹‰ä¸€ä¸‹arrçš„æœ€å°ä¸å¯ç»„æˆå’Œçš„æ¦‚å¿µï¼š 1ï¼Œarrçš„æ‰€æœ‰éžç©ºå­é›†ä¸­ï¼ŒæŠŠæ¯ä¸ªå­é›†å†…çš„æ‰€æœ‰å…ƒç´ åŠ èµ·æ¥ä¼šå‡ºçŽ°å¾ˆå¤šçš„å€¼ï¼Œå…¶ä¸­æœ€å°çš„è®°ä¸ºminï¼Œæœ€å¤§çš„è®°ä¸ºmaxï¼› 2ï¼Œåœ¨åŒºé—´[min,max]ä¸Šï¼Œå¦‚æžœæœ‰ä¸€äº›æ­£æ•°ä¸å¯ä»¥è¢«arræŸä¸€ä¸ªå­é›†ç›¸åŠ å¾—åˆ°ï¼Œé‚£ä¹ˆè¿™äº›æ­£æ•°ä¸­æœ€å°çš„é‚£ä¸ªï¼Œå°±æ˜¯arrçš„æœ€å°ä¸å¯ç»„æˆå’Œï¼› 3ï¼Œåœ¨åŒºé—´[min,max]ä¸Šï¼Œå¦‚æžœæ‰€æœ‰çš„æ•°éƒ½å¯ä»¥è¢«arrçš„æŸä¸€ä¸ªå­é›†ç›¸åŠ å¾—åˆ°ï¼Œé‚£ä¹ˆmax+1æ˜¯arrçš„æœ€å°ä¸å¯ç»„æˆå’Œï¼› ä¸¾ä¾‹ï¼š arr = {3,2,5} arrçš„minä¸º2ï¼Œmaxä¸º10ï¼Œåœ¨åŒºé—´[2,10]ä¸Šï¼Œ4æ˜¯ä¸èƒ½è¢«ä»»ä½•ä¸€ä¸ªå­é›†ç›¸åŠ å¾—åˆ°çš„å€¼ä¸­æœ€å°çš„ï¼Œæ‰€ä»¥4æ˜¯arrçš„æœ€å°ä¸å¯ç»„æˆå’Œï¼› arr = {3,2,4} arrçš„minä¸º2ï¼Œmaxä¸º9ï¼Œåœ¨åŒºé—´[2,9]ä¸Šï¼Œ8æ˜¯ä¸èƒ½è¢«ä»»ä½•ä¸€ä¸ªå­é›†ç›¸åŠ å¾—åˆ°çš„å€¼ä¸­æœ€å°çš„ï¼Œæ‰€ä»¥8æ˜¯arrçš„æœ€å°ä¸å¯ç»„æˆå’Œï¼› arr = {3,1,2} arrçš„minä¸º1ï¼Œmaxä¸º6ï¼Œåœ¨åŒºé—´[2,6]ä¸Šï¼Œä»»ä½•æ•°éƒ½å¯ä»¥è¢«æŸä¸€ä¸ªå­é›†ç›¸åŠ å¾—åˆ°ï¼Œæ‰€ä»¥7æ˜¯arrçš„æœ€å°ä¸å¯ç»„æˆå’Œï¼› è¯·å†™å‡½æ•°è¿”å›žarrçš„æœ€å°ä¸å¯ç»„æˆå’Œã€‚ 1234567891011121314151617181920212223242526272829class Solution &#123;public: int getFirstUnFormedNum(vector&lt;int&gt;&amp; arr, int len) &#123; set&lt;int&gt; res; for (int i=0; i&lt;len; i++) &#123; set&lt;int&gt; tmp = res; for (set&lt;int&gt;::iterator iter = res.begin(); iter != res.end(); iter++) &#123; tmp.insert(*iter + arr[i]); &#125; res = tmp; res.insert(arr[i]); &#125; set&lt;int&gt;::iterator iter = res.begin(); int before = *iter; iter++; for (; iter != res.end(); iter++) &#123; if (*iter - before &gt; 1) &#123; return before + 1; &#125; before = *iter; &#125; return before + 1; &#125;&#125;; é¢˜ç›®ä¸‰ æœ€å¤§çš„LeftMaxä¸ŽrightMaxä¹‹å·®ç»å¯¹å€¼ ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ•´åž‹æ•°ç»„arrï¼Œå¯ä»¥åˆ’åˆ†æˆå·¦å³ä¸¤ä¸ªéƒ¨åˆ†ï¼š å·¦éƒ¨åˆ†arr[0..K]ï¼Œå³éƒ¨åˆ†arr[K+1..arr.length-1]ï¼ŒKå¯ä»¥å–å€¼çš„èŒƒå›´æ˜¯[0,arr.length-2] æ±‚è¿™ä¹ˆå¤šåˆ’åˆ†æ–¹æ¡ˆä¸­ï¼Œå·¦éƒ¨åˆ†ä¸­çš„æœ€å¤§å€¼å‡åŽ»å³éƒ¨åˆ†æœ€å¤§å€¼çš„ç»å¯¹å€¼ï¼Œæœ€å¤§æ˜¯å¤šå°‘ï¼Ÿ ä¾‹å¦‚ï¼š [2,7,3,1,1] å½“å·¦éƒ¨åˆ†ä¸º[2,7]ï¼Œå³éƒ¨åˆ†ä¸º[3,1,1]æ—¶ï¼Œå·¦éƒ¨åˆ†ä¸­çš„æœ€å¤§å€¼å‡åŽ»å³éƒ¨åˆ†æœ€å¤§å€¼çš„ç»å¯¹å€¼ä¸º4; å½“å·¦éƒ¨åˆ†ä¸º[2,7,3]ï¼Œå³éƒ¨åˆ†ä¸º[1,1]æ—¶ï¼Œå·¦éƒ¨åˆ†ä¸­çš„æœ€å¤§å€¼å‡åŽ»å³éƒ¨åˆ†æœ€å¤§å€¼çš„ç»å¯¹å€¼ä¸º6; æœ€åŽè¿”å›žçš„ç»“æžœä¸º6ã€‚ æ³¨æ„ï¼šå¦‚æžœæ•°ç»„çš„é•¿åº¦ä¸ºNï¼Œè¯·å°½é‡åšåˆ°æ—¶é—´å¤æ‚åº¦O(N)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦O(1) 1234567891011121314151617181920212223242526class Solution &#123;public: int getMaxABSLeftAndRight(vector&lt;int&gt; vec, int len) &#123; if (len == 0) &#123; return 0; &#125; // find the max in array int max = vec[0]; for (int i=1; i&lt;(int)vec.size(); i++) &#123; if (vec[i] &gt; max) &#123; max = vec[i]; &#125; &#125; // compare the head and tail in array if (vec[0] &lt; vec[len - 1]) &#123; return max - vec[0]; &#125; return max - vec[len - 1]; &#125;&#125;; é¢˜ç›®å›› æŒ‰ç…§å·¦å³åŠåŒºçš„æ–¹å¼é‡æ–°ç»„åˆå•é“¾è¡¨ ç»™å®šä¸€ä¸ªå•é“¾è¡¨çš„å¤´éƒ¨èŠ‚ç‚¹headï¼Œé“¾è¡¨é•¿åº¦ä¸ºNã€‚ å¦‚æžœNä¸ºå¶æ•°ï¼Œé‚£ä¹ˆå‰N/2ä¸ªèŠ‚ç‚¹ç®—ä½œå·¦åŠåŒºï¼ŒåŽN/2ä¸ªèŠ‚ç‚¹ç®—ä½œå³åŠåŒºï¼› å¦‚æžœNä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆå‰N/2ä¸ªèŠ‚ç‚¹ç®—ä½œå·¦åŠåŒºï¼ŒåŽN/2+1ä¸ªèŠ‚ç‚¹ç®—ä½œå³åŠåŒºï¼› å·¦åŠåŒºä»Žå·¦åˆ°å³ä¾æ¬¡è®°ä¸ºL1-&gt;L2-&gt;â€¦ï¼Œå³åŠåŒºä»Žå·¦åˆ°å³ä¾æ¬¡è®°ä¸ºR1-&gt;R2-&gt;â€¦ã€‚è¯·å°†å•é“¾è¡¨è°ƒæ•´æˆL1-&gt;R1-&gt;L2-&gt;R2-&gt;â€¦çš„æ ·å­ã€‚ ä¾‹å¦‚ï¼š 1-&gt;2-&gt;3-&gt;4 è°ƒæ•´åŽï¼š1-&gt;3-&gt;2-&gt;4 1-&gt;2-&gt;3-&gt;4-&gt;5 è°ƒæ•´åŽï¼š1-&gt;3-&gt;2-&gt;4-&gt;5 è¦æ±‚ï¼šå¦‚æžœé“¾è¡¨é•¿åº¦ä¸ºNï¼Œæ—¶é—´å¤æ‚åº¦è¯·è¾¾åˆ°O(N)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦è¯·è¾¾åˆ°O(1) 12345678910111213141516171819202122232425262728293031323334353637383940class Solution &#123;public: void relocateList(struct ListNode* head) &#123; if (head == NULL || head-&gt;next == NULL) &#123; return ; &#125; // use one loop, find the right head ListNode *right_head = head; ListNode *node = head; while (node != NULL) &#123; if (node-&gt;next == NULL) &#123; break; &#125; if (node-&gt;next-&gt;next == NULL) &#123; right_head = right_head-&gt;next; break; &#125; right_head = right_head-&gt;next; node = node-&gt;next-&gt;next; &#125; ListNode *left_node = head; ListNode *right_node = right_head; while (left_node-&gt;next != right_head) &#123; ListNode *tmp = left_node-&gt;next; left_node-&gt;next = right_node; right_node = right_node-&gt;next; left_node-&gt;next-&gt;next = tmp; left_node = left_node-&gt;next-&gt;next; &#125; left_node-&gt;next = right_node; &#125;&#125;;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[leetcodeé¢˜ç›®ä¹‹Majority Element]]></title>
      <url>%2Fpost%2Fmajority_element%2F</url>
      <content type="text"><![CDATA[é¢˜ç›® Given an array of size n, find the majority element. The majority element is the element that appears more than âŒŠ n/2 âŒ‹ times.You may assume that the array is non-empty and the majority element always exist in the array. åˆ†æžæœ¬é¢˜æ˜¯ä¸€é“éžå¸¸ç®€å•çš„é¢˜ç›®ï¼Œä½†æˆ‘èƒ½æƒ³åˆ°çš„æ€è·¯æœ‰é™ï¼Œä»…èƒ½æƒ³åˆ°æŽ’åºæ³•å’Œå“ˆå¸Œæ³•ä¸¤ç§ç®—æ³•ï¼Œåœ¨Solutionä¸­æä¾›äº†å¦å¤–å‡ ç§æ–¹æ³•ï¼Œè¿™æ˜¯éžå¸¸å€¼å¾—æˆ‘å­¦ä¹ å’Œæ€è€ƒçš„ã€‚æœ¬æ–‡ä»…å°†ç½‘ç«™çš„æ€è·¯æ‹¿è¿‡æ¥ï¼Œå¯ä»¥ç›´æŽ¥çœ‹è¯¥é—®é¢˜çš„Solutionã€‚ è§£ç­”æš´åŠ›æžšä¸¾æ³•æœ€åŽŸå§‹çš„è§£å†³åŠžæ³•ï¼Œé€ä¸ªå…ƒç´ æ¯”è¾ƒæ˜¯å¦ä¸ºè¯¥æ•°ç»„ä¸­çš„æœ€å¤šå…ƒç´ ï¼Œåªè¦æ»¡è¶³æ¡ä»¶å³å¯ç»ˆæ­¢ã€‚æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚ å“ˆå¸Œè¡¨æ³•å°†æ•°ç»„ä¸­çš„å…ƒç´ éåŽ†ä¸€éï¼Œå¹¶å°†æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ä¿å­˜åˆ°å“ˆå¸Œä¸­ã€‚ç„¶åŽéåŽ†å“ˆå¸Œï¼Œä»Žå“ˆå¸Œä¸­æ‰¾åˆ°æœ€å¤šå…ƒç´ ã€‚æ—¶é—´å¤æ‚åº¦O(n)ï¼Œä½†éœ€è¦å ç”¨ä¸€å®šçš„ç©ºé—´ã€‚ 1234567891011121314151617181920212223242526int majorityElement(vector&lt;int&gt; &amp;num) &#123; std::map&lt;int, int&gt; result_map; for (vector&lt;int&gt;::iterator iter = num.begin(); iter != num.end(); iter++) &#123; if (result_map.find(*iter) == result_map.end()) &#123; result_map.insert(map&lt;int, int&gt;::value_type(*iter, 1)); &#125; else &#123; result_map[*iter]++; &#125; &#125; int max_count = 0; int result; for (std::map&lt;int, int&gt;::iterator iter = result_map.begin(); iter != result_map.end(); iter++) &#123; if (iter-&gt;second &gt; max_count) &#123; result = iter-&gt;first; max_count = iter-&gt;second; &#125; &#125; return result; &#125; æŽ’åºæ³•ç›´æŽ¥å¯¹å…ƒç´ è¿›è¡ŒæŽ’åºï¼ŒæŽ’åºåŽå…ƒç´ çš„ä¸­é—´å…ƒç´ å³ä¸ºè¦æ±‚çš„æœ€å¤šå…ƒç´ ã€‚æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚ 1234int majorityElementSort(vector&lt;int&gt; &amp;num) &#123; sort(num.begin(), num.end()); return num[num.size() / 2];&#125; éšæœºæŠ½å–æ³•éšæœºä»Žæ•°ç»„ä¸­æŠ½å–å…ƒç´ ï¼Œç„¶åŽéåŽ†æ•°ç»„åˆ¤æ–­è¯¥å…ƒç´ æ˜¯å¦ä¸ºæœ€å¤šå…ƒç´ ã€‚è¯¥ç®—æ³•åˆ©ç”¨äº†æœ€å¤šå…ƒç´ è¢«éšæœºæŠ½å–çš„æ¦‚çŽ‡æœ€å¤§çš„ç‰¹ç‚¹ï¼Œä½†è¯¥ç®—æ³•æ•ˆçŽ‡çš„éšæœºæ€§è¾ƒå¤§ï¼Œæœ€å¥½æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæœ€åæƒ…å†µä¸‹ä¸€ç›´éšæœºä¸åˆ°æœ€å¤šå…ƒç´ ã€‚ äºŒåˆ†æ³•å°†æ•°ç»„å‡åˆ†ä¸ºä¸¤ä»½ï¼Œåˆ†åˆ«æ±‚å‡ºä¸¤ä¸ªæ•°ç»„ä¸­çš„æœ€å¤šå…ƒç´ Aå’ŒBï¼Œåˆ™æ•´ä¸ªæ•°ç»„ä¸­çš„æœ€å¤šå…ƒç´ å¿…ç„¶åœ¨ä¸¤ä¸ªå­æ•°ç»„çš„æœ€å¤šå…ƒç´ Aå’ŒBä¸­ï¼Œè¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡ä¸¾ä¾‹å­çš„æ–¹å¼æ¥è¯æ˜Žï¼Œä½†æ˜¯ä»…å‡­æ„Ÿè§‰ä¸å¤ªå®¹æ˜“å¾—å‡ºè¯¥ç»“è®ºã€‚å¦‚æžœA==Bï¼Œåˆ™ç»“æžœå°±æ˜¯Aã€‚å¦‚æžœA!=Bï¼Œåˆ™åˆ†åˆ«æ±‚å‡ºAå’ŒBåœ¨è¿™ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚æ—¶é—´å¤æ‚åº¦æŽ¥è¿‘O(nlogn)ã€‚ å…¶ä»–è¿˜æœ‰ä¸€äº›æ¯”è¾ƒä¸å®¹æ˜“æƒ³åˆ°çš„ç®—æ³•ï¼Œè¿™é‡Œå°±ä¸åˆ—ä¸¾äº†ã€‚è‡³å°‘æˆ‘çœ‹è¿‡ä¸€æ¬¡ä¹‹åŽï¼Œä¸‹æ¬¡è¿™äº›ç®—æ³•ä»ç„¶æ˜¯è®°ä¸ä½çš„ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[asleapä¸­çš„ç®€å•æ–‡ä»¶ç´¢å¼•æœºåˆ¶]]></title>
      <url>%2Fpost%2Faleap_idx%2F</url>
      <content type="text"><![CDATA[asleapæ˜¯ä¸€ä¸ªå¼€æºçš„vpnç ´è§£å·¥å…·ï¼Œæœ€è¿‘æŸ¥çœ‹äº†asleapçš„æºç ï¼Œè¯¥é¡¹ç›®åœ°å€ã€‚æœ¬æ–‡çš„é‡ç‚¹æ˜¯å¯¹å…¶ä¸­çš„å¸¦ç´¢å¼•çš„å­—å…¸æ–‡ä»¶çš„äº§ç”Ÿè¿‡ç¨‹è¿›è¡Œä»‹ç»ï¼Œäº§ç”Ÿå¸¦ç´¢å¼•çš„å­—å…¸æ–‡ä»¶å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯è¦æƒ³ç”¨ç®€æ´æ˜“æ‡‚çš„è¯­è¨€å°†è¯¥é—®é¢˜æè¿°æ˜Žç™½å´ä¸å®¹æ˜“ã€‚ asleapç ´è§£vpnçš„æœºåˆ¶æ˜¯é€šè¿‡å­—å…¸æ–‡ä»¶æš´åŠ›ç ´è§£çš„æ–¹å¼ï¼Œè¯¥å­—å…¸æ–‡ä»¶æœ‰datæ•°æ®æ–‡ä»¶å’Œidxç´¢å¼•æ–‡ä»¶ä¸¤ä¸ªæ–‡ä»¶ç»„æˆï¼Œä¸¤ä¸ªæ–‡ä»¶å‡ä¸ºäºŒè¿›åˆ¶æ ¼å¼ã€‚asleapå·¥ç¨‹ä¸­è‡ªå¸¦äº†genkeyç¨‹åºï¼Œå¯ä»¥å°†æ–‡æœ¬çš„å­—å…¸æ–‡ä»¶è½¬æ¢ä¸ºasleapç¨‹åºéœ€è¦çš„å¸¦ç´¢å¼•çš„å­—å…¸æ–‡ä»¶ã€‚ æœ¬æ–‡ä»¥å­—å…¸æ–‡ä»¶ä¸ºä»¥ä¸‹å†…å®¹è®²è§£ï¼š 123turquoisedatest è¯»å–å­—å…¸æ–‡ä»¶å¹¶äº§ç”Ÿmd4å€¼md4ç¼–ç å 16ä¸ªå­—èŠ‚ï¼Œä¸‰ä¸ªå­—å…¸è¿›è¡Œmd4ç¼–ç åŽçš„ç»“æžœåˆ†åˆ«ä¸ºï¼š 12318 07 33 43 f6 30 b5 f8 2c 38 c0 34 37 f2 81 6b01 19 a3 80 94 40 60 3c 57 39 5e 73 f3 60 95 980c b6 94 88 05 f7 97 bf 2a 82 80 79 73 b8 95 37 å°†å­—å…¸ä¿¡æ¯å†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶ä¸ºäº†èƒ½å¤Ÿå¯¹æœ€ç»ˆç”Ÿæˆçš„datæ–‡ä»¶ä¸­çš„å†…å®¹è¿›è¡ŒæŽ’åºå’Œä¾¿äºŽç´¢å¼•ï¼Œç¨‹åºç”Ÿæˆäº†256ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œæ–‡ä»¶åæ ¼å¼ä¸ºä»Žgenk-bucket-00.tmpåˆ°genk-bucket-ff.tmpã€‚ç¨‹åºæ ¹æ®md4ç¼–ç ä¸­çš„ç¬¬14ä½å°†å­—å…¸å¯¹åº”çš„ä¿¡æ¯åˆ†åˆ«å†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œä¸€ä¸ªå­—å…¸å†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼Œå¦‚æžœä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­å­˜åœ¨å¤šä¸ªå­—å…¸åˆ™ä¾æ¬¡å­˜æ”¾ï¼š 12345struct hashpass_rec &#123; unsigned char rec_size; // ä¸€ä¸ªå­—å…¸å ç”¨æ–‡ä»¶çš„å¤§å°ï¼ŒåŒ…æ‹¬è¯¥å˜é‡+å­—å…¸+å­—å…¸å¯¹åº”çš„md4å€¼å…±å ç”¨çš„å­—èŠ‚æ•° char *password; // å­—å…¸ unsigned char hash[16]; // å­—å…¸å¯¹åº”çš„md4å€¼&#125; __attribute__ ((packed)); æœ¬ä¾‹å­ä¸­turquoiseå¯¹åº”ç»“æž„ä½“ä¼šå†™å…¥åˆ°genk-bucket-81.tmpä¸­ï¼Œdaå’Œtestå¯¹åº”ç»“æž„ä½“ä¼šä¾æ¬¡å†™å…¥åˆ°genk-bucket-95.tmpä¸­ã€‚ è¯»å–ä¸´æ—¶æ–‡ä»¶å¹¶å†™å…¥åˆ°datæ•°æ®æ–‡ä»¶ä¸­æœ€ç»ˆdatæ–‡ä»¶ä¸­çš„æ•°æ®å†…å®¹ä¸ºhashpass_recçš„æœ‰åºé›†åˆï¼ŒæŽ’åºçš„åŽŸåˆ™æ˜¯æŒ‰ç…§md4çš„ç¬¬14å’Œ15ä¸¤ä¸ªå­—èŠ‚ã€‚ä¾æ¬¡è¯»å–256ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­çš„hashpass_recå¯ä»¥ä¿è¯datæ–‡ä»¶ä¸­çš„æ•°æ®å†…å®¹æ˜¯æŒ‰ç…§ç¬¬14å­—èŠ‚æŽ’åºçš„ï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿä¿è¯æ˜¯æŒ‰ç…§ç¬¬15ä¸ªå­—èŠ‚æŽ’åºçš„ã€‚ä¸ºäº†ä¿è¯æœ€ç»ˆdatæ–‡ä»¶ä¸­çš„æ•°æ®å†…å®¹æ˜¯æŒ‰ç…§ç¬¬14å’Œ15å­—èŠ‚æœ‰åºçš„ï¼Œåœ¨å°†ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­çš„å†…å®¹å†™å…¥åˆ°datæ–‡ä»¶ä¸­å‰éœ€è¦å¯¹è¯¥ä¸´æ—¶æ–‡ä»¶ä¸­çš„hashpass_recç»“æžœæŒ‰ç…§hashå˜é‡çš„ç¬¬15å­—èŠ‚è¿›è¡ŒæŽ’åºï¼Œç›´æŽ¥ä½¿ç”¨Cè¯­è¨€ä¸­çš„qsortè¿›è¡ŒæŽ’åºã€‚ è¯¥ä¾‹å­ä¸­daå’Œtestä½äºŽåŒä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œéœ€è¦æ ¹æ®hashå˜é‡çš„ç¬¬15å­—èŠ‚æŽ’åºçš„ç»“æžœä¸ºtestã€daï¼Œæœ€ç»ˆå†™å…¥åˆ°datæ–‡ä»¶ä¸­çš„æŽ’åºç»“æžœä¸ºturquoiseã€testã€daã€‚ æ ¹æ®datæ•°æ®æ–‡ä»¶äº§ç”Ÿidxç´¢å¼•æ–‡ä»¶idxç´¢å¼•æ–‡ä»¶ä¸­å­˜æ”¾çš„æ˜¯å¤šä¸ªhashpassidx_recç»“æžœï¼Œæœ€å¤šæœ‰256*256é¡¹ï¼Œå…¶ç»“æž„å®šä¹‰å¦‚ä¸‹ï¼š 12345struct hashpassidx_rec &#123; unsigned char hashkey[2]; // å¯¹åº”md4ç¼–ç çš„ç¬¬14å’Œ15å­—èŠ‚ off_t offset; // ç¬¬ä¸€ä¸ªåŒ¹é…çš„hashpass_recç»“æž„åœ¨datæ–‡ä»¶ä¸­çš„åç§»ï¼Œå ç”¨4ä¸ªå­—èŠ‚ unsigned long long int numrec; // datæ–‡ä»¶ä¸­å…±æœ‰å¤šå°‘ä¸ªåŒ¹é…çš„hashpass_recç»“æžœ&#125; __attribute__ ((packed)); // å­—èŠ‚å¯¹é½ï¼Œéœ€è¦å¡«å……4ä¸ªå­—èŠ‚ æœ€ç»ˆå®Œæˆçš„datæ–‡ä»¶å’Œidxæ–‡ä»¶çš„æŒ‡å‘å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š buggenkeys.cæ–‡ä»¶ä¸­åœ¨è¯»å–å­—å…¸æ–‡ä»¶æ—¶å­˜åœ¨bugï¼Œåœ¨æ–‡ä»¶çš„207è¡Œå°†å†…å®¹æ›´æ”¹ä¸ºï¼š 123456while (!feof(inputfl)) &#123; memset(password, 0, MAX_NT_PASSWORD + 1); fgets(password, MAX_NT_PASSWORD+1, inputfl); if (strlen(password) == 0) &#123; continue; &#125; ç›¸å…³ä¸‹è½½å­—å…¸æ–‡ä»¶ç­‰ç›¸å…³æ–‡ä»¶ä¸‹è½½]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¸¸ç”¨æŽ’åºç®—æ³•æ•´ç†åŠä»£ç å®žçŽ°]]></title>
      <url>%2Fpost%2Falgorithm_sort_code%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡å¯¹æˆ‘ç¼–å†™çš„å¸¸ç”¨çš„æŽ’åºç®—æ³•è¿›è¡Œæ•´ç†å’Œæ€»ç»“ï¼Œæ–¹ä¾¿ç”¨æ—¶è¿›è¡ŒæŸ¥é˜…å’Œå‚è€ƒã€‚ å¿«é€ŸæŽ’åºå¿«é€ŸæŽ’åºæ˜¯å®žé™…åº”ç”¨ä¸­çš„æœ€å¥½é€‰æ‹©ï¼Œé‡‡ç”¨äº†åˆ†æ²»æ³•çš„æ€æƒ³ã€‚é€šè¿‡ä¸€è¶ŸæŽ’åºå°†å¾…æŽ’åºè®°å½•åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„å…³é”®å­—å‡æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„å°ï¼Œåˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•è¿›è¡ŒæŽ’åºï¼Œå·²è¾¾åˆ°æ•´ä¸ªæœ‰åºã€‚ æ˜¯å¦ç¨³å®šï¼šä¸ç¨³å®š æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) ç©ºé—´å¤æ‚åº¦ï¼šO(logn)ï¼Œéœ€è¦æ ˆæ¥å®žçŽ°é€’å½’ç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;stdio.h&gt;#include &lt;vector&gt;#include &lt;iostream&gt;int partition(std::vector&lt;int&gt; &amp;numbers, int low, int high)&#123; int pivotkey = numbers[low]; while (low &lt; high) &#123; while (low &lt; high &amp;&amp; numbers[high] &gt;= pivotkey) &#123; --high; &#125; numbers[low] = numbers[high]; while (low &lt; high &amp;&amp; numbers[low] &lt;= pivotkey) &#123; ++low; &#125; numbers[high] = numbers[low]; numbers[low] = pivotkey; &#125; return low;&#125;void quick_sort(std::vector&lt;int&gt; &amp;numbers, int low, int high)&#123; if (low &lt; high) &#123; int pivotloc = partition(numbers, low, high); quick_sort(numbers, low, pivotloc - 1); quick_sort(numbers, pivotloc + 1, high); &#125;&#125;void quick_sort(std::vector&lt;int&gt; &amp;numbers)&#123; quick_sort(numbers, 0, numbers.size() - 1);&#125;int main()&#123; std::vector&lt;int&gt; numbers = &#123;49, 38, 65, 97, 76, 13, 27, 49&#125;; quick_sort(numbers); for (int i=0; i&lt;numbers.size(); i++) &#123; printf("%d\t", numbers[i]); &#125; printf("\n");&#125; å½’å¹¶æŽ’åºå°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„æœ‰åºè¡¨ç»„åˆæˆä¸€ä¸ªæ–°çš„æœ‰åºè¡¨ã€‚åˆå¹¶ä¸¤ä¸ªæœ‰åºè¡¨çš„æ–¹æ³•ä¸ºï¼šæ¯”è¾ƒä¸¤ä¸ªæœ‰åºè¡¨ä¸­ç¬¬ä¸€ä¸ªæ•°ï¼Œè°å°å…ˆå–è°ã€‚ç»§ç»­è¿›è¡Œæ¯”è¾ƒï¼Œåªè¦æœ‰ä¸€ä¸ªæœ‰åºè¡¨ä¸ºç©ºï¼Œç›´æŽ¥å°†å¦ä¸€ä¸ªæœ‰åºè¡¨å–å‡ºå³å¯ã€‚ æ˜¯å¦ç¨³å®šï¼šç¨³å®š æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) ç©ºé—´å¤æ‚åº¦ï¼šO(n) ï¼ˆå½“ä½¿ç”¨é¡ºåºå­˜å‚¨æ—¶ï¼Œä¸ºäº†èƒ½å¤Ÿå®žçŽ°ä¸¤ä¸ªæœ‰åºè¡¨ä¹‹é—´çš„åˆå¹¶ï¼‰ï¼Œæˆ–O(1)ï¼ˆå½“ä½¿ç”¨é“¾å¼å­˜å‚¨çš„æ—¶å€™ï¼Œä¸å†éœ€è¦ä¸´æ—¶çš„ç©ºé—´æ¥å­˜å‚¨æŽ’åºçš„ç»“æžœï¼‰ é¡ºåºå­˜å‚¨ä»£ç ä»¥ä¸‹ä¸ºé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æž„çš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667/** * å½’å¹¶æŽ’åºä½¿ç”¨é€’å½’ç®—æ³•çš„æ•ˆçŽ‡æ¯”è¾ƒä½Žï¼Œå…·ä½“åº”ç”¨ä¸­ä¼šé‡‡ç”¨éžé€’å½’ç®—æ³•ä»£æ›¿ */void merge(std::vector&lt;int&gt; &amp;numbers, std::vector&lt;int&gt; &amp;extra, int low, int high, int middle)&#123; int i = low, j = middle+1, k = low; for (; i&lt;=middle &amp;&amp; j&lt;=high; k++) &#123; if (numbers[i] &lt;= numbers[j]) &#123; extra[k] = numbers[i]; i++; &#125; else &#123; extra[k] = numbers[j]; j++; &#125; &#125; while (i &lt;= middle) &#123; extra[k++] = numbers[i++]; &#125; while (j &lt;= middle) &#123; extra[k++] = numbers[j++]; &#125; for (int m = low; m &lt;= high; m++) &#123; numbers[m] = extra[m]; &#125;&#125;void merge_sort(std::vector&lt;int&gt; &amp;numbers, std::vector&lt;int&gt; &amp;extra, int low, int high)&#123; if (low == high) &#123; return ; &#125; int middle = (low + high) / 2; merge_sort(numbers, extra, low, middle); merge_sort(numbers, extra, middle + 1, high); merge(numbers, extra, low, high, middle);&#125;void merge_sort(std::vector&lt;int&gt; &amp;numbers)&#123; // ç”³è¯·é¢å¤–çš„å­˜å‚¨ç©ºé—´æ¥ç”¨äºŽæŽ’åºå¤„ç† std::vector&lt;int&gt; extra = numbers; merge_sort(numbers, extra, 0, numbers.size() - 1);&#125;int main()&#123; std::vector&lt;int&gt; numbers = &#123;49, 38, 65, 97, 76, 13, 27, 49&#125;; merge_sort(numbers); for (int i=0; i&lt;numbers.size(); i++) &#123; printf("%d\t", numbers[i]); &#125; printf("\n");&#125; é“¾å¼å­˜å‚¨ä»£ç ä»¥ä¸‹ä¸ºé‡‡ç”¨é“¾å¼å­˜å‚¨ç»“æž„çš„ä»£ç ï¼Œæœ¬ç­”æ¡ˆä¸ºæˆ‘åœ¨LeetCodeä¸Šçš„Sort List é¢˜ç›®çš„ç­”æ¡ˆï¼Œæºç æ”¾åœ¨æˆ‘çš„Githubä¸Šã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798struct ListNode &#123; int val; ListNode *next; ListNode(int x) : val(x), next(NULL) &#123;&#125;&#125;;/** * ä½¿ç”¨å½’å¹¶æŽ’åºæ–¹æ³•ï¼Œæ ¸å¿ƒæ€æƒ³ä¸ºå°†æ•°ç»„æ‹†åˆ†ä¸ºä¸¤åŠï¼Œåˆ†åˆ«å¯¹ä¸¤åŠè¿›è¡ŒæŽ’åºï¼ŒæŽ’åºå®ŒæˆåŽå†è¿›è¡Œä¸€æ¬¡æŽ’åºï¼ŒæŽ’åºç®—æ³•å°±å¯ä»¥é‡‡ç”¨æ’å…¥æŽ’åºçš„æ–¹å¼ã€‚ * å¯¹ä¸¤åŠæŽ’åºçš„ç®—æ³•ä»ç„¶é‡‡ç”¨å½’å¹¶æŽ’åºç®—æ³•ï¼Œå³é—®é¢˜ä¸ºé€’å½’é—®é¢˜ * åœ¨ä½¿ç”¨çº¿æ€§å­˜å‚¨ç»“æžœçš„å½’å¹¶æŽ’åºç®—æ³•ä¸­ï¼Œä¼šä½¿ç”¨é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨ä¸´æ—¶ç»“æžœï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(n)ï¼Œè€Œåœ¨é“¾å¼å­˜å‚¨ä¸­ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1) * å½’å¹¶æŽ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) * å¦‚æžœå­˜å‚¨ç»“æž„ä¸ºåŒå‘é“¾è¡¨ï¼Œå¯ä»¥ä½¿ç”¨å¿«é€ŸæŽ’åº */ListNode* sortList(ListNode* head)&#123; if (head == nullptr || head-&gt;next == nullptr) &#123; return head; &#125; if (head-&gt;next-&gt;next == nullptr) &#123; // ä»…æœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œå¯¹ä¸¤ä¸ªå…ƒç´ è¿›è¡ŒæŽ’åºåŽç›´æŽ¥è¿”å›ž if (head-&gt;val &lt; head-&gt;next-&gt;val) &#123; return head; &#125; else &#123; ListNode *tmp = head-&gt;next; tmp-&gt;next = head; tmp-&gt;next-&gt;next = nullptr; return tmp; &#125; &#125; // ä¸ºäº†æ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹ï¼Œè¿™é‡Œé‡‡ç”¨å¿«æ…¢æŒ‡é’ˆçš„æ–¹å¼ï¼Œå¦åˆ™éœ€è¦ä½¿ç”¨å…ˆéåŽ†ä¸€æ¬¡å–é•¿åº¦ï¼Œç„¶åŽæ‰¾åˆ°ä¸­é—´ä½ç½®çš„ä¸¤æ¬¡éåŽ†æ–¹å¼ ListNode *fast = head; ListNode *slow = head; ListNode *slow_prev = nullptr; while (fast != nullptr &amp;&amp; fast-&gt;next != nullptr) &#123; fast = fast-&gt;next-&gt;next; slow_prev = slow; slow = slow-&gt;next; &#125; fast = slow_prev-&gt;next; slow_prev-&gt;next = nullptr; // åˆ†åˆ«å¯¹ä¸¤æ®µé“¾è¡¨è¿›è¡ŒæŽ’åº slow = sortList(head); fast = sortList(fast); // å¯¹ä¸¤æ®µé“¾è¡¨è¿›è¡Œåˆå¹¶ ListNode *node = nullptr, *result = nullptr; while (slow != nullptr &amp;&amp; fast != nullptr) &#123; if (slow-&gt;val &lt; fast-&gt;val) &#123; if (result != nullptr) &#123; node-&gt;next = slow; node = node-&gt;next; &#125; else &#123; node = slow; result = slow; &#125; slow = slow-&gt;next; &#125; else &#123; if (result != nullptr) &#123; node-&gt;next = fast; node = node-&gt;next; &#125; else &#123; node = fast; result = fast; &#125; fast = fast-&gt;next; &#125; &#125; if (slow != nullptr) &#123; node-&gt;next = slow; &#125; if (fast != nullptr) &#123; node-&gt;next = fast; &#125; return result;&#125; ç›´æŽ¥æ’å…¥æŽ’åºè¯¥æŽ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œç®—æ³•å¤æ‚åº¦è¿‡é«˜ã€‚åˆ†ä¸ºé¡ºåºå­˜å‚¨å’Œé“¾å¼å­˜å‚¨ä¸¤ç§ç®—æ³•ï¼Œå…¶ä¸­é¡ºåºå­˜å‚¨æ¯æ¯”è¾ƒä¸€ä¸ªå…ƒç´ æ˜¯ä»Žè¯¥å…ƒç´ å¾€å‰æ¯”è¾ƒçš„ï¼Œè€Œé“¾å¼å­˜å‚¨æ˜¯ä»Žé“¾å¤´å¼€å§‹æ¯”è¾ƒçš„ï¼Œè¿™ç‚¹æœ‰æ‰€ä¸åŒï¼Œé€ æˆä¸åŒçš„æ˜¯ç”±å­˜å‚¨ç»“æž„å†³å®šçš„ã€‚ é¡ºåºå­˜å‚¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;stdio.h&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;void insertion_sort(std::vector&lt;int&gt; &amp;numbers)&#123; if (numbers.size() &lt;= 1) &#123; return; &#125; for (int i = 1; i &lt; numbers.size(); i++) &#123; for (int j = i; j &gt; 0; j--) &#123; if (numbers[j] &lt; numbers[j - 1]) &#123; swap(numbers[j], numbers[j - 1]); &#125; else &#123; break; &#125; &#125; &#125;&#125;int main()&#123; int a[] = &#123; 49, 38, 65, 97, 76, 13, 27, 49 &#125;; vector&lt;int&gt; numbers(a, a + sizeof(a) / sizeof(int)); insertion_sort(numbers); for (int i = 0; i&lt;numbers.size(); i++) &#123; printf(&quot;%d\t&quot;, numbers[i]); &#125; return 0;&#125; é“¾å¼å­˜å‚¨ä»£ç ä»¥ä¸‹ä»£ç ä¸ºLeetCodeä¸Šçš„é“¾å¼å­˜å‚¨çš„æƒ…å†µæ—¶çš„ç›´æŽ¥æ’å…¥æŽ’åºç®—æ³•çš„ä»£ç ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950ListNode* insertionSortList(ListNode* head) &#123; if (head == NULL) &#123; return NULL; &#125; // åˆå§‹åŒ– ListNode *node = head-&gt;next; ListNode *new_head = head; new_head-&gt;next = NULL; while (node != NULL) &#123; ListNode *node_next = node-&gt;next; // å…ˆå°†å½“å‰éåŽ†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜ // å°†å½“å‰èŠ‚ç‚¹æ’å…¥åˆ°æ–°é“¾è¡¨ä¸­ ListNode *new_node_tmp = new_head; if (node-&gt;val &lt; new_node_tmp-&gt;val) &#123; // å½“å‰èŠ‚ç‚¹æ’å…¥æ–°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½® node-&gt;next = new_head; new_head = node; &#125; else &#123; // å°†å½“å‰èŠ‚ç‚¹æ’å…¥åˆ°ä¸­é—´ while (new_node_tmp-&gt;next != NULL) &#123; if (node-&gt;val &lt; new_node_tmp-&gt;next-&gt;val) &#123; node-&gt;next = new_node_tmp-&gt;next; new_node_tmp-&gt;next = node; break; &#125; new_node_tmp = new_node_tmp-&gt;next; &#125; // å°†è¯¥èŠ‚ç‚¹æ’å…¥åˆ°æœ€åŽä½ç½® if (new_node_tmp-&gt;next == NULL) &#123; new_node_tmp-&gt;next = node; node-&gt;next = NULL; &#125; &#125; // å¼€å§‹éåŽ†å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ node = node_next; &#125; return new_head;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[2014å¹´æ€»ç»“]]></title>
      <url>%2Fpost%2F2014_summary%2F</url>
      <content type="text"><![CDATA[æˆ‘çš„å¹´æ€»ç»“æ˜¯ä¾ç…§å†œåŽ†çš„ï¼Œå› ä¸ºåœ¨æˆ‘å¿ƒä¸­æ˜¥èŠ‚æ‰ç®—æ˜¯ä¸€å¹´çš„çœŸæ­£å¼€å§‹ï¼Œå› ä¸ºåªæœ‰æ˜¥èŠ‚çš„æ—¶å€™æ‰èƒ½æ‰¾åˆ°å¹´çš„æ»‹å‘³ï¼Œå¹´çš„æ„Ÿè§‰ï¼Œæ‰èƒ½ç§°ä¹‹ä¸ºå¹´ï¼Œé˜³åŽ†çš„å¹´åªèƒ½ç§°ä¹‹ä¸ºyearã€‚ 2014å¹´åˆåœ¨ä¸ç»æ„é—´è¿‡åŽ»äº†ï¼Œå¾ˆå¤šåœ°æ–¹è·Ÿ2013å¹´ä¸€æ ·æ˜¯å¹³æ·¡ï¼Œå·¥ä½œå’Œå­¦ä¹ ä»ç„¶æ˜¯ç”Ÿæ´»çš„ä¸»æ—‹å¾‹ï¼Œé—²æš‡æ—¶é—´æŠ½ä¸ªæ—¶é—´çŽ©çŽ©dotaæ”¾æ¾ä¸€ä¸‹ï¼Œå‘¨æœ«å¶å°”çˆ¬ä¸ªå°å±±é”»ç‚¼ä¸‹èº«ä½“ï¼Œå¯¹æˆ‘çš„äººç”Ÿä¸­ç®—æ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€å¹´ã€‚ å­¦ä¹ 2014å¹´ç»åŽ†äº†ç»“å©šã€æ¯•ä¸šç­”è¾©å’Œè€ƒé©¾ç…§å‡ ä»¶å ç”¨æ—¶é—´çš„äº‹æƒ…ï¼Œç•™ç»™æˆ‘ä¸šä½™æ—¶é—´ç”¨æ¥å­¦ä¹ çš„å°±å°‘ä¹‹åˆå°‘äº†ã€‚ç»“å©šå ç”¨ä¸¤ä¸ªæœˆæ—¶é—´ï¼Œæ¯•ä¸šè®ºæ–‡å ç”¨äº†æˆ‘ä¸¤ä¸ªæœˆæ—¶é—´ï¼Œè€ƒé©¾ç…§å ç”¨äº†å¤šä¸ªå‘¨æœ«ï¼Œå·¥ä½œå‡ºå·®å ç”¨äº†æˆ‘ä¸€ä¸ªæœˆæ—¶é—´ï¼Œç•™ç»™æˆ‘èƒ½å¤Ÿç‹¬ç«‹å­¦ä¹ çš„æ™šä¸Šä¹Ÿå°±6ä¸ªæœˆæ—¶é—´ã€‚ å¼€å§‹çš„æ—¶å€™å°çœ‹äº†ç¡•å£«è®ºæ–‡ï¼Œä»¥ä¸ºå¾ˆç®€å•ä¸€äº‹æƒ…ï¼Œæžè¿‡è¿™ä¹ˆå¤šè½¯ä»¶é¡¹ç›®è¿˜æžä¸äº†ä¸€ç¯‡ç¡•å£«è®ºæ–‡ã€‚ä¸€ç›´ä»¥æ¥æˆ‘çœ‹ä¸èµ·è½¯ä»¶å·¥ç¨‹ç±»è®ºæ–‡ï¼Œå°±ä¸€é¡¹ç›®å¥—ä¸ªæ¨¡æ¿ä¸€ä»‹ç»å°±æ˜¯ä¸€ç¯‡è®ºæ–‡ï¼ŒäºŽæ˜¯æˆ‘é€‰æ‹©äº†å†™ä¸€ç¯‡ç†è®ºç ”ç©¶ç±»è®ºæ–‡ï¼Œæ²¡æœ‰é«˜å¤§ä¸Šçš„ç†è®ºï¼Œè€Œæ˜¯åœ¨å…¬å¸å®žè·µä¸­çœŸæ­£ç”¨åˆ°çš„ï¼Œã€Šå°†Windowså¹³å°çš„C/C++ç¨‹åºå‘Linuxå¹³å°ç§»æ¤çš„æŠ€æœ¯ç ”ç©¶ã€‹ï¼Œé€‰æ‹©è®ºæ–‡çš„æ—¶å€™æˆ‘å·²ç»çœ‹åˆ°äº†è¯¥é¢˜ç›®ä¸å¤ªé€‚åˆä½œä¸ºç¡•å£«è®ºæ–‡ï¼Œå½“æˆ‘è¿˜æ˜¯æ¯…ç„¶ä½œä¸ºäº†æˆ‘çš„ç¡•å£«è®ºæ–‡é¢˜ç›®ï¼Œä¸å¾—ä¸è¯´è¿™æ˜¯æˆ‘ä»Šå¹´çš„ä¸€å¤§è´¥ç¬”ã€‚ç¬¬ä¸€ç¯‡è®ºæ–‡å¤±è´¥åŽï¼Œæˆ‘é‡æ–°èµ°èµ·äº†ä¿å®ˆè·¯çº¿ï¼Œä»¥ä¹‹å‰ç†Ÿæ‚‰çš„ç³»ç»Ÿä¸ºä¸»çº¿ï¼Œè¾…ä»¥å„ç§æ–‡æ¡£çš„æ‹¼å‡‘ï¼Œå®Œæˆäº†ä¸€ç¯‡æˆ‘æ›¾ç»å—¤ä¹‹ä»¥é¡¹ç›®ç±»ç¡•å£«è®ºæ–‡ï¼Œå¹¶é¡ºåˆ©é€šè¿‡ç­”è¾©ã€‚å¯¹äºŽæˆ‘è¿™æ ·çš„æ–°æ‰‹è€Œè¨€ï¼Œå†™è®ºæ–‡æ˜¯ä¸€ä»¶æ¼«é•¿åˆç—›è‹¦çš„è¿‡ç¨‹ï¼Œå ç”¨äº†æˆ‘å¤§é‡çš„å®è´µæ—¶é—´ã€‚ ä¸€ç›´ä»¥æ¥å¯¹åµŒå…¥å¼linuxæ–¹å‘æ¯”è¾ƒå¥½å¥‡ï¼Œä»Šå¹´ç»ˆäºŽæŠµä¸ä½å¥½å¥‡ï¼Œä¹°äº†ä¸ª2140å¼€å‘æ¿è‡ªå·±æ£é¼“äº†ä¸€æ®µæ—¶é—´ï¼Œç”±äºŽæ—¶é—´å…³ç³»è™½ç„¶åˆ°çŽ°åœ¨ä¹Ÿæ²¡æœ‰å…¥é—¨ï¼Œå¤šå¤šå°‘å°‘å¯¹åµŒå…¥å¼å·²ç»æœ‰æ‰€äº†è§£ã€‚ æ„Ÿè°¢æˆ‘çš„å¦ä¸€åŠï¼Œç»™æˆ‘æä¾›äº†è¶³å¤Ÿçš„æ—¶é—´æ¥å¹²æˆ‘æƒ³å¹²çš„äº‹æƒ…ã€‚ ä¹¦ç±æ¯”èµ·2013å¹´ï¼Œä»Šå¹´è¯»è¿‡çš„ä¹¦ç±å°‘äº†ä¸€äº›ã€‚ ã€ŠLinux/Unixç³»ç»Ÿç¼–ç¨‹æ‰‹å†Œã€‹ ã€Šç¼–ç¨‹ç çŽ‘ã€‹ ã€ŠLINUXè®¾å¤‡é©±åŠ¨ç¨‹åºã€‹ï¼ˆéƒ¨åˆ†ç« èŠ‚ï¼‰ ã€ŠLINUXå†…æ ¸è®¾è®¡ä¸Žå®žçŽ°ã€‹ï¼ˆå¤§éƒ¨åˆ†ç« èŠ‚ï¼‰ ã€Šæ·±åº¦æŽ¢ç´¢linuxæ“ä½œç³»ç»Ÿã€‹ ã€Šå‰‘æŒ‡Officeã€‹ ã€Šå¤§è§„æ¨¡C++ç¨‹åºè®¾è®¡ã€‹ ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ã€‹ï¼ˆç¬¬äºŒéï¼‰ ã€Šæ–‡æ˜Žä¹‹å…‰ã€‹ ã€Šç¨‹åºå‘˜å¥åº·æŒ‡å—ã€‹ ã€Šé»„é‡‘æ—¶ä»£ã€‹ ã€Šä¸€åªç‰¹ç«‹ç‹¬è¡Œçš„çŒªã€‹ ã€Šç®—æ³•å¯¼è®ºã€‹ï¼ˆéƒ¨åˆ†ç« èŠ‚ï¼‰ å·¥ä½œå·²ç»æ¯”è¾ƒç†Ÿç»ƒæŽŒæ¡äº†å…¬å¸äº§å“çš„å¤§éƒ¨åˆ†æŠ€æœ¯ï¼Œå·¥ä½œèµ·æ¥ç®—æ˜¯å¾—å¿ƒåº”æ‰‹ï¼Œä½†æ˜¯å´å°‘äº†è®¸å¤šæŒ‘æˆ˜ï¼Œæ˜¯æ—¶å€™è¯¥æŽ¥æ”¶å¤§æŒ‘æˆ˜çš„äº†ã€‚å·¥ä½œçš„èŒä½ä»ŽåŽå°ç»„é•¿åˆ°ç ”å‘éƒ¨å‰¯ç»ç†åˆ°ç ”å‘éƒ¨ç»ç†ï¼Œå¼€å§‹äº†å·¥ä½œçš„è½¬åž‹ï¼Œè¿™æ˜¯æˆ‘ä¸æœŸæœ›è¿™ä¹ˆæ—©æ¥åˆ°çš„ï¼Œæˆ‘è‡ªè®¤ä¸ºæŠ€æœ¯çš„æˆé•¿ç©ºé—´è¿˜å¾ˆå¤§ï¼Œä¸æƒ³è¿‡æ—©çš„æŽ¥è§¦ç®¡ç†å²—ä½ã€‚ äº”æœˆä»½çš„å‡ºå·®æˆä¸ºäº†æˆ‘å¿ƒä¸­æŠ¹ä¸åŽ»çš„ç—›ï¼ŒèŽ«åå…¶å¦™æŽ¥å—äº†ä»»åŠ¡ï¼ŒåŒ†å¿™å‡ºå·®ï¼Œä¸è¿‡å‘æ‰åˆšåˆšå¼€å§‹ã€‚è¦ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªæˆ‘æ²¡è§è¿‡ç•Œé¢çš„äº§å“ï¼Œä¸è¿‡åŸºæœ¬åŽŸç†æˆ‘æ˜¯æ¸…æ¥šçš„ã€‚äº§å“æœ‰å¾ˆå¤šbugï¼Œè¿™æˆ‘å¯ä»¥ç†è§£ï¼Œè¦ä¸ç„¶ä¹Ÿä¸ä¼šè®©æˆ‘å‡ºå·®äº†ï¼Œä½†è¦å‘½çš„æ˜¯æˆ‘æ²¡æœ‰äº§å“çš„ä»£ç ï¼Œæˆ‘æŽ¥å—çš„ä»»åŠ¡ä»…æ˜¯åŽ»åº”ä»˜å®¢æˆ·ã€å‘çŽ°bugåŽåé¦ˆã€æ›´æ–°äº§å“ã€æ–½å·¥ï¼Œè¿™æ˜Žç™½ç€æ˜¯å¸‚åœº+æµ‹è¯•+ç»´æŠ¤çš„è¯ï¼Œè·Ÿæˆ‘åŠæ¯›é’±å…³ç³»éƒ½æ²¡æœ‰ã€‚ä»¥ä¸Šè¿™äº›éƒ½æ— æ‰€è°“ï¼Œè¦çŸ¥é“æˆ‘å¯ä¸æ˜¯ä¸€ä¸ªé¡½å›ºä¸åŒ–çš„ç¨‹åºå‘˜ï¼Œä½†å·¥ä½œåœ°ç‚¹ç«Ÿç„¶æ˜¯æœºæˆ¿ï¼Œè€Œä¸”æœºæˆ¿æ˜¯æˆ‘è§è¿‡æœ€è„æœ€ä¹±çš„æœºæˆ¿ï¼Œæˆ‘å°±ç«™åœ¨ä¸€æŽ’æœºæŸœçš„åŽé¢çš„ä¸€å †çƒ‚çº¸ç®±å­ä¸Šå¹ç€ç©ºè°ƒçš„å†·é£Žå’Œæœºå™¨çš„çƒ­é£ŽåŠžå…¬ï¼Œæ—¶è€Œè¹²ç€ï¼Œæ—¶è€Œç«™ç€ï¼Œæ—¶è€Œåç€ï¼Œæ—¶è€Œå°†è¡£é¢†æ’©èµ·ä¿æš–ï¼Œæ—¶è€Œæµ‘èº«æ‰“é¢¤ï¼Œä»¥è‡³äºŽåˆ°çŽ°åœ¨æˆ‘ç•™ä¸‹äº†è†ç›–éšéšä½œç—›çš„æ¯›ç—…ã€‚è€Œä¸”ç³»ç»Ÿbugä¸æ–­ï¼Œä¸€è¿žåœ¨ä¸åƒæ™šé¥­çš„æƒ…å†µä¸‹åŠ ç­åˆ°å¤§åŠå¤œå¥½å¤šæ¬¡ï¼Œè€Œæˆ‘ç«Ÿç„¶åšæŒä¸‹æ¥äº†ã€‚åŽŸæœ¬ä¸‰äº”å¤©çš„å‡ºå·®è®¡åˆ’ï¼Œä¸€å¾…å°±æ˜¯äºŒåå¤šå¤©ã€‚è¿™çŸ­çŸ­çš„äºŒåå¤šå¤©æˆä¸ºäº†æˆ‘ä»Šå¹´æœ€éš¾å¿˜çš„ç—›ï¼Œå¤šå°‘æ¬¡æœŸæœ›å›žåˆ°å®¶é‡Œæ¸©æš–çš„è¢«çªï¼Œå¤šå°‘æ¬¡æœŸæœ›åœ¨å®¶åƒç€æˆ‘åšçš„ç‚–åœŸè±†ã€‚ ä»Šå¹´é¢è¯•äº†ä¸å°‘äººï¼Œé€šè¿‡é¢è¯•ä¹Ÿå‘çŽ°å¤§éƒ¨åˆ†æŠ€æœ¯äººå‘˜çš„æ°´å¹³å¤ªå·®äº†ï¼Œæˆ‘ç”šè‡³éƒ½æžä¸æ˜Žç™½ä»–ä»¬æ˜¯æ€Žä¹ˆåŽšç€è„¸çš®æ¥é¢è¯•æŠ€æœ¯å²—ä½çš„ã€‚æµŽå—è½¯ä»¶è¡Œä¸šå®žåœ¨æ˜¯ä¸æ™¯æ°”ï¼Œç”šè‡³æ‰¾ä¸€ä¸ªé è°±ç‚¹çš„webæˆ–è€…phpç¨‹åºå‘˜éƒ½æˆä¸ºäº†å…¬å¸çš„ä¸€å¤§éš¾é¢˜ã€‚ ç”Ÿæ´»é•¿è¾¾äº”å¹´çš„æ‹æƒ…åœ¨ä»Šå¹´ç»ˆäºŽå¾—åˆ°äº†å‡åŽï¼Œå½“ç„¶è¿™å‡åŽæ˜¯æˆ‘ä¸æ„¿æ„è¿™ä¹ˆå¿«å°±çœ‹åˆ°çš„ï¼Œå¤šä¹ˆå¸Œæœ›èƒ½è¿Ÿæ¥å‡ å¹´ï¼Œç»™åŽŸæœ¬ä¸€ç›´ä»¥ä¸ºè‡ªå·±è¿˜æ˜¯ä¸ªå­©å­çš„æˆ‘ä¸€ä¸ªæŽ¥å—çš„ç¼“å†²åŒºï¼Œä½†ç«™åœ¨ä¸¤å®¶äººé¢å‰ï¼Œæˆ‘çš„æƒ³æ³•ç«Ÿç„¶ä¸èƒ½ä¸»å¯¼æˆ‘ã€‚æˆ‘å¯¹ç»“å©šè¿™ä»¶äº‹æƒ…æŒæ€Žä¹ˆç®€å•æ€Žä¹ˆåŠžçš„æ€åº¦ï¼Œç»“å©šæœ¬å°±ä¸€ä»ªå¼ï¼Œè±ªåŽä¹Ÿç½¢ï¼Œæ²¡æœ‰ä¹Ÿç½¢ï¼Œéƒ½æ˜¯è¿‡çœ¼äº‘çƒŸï¼Œä¸ºä¸€å¤©å¿™ç¢Œäº†ä¸€é˜µå­ä»…ä¸ºäº†é‚£ä¸€å¤©ï¼Œè€Œä¹‹åŽåˆæœ‰è°è®°å¾—ã€‚ç»“å©šä¹‹æ‰€ä»¥åœ¨ä¸­å›½çš„å¤ä»£éžå¸¸é‡è§†ï¼Œé‚£æ˜¯å› ä¸ºåœ¨å†œä¸šç¤¾ä¼šä¸­äººæ°‘çš„å¨±ä¹æ–¹å¼éžå¸¸å•ä¸€ï¼Œç»“å©šå¯ä»¥æˆä¸ºäººæ°‘å¿ƒä¸­çš„ä¸€ä¸ªç›¼å¤´å’Œæ²¡æœ‰ç¯å…‰çš„é¥­åŽä¾ƒçš„èµ„æœ¬ï¼ŒçŽ°åœ¨å¨±ä¹æ–¹å¼æ—©å·²å¤šå…ƒåŒ–ï¼Œç›¸æ¯”ä¹‹ä¸‹ç»“å©šçš„å…‰é²œæ—©å·²æ˜¾å¾—å¾®ä¸è¶³é“ã€‚å¯ç»“å©šæ¯•ç«Ÿä¸æ˜¯æˆ‘ä¸€ä¸ªäººçš„äº‹ï¼Œç”šè‡³ä¸æ˜¯ä¸¤ä¸ªäººçš„äº‹ï¼Œè€Œæ˜¯ä¸¤å®¶äººçš„äº‹ã€‚ ç»“å©šå®šåœ¨é…·å¤ï¼Œå®šä¸‹æ¥çš„æ—¶é—´æ¯”è¾ƒåŒ†å¿™ï¼Œä»Žå®šä¸‹æ¥è¦ç»“å©šåˆ°ç»“å©šä»…ä¸€ä¸ªæœˆæ—¶é—´ï¼Œå¯¹æˆ‘æ¥è¯´æ˜¯èŽ«å¤§çš„å¥½äº‹ï¼Œå› ä¸ºæ‹–å¾—æ—¶é—´è¶Šé•¿å ç”¨çš„å‡†å¤‡æ—¶é—´å°±è¶Šå¤šã€‚åŠå¹´çš„å©šå‰å’ŒåŠå¹´çš„å©šåŽç”Ÿæ´»ï¼Œå…¶å®žçœŸçš„æ²¡äººä»€ä¹ˆä¸¤æ ·ï¼Œéƒ½æ˜¯ç¾Žæ»¡çš„äºŒäººä¸–ç•Œï¼Œå¸Œæœ›è¿™ç§çŠ¶å†µèƒ½æŒç»­å‡ å¹´ã€‚ æˆ‘ä¸€å‘å¯¹è½¦æ¯”è¾ƒæŽ’æ–¥ï¼Œå§‹ç»ˆè®¤ä¸ºæ±½è½¦æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤±è´¥çš„å‘æ˜Žï¼Œç”¨æˆ·ä½“éªŒç‰¹åˆ«å·®ã€‚å¥½çš„è®¾è®¡åº”è¯¥è®©ç”¨æˆ·å¿½ç•¥å…¶å†…éƒ¨å®žçŽ°ç»†èŠ‚ï¼Œå¥½çš„å‘æ˜Žä¸åº”è¯¥è®©ç”¨æˆ·èŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥å­¦ä¹ æ€Žæ ·ä½¿ç”¨ï¼Œç”šè‡³éœ€è¦å¤šä¸ªè¯¾æ—¶çš„ä¸“ä¸šåŸ¹è®­ã€‚æ±½è½¦ä¸ä»…æ˜¯ä¸€ä¸ªæ¯«æ— ç”¨æˆ·ä½“éªŒçš„å‘æ˜Žï¼Œè€Œä¸”å±é™©åˆ°æžè‡´ï¼Œå±é™©åˆ°ä¸€å¤±è¯¯å°±ä¼šè¦æŽ‰äººçš„æ€§å‘½ã€‚ ä½†ä»Šå¹´æˆ‘éšæ³¢é€æµäº†ï¼Œæ¯•ç«Ÿé©¾ç…§æ˜¯æ—©æ™šè¦è€ƒçš„ï¼Œæ™šè€ƒæˆæœ¬åªä¼šæ›´é«˜ã€‚äºŽæ˜¯è€ƒé©¾ç…§æä¸Šäº†è®®ç¨‹ï¼Œ8æœˆåˆå·²ç»è®¡åˆ’æŠ¥åï¼Œåªå¯æƒœæµç¨‹è¿‡äºŽå¤æ‚ï¼Œåˆ°çŽ°åœ¨ä¹Ÿæ‰åˆ°äº†ç§‘ç›®äºŒçš„ç¨‹åº¦ã€‚å…ˆæ˜¯æŠ¥åéœ€è¦åŠžæš‚ä½è¯ï¼Œæš‚ä½è¯ä¸€åŠžå°±æ˜¯15ä¸ªå·¥ä½œæ—¥ï¼Œç›´æŽ¥æ‹–åˆ°äº†åä¸€ä¹‹åŽã€‚æ‰¾ä¸ªç¦»å®¶è¿‘çš„é©¾æ ¡æŠ¥ä¸ªåï¼Œä¸€ç­‰å°±æ˜¯ä¸€ä¸ªæœˆæ‰è€ƒç§‘ç›®ä¸€ã€‚ç§‘ç›®ä¸€è€ƒå®Œä¸€ç­‰åˆæ˜¯ä¸€ä¸ªæœˆæ‰å¼€å§‹åˆ†è½¦å­¦ç§‘ç›®äºŒã€‚ç§‘ç›®äºŒåˆšå¼€å§‹å­¦åˆå¼€å§‹ç»§ç»­äº†ï¼Œä¸€å…±ç»ƒäº†ä¸¤ä¸ªå·¥ä½œæ—¥åŽé©¾æ ¡åˆå¼€å§‹é›†è®­äº†ï¼Œåˆæ²¡æˆ‘å•¥äº‹äº†ã€‚å¥½åœ¨æˆ‘æ‰¾äº†ä¸ªé™ªç»ƒï¼Œç»ƒäº†å‡ æŠŠå°±é¡ºæ‰‹äº†ã€‚ è™½ç„¶é©¾ç…§æ²¡æœ‰è€ƒå‡ºæ¥ï¼Œä»…è€ƒåˆ°äº†ç§‘ç›®äºŒï¼Œç®—æ˜¯å®Œæˆäº†é©¾ç…§çš„ä¸€åŠï¼Œä½†å´è€—åŽ»äº†æˆ‘çš„éƒ¨åˆ†ç»åŽ†ã€‚æ‰¾é©¾æ ¡ã€å‡†å¤‡ç§‘ç›®ä¸€ã€å­¦ä¹ ç§‘ç›®äºŒã€æ‰¾é™ªç»ƒï¼Œè¿™äº›èŠ±è´¹çš„éƒ½æ˜¯æˆ‘çš„æ—¶é—´ã€‚è¦æ˜¯é©¾æ ¡åŸ¹è®­è¡Œä¸šèƒ½å¤Ÿå†æˆç†Ÿäº›ï¼Œå†äººæ€§åŒ–äº›èƒ½ç»™å¤šå°‘å­¦è½¦çš„äººå¸¦æ¥æ–¹ä¾¿ã€‚ çŽ©æ¸¸æˆå¤šå°‘æœ‰äº›è¿‡äº†ï¼Œè™½ç„¶æ¯å‘¨ä¹Ÿå°±ä¸æƒ³å­¦ä¹ çš„ä¸¤ä¸ªæ™šä¸Šç”¨æ¥çŽ©æ¸¸æˆï¼Œä½†æˆ‘æ·±çŸ¥è‡ªå·±ä¸æ˜¯çŽ©æ¸¸æˆçš„æ–™ã€‚å¾ˆå¤šæ—¶å€™ä¸ºäº†èƒ½å¤Ÿèµ¢ä¸€å±€ï¼Œä¼šç†¬å¤œåˆ°ä¸‹åŠå¤œï¼Œè¿™æ˜¯éžå¸¸ä¸ç†æ™ºçš„ã€‚å¦å¤–ï¼Œä»¥åŽå°½é‡ç”¨å…¶ä»–æ–¹å¼æ¥ä»£æ›¿æ¸¸æˆæ”¾æ¾ï¼Œå½“ç„¶æˆ‘æ·±çŸ¥å…¶ä¸­çš„è‹¦éš¾ã€‚ æ—…è¡ŒåŽ»è¿‡ä¸€æ¬¡äº‘å—ï¼Œéƒ½åœ¨è¿™é‡Œäº†ã€‚ æ¸…æ˜ŽèŠ‚æ—¶é—´åŽ»è¿‡ä¸€æ¬¡å¤©æ´¥ï¼Œå¤©æ´¥æ¯”æˆ‘æƒ³è±¡çš„è¦å¥½å¾ˆå¤šï¼Œå„ä¸ªåœ°æ–¹ç‰¹è‰²æ¯”è¾ƒæ˜Žæ˜¾ï¼Œæœ‰åˆ«å¢…åŒºã€æ„å¤§åˆ©é£Žæƒ…åŒºã€çŽ°ä»£çš„å•†ä¸šåŒºç­‰ï¼Œè¿™ä¹‹é—´èƒ½å¤Ÿéžå¸¸æ˜Žæ˜¾çš„åŒºåˆ†ï¼Œä¸åƒæµŽå—å¤ªæ··æ‚ã€‚ä¸è¿‡å¤©æ´¥çš„äººå´ç»™æˆ‘ç•™ä¸‹çš„å°è±¡ä¸æ˜¯å¾ˆå¥½ï¼Œè¿™ä¹Ÿæ˜¯å°å°çš„é—æ†¾ã€‚ å±•æœ›åœ¨æˆ‘å¿ƒä¸­å·²ç»ä¸º2015å¹´åˆ¶å®šå¥½äº†ä¸€äº›è®¡åˆ’ï¼Œä¸ºå®¶åº­ï¼Œä¸ºè‡ªå·±ï¼Œ2015å¹´ä¼šæ˜¯æˆ‘äººç”Ÿçš„ä¸€ä¸ªè½¬æŠ˜ç‚¹ï¼ŒæœŸæœ›2015å¹´èƒ½å¤Ÿé¡ºåˆ©ã€‚æˆ‘ä¼šåŠªåŠ›çš„ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[leetcodeé¢˜ç›®ä¹‹Maximum Subarray]]></title>
      <url>%2Fpost%2FMaximum_Subarray%2F</url>
      <content type="text"><![CDATA[é¢˜ç›®Find the contiguous subarray within an array (containing at least one number) which has the largest sum. For example, given the array [âˆ’2,1,âˆ’3,4,âˆ’1,2,1,âˆ’5,4],the contiguous subarray [4,âˆ’1,2,1] has the largest sum = 6. åˆ†æžè¯¥é¢˜ç›®ä¸ºç»å…¸é¢˜ç›®ï¼Œå­˜åœ¨å¤šç§è§£é¢˜æ€è·¯ã€‚ åŠ¨æ€è§„åˆ’æ±‚åŠ¨æ€è§„åˆ’çš„å…³é”®åœ¨äºŽæ‰¾åˆ°çŠ¶æ€æ–¹ç¨‹ã€‚ 12345678910111213141516171819202122232425262728/** * é—®é¢˜çš„å…³é”®æ˜¯æ‰¾åˆ°çŠ¶æ€æ–¹å¼ï¼Œæ‰¾åˆ°çŠ¶æ€æ–¹ç¨‹åŽé—®é¢˜å°±è¿Žåˆƒè€Œè§£ * çŠ¶æ€æ–¹ç¨‹å¦‚ä¸‹ï¼š * b[j]è¡¨ç¤ºç¬¬jå¤„ï¼Œä»¥a[j]ç»“å°¾çš„å­åºåˆ—çš„æœ€å¤§å’Œ * b[j]=max(a[j] + b[j-1], a[j]) * bæ•°æ®çš„æœ€å¤§å€¼å³ä¸ºé—®é¢˜çš„è§£ * é—®é¢˜è½¬æ¢ä¸ºæ±‚è§£bæ•°ç»„ * æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º(n)ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™ä¸ºO(1)ï¼Œä¸ºäº†ä½¿ç¨‹åºæ˜“è¯»ï¼Œä¸åšè°ƒæ•´ */int maxSubArray(int A[], int n) &#123; if (n == 0) &#123; return 0; &#125; int *b = new int[n]; b[0] = A[0]; int max_b = b[0]; for (int i=1; i&lt;n; i++) &#123; b[i] = std::max(A[i] + b[i-1], A[i]); if (max_b &lt; b[i]) &#123; max_b = b[i]; &#125; &#125; delete[] b; return max_b;&#125; åˆ†æ²»æ³•ã€Šç®—æ³•å¯¼è®ºã€‹çš„åˆ†æ²»ç­–ç•¥ä¸€ç« æœ‰å…³äºŽè¯¥é—®é¢˜çš„è¯¦ç»†è§£é‡Šã€‚è¯¥é¢˜åˆ©ç”¨åˆ†æ²»æ³•æ¥è§£å†³è¦æ¯”äºŒåˆ†æŸ¥æ‰¾ç±»æœ€ç®€å•çš„åˆ†æ²»ç®—æ³•è¦å¤æ‚ã€‚å°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒåŽï¼Œæœ€å¤§æ•°ç»„å­˜åœ¨ä¸‰ç§æƒ…å†µï¼šåœ¨å·¦åŠæˆ–å³åŠéƒ¨åˆ†ã€è·¨è¶Šä¸­ç‚¹åˆ†åˆ«å æ®å·¦éƒ¨åˆ†ä¸€ç‚¹å’Œå³éƒ¨åˆ†ä¸€ç‚¹ã€‚å¯¹äºŽè·¨è¶Šä¸­ç‚¹çš„æƒ…å†µï¼Œè½¬åŒ–ä¸ºæ±‚ä»Žä¸­ç‚¹å¼€å§‹å‘å·¦çš„æœ€å¤§å€¼å’Œä»Žä¸­ç‚¹å¼€å§‹å‘å³çš„æœ€å¤§å€¼ä¹‹å’Œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116class Solution &#123;public: int compare_array[4]; int maxSubArray(int A[], int n) &#123; return maxSubArray(A, 0, n - 1); &#125; /** * leetcode not support stdarg.h */ int max(int count, ...) &#123; va_list ap; va_start(ap, count); int max = INT_MIN; for (int i=0; i&lt;count; i++) &#123; int temp = va_arg(ap, int); if (max &lt; temp) &#123; max = temp; &#125; &#125; va_end(ap); return max; &#125; int max_compare_array() &#123; int max_num = compare_array[0]; for (int i=1; i&lt;4; i++) &#123; if (max_num &lt; compare_array[i]) &#123; max_num = compare_array[i]; &#125; &#125; return max_num; &#125; int maxSubArray(int A[], int begin, int end) &#123; //printf("begin : %d, end : %d\n", begin, end); if (begin == end) &#123; return A[begin]; &#125; else if ((end - begin) == 1) &#123; //return max(3, A[begin], A[begin] + A[end], A[end]); compare_array[0] = A[begin]; compare_array[1] = A[begin] + A[end]; compare_array[2] = A[end]; compare_array[3] = INT_MIN; return max_compare_array(); &#125; int middle = (begin + end) / 2; // å¤„ç†å·¦è¾¹å­æ•°ç»„ int max_left = maxSubArray(A, begin, middle); // å¤„ç†å³è¾¹å­æ•°ç»„ int max_right = maxSubArray(A, middle + 1, end); // å¤„ç†è·¨è¶Šä¸­ç‚¹çš„æƒ…å†µ int max_cross = maxCrossMiddle(A, begin, end); printf("begin : %d, end : %d, max_left = %d, max_right = %d, max_cross = %d\n", begin, end, max_left, max_right, max_cross); // è¿”å›žä¸‰è€…ä¸­çš„æœ€å¤§å€¼ compare_array[0] = max_left; compare_array[1] = max_right; compare_array[2] = max_cross; compare_array[3] = INT_MIN; return max_compare_array(); &#125; /** * å¤„ç†è·¨è¶Šä¸­ç‚¹çš„æƒ…å†µ */ int maxCrossMiddle(int A[], int begin, int end) &#123; if (begin == end) &#123; return A[begin]; &#125; int middle = (begin + end) / 2; // æ±‚å¾—[begin -- middle-1]çš„æœ€å¤§å€¼ int max_left = A[middle - 1]; int sum = 0; for (int i=middle - 1; i&gt;=begin &amp;&amp; i &gt;= 0; i--) &#123; sum += A[i]; if (max_left &lt; sum) &#123; max_left = sum; &#125; &#125; // æ±‚å¾—[middle+1 -- end]çš„æœ€å¤§å€¼ int max_right = A[middle + 1]; sum = 0; for (int i=middle + 1; i&lt;=end; i++) &#123; sum += A[i]; if (max_right&lt; sum) &#123; max_right = sum; &#125; &#125; compare_array[0] = A[middle]; compare_array[1] = A[middle] + max_left; compare_array[2] = A[middle] + max_right; compare_array[3] = A[middle] + max_left + max_right; return max_compare_array(); &#125;&#125;; æ‰«æç®—æ³•ã€Šç¼–ç¨‹ç çŽ‘ã€‹ä¸€ä¹¦8.4èŠ‚æåˆ°è¯¥ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œæ˜¯è§£å†³è¯¥é—®é¢˜æœ€å¥½çš„ç®—æ³•ã€‚ 12345678910111213141516171819202122232425int maxSubArray(int A[], int n) &#123; if (n == 0) &#123; return 0; &#125; int current_sum = 0; int max_sum = INT_MIN; for (int i=0; i&lt;n; i++) &#123; if (current_sum &lt;= 0) &#123; current_sum = A[i]; &#125; else &#123; current_sum += A[i]; &#125; if (current_sum &gt; max_sum) &#123; max_sum = current_sum; &#125; &#125; return max_sum;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxå‡½æ•°é«˜çº§ç‰¹æ€§]]></title>
      <url>%2Fpost%2Flinux_funtion_advance_feature%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘åœ¨çœ‹ã€ŠLinux/Unixç³»ç»Ÿç¼–ç¨‹æ‰‹å†Œã€‹ä¸€ä¹¦ï¼Œè¿™é‡Œå¯¹ä¹¦ä¸­æåˆ°çš„å‡½æ•°ç±»åž‹è¿›è¡Œæ€»ç»“ã€‚ å¯é‡å…¥POSIXæ ‡å‡†ä¸­çš„è§£é‡Šå¦‚ä¸‹ï¼š Reentrant Function:A function whose effect, when called by two or more threads,is guaranteed to be as if the threads each executed thefunction one after another in an undefined order, even ifthe actual execution is interleaved. å¯é‡å…¥å‡½æ•°è·Ÿä¿¡å·ç›¸å…³ï¼Œä¸€ç§æ›´å®¹æ˜“ç†è§£çš„è§£é‡Šä¸ºï¼š ç¨‹åºæ‰§è¡Œåˆ°æŸä¸ªå‡½æ•°foo()æ—¶ï¼Œæ”¶åˆ°ä¿¡å·ï¼ŒäºŽæ˜¯æš‚åœç›®å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ï¼Œè½¬åˆ°ä¿¡å·å¤„ç†å‡½æ•°ï¼Œè€Œè¿™ä¸ªä¿¡å·å¤„ç†å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆæ°æ°ä¹Ÿä¼šè¿›å…¥åˆ°åˆšåˆšæ‰§è¡Œçš„å‡½æ•°foo()ï¼Œä¾¿å‘ç”Ÿäº†æ‰€è°“çš„é‡å…¥ã€‚æ­¤æ—¶å¦‚æžœfoo()èƒ½å¤Ÿæ­£ç¡®çš„è¿è¡Œï¼Œè€Œä¸”å¤„ç†å®ŒæˆåŽï¼Œä¹‹å‰æš‚åœçš„foo()ä¹Ÿèƒ½å¤Ÿæ­£ç¡®è¿è¡Œï¼Œåˆ™è¯´æ˜Žå®ƒæ˜¯å¯é‡å…¥çš„ã€‚ å¯é‡å…¥å‡½æ•°éœ€è¦æ»¡è¶³å¦‚ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š ä¸åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨é™æ€æˆ–å…¨å±€æ•°æ® ä¸è¿”å›žé™æ€æˆ–å…¨å±€æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®å‡æœ‰å‡½æ•°è°ƒç”¨è€…æä¾› ä½¿ç”¨æœ¬åœ°æ•°æ®æˆ–é€šè¿‡å¤åˆ¶å…¨å±€æ•°æ®æ¥ä¿æŠ¤å…¨å±€æ•°æ® ä¸è°ƒç”¨ä¸å¯é‡å…¥å‡½æ•° æ ‡å‡†çš„å¼‚æ­¥å®‰å…¨ä¿¡å·å‡½æ•°å¼‚æ­¥ä¿¡å·å®‰å…¨çš„å‡½æ•°æŒ‡å½“ä»Žä¿¡å·å¤„ç†å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¯ä¿è¯å®žçŽ°æ˜¯å®‰å…¨çš„ã€‚å¦‚æžœæŸä¸€ä¸ªå‡½æ•°æ˜¯å¯é‡å…¥çš„ï¼Œæˆ–è€…ä¿¡å·å¤„ç†å‡½æ•°æ— æ³•å°†å…¶ä¸­æ–­æ—¶ï¼Œç§°è¯¥å‡½æ•°æ˜¯å¼‚æ­¥ä¿¡å·å®‰å…¨çš„ã€‚ æˆ‘çš„ç†è§£æ˜¯å¯é‡å…¥å‡½æ•°å’Œæ ‡å‡†çš„å¼‚æ­¥å®‰å…¨ä¿¡å·å‡½æ•°åŸºæœ¬ç­‰åŒï¼Œåªæ˜¯æè¿°å±‚é¢ä¸åŒã€‚ çº¿ç¨‹å®‰å…¨è‹¥å‡½æ•°å¯åŒæ—¶ä¾›å¤šä¸ªçº¿ç¨‹å®‰å…¨çš„è°ƒç”¨ï¼Œåˆ™è¯¥å‡½æ•°ä¸ºçº¿ç¨‹å®‰å…¨çš„å‡½æ•°ã€‚æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚ çº¿ç¨‹å®‰å…¨ä¸Žå¯é‡å…¥ä¹‹é—´çš„å…³ç³»å¯é‡å…¥å‡½æ•°ä¸€å®šä¸ºçº¿ç¨‹å®‰å…¨çš„å‡½æ•°ã€‚çº¿ç¨‹å®‰å…¨å‡½æ•°ä¸ä¸€å®šæ˜¯å¯é‡å…¥å‡½æ•°ã€‚ ä¸å¯é‡å…¥å‡½æ•°ï¼Œå‡½æ•°è°ƒç”¨ç»“æžœä¸å…·æœ‰å¯å†çŽ°æ€§ï¼Œå¯é€šè¿‡äº’æ–¥é”ç­‰æœºåˆ¶ä¾›å¤šä¸ªçº¿ç¨‹å®‰å…¨çš„è°ƒç”¨ï¼Œè¿™æ ·è¯¥ä¸å¯é‡å…¥å‡½æ•°å³ä¸ºçº¿ç¨‹å®‰å…¨çš„å‡½æ•°ã€‚ mallocå‡½æ•°å†…éƒ¨ç»´æŠ¤äº†å…¨å±€æ•°æ®ç»“æž„ï¼Œå› æ­¤ä¸ºä¸å¯é‡å…¥çš„ï¼Œä½†æ˜¯å†…éƒ¨é€šè¿‡é€’å½’äº’æ–¥é‡æ¥ç¡®ä¿ä¸ºçº¿ç¨‹å®‰å…¨çš„å‡½æ•°ã€‚å¹¶ä¸”è¯¥äº’æ–¥é‡å¿…é¡»æ˜¯å¯é€’å½’çš„ï¼Œå¦åˆ™å½“mallocå‡½æ•°é‡å…¥çš„æƒ…å†µä¸‹ï¼Œä¼šé€ æˆæ­»é”ã€‚åœ¨glibcä¸­ï¼Œmallocæœ‰çº¿ç¨‹å®‰å…¨å’Œéžçº¿ç¨‹å®‰å…¨ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸¤ä¸ªåŒºåˆ«åœ¨äºŽå†…éƒ¨æ˜¯å¦ä½¿ç”¨é€’å½’é”ï¼Œå½“ç¼–è¯‘ç¨‹åºæ—¶ä½¿ç”¨äº†_pthreadsé€‰é¡¹æ—¶ä½¿ç”¨çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ï¼Œå¦åˆ™ä½¿ç”¨éžçº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ã€‚ è‡ªåŠ¨é‡å¯Linuxä¸­çš„æŸäº›ç³»ç»Ÿè°ƒç”¨åœ¨é˜»å¡žçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœæŽ¥å—åˆ°ä¿¡å·å¹¶è½¬åŽ»å¤„ç†ä¿¡å·å¤„ç†å‡½æ•°ï¼Œå½“ä»Žä¿¡å·å¤„ç†å‡½æ•°è¿”å›žæ—¶è¿™äº›é˜»å¡žçš„ç³»ç»Ÿè°ƒç”¨é»˜è®¤ä¼šè¿”å›žEINTRã€‚ä¸ºäº†é¿å…ä¿¡å·å¤„ç†å‡½æ•°å¯¹é˜»å¡žä¸­çš„ç³»ç»Ÿè°ƒç”¨çš„æ‰“æ–­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®SA_RESTARTæ ‡å¿—çš„sigaction()æ¥å»ºç«‹ä¿¡å·å¤„ç†å‡½æ•°ï¼Œä»Žè€Œä»¤å†…æ ¸ä»£è¡¨è¿›ç¨‹è‡ªåŠ¨é‡å¯ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œæ— éœ€å¤„ç†ç³»ç»Ÿè°ƒç”¨è¿”å›žçš„EINTRé”™è¯¯ã€‚ å¹¶éžæ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨éƒ½æ”¯æŒè‡ªåŠ¨é‡å¯ï¼Œå…·ä½“å¯å‚è€ƒã€ŠLinux/Unixç³»ç»Ÿç¼–ç¨‹æ‰‹å†Œï¼ˆä¸Šå†Œï¼‰ã€‹çš„21.5èŠ‚ã€‚ å‚è€ƒèµ„æ–™ã€ŠLinux/Unixç³»ç»Ÿç¼–ç¨‹æ‰‹å†Œï¼ˆä¸Šå†Œï¼‰ã€‹ å¯¹å¯é‡æ€§å’Œçº¿ç¨‹å®‰å…¨çš„å°ç»“]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¿¡å·æœºåˆ¶å­¦ä¹ ]]></title>
      <url>%2Fpost%2Flinux_signal%2F</url>
      <content type="text"><![CDATA[[TOC] ä¿¡å·æœºåˆ¶åœ¨Linuxç¼–ç¨‹ä¸­ä¸€ç›´æ˜¯ä¸€ä¸ªéš¾ç‚¹ï¼Œå› ä¸ºä¿¡å·å¾€å¾€è·Ÿè¿›ç¨‹ã€çº¿ç¨‹ã€å®šæ—¶å™¨ã€I/Oç­‰å¤šä¸ªå±‚é¢éƒ½æœ‰ç‰µæ¶‰ï¼Œè¿™äº›æƒ…å†µå­˜åœ¨é”™ç»¼å¤æ‚çš„å…³ç³»ï¼Œå ªæ¯”å¨±ä¹åœˆé”™ç»¼å¤æ‚çš„ç”·å¥³å…³ç³»ï¼Œè¦æƒ³å…¨é¢ç†è§£ä¿¡å·æœºåˆ¶ç¡®å®žä¸æ˜“ã€‚ ä¿¡å·ç§ç±»åœ¨Linuxä¸­å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ‰€æœ‰çš„ä¿¡å·ï¼š 1234567891011121314[kuring@localhost ~]$ kill -l 1) SIGHUP 2) SIGINT 3) SIGQUIT 4) SIGILL 5) SIGTRAP 6) SIGABRT 7) SIGBUS 8) SIGFPE 9) SIGKILL 10) SIGUSR111) SIGSEGV 12) SIGUSR2 13) SIGPIPE 14) SIGALRM 15) SIGTERM16) SIGSTKFLT 17) SIGCHLD 18) SIGCONT 19) SIGSTOP 20) SIGTSTP21) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU 25) SIGXFSZ26) SIGVTALRM 27) SIGPROF 28) SIGWINCH 29) SIGIO 30) SIGPWR31) SIGSYS 34) SIGRTMIN 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+338) SIGRTMIN+4 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+843) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+1348) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-1253) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-758) SIGRTMAX-6 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-263) SIGRTMAX-1 64) SIGRTMAX å…±64ä¸ªä¿¡å·ï¼Œåˆ†ä¸ºä¸¤ç§ä¿¡å·ï¼šéžå®žæ—¶ä¿¡å·å’Œå®žæ—¶ä¿¡å·ã€‚å…¶ä¸­1-31ä¸ªä¿¡å·ä¸ºéžå®žæ—¶ä¿¡å·ï¼Œ32-64ä¸ºå®žæ—¶ä¿¡å·ã€‚ å½“ä¸€ä¿¡å·åœ¨é˜»å¡žçŠ¶æ€ä¸‹äº§ç”Ÿå¤šæ¬¡ä¿¡å·ï¼Œå½“è§£é™¤è¯¥ä¿¡å·çš„é˜»å¡žåŽï¼Œéžå®žæ—¶ä¿¡å·ä»…ä¼ é€’ä¸€æ¬¡ä¿¡å·ï¼Œè€Œå®žæ—¶ä¿¡å·ä¼šä¼ é€’å¤šæ¬¡ã€‚ å¯¹äºŽéžå®žæ—¶ä¿¡å·ï¼šå†…æ ¸ä¼šä¸ºæ¯ä¸ªä¿¡å·ç»´æŠ¤ä¸€ä¸ªä¿¡å·æŽ©ç ï¼Œå¹¶é˜»å¡žä¿¡å·é’ˆå¯¹è¯¥è¿›ç¨‹çš„ä¼ é€’ã€‚å¦‚æžœå°†é˜»å¡žçš„ä¿¡å·å‘é€ç»™æŸè¿›ç¨‹ï¼Œå¯¹è¯¥ä¿¡å·çš„ä¼ é€’å°†å»¶æ—¶ï¼Œç›´è‡³ä»Žè¿›ç¨‹æŽ©ç ä¸­ç§»é™¤è¯¥ä¿¡å·ä¸ºæ­¢ã€‚å½“ä»Žè¿›ç¨‹æŽ©ç ä¸­ç§»é™¤è¯¥ä¿¡å·æ—¶è¯¥ä¿¡å·å°†ä¼ é€’ç»™è¯¥è¿›ç¨‹ã€‚å¦‚æžœä¿¡å·åœ¨é˜»å¡žæœŸé—´ä¼ é€’è¿‡å¤šæ¬¡è¯¥ä¿¡å·ï¼Œä¿¡å·è§£é™¤é˜»å¡žåŽä»…ä¼ é€’ä¸€æ¬¡ã€‚ å¯¹äºŽå®žæ—¶ä¿¡å·ï¼šå®žæ—¶ä¿¡å·é‡‡ç”¨é˜Ÿåˆ—åŒ–å¤„ç†ï¼Œä¸€ä¸ªå®žæ—¶ä¿¡å·çš„å¤šä¸ªå®žä¾‹å‘é€ç»™è¿›ç¨‹ï¼Œä¿¡å·å°†ä¼šä¼ é€’å¤šæ¬¡ã€‚å¯ä»¥åˆ¶å®šä¼´éšæ•°æ®ï¼Œç”¨äºŽäº§ç”Ÿä¿¡å·æ—¶çš„æ•°æ®ä¼ é€’ã€‚ä¸åŒå®žæ—¶ä¿¡å·çš„ä¼ é€’é¡ºåºæ˜¯å›ºå®šçš„ï¼Œä¼˜å…ˆä¼ é€’ä¿¡å·ç¼–å·å°çš„ã€‚ ä¿¡å·é˜»å¡žå†…æ ¸ä¼šä¸ºæ¯ä¸ªä¿¡å·ç»´æŠ¤ä¸€ä¸ªä¿¡å·æŽ©ç ï¼Œæ¥é˜»å¡žå†…æ ¸å°†ä¿¡å·ä¼ é€’ç»™è¯¥è¿›ç¨‹ã€‚å¦‚æžœå°†é˜»å¡žçš„ä¿¡å·å‘é€ç»™è¯¥è¿›ç¨‹ï¼Œä¿¡å·çš„ä¼ é€’å°†å»¶åŽï¼Œä»Žè¿›ç¨‹ä¿¡å·æŽ©ç ä¸­ç§»é™¤è¯¥ä¿¡å·åŽå†…æ ¸ç«‹åˆ»å°†ä¿¡å·ä¼ é€’ç»™è¯¥è¿›ç¨‹ã€‚å¦‚æžœä¸€ä¸ªä¿¡å·åœ¨é˜»å¡žçŠ¶æ€ä¸‹äº§ç”Ÿå¤šæ¬¡ï¼Œå¯¹äºŽéžå®žæ—¶ä¿¡å·ç¨åŽä»…ä¼šä¼ é€’ä¸€æ¬¡ï¼Œå¯¹äºŽå®žæ—¶ä¿¡å·å†…æ ¸ä¼šè¿›è¡ŒæŽ’é˜Ÿå¤„ç†ï¼Œä¼šä¼ é€’å¤šæ¬¡ã€‚ ä¿¡å·å¤„ç†å‡½æ•°è¦æƒ³åœ¨è¿›ç¨‹ä¸­è®¾ç½®ä¿¡å·å¤„ç†å‡½æ•°æœ‰ä¸¤ç§é€‰æ‹©ï¼šsignal()å’Œsigaction()ã€‚å…¶ä¸­signal()å‡½æ•°æä¾›çš„æŽ¥å£æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„UNIXç³»ç»Ÿä¹‹é—´å­˜åœ¨å·®å¼‚ï¼Œè·¨å¹³å°ç‰¹æ€§ä¸æ˜¯å¾ˆå¥½,signal()å‡½æ•°ç”±äºŽæ˜¯Cåº“å‡½æ•°ï¼Œå®žçŽ°å¾€å¾€æ˜¯é‡‡ç”¨sigaction()ç³»ç»Ÿè°ƒç”¨å®Œæˆã€‚sigaction()å…·æœ‰å¾ˆå¥½çš„è·¨å¹³å°æ€§ï¼Œä½†æ˜¯ä½¿ç”¨è¾ƒä¸ºå¤æ‚ï¼Œä½†æ˜¯å´å¯ä»¥åœ¨ä¿¡å·å¤„ç†ç¨‹åºä¸­å®Œæˆé˜»å¡žä¿¡å·çš„ä½œç”¨ã€‚ åœ¨sigactionå‡½æ•°ä¸­å¯ä»¥æŒ‡å®šè°ƒç”¨ä¿¡å·å¤„ç†å‡½æ•°æ—¶è¦é˜»å¡žçš„ä¿¡å·é›†ï¼Œä¸å…è®¸è¿™äº›ä¿¡å·ä¸­æ–­ä¿¡å·å¤„ç†å‡½æ•°çš„è°ƒç”¨ï¼Œç›´åˆ°ä¿¡å·å¤„ç†å‡½æ•°è°ƒç”¨å®Œæ¯•åŽä¿¡å·æ‰ä¼šä¼ é€’ã€‚è¿™ä¸€ç‚¹é€šè¿‡signalå‡½æ•°æ˜¯å®Œä¸æˆçš„ï¼Œåˆ©ç”¨signalå‡½æ•°è®¾å®šçš„ä¿¡å·å¤„ç†å‡½æ•°åªèƒ½åœ¨ä¿¡å·å¤„ç†å‡½æ•°å¼€å§‹æ—¶ä½¿ç”¨sigprocmaskè®¾ç½®è¦é˜»å¡žçš„ä¿¡å·ï¼Œåœ¨ä¿¡å·å¤„ç†å‡½æ•°å°¾éƒ¨åˆ©ç”¨sigprocmaskè¿˜åŽŸä¿¡å·ï¼Œä½†åœ¨è°ƒç”¨ç¬¬ä¸€æ¬¡è°ƒç”¨sigprocmaskå‡½æ•°ä¹‹å‰å’Œç¬¬äºŒæ¬¡è°ƒç”¨sigprocmaskå‡½æ•°ä¹‹åŽçš„ç©ºç™½æœŸå†…å´æ— æ³•é˜²æ­¢è¦é˜»å¡žä¿¡å·çš„ä¼ é€’ã€‚ ä¿¡å·å¤„ç†å‡½æ•°ä¸­è°ƒç”¨çš„å‡½æ•°å°½é‡æ˜¯å¼‚æ­¥ä¿¡å·å®‰å…¨çš„ï¼ŒCåº“ä¸­çš„å‡½æ•°ä¸æ˜¯å¼‚æ­¥ä¿¡å·å®‰å…¨çš„å‡½æ•°ã€‚ åœ¨ä¿¡å·å¤„ç†å‡½æ•°ä¸­å°½é‡é¿å…è®¿é—®å…¨å±€å˜é‡ï¼Œè¦è®¿é—®å…¨å±€å˜é‡å¯ä»¥ä½¿ç”¨volatile sig_atomic_t flagï¼Œvolatileé˜²æ­¢å°†ç¼–è¯‘å™¨å°†å˜é‡ä¼˜åŒ–åˆ°å†…å­˜ä¸­ï¼Œsig_atomic_tæ˜¯ä¸€ç§æ•´å½¢æ•°æ®ç±»åž‹ï¼Œç”¨æ¥ä¿è¯è¯»å†™æ“ä½œçš„åŽŸå­æ€§ã€‚ ç³»ç»Ÿè°ƒç”¨çš„ä¸­æ–­å½“ç³»ç»Ÿè°ƒç”¨é˜»å¡žæ—¶ï¼Œä¹‹å‰åˆ›å»ºäº†å¤„ç†å‡½æ•°çš„ä¿¡å·ä¼ é€’è¿‡æ¥ã€‚åœ¨ä¿¡å·å¤„ç†å‡½æ•°è¿”å›žåŽï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿè°ƒç”¨ä¼šå¤±è´¥ï¼Œå¹¶å°†errnoç½®ä¸ºEINTRã€‚ å¦‚æžœè°ƒç”¨æŒ‡å®šäº†SA_RESTARTæ ‡å¿—çš„sigaction()å‡½æ•°æ¥åˆ›å»ºä¿¡å·å¤„ç†å™¨å‡½æ•°ï¼Œå†…æ ¸ä¼šåœ¨ä¿¡å·å¤„ç†å‡½æ•°è¿”å›žåŽè‡ªåŠ¨é‡å¯ç³»ç»Ÿè°ƒç”¨ï¼Œä»Žè€Œé¿å…äº†ä¿¡å·å¤„ç†å‡½æ•°å¯¹é˜»å¡žçš„ç³»ç»Ÿè°ƒç”¨äº§ç”Ÿçš„å½±å“ã€‚æ¯”è¾ƒä¸å¹¸çš„æ˜¯ï¼Œå¹¶éžæ‰€æœ‰çš„ç³»ç»Ÿè°ƒç”¨éƒ½æ”¯æŒè¯¥ç‰¹æ€§ã€‚ ä¿¡å·çš„åŒæ­¥ç”Ÿæˆå’Œå¼‚æ­¥ç”Ÿæˆè¿™é‡Œçš„åŒæ­¥æ˜¯å¯¹ä¿¡å·äº§ç”Ÿæ–¹å¼çš„æè¿°ï¼Œè·Ÿå…·ä½“å“ªä¸ªä¿¡å·æ— å…³ã€‚æ‰€æœ‰çš„ä¿¡å·å‡å¯åŒæ­¥ç”Ÿæˆï¼Œä¹Ÿå¯å¼‚æ­¥ç”Ÿæˆã€‚ å¼‚æ­¥ç”Ÿæˆï¼šå¼•å‘ä¿¡å·äº§ç”Ÿçš„äº‹ä»¶ä¸Žè¿›ç¨‹çš„æ‰§è¡Œæ— å…³ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·è¾“å…¥äº†ä¸­æ–­å­—ç¬¦ã€å­è¿›ç¨‹ç»ˆæ­¢ç­‰äº‹ä»¶ï¼Œè¿™äº›ä¿¡å·çš„äº§ç”Ÿè¯¥è¿›ç¨‹æ˜¯æ— æ³•å·¦å³çš„ã€‚ åŒæ­¥ç”Ÿæˆï¼šå½“æ‰§è¡Œç‰¹å®šçš„æœºåˆ¶æŒ‡ä»¤äº§ç”Ÿç¡¬ä»¶å¼‚å¸¸æ—¶æˆ–è¿›ç¨‹ä½¿ç”¨raise()ã€kill()ç­‰å‘è‡ªèº«å‘ç”Ÿä¿¡å·æ—¶ï¼Œä¿¡å·æ˜¯åŒæ­¥ä¼ é€’çš„ã€‚è¿™äº›ä¿¡å·çš„äº§ç”Ÿæ—¶é—´è¯¥è¿›ç¨‹æ˜¯å¯ä»¥å·¦å³çš„ã€‚ ä¿¡å·ä¼ é€’çš„æ—¶æœºå’Œé¡ºåºåŒæ­¥äº§ç”Ÿçš„ä¿¡å·ä¼šç«‹å³ä¼ é€’ç»™è¯¥è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨raise()å‡½æ•°å‘è‡ªèº«å‘é€ä¿¡å·æ—¶ï¼Œä¿¡å·ä¼šåœ¨raise()è°ƒç”¨å‰å‘ç”Ÿã€‚ å¼‚æ­¥äº§ç”Ÿä¸€ä¸ªä¿¡å·æ—¶ï¼Œä¸”åœ¨è¿›ç¨‹å¹¶æœªé˜»å¡žçš„æƒ…å†µä¸‹ï¼Œä¿¡å·ä¹Ÿä¸ä¼šç«‹å³è¢«ä¼ é€’ã€‚å½“ä¸”ä»…å½“è¿›ç¨‹æ­£åœ¨æ‰§è¡Œï¼Œå¹¶ä¸”ç”±å†…æ ¸æ€åˆ°ç”¨æˆ·æ€çš„ä¸‹ä¸€æ¬¡åˆ‡æ¢æ—¶æ‰ä¼šä¼ é€’ä¿¡å·ã€‚è¯´äººè¯å°±æ˜¯åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹ä¼šä¼ é€’ä¿¡å·ï¼šè¿›ç¨‹èŽ·å¾—è°ƒåº¦æ—¶å’Œç³»ç»Ÿè°ƒç”¨å®Œæˆæ—¶ã€‚è¿™æ˜¯å› ä¸ºå†…æ ¸ä¼šåœ¨è¿›ç¨‹åœ¨å†…æ ¸æ€å’Œç”¨æˆ·æ€è¿›è¡Œçš„åˆ‡æ¢çš„æ—¶å€™æ‰ä¼šæ£€æµ‹ä¿¡å·ã€‚ éžå®žæ—¶ä¿¡å·çš„ä¼ é€’é¡ºåºæ— æ³•ä¿éšœï¼Œå®žæ—¶ä¿¡å·çš„ä¼ é€’é¡ºåºæ˜¯å›ºå®šçš„ï¼Œå½“å¤šä¸ªä¸åŒçš„å®žæ—¶ä¿¡å·å¤„äºŽç­‰å¾…çŠ¶æ€æ—¶ï¼Œä¼˜å…ˆä¼ é€’æœ€å°ç¼–å·çš„ä¿¡å·ã€‚ ä¿¡å·å’Œçº¿ç¨‹ä¿¡å·æ¨¡åž‹æ˜¯åŸºäºŽè¿›ç¨‹æ¨¡åž‹è€Œè®¾è®¡çš„ï¼Œåº”å°½é‡é¿å…åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ä¿¡å·æ¨¡åž‹ã€‚ ä¿¡å·çš„å‘é€å¯ä»¥é’ˆå¯¹æ•´ä¸ªè¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹ç‰¹å®šçº¿ç¨‹ã€‚ å½“è¿›ç¨‹æ”¶åˆ°ä¸€ä¸ªä¿¡å·åŽï¼Œå†…æ ¸ä¼šä»»é€‰ä¸€ä¸ªçº¿ç¨‹æ¥æŽ¥æ”¶ä¿¡å·ï¼Œå¹¶è°ƒç”¨ä¿¡å·å¤„ç†å‡½æ•°å¯¹ä¿¡å·è¿›è¡Œå¤„ç†ã€‚ æ¯ä¸ªçº¿ç¨‹å¯ä»¥ç‹¬ç«‹è®¾ç½®ä¿¡å·æŽ©ç ã€‚ å¦‚æžœä¿¡å·å¤„ç†ç¨‹åºä¸­æ–­äº†å¯¹pthread_mutex_lock()å’Œpthread_cond_wait()çš„è°ƒç”¨ï¼Œè¯¥è°ƒç”¨ä¼šè‡ªåŠ¨é‡å¯ã€‚ å‚è€ƒæ–‡ç« ã€ŠLinux/Unixç³»ç»Ÿç¼–ç¨‹æ‰‹å†Œã€‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[UNIXç½‘ç»œç¼–ç¨‹è¯»ä¹¦ç¬”è®°]]></title>
      <url>%2Fpost%2Flinux_unp%2F</url>
      <content type="text"><![CDATA[ç¬¬ä¸€éé˜…è¯»unpv3åŽï¼Œå¯¹ä¹¦ä¸­è®²è¿°çš„å†…å®¹æœ‰äº†å¤§ä½“çš„è®¤è¯†ï¼Œä½†å¯¹ä¹¦ä¸­çš„å…·ä½“ç»†èŠ‚åœ°æ–¹å´æ˜¯æ—©å·²å¿˜è®°ã€‚é‡æ–°é˜…è¯»unpv3ï¼Œè¿™æ¬¡ä¸å¸Œæœ›ä»ç„¶æ˜¯é˜…åŽå³å¿˜ï¼ŒäºŽæ˜¯é€šè¿‡ç¼–å†™ä»£ç çš„æ–¹å¼å¯¹ä¹¦ä¸­çš„ä¾‹å­å’Œæ³¨æ„äº‹é¡¹åŠ æ·±ç†è§£ã€‚ ä¸ºäº†èƒ½å¤Ÿå°†ä¹¦ä¸­çš„å¾ˆå¤šç»†èŠ‚é—®é¢˜ç†è§£æ¸…æ¥šå¹¶ä¸”ä¾¿äºŽè®°å¿†ï¼Œæœ¬æ–‡é‡‡ç”¨äº†ç¼–å†™ä¹¦ä¸­ä»£ç å¹¶è¿è¡Œçš„æ–¹å¼ï¼Œå¹¶å°†ä¹¦ä¸­å®¹æ˜“å‡ºé”™å’Œæ„æƒ³ä¸åˆ°çš„é—®é¢˜è®°åœ¨ä»£ç ä¸­ã€‚ æœ¬æ–‡çš„ä»£ç å®žä¾‹å¹¶æœªå®Œå…¨æŒ‰ç…§ä¹¦ä¸­çš„ä»£ç å®žä¾‹ï¼Œæœ¬ç€å•ä¸ªæ–‡ä»¶å³èƒ½ç¼–è¯‘é€šè¿‡å¹¶è¿è¡Œçš„åŽŸåˆ™ï¼Œæœ¬æ–‡å¯¹äºŽå¾ˆå¤šç³»ç»Ÿè°ƒç”¨å¹¶æœªåšé˜²å¾¡å¼ç¼–ç¨‹å¤„ç†ã€‚é’ˆå¯¹æ¯ä¸ªç‰ˆæœ¬çš„ç¨‹åºä¸­ç¼ºç‚¹å’Œæ³¨æ„äº‹é¡¹åœ¨ä»£ç ä¸­å·²ç»è¿›è¡Œäº†æ ‡æ³¨ã€‚ é‰´äºŽé«˜æ€§èƒ½çš„epollæœºåˆ¶å‡ºçŽ°æ¯”è¾ƒæ™šï¼Œæ™šäºŽunpçš„ç¼–å†™æ—¶é—´ï¼Œä¹¦ä¸­å¹¶æœªåšä»‹ç»ã€‚ TCPå®¢æˆ·ç«¯ç¨‹åºå®¢æˆ·ç«¯å‡½æ•°æ‰§è¡Œæ•ˆçŽ‡æƒ…å†µï¼šselectéžé˜»å¡žå¼I/Oç‰ˆæœ¬&gt;çº¿ç¨‹åŒ–ç‰ˆæœ¬&gt;forkç‰ˆæœ¬&gt;selecté˜»å¡žå¼I/Oç‰ˆæœ¬&gt;åœç­‰ç‰ˆæœ¬ï¼Œåœç­‰ç‰ˆæœ¬çš„æ‰§è¡Œæ•ˆçŽ‡éžå¸¸ä½Žï¼Œåœ¨å®žé™…ç”Ÿäº§çŽ¯å¢ƒä¸­ä¸å»ºè®®ä½¿ç”¨ã€‚ å…¶ä¸­pollå’Œselectæœºåˆ¶åŸºæœ¬ç±»ä¼¼ï¼Œä¹¦ä¸­å¹¶æœªç»™å‡ºpollç‰ˆæœ¬ã€‚ åœ-ç­‰ç‰ˆæœ¬æœ€å¸¸è§„çš„å®žçŽ°æ€è·¯ï¼Œä½†æ•ˆçŽ‡éžå¸¸ä½Žï¼Œä¸”å½“ç¨‹åºé˜»å¡žåœ¨è¯»å–è¦å‘é€å†…å®¹æ—¶ï¼Œç¨‹åºæ˜¯æ— æ³•æ”¶åˆ°æœåŠ¡ç«¯çš„çŠ¶æ€å˜åŒ–ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273/** * åœ-ç­‰ç‰ˆæœ¬ * è¯¥ç‰ˆæœ¬ç¼ºé™·ä¸ºå½“æœåŠ¡ç«¯å‘ç”ŸæŸäº›äº‹ä»¶æ—¶ï¼Œå®¢æˆ·ç«¯å¯èƒ½ä»ç„¶é˜»å¡žäºŽfgetsè°ƒç”¨ä¸­ */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;signal.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */void str_cli(FILE *fp, int sockfd)&#123; char sendline[MAXLINE], recvline[MAXLINE]; while (fgets(sendline, MAXLINE, fp) != NULL) &#123; /* å½“é˜»å¡žåœ¨fgetså‡½æ•°æ—¶å°†æœåŠ¡å™¨è¿›ç¨‹å…³é—­æ—¶è™½ç„¶ç»™å®¢æˆ·ç«¯å‘é€äº†FINä¿¡å·ï¼Œå®¢æˆ·ç«¯å¹¶ä¸ä¼šçŸ¥é“ï¼Œ * æœåŠ¡ç«¯å…³é—­æ—¶ç¬¬ä¸€æ¬¡è°ƒç”¨writeæœåŠ¡å™¨ä¼šè¿”å›žRSTï¼Œ * å½“ä¸€ä¸ªè¿›ç¨‹å‘æŸä¸ªæ”¶åˆ°RSTçš„å¥—æŽ¥å­—æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œå†…æ ¸ä¼šå‘è¯¥è¿›ç¨‹å‘é€ä¸€ä¸ªSIGPIPEä¿¡å· * è¯¥é—®é¢˜éœ€è¦ä½¿ç”¨I/Oå¤ç”¨æŠ€æœ¯æ¥è§£å†³ï¼Œæˆ–è€…ä½¿ç”¨forkå¤„ç†çš„æ–¹å¼æ¥è§£å†³ * */ write(sockfd, sendline, strlen(sendline)); int n = read(sockfd, recvline, MAXLINE); if (n == 0) &#123; printf("str_cli: server terminated prematurely\n"); exit(1); &#125; // å‘æ ‡å‡†è¾“å‡ºå†™å†…å®¹ï¼Œæ—¢å¯ä»¥ä½¿ç”¨writeä¹Ÿå¯ä»¥ä½¿ç”¨fputs write(STDOUT_FILENO, recvline, n); // ä½¿ç”¨fputsæ—¶éœ€è¦æ³¨æ„å°†recvlineæ•°ç»„æœ‰æ•ˆå†…å®¹çš„åŽé¢ä¸€ä½è®¾ç½®ä¸º'\0'// recvline[n] = '\0';// fputs(recvline, stdout); &#125;&#125;int main(int argc, char **argv)&#123; int sockfd; struct sockaddr_in servaddr; if (argc != 2) &#123; printf("usage: tcpcli &lt;IPaddress&gt;\n"); exit(1); &#125; // å½“ä¸€ä¸ªè¿›ç¨‹å‘æŸä¸ªæ”¶åˆ°RSTçš„å¥—æŽ¥å­—æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œå†…æ ¸ä¼šå‘è¯¥è¿›ç¨‹å‘é€ä¸€ä¸ªSIGPIPEä¿¡å· // æœ€å¥½çš„æ–¹å¼æ˜¯å¿½ç•¥æ­¤ä¿¡å·çš„å¤„ç†æ–¹å¼ï¼Œå¹¶åœ¨ç¨‹åºä¸‹é¢å¤„ç†è¯¥å¼‚å¸¸æƒ…å†µ signal(SIGPIPE, SIG_IGN); sockfd = socket(AF_INET, SOCK_STREAM, 0); bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_port = htons(SERV_PORT); inet_pton(AF_INET, argv[1], &amp;servaddr.sin_addr); connect(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)); str_cli(stdin, sockfd); /* do it all */ exit(0);&#125; forkç‰ˆæœ¬1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980/** * é˜»å¡žå¼I/Oçš„forkç‰ˆæœ¬ */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;signal.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length *//** * å³ä½¿æœåŠ¡ç«¯å·²ç»é€€å‡ºï¼Œå­è¿›ç¨‹çš„readæ–¹æ³•ä»ç„¶èƒ½å¤Ÿæ„ŸçŸ¥åˆ°å¹¶ä¸”é€€å‡ºwhileå¾ªçŽ¯ï¼Œå¹¶ç»™çˆ¶è¿›ç¨‹å‘é€SIGTERM,çˆ¶è¿›ç¨‹å¯¹è¯¥ä¿¡å·çš„é»˜è®¤å¤„ç†æ–¹å¼ä¸ºé€€å‡º * ä¼˜ç‚¹ï¼šä»£ç é‡æ¯”è¾ƒå°‘ï¼Œæ¯ä¸ªè¿›ç¨‹åªå¤„ç†2ä¸ªI/Oæµï¼Œä»Žä¸€ä¸ªå¤åˆ¶åˆ°å¦ä¸€ä¸ª */void str_cli(FILE *fp, int sockfd)&#123; char sendline[MAXLINE], recvline[MAXLINE]; pid_t pid; if ((pid = fork()) == 0) &#123; // child process : server -&gt; stdout int n; while ((n = read(sockfd, recvline, MAXLINE)) &gt; 0) &#123; recvline[n] = '\0'; fputs(recvline, stdout); &#125; kill(getppid(), SIGTERM); exit(0); &#125; // parent process : stdin -&gt; server while (fgets(sendline, MAXLINE, fp) != NULL) &#123; write(sockfd, sendline, strlen(sendline)); &#125; shutdown(sockfd, SHUT_WR); pause(); return ;&#125;int main(int argc, char **argv)&#123; int sockfd; struct sockaddr_in servaddr; if (argc != 2) &#123; printf("usage: tcpcli &lt;IPaddress&gt;\n"); exit(1); &#125; // å½“ä¸€ä¸ªè¿›ç¨‹å‘æŸä¸ªæ”¶åˆ°RSTçš„å¥—æŽ¥å­—æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œå†…æ ¸ä¼šå‘è¯¥è¿›ç¨‹å‘é€ä¸€ä¸ªSIGPIPEä¿¡å· // æœ€å¥½çš„æ–¹å¼æ˜¯å¿½ç•¥æ­¤ä¿¡å·çš„å¤„ç†æ–¹å¼ï¼Œå¹¶åœ¨ç¨‹åºä¸‹é¢å¤„ç†è¯¥å¼‚å¸¸æƒ…å†µ signal(SIGPIPE, SIG_IGN); sockfd = socket(AF_INET, SOCK_STREAM, 0); bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_port = htons(SERV_PORT); inet_pton(AF_INET, argv[1], &amp;servaddr.sin_addr); if (connect(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) != 0) &#123; printf("connect error...\n"); exit(1); &#125; str_cli(stdin, sockfd); /* do it all */ exit(0);&#125; é˜»å¡žå¼I/Oçš„selectç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113/** * é˜»å¡žå¼I/Oçš„selectç‰ˆæœ¬ */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;signal.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length *//** * ç¼ºç‚¹ï¼šä½¿ç”¨äº†é˜»å¡žå¼I/Oï¼Œå¦‚æžœåœ¨å‘å¥—æŽ¥å­—è°ƒç”¨writeå‘é€ç»™æœåŠ¡å™¨æ—¶ï¼Œå¥—æŽ¥å­—ç¼“å†²åŒºå·²æ»¡ï¼Œwriteè°ƒç”¨ä¼šé˜»å¡žï¼Œä»Žè€Œå½±å“äº†åŽç»­çš„å¥—æŽ¥å­—ç¼“å†²åŒºçš„è¯»å– */void str_cli(FILE *fp, int sockfd)&#123; int maxfdp1; fd_set rset; char sendline[MAXLINE], recvline[MAXLINE]; int stdineof = 0; FD_ZERO(&amp;rset); for (; ;) &#123; // select FD_SET(fileno(fp), &amp;rset); FD_SET(sockfd, &amp;rset); maxfdp1 = (fileno(fp) &gt; sockfd ? fileno(fp) : sockfd) + 1; select(maxfdp1, &amp;rset, NULL, NULL, NULL); // socket if (FD_ISSET(sockfd, &amp;rset)) &#123; int n = read(sockfd, recvline, MAXLINE); if (n == 0) &#123; if (stdineof == 1) &#123; return ; &#125; else &#123; printf("str_cli: server terminated prematurely\n"); exit(1); &#125; &#125; else if (n == -1) &#123; exit(1); &#125; recvline[n] = '\0'; fputs(recvline, stdout);// write(STDOUT_FILENO, recvline, n); &#125; // input if (FD_ISSET(fileno(fp), &amp;rset)) &#123; // æ­¤å¤„ä¸èƒ½ä½¿ç”¨fgetså‡½æ•°ï¼Œè¯¥å‡½æ•°å¸¦æœ‰ç¼“å†²åŒºåŠŸèƒ½ï¼Œselectè·Ÿå¸¦æœ‰ç¼“å†²åŒºçš„cå‡½æ•°æ··åˆä½¿ç”¨æœ‰é—®é¢˜// if (fgets(sendline, MAXLINE, fp) == NULL)// &#123;// return ;// &#125; int n = read(fileno(fp), sendline, MAXLINE); if (n == 0) &#123; stdineof = 1; shutdown(sockfd, SHUT_WR); // å…³é—­å†™ FD_CLR(fileno(fp), &amp;rset); continue; &#125; else if (n == -1) &#123; exit(1); &#125; write(sockfd, sendline, n); &#125; &#125;&#125;int main(int argc, char **argv)&#123; int sockfd; struct sockaddr_in servaddr; if (argc != 2) &#123; printf("usage: tcpcli &lt;IPaddress&gt;\n"); exit(1); &#125; sockfd = socket(AF_INET, SOCK_STREAM, 0); bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_port = htons(SERV_PORT); inet_pton(AF_INET, argv[1], &amp;servaddr.sin_addr); if (connect(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) != 0) &#123; printf("connect error...\n"); exit(1); &#125; str_cli(stdin, sockfd); /* do it all */ exit(0);&#125; éžé˜»å¡žå¼I/Oçš„selectç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298/** * éžé˜»å¡žå¼I/Oçš„selectç‰ˆæœ¬ */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;signal.h&gt;#include &lt;fcntl.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */#define max(a,b) ( ((a)&gt;(b)) ? (a):(b) )/** * ä¼˜ç‚¹ï¼šé€Ÿåº¦æ˜¯æœ€å¿«çš„ï¼Œå¯ä»¥é˜²æ­¢è¿›ç¨‹åœ¨åšä»»ä½•å·¥ä½œæ—¶å‘ç”Ÿé˜»å¡ž * ç¼ºç‚¹ï¼šåŒæ—¶ç®¡ç†4ä¸ªä¸åŒçš„I/Oæµï¼Œæ¯ä¸ªæµéƒ½æ˜¯éžé˜»å¡žçš„ï¼Œéœ€è¦è€ƒè™‘åˆ°4ä¸ªæµçš„éƒ¨åˆ†è¯»å’Œéƒ¨åˆ†å†™é—®é¢˜ã€‚ç¼–ç é‡æ˜¯æœ€å¤šçš„ï¼Œéœ€è¦å¼•å…¥ç¼“å†²åŒºç®¡ç†æœºåˆ¶ã€‚ */void str_cli(FILE *fp, int sockfd)&#123; // å°†socketã€æ ‡å‡†è¾“å…¥å’Œæ ‡å‡†è¾“å‡ºæè¿°ç¬¦è®¾ç½®ä¸ºéžé˜»å¡žæ–¹å¼ int val = fcntl(sockfd, F_GETFL, 0); fcntl(sockfd, F_SETFL, val | O_NONBLOCK); val = fcntl(STDIN_FILENO, F_GETFL, 0); fcntl(STDIN_FILENO, F_SETFL, val | O_NONBLOCK); val = fcntl(STDOUT_FILENO, F_GETFL, 0); fcntl(STDOUT_FILENO, F_SETFL, val | O_NONBLOCK); char to[MAXLINE], fr[MAXLINE]; char *toiptr, *tooptr, *friptr, *froptr; toiptr = tooptr = to; friptr = froptr = fr; int stdineof = 0; int maxfdp1 = max(max(STDIN_FILENO, STDOUT_FILENO), sockfd) + 1; fd_set rset, wset; for (; ;) &#123; FD_ZERO(&amp;rset); FD_ZERO(&amp;wset); if (stdineof == 0 &amp;&amp; toiptr &lt; &amp;to[MAXLINE]) &#123; FD_SET(STDIN_FILENO, &amp;rset); &#125; if (friptr &lt; &amp;fr[MAXLINE]) &#123; FD_SET(sockfd, &amp;rset); &#125; if (tooptr != toiptr) &#123; FD_SET(sockfd, &amp;wset); &#125; if (froptr != friptr) &#123; FD_SET(STDOUT_FILENO, &amp;wset); &#125; select(maxfdp1, &amp;rset, &amp;wset, NULL, NULL); // selectå‡½æ•°ä»ç„¶æ˜¯é˜»å¡žçš„ // æ ‡å‡†è¾“å…¥ if (FD_ISSET(STDIN_FILENO, &amp;rset)) &#123; int n; if ((n = read(STDIN_FILENO, toiptr, &amp;to[MAXLINE] - toiptr)) &lt; 0) &#123; // å¯¹äºŽéžé˜»å¡žå¼IOï¼Œå¦‚æžœæ“ä½œä¸èƒ½æ»¡è¶³ï¼Œç›¸åº”ç³»ç»Ÿè°ƒç”¨ä¼šè¿”å›žEWOULDBLOCKé”™è¯¯ if (errno != EWOULDBLOCK) &#123; printf("read error on stdin\n"); exit(1); &#125; &#125; else if (n == 0) &#123; fprintf(stderr, "EOF on stdin\n"); stdineof = 1; if (tooptr == toiptr) &#123; shutdown(sockfd, SHUT_WR); // ç¼“å†²åŒºä¸­æ²¡æœ‰æ•°æ®è¦å‘é€ï¼Œå…³é—­socket &#125; &#125; else &#123; fprintf(stderr, "read %d bytes from stdin\n", n); toiptr += n; FD_SET(sockfd, &amp;wset); &#125; &#125; // ä»Žå¥—æŽ¥å­—è¯» if (FD_ISSET(sockfd, &amp;rset)) &#123; int n; if ((n = read(sockfd, friptr, &amp;fr[MAXLINE] - friptr)) &lt; 0) &#123; if (errno != EWOULDBLOCK) &#123; printf("read error on socket\n"); exit(1); &#125; &#125; else if (n == 0) &#123; fprintf(stderr, "EOF on socket\n"); if (stdineof) &#123; return ; &#125; else &#123; printf("server terminated prematurely\n"); exit(1); &#125; &#125; else &#123; fprintf(stderr, "read %d bytes from socket\n", n); friptr += n; FD_SET(STDOUT_FILENO, &amp;wset); &#125; &#125; // æ ‡å‡†è¾“å‡º int n; if (FD_ISSET(STDOUT_FILENO, &amp;wset) &amp;&amp; ((n = friptr - froptr) &gt; 0)) &#123; int nwritten; if ((nwritten = write(STDOUT_FILENO, froptr, n)) &lt; 0) &#123; if (errno != EWOULDBLOCK) &#123; printf("write error to stdout\n"); exit(1); &#125; &#125; else &#123; fprintf(stderr, "wrote %d bytes to stdout\n", nwritten); froptr += nwritten; if (froptr == friptr) &#123; froptr = friptr = fr; &#125; &#125; &#125; // å‘socketå†™ if (FD_ISSET(sockfd, &amp;wset) &amp;&amp; ((n = toiptr - tooptr)) &gt; 0) &#123; int nwritten; if ((nwritten = write(sockfd, tooptr, n)) &lt; 0) &#123; if (errno != EWOULDBLOCK) &#123; printf("write error to socket\n"); exit(1); &#125; &#125; else &#123; fprintf(stderr, "wrote %d bytes to socket\n", nwritten); tooptr += nwritten; if (tooptr == toiptr) &#123; toiptr = tooptr = to; if (stdineof) &#123; shutdown(sockfd, SHUT_WR); &#125; &#125; &#125; &#125; &#125; return ;&#125;/** * connectçš„éžé˜»å¡žç‰ˆæœ¬ * è¿žæŽ¥å»ºç«‹æˆåŠŸæ—¶ï¼Œæè¿°ç¬¦å˜ä¸ºå¯å†™ï¼›è¿žæŽ¥å»ºç«‹é”™è¯¯æ—¶ï¼Œæè¿°ç¬¦å˜ä¸ºå³å¯è¯»åˆå¯å†™ * ä¼˜ç‚¹ï¼š * 1ã€é˜»å¡žå¼çš„connectè°ƒç”¨ä¼šæ¶ˆè€—CPUæ—¶é—´ï¼Œéžé˜»å¡žå¼connectå¯ä»¥å……åˆ†åˆ©ç”¨CPUæ—¶é—´ï¼Œåœ¨ç­‰å¾…çš„è¿‡ç¨‹ä¸­å¯ä»¥å¤„ç†å…¶ä»–å·¥ä½œ * 2ã€å¯ä»¥åŒæ—¶å»ºç«‹å¤šä¸ªè¿žæŽ¥ï¼Œæµè§ˆå™¨ä¸­ä¼šç”¨åˆ°æ­¤æŠ€æœ¯ * 3ã€é˜»å¡žå¼connectçš„å‡½æ•°è¶…æ—¶è¿‡é•¿ï¼Œå¯ä»¥é€šè¿‡è¯¥å‡½æ•°è®¾ç½®è¶…æ—¶æ—¶é—´ * 4ã€é˜»å¡žå¼çš„å¥—æŽ¥å­—è°ƒç”¨connectæ—¶ï¼Œåœ¨TCPçš„ä¸‰æ¬¡æ¡æ‰‹å®Œæˆä¹‹å‰è¢«æŸäº›ä¿¡å·ä¸­æ–­æ—¶å¹¶ä¸”connectæœªè®¾ç½®å†…æ ¸è‡ªåŠ¨é‡å¯çš„æ ‡å¿—æ—¶ï¼Œconnectå°†è¿”å›žEINTRé”™è¯¯ * å½“å†æ¬¡è°ƒç”¨connectç­‰å¾…æœªå®Œæˆçš„è¿žæŽ¥æ—¶å°†ä¼šè¿”å›žEADDRINUSEé”™è¯¯ */int connect_nonb(int sockfd, const struct sockaddr *saptr, socklen_t salen, int nsec)&#123; // å°†å¥—æŽ¥å­—è®¾ç½®ä¸ºéžé˜»å¡žçŠ¶æ€ int flags = fcntl(sockfd, F_GETFL, 0); fcntl(sockfd, F_SETFL, flags | O_NONBLOCK); int error = 0; int n; if ((n = connect(sockfd, saptr, salen)) &lt; 0) &#123; // è¿žæŽ¥æœªæˆåŠŸå»ºç«‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹è¿”å›žEINPROGRESSé”™è¯¯ï¼Œè¡¨ç¤ºæ“ä½œæ­£åœ¨å¤„ç† if (errno != EINPROGRESS) &#123; // EINPROGRESSè¡¨ç¤ºè¿žæŽ¥å»ºç«‹å·²ç»å¯åŠ¨ï¼Œä½†æ˜¯å°šæœªå®Œæˆ return -1; &#125; &#125; else if (n == 0) &#123; // å½“æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨ä¸€å°ä¸»æœºä¸Šæ—¶ä¼šç«‹å³å»ºç«‹è¿žæŽ¥ goto done; &#125; // å½“ä»£ç æ‰§è¡Œåˆ°å¦‚ä¸‹è¿‡ç¨‹ä¸­æ—¶ï¼Œconnectæ­£åœ¨å»ºç«‹è¿žæŽ¥ï¼Œå¯ä»¥åœ¨æ­¤ä½ç½®æ‰§è¡Œä¸šåŠ¡ç›¸å…³ä»£ç  // å½“ç„¶çœŸæ­£ä½¿ç”¨æ—¶ï¼Œåœ¨æ­¤ä½ç½®åŠ å…¥å…¶ä»–ä»£ç å¹¶ä¸åˆé€‚ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µé‡æ–°è°ƒæ•´ä»£ç  // å¯ä»¥å‚ç…§ä¹¦ä¸­çš„webå®¢æˆ·ç¨‹åºä¾‹å­ fd_set rset, wset; FD_ZERO(&amp;rset); FD_SET(sockfd, &amp;rset); wset = rset; struct timeval tval; tval.tv_sec = nsec; tval.tv_usec = 0; if ((n = select(sockfd + 1, &amp;rset, &amp;wset, NULL, nsec ? &amp;tval : NULL)) == 0) &#123; // å‘ç”Ÿè¶…æ—¶ close(sockfd); errno = ETIMEDOUT; return -1; &#125; // å½“è¿žæŽ¥å»ºç«‹æˆåŠŸæ—¶sockfdå˜ä¸ºå¯å†™ï¼Œå½“è¿žæŽ¥å»ºç«‹å¤±è´¥æ—¶sockfdå˜ä¸ºå³å¯è¯»åˆå¯å†™ if (FD_ISSET(sockfd, &amp;rset) || FD_ISSET(sockfd, &amp;wset)) &#123; int len = sizeof(error); // éžå¯ç§»æ¤æ€§å‡½æ•°ï¼Œè¿žæŽ¥å»ºç«‹æˆåŠŸè¿”å›ž0ï¼Œè¿žæŽ¥å»ºç«‹å¤±è´¥å°†é”™è¯¯å€¼è¿”å›žç»™error // è¿žæŽ¥å»ºç«‹å¤±è´¥æ—¶ï¼Œæœ‰è¿”å›ž-1å’Œè¿”å›ž0çš„æƒ…å†µ if (getsockopt(sockfd, SOL_SOCKET, SO_ERROR, &amp;error, &amp;len) &lt; 0) &#123; // solarisè¿žæŽ¥å»ºç«‹å¤±è´¥è¿”å›ž-1 return -1; &#125; &#125; else &#123; printf("select error:sockfd not set"); exit(1); &#125;done: // æ¢å¤å¥—æŽ¥å­—çš„æ–‡ä»¶çŠ¶æ€æ ‡å¿— fcntl(sockfd, F_SETFL, flags); if (error) &#123; close(sockfd); errno = error; return -1; &#125; return 0;&#125;int main(int argc, char **argv)&#123; int sockfd; struct sockaddr_in servaddr; if (argc != 2) &#123; printf("usage: tcpcli &lt;IPaddress&gt;\n"); exit(1); &#125; // å½“ä¸€ä¸ªè¿›ç¨‹å‘æŸä¸ªæ”¶åˆ°RSTçš„å¥—æŽ¥å­—æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œå†…æ ¸ä¼šå‘è¯¥è¿›ç¨‹å‘é€ä¸€ä¸ªSIGPIPEä¿¡å· // æœ€å¥½çš„æ–¹å¼æ˜¯å¿½ç•¥æ­¤ä¿¡å·çš„å¤„ç†æ–¹å¼ï¼Œå¹¶åœ¨ç¨‹åºä¸‹é¢å¤„ç†è¯¥å¼‚å¸¸æƒ…å†µ signal(SIGPIPE, SIG_IGN); sockfd = socket(AF_INET, SOCK_STREAM, 0); bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_port = htons(SERV_PORT); inet_pton(AF_INET, argv[1], &amp;servaddr.sin_addr); //connect(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)); if (connect_nonb(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr), 50) &lt; 0) &#123; printf("socket connect error\n"); exit(1); &#125; str_cli(stdin, sockfd); /* do it all */ exit(0);&#125; TCPæœåŠ¡ç«¯ç¨‹åºæœåŠ¡å™¨ç¨‹åºè¦å¤„ç†å¤§é‡å¹¶å‘ï¼Œåœ¨è®¾è®¡æ—¶æ›´è¦æ³¨é‡æ•ˆçŽ‡ã€‚ forkç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123/** * forkç‰ˆæœ¬ * PPC(Process per Connection)æ¨¡åž‹ */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;signal.h&gt;#include &lt;strings.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */void sig_chld(int signo)&#123; if (signo != SIGIO) &#123; return; &#125; int stat; /* æ­¤å¤„ä¸å¯ä»¥ä½¿ç”¨waitå‡½æ•°ï¼Œå½“å¤šä¸ªSIGCHLDä¿¡å·åŒæ—¶å‘å‡ºæ—¶ä¼šå› ä¸ºä¿¡å·è¦†ç›–è€Œå‡ºçŽ°åƒµå°¸è¿›ç¨‹çš„æƒ…å†µ pid_t pid = wait(&amp;stat); printf("child %d terminated\n", pid); // éžå¼‚æ­¥ä¿¡å·å®‰å…¨å‡½æ•°ï¼Œæ­¤å¤„ä¸åº”è¯¥è°ƒç”¨ */ /* ä½¿ç”¨éžé˜»å¡žçš„å‚æ•°WNOHANGæ¥å¾ªçŽ¯å¤„ç†ä¿¡å·ï¼Œé¿å…ä¿¡å·ä¸¢å¤±é—®é¢˜ */ pid_t pid; while ((pid = waitpid(-1, &amp;stat, WNOHANG)) &gt; 0) &#123; printf("child %d terminated\n", pid); &#125;&#125;void str_echo(int sockfd)&#123; ssize_t n; char buf[MAXLINE];again: while ( (n = read(sockfd, buf, MAXLINE)) &gt; 0) &#123; write(sockfd, buf, n); &#125; if (n &lt; 0 &amp;&amp; errno == EINTR) goto again; else if (n &lt; 0) printf("str_echo: read error\n");&#125;/** * forkç‰ˆæœ¬ * ç¼ºç‚¹ï¼š * 1.forkéœ€è¦å°†çˆ¶è¿›ç¨‹çš„å†…å­˜æ˜ åƒå¤åˆ¶åˆ°å­è¿›ç¨‹ï¼Œå¹¶åœ¨å­è¿›ç¨‹ä¸­å¤åˆ¶æ‰€æœ‰çš„æè¿°ç¬¦ï¼Œå°½ç®¡çŽ°åœ¨çš„æ“ä½œç³»ç»Ÿå·²ç»éƒ½å®žçŽ°äº†å†™æ—¶å¤åˆ¶æŠ€æœ¯ï¼Œä½†æ˜¯è€—æ—¶ä»ç„¶æ¯”è¾ƒå¤š * 2.çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¹‹é—´éœ€è¦IPCæœºåˆ¶è¿›è¡Œé€šä¿¡ï¼Œä»Žå­è¿›ç¨‹è¿”å›žä¿¡æ¯åˆ°çˆ¶è¿›ç¨‹æ¯”è¾ƒéº»çƒ¦ */int main(int argc, char *argv[])&#123; signal(SIGCHLD, sig_chld); int listenfd, connfd; pid_t childpid; struct sockaddr_in cliaddr, servaddr; // socket listenfd = socket(AF_INET, SOCK_STREAM, 0); if (listenfd == -1) &#123; printf("socket error\n"); exit(1); &#125; // bind bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_addr.s_addr = htonl(INADDR_ANY); servaddr.sin_port = htons(SERV_PORT); if (bind(listenfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) == -1) &#123; printf("bind error\n"); exit(1); &#125; // listen // å¥—æŽ¥å­—æŽ’é˜Ÿçš„æœ€å¤§è¿žæŽ¥æ•°ä¸º20 if (listen(listenfd, 20) == -1) &#123; printf("listen error\n"); exit(1); &#125; for ( ; ; ) &#123; socklen_t clilen = sizeof(cliaddr); // å¤„ç†acceptè¢«ä¿¡å·ä¸­æ–­æ—¶è¿”å›žEINTRé”™è¯¯ if ((connfd = accept(listenfd, (struct sockaddr*)&amp;cliaddr, &amp;clilen)) &lt; 0) &#123; if (errno == EINTR) &#123; continue; &#125; else &#123; printf("accept error"); exit(1); &#125; &#125; if ((childpid = fork()) == 0) &#123; /* child process */ close(listenfd); /* close listening socket */ str_echo(connfd); /* process the request */ exit(0); &#125; close(connfd); /* parent closes connected socket */ &#125;&#125; selectç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144/** * selectç‰ˆæœ¬ * ç¼ºç‚¹ï¼š * 1. æœ‰æœ€å¤§å¹¶å‘æ•°é™åˆ¶ï¼Œä¸€ä¸ªè¿›ç¨‹æœ€å¤šæ‰“å¼€FD_SETSIZEä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ŒFD_SETSIZEå¾€å¾€æ˜¯1024æˆ–2048å­—èŠ‚ * 2. selectæ¯æ¬¡è°ƒç”¨éƒ½ä¼šçº¿æ€§æ‰«æå…¨éƒ¨çš„FDé›†åˆï¼Œè¿™æ ·æ•ˆçŽ‡å°±ä¼šå‘ˆçŽ°çº¿æ€§ä¸‹é™ï¼ŒæŠŠFD_SETSIZEæ”¹å¤§çš„åŽæžœå°±æ˜¯æ‰€æœ‰FDå¤„ç†éƒ½æ…¢æ…¢æ¥ * 3. å†…æ ¸/ç”¨æˆ·ç©ºé—´å†…å­˜æ‹·è´é—®é¢˜ï¼Œå†…æ ¸æŠŠFDæ¶ˆæ¯é€šçŸ¥ç»™ç”¨æˆ·ç©ºé—´é‡‡å–äº†å†…å­˜æ‹·è´æ–¹æ³• */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;signal.h&gt;#include &lt;sys/select.h&gt;#include &lt;strings.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length *//** * ä½¿ç”¨selectçš„éœ€è¦ç»´æŠ¤clientæ•°ç»„å’Œallsetçš„æè¿°ç¬¦é›† */int main(int argc, char *argv[])&#123; struct sockaddr_in cliaddr, servaddr; // socket int listenfd = socket(AF_INET, SOCK_STREAM, 0); if (listenfd == -1) &#123; printf("socket error\n"); exit(1); &#125; printf("finish socket...\n"); // bind bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_addr.s_addr = htonl(INADDR_ANY); servaddr.sin_port = htons(SERV_PORT); if (bind(listenfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) == -1) &#123; printf("bind error\n"); exit(1); &#125; printf("finish bind...\n"); // listen // å¥—æŽ¥å­—æŽ’é˜Ÿçš„æœ€å¤§è¿žæŽ¥æ•°ä¸º20 if (listen(listenfd, 20) == -1) &#123; printf("listen error\n"); exit(1); &#125; printf("finish listening...\n"); int maxfd = listenfd; int maxi = -1; int client[FD_SETSIZE]; for (int i=0; i&lt;FD_SETSIZE; i++) &#123; client[i] = -1; &#125; fd_set allset; FD_ZERO(&amp;allset); FD_SET(listenfd, &amp;allset); for ( ; ; ) &#123; fd_set rset = allset; int nready = select(maxfd + 1, &amp;rset, NULL, NULL, NULL); if (FD_ISSET(listenfd, &amp;rset)) &#123; // è®¾ç½®clientæ•°ç»„ socklen_t clilen = sizeof(cliaddr); // è°ƒç”¨selectæ—¶æœ‰ä¸ªé—®é¢˜ï¼Œè§ä¹¦ä¸­16.6èŠ‚ // å¦‚æžœè°ƒç”¨acceptæ—¶å®¢æˆ·ç«¯å·²ç»å…³é—­è¿žæŽ¥ï¼Œæ­¤æ—¶acceptä¼šé˜»å¡žå¹¶ç›´åˆ°æ–°çš„å®¢æˆ·ç«¯è¿žæŽ¥åˆ°æ¥ // ä¸ºäº†è§£å†³è¯¥é—®é¢˜å¯ä»¥å°†å¥—æŽ¥å­—è®¾ç½®ä¸ºéžé˜»å¡žå†è°ƒç”¨accept int connfd = accept(listenfd, (struct sockaddr*)&amp;cliaddr, &amp;clilen); printf("accept one client:%d...\n", connfd); int i = 0; for (; i&lt;FD_SETSIZE; i++) &#123; if (client[i] &lt; 0) &#123; client[i] = connfd; break; &#125; &#125; FD_SET(connfd, &amp;allset); if (i == FD_SETSIZE) &#123; printf("too many clients"); exit(-1); &#125; if (connfd &gt; maxfd) &#123; maxfd = connfd; &#125; if (i &gt; maxi) &#123; maxi = i; &#125; if (--nready &lt;= 0) &#123; continue; &#125; &#125; // æ£€æµ‹æ‰€æœ‰å®¢æˆ·ç«¯çš„æ•°æ® for (int i=0; i&lt;=maxi; i++) &#123; if (client[i] &lt; 0) &#123; continue; &#125; if (FD_ISSET(client[i], &amp;rset)) &#123; int n; char buf[MAXLINE]; printf("start reading form one client...\n"); if ((n = read(client[i], buf, MAXLINE)) == 0) &#123; close(client[i]); FD_CLR(client[i], &amp;allset); client[i] = -1; &#125; else &#123; write(client[i], buf, n); &#125; if (--nready &lt;= 0) &#123; break; &#125; &#125; &#125; &#125;&#125; pollç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146/** * pollç‰ˆæœ¬ * pollç‰ˆæœ¬çš„è§£å†³äº†selectæ–‡ä»¶æè¿°ç¬¦é™åˆ¶é—®é¢˜ï¼Œä½†æ˜¯ä»ç„¶å…·å¤‡selectçš„ç¼ºç‚¹ä¸­çš„2å’Œ3 */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;signal.h&gt;#include &lt;strings.h&gt;#include &lt;poll.h&gt;#include &lt;stropts.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */#define OPEN_MAX 1024 // è¯¥å®å·²ç»ä»Žlimit.hä¸­ç§»é™¤ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æè¿°ç¬¦æ•°ç›®/** * ä½¿ç”¨selectçš„ç¼ºç‚¹ä¸ºéœ€è¦ç»´æŠ¤clientæ•°ç»„ */int main(int argc, char *argv[])&#123; struct sockaddr_in cliaddr, servaddr; // socket int listenfd = socket(AF_INET, SOCK_STREAM, 0); if (listenfd == -1) &#123; printf("socket error\n"); exit(1); &#125; printf("finish socket...\n"); // bind bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_addr.s_addr = htonl(INADDR_ANY); servaddr.sin_port = htons(SERV_PORT); if (bind(listenfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) == -1) &#123; printf("bind error\n"); exit(1); &#125; printf("finish bind...\n"); // listen // å¥—æŽ¥å­—æŽ’é˜Ÿçš„æœ€å¤§è¿žæŽ¥æ•°ä¸º20 if (listen(listenfd, 20) == -1) &#123; printf("listen error\n"); exit(1); &#125; printf("finish listening...\n"); struct pollfd client[OPEN_MAX]; client[0].fd = listenfd; client[0].events = POLLIN; for (int i=1; i&lt;OPEN_MAX; i++) &#123; client[i].fd = -1; &#125; int maxi = 0; // å½“å‰clientæ­£åœ¨ä½¿ç”¨çš„æœ€å¤§ä¸‹æ ‡ for ( ; ; ) &#123; int nready = poll(client, maxi + 1, -1); if (client[0].revents &amp; POLLIN) &#123; // è®¾ç½®clientæ•°ç»„ socklen_t clilen = sizeof(cliaddr); int connfd = accept(listenfd, (struct sockaddr*)&amp;cliaddr, &amp;clilen); printf("accept one client:%d...\n", connfd); int i = 1; for (; i&lt;OPEN_MAX; i++) &#123; if (client[i].fd &lt; 0) &#123; client[i].fd = connfd; break; &#125; &#125; if (i == OPEN_MAX) &#123; printf("too many clients"); exit(-1); &#125; client[i].events = POLLIN; if (i &gt; maxi) &#123; maxi = i; &#125; if (--nready &lt;= 0) &#123; continue; &#125; &#125; // æ£€æµ‹æ‰€æœ‰å®¢æˆ·ç«¯çš„æ•°æ® for (int i=0; i&lt;=maxi; i++) &#123; if (client[i].fd &lt; 0) &#123; continue; &#125; if (client[i].revents &amp; (POLLIN | POLLERR)) &#123; int n; char buf[MAXLINE]; printf("start reading form one client...\n"); if ((n = read(client[i].fd, buf, MAXLINE)) &lt; 0) &#123; if (errno == ECONNRESET) &#123; close(client[i].fd); client[i].fd = -1; &#125; else &#123; printf("read client error\n"); exit(-1); &#125; &#125; else if (n == 0) &#123; printf("client %d close\n", client[i].fd); close(client[i].fd); client[i].fd = -1; &#125; else &#123; write(client[i].fd, buf, n); &#125; if (--nready &lt;= 0) &#123; break; &#125; &#125; &#125; &#125;&#125; å¤šçº¿ç¨‹ç‰ˆæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899/** * å¤šçº¿ç¨‹ç‰ˆæœ¬ * TPC(Thread Per Connection)æ¨¡åž‹ * çº¿ç¨‹çš„å¼€é”€è™½ç„¶æ¯”è¿›ç¨‹å°ï¼Œä½†æ˜¯ä»ç„¶æœ‰æ¯”è¾ƒå¤§å¼€é”€ï¼Œå› æ­¤å¹¶å‘æ•°ä¸æ˜¯å¾ˆé«˜ */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;signal.h&gt;#include &lt;strings.h&gt;#include &lt;pthread.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */void str_echo(int sockfd)&#123; ssize_t n; char buf[MAXLINE];again: while ( (n = read(sockfd, buf, MAXLINE)) &gt; 0) &#123; write(sockfd, buf, n); &#125; if (n &lt; 0 &amp;&amp; errno == EINTR) goto again; else if (n &lt; 0) printf("str_echo: read error\n");&#125;static void *doit(void *arg)&#123; pthread_detach(pthread_self()); str_echo((int)arg); close((int)arg); printf("close socket...\n"); return NULL;&#125;int main(int argc, char *argv[])&#123; int listenfd, connfd; struct sockaddr_in cliaddr, servaddr; // socket listenfd = socket(AF_INET, SOCK_STREAM, 0); if (listenfd == -1) &#123; printf("socket error\n"); exit(1); &#125; // bind bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_addr.s_addr = htonl(INADDR_ANY); servaddr.sin_port = htons(SERV_PORT); if (bind(listenfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) == -1) &#123; printf("bind error\n"); exit(1); &#125; // listen // å¥—æŽ¥å­—æŽ’é˜Ÿçš„æœ€å¤§è¿žæŽ¥æ•°ä¸º20 if (listen(listenfd, 20) == -1) &#123; printf("listen error\n"); exit(1); &#125; for ( ; ; ) &#123; socklen_t clilen = sizeof(cliaddr); // å¤„ç†acceptè¢«ä¿¡å·ä¸­æ–­æ—¶è¿”å›žEINTRé”™è¯¯ if ((connfd = accept(listenfd, (struct sockaddr*)&amp;cliaddr, &amp;clilen)) &lt; 0) &#123; if (errno == EINTR) &#123; continue; &#125; else &#123; printf("accept error"); exit(1); &#125; &#125; printf("receive new client...\n"); pthread_t tid; pthread_create(&amp;tid, NULL, &amp;doit, (void *)connfd); &#125;&#125; UDPç”±äºŽudpæ¯”è¾ƒç®€å•ï¼Œä¹¦ä¸­å¹¶æœªå°†udpåè®®å½“åšé‡ç‚¹æ¥è®²è§£ã€‚ UDPå®¢æˆ·ç«¯ç¨‹åº12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;signal.h&gt;#include &lt;strings.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */// sendtoã€recvfromæ–¹å¼void dg_cli(FILE *fp, int sockfd, const struct sockaddr *pservaddr, socklen_t servlen)&#123; char sendline[MAXLINE], recvline[MAXLINE + 1]; struct sockaddr *preply_addr = (struct sockaddr *)malloc(servlen); while (fgets(sendline, MAXLINE, fp) != NULL) &#123; sendto(sockfd, sendline, strlen(sendline), 0, pservaddr, servlen); int len = servlen; int n = recvfrom(sockfd, recvline, MAXLINE, 0, preply_addr, &amp;len); // ä¸ºäº†é˜²æ­¢æŽ¥æ”¶åˆ°å…¶ä»–è¿›ç¨‹çš„æ•°æ®ï¼Œé€šè¿‡æ¡ä»¶åˆ¤æ–­åŽ»é™¤ if (len != servlen || memcmp(pservaddr, preply_addr, len) != 0) &#123; printf("reply from others (!ignore)\n"); continue; &#125; recvline[n] = 0; fputs(recvline, stdout); &#125;&#125;// connectã€writeã€readæ–¹å¼void dg_cli2(FILE *fp, int sockfd, const struct sockaddr *pservaddr, socklen_t servlen)&#123; char sendline[MAXLINE], recvline[MAXLINE + 1]; connect(sockfd, (struct sockaddr *)pservaddr, servlen); while (fgets(sendline, MAXLINE, fp) != NULL) &#123; write(sockfd, sendline, strlen(sendline)); int n = read(sockfd, recvline, MAXLINE); recvline[n] = 0; fputs(recvline, stdout); &#125;&#125;int main(int argc, char *argv[])&#123; if (argc != 2) &#123; printf("usage: tcpcli &lt;IPaddress&gt;\n"); exit(1); &#125; struct sockaddr_in servaddr; bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_port = htons(SERV_PORT); inet_pton(AF_INET, argv[1], &amp;servaddr.sin_addr); int sockfd = socket(AF_INET, SOCK_DGRAM, 0); dg_cli2(stdin, sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)); exit(0);&#125; UDPæœåŠ¡ç«¯ç¨‹åº12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;signal.h&gt;#include &lt;strings.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */void dg_echo(int sockfd, struct sockaddr *pcliaddr, socklen_t clilen)&#123; char mesg[MAXLINE]; for (;;) &#123; socklen_t len = clilen; int n; bzero(mesg, MAXLINE); if ((n = recvfrom(sockfd, mesg, MAXLINE, 0, pcliaddr, &amp;len)) &lt; 0) &#123; close(sockfd); printf("recvfrom error, error=%m\n"); exit(1); &#125; printf("recv %s\n", mesg); sendto(sockfd, mesg, n, 0, pcliaddr, len); &#125;&#125;int main(int argc, char *argv[])&#123; int sockfd = socket(AF_INET, SOCK_DGRAM, 0); struct sockaddr_in servaddr, cliaddr; bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_addr.s_addr = htonl(INADDR_ANY); servaddr.sin_port = htons(SERV_PORT); if (bind(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) &lt; 0) &#123; printf("bind error\n"); exit(1); &#125; dg_echo(sockfd, (struct sockaddr*)&amp;cliaddr, sizeof(cliaddr));&#125; UDPæœåŠ¡ç«¯ä¿¡å·é©±åŠ¨å¼I/Oç‰ˆæœ¬ä¿¡å·é©±åŠ¨å¼I/Oï¼šè¿›ç¨‹æ‰§è¡ŒI/Oç³»ç»Ÿè°ƒç”¨å‘ŠçŸ¥å†…æ ¸å¯åŠ¨æŸä¸ªI/Oæ“ä½œï¼Œå†…æ ¸å¯åŠ¨I/Oæ“ä½œåŽç«‹å³è¿”å›žåˆ°è¿›ç¨‹ã€‚è¿›ç¨‹åœ¨I/Oæ“ä½œå‘ç”ŸæœŸé—´ç»§ç»­æ‰§è¡Œã€‚å½“æ“ä½œå®Œæˆæˆ–é‡åˆ°é”™è¯¯æ—¶ï¼Œå†…æ ¸ä»¥è¿›ç¨‹åœ¨I/Oç³»ç»Ÿè°ƒç”¨ä¸­æŒ‡å®šçš„æ–¹å¼é€šçŸ¥è¿›ç¨‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159/** * ä¿¡å·é©±åŠ¨å¼I/Oåœ¨TCPå¥—æŽ¥å­—ç”¨é€”ä¸å¤§ï¼Œè¯¥ä¿¡å·äº§ç”Ÿçš„è¿‡äºŽé¢‘ç¹ï¼Œå®ƒçš„å‡ºçŽ°å¹¶æœªæŒ‡ç¤ºå‘ç”Ÿçš„äº‹æƒ… */#include &lt;unistd.h&gt;#include &lt;errno.h&gt;#include &lt;sys/types.h&gt;#include &lt;netinet/in.h&gt;#include &lt;sys/socket.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;signal.h&gt;#include &lt;strings.h&gt;#include &lt;fcntl.h&gt;#define SERV_PORT 9877#define MAXLINE 4096 /* max text line length */static int sockfd;#define MAXDG 4096typedef struct&#123; void *dg_data; // å®žé™…æ•°æ® size_t dg_len; // å®žé™…æ•°æ®é•¿åº¦ struct sockaddr *dg_sa; // åŒ…å«å®¢æˆ·ç«¯åœ°å€ socklen_t dg_salen; // å®¢æˆ·ç«¯åœ°å€é•¿åº¦&#125; DG;#define QSIZE 8static DG dg[QSIZE]; // å­˜æ”¾æ•°æ®çš„çŽ¯å½¢ç¼“å†²åŒºstatic long cntread[QSIZE + 1];// éœ€è¦å¤„ç†çš„ä¸‹ä¸€ä¸ªæ•°æ®å…ƒç´ çš„ä¸‹æ ‡static int iget;// å­˜æ”¾æ•°æ®å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®static int iput;static int nqueue; // é˜Ÿåˆ—ä¸­çš„æ•°æ®ä¸ªæ•°static socklen_t clilen;static void sig_hup(int signo)&#123; int i=0; for (; i &lt;= QSIZE; i++) &#123; printf("cntread[%d = %ld\n", i, cntread[i]); &#125;&#125;static void sig_io(int signo)&#123; int nread; // ä¸ºäº†è§£å†³éžå®žæ—¶ä¿¡å·ä¸æŽ’é˜Ÿé—®é¢˜ï¼Œé‡‡ç”¨å¾ªçŽ¯è¯»å–æ–¹å¼ for (nread = 0; ; ) &#123; // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ if (nread &gt;= QSIZE) &#123; printf("receive overflow\n"); exit(1); &#125; DG *ptr = &amp;dg[iput]; ptr-&gt;dg_salen = clilen; ssize_t len = recvfrom(sockfd, ptr-&gt;dg_data, MAXDG, 0, ptr-&gt;dg_sa, &amp;ptr-&gt;dg_salen); if (len &lt; 0) &#123; if (errno == EWOULDBLOCK) &#123; break; &#125; else &#123; printf("recvfrom error\n"); exit(1); &#125; &#125; ptr-&gt;dg_len = len; nread++; nqueue++; if (++iput &gt;= QSIZE) &#123; iput = 0; &#125; &#125; cntread[nread]++;&#125;void dg_echo(int sockfd_arg, struct sockaddr *pcliaddr, socklen_t clilen_arg)&#123; sockfd = sockfd_arg; clilen = clilen_arg; int i = 0; for (; i&lt;QSIZE; i++) &#123; dg[i].dg_data = malloc(MAXDG); dg[i].dg_sa = (struct sockaddr *)malloc(clilen); dg[i].dg_salen = clilen; &#125; iget = iput = nqueue = 0; signal(SIGHUP, sig_hup); // åœ¨å¯åŠ¨ä¿¡å·I/Oå‰è®¾ç½®ä¿¡å·å¤„ç†å‡½æ•° signal(SIGIO, sig_io); // è®¾ç½®æŽ¥æ”¶ä¿¡å·é€šçŸ¥çš„è¿›ç¨‹ï¼Œè®©æœ¬è¿›ç¨‹æŽ¥æ”¶SIGIOä¿¡å· fcntl(sockfd, F_SETOWN, getpid()); // ä¸ºäº†èƒ½å¤Ÿåœ¨å¾—åˆ°I/Oäº‹ä»¶åŽé‡å¤æ‰§è¡ŒI/Oæ“ä½œï¼Œéœ€è¦å°†æ–‡ä»¶æè¿°ç¬¦è®¾ç½®ä¸ºéžé˜»å¡žæ–¹å¼ // O_ASYNCè¡¨ç¤ºåœ¨æ–‡ä»¶æè¿°ç¬¦ä¸Šä½¿ç”¨ä¿¡å·é©±åŠ¨I/O int flags = fcntl(sockfd, F_GETFL); fcntl(sockfd, F_SETFL, flags | O_ASYNC | O_NONBLOCK); sigset_t zeromask, newmask, oldmask; sigemptyset(&amp;zeromask); sigemptyset(&amp;newmask); sigemptyset(&amp;oldmask); // è®¾ç½®æ–°çš„ä¿¡å·æŽ©ç ï¼Œé˜»å¡žSIGIOä¿¡å· sigaddset(&amp;newmask, SIGIO); sigprocmask(SIG_BLOCK, &amp;newmask, &amp;oldmask); for (; ;) &#123; while (nqueue == 0) &#123; // æŒ‚èµ·è¿›ç¨‹ç›´åˆ°æ”¶åˆ°ä»»ä½•ä¿¡å·ï¼Œè¯¥å‡½æ•°è¿”å›žåŽSIGIOç»§ç»­è¢«é˜»å¡ž sigsuspend(&amp;zeromask); &#125; // è§£é™¤SIGIOçš„é˜»å¡ž sigprocmask(SIG_SETMASK, &amp;oldmask, NULL); sendto(sockfd, dg[iget].dg_data, dg[iget].dg_len, 0, dg[iget].dg_sa, dg[iget].dg_salen); if (++iget &gt;= QSIZE) &#123; iget = 0; &#125; // ä¸ºäº†èƒ½å¤Ÿä¿®æ”¹nqueueçš„å€¼ï¼Œé˜»å¡žSIGIOä¿¡å· sigprocmask(SIG_BLOCK, &amp;newmask, &amp;oldmask); nqueue--; &#125;&#125;int main(int argc, char *argv[])&#123; int sockfd = socket(AF_INET, SOCK_DGRAM, 0); struct sockaddr_in servaddr, cliaddr; bzero(&amp;servaddr, sizeof(servaddr)); servaddr.sin_family = AF_INET; servaddr.sin_addr.s_addr = htonl(INADDR_ANY); servaddr.sin_port = htons(SERV_PORT); if (bind(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr)) &lt; 0) &#123; printf("bind error\n"); exit(1); &#125; dg_echo(sockfd, (struct sockaddr*)&amp;cliaddr, sizeof(cliaddr)); return 1;&#125; ç›¸å…³ä¸‹è½½æœ¬æ–‡ä¸­çš„å®žä¾‹ï¼Œä»£ç é‡‡ç”¨eclipse CDTç¼–å†™ï¼Œå¯ä»¥ç›´æŽ¥å¯¼å…¥eclipseä¸­è¿è¡Œã€‚ ä¸‹è½½å®žä¾‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[é€šè¿‡pythonæ¥æŠ“å–å’Œè§£æžç½‘é¡µå†…å®¹]]></title>
      <url>%2Fpost%2Fpython_parse_web%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘è¿™æ®µæ—¶é—´å›žé¡¾äº†ä¸‹pythonï¼Œè·ç¦»ä¸Šæ¬¡ä½¿ç”¨pythonå·²ç»è¶…è¿‡ä¸¤å¹´çš„æ—¶é—´äº†ã€‚ ç›¸å¯¹äºŽc++è¯­è¨€ï¼Œpythonè¦çµæ´»è®¸å¤šï¼Œå¯¹äºŽå·¥ä½œä¸­çš„ä¸€äº›å°é—®é¢˜çš„è§£å†³å¯ä»¥é€šè¿‡pythonæ¥å®žçŽ°æ¯”è¾ƒé«˜æ•ˆå’Œæ–¹ä¾¿ï¼Œæ¯”å¦‚ç½‘é¡µçš„æŠ“å–å’Œè§£æžã€‚ç”šè‡³å¯¹äºŽéžITçš„å·¥ä½œï¼Œä¹Ÿå¯ä»¥é€šè¿‡è„šæœ¬çš„æ–¹å¼æ¥è§£å†³ï¼Œåªè¦æ˜¯å·¥ä½œä¸­é‡åˆ°åå¤å¤„ç†çš„ä½“åŠ›æ´»åŠ³åŠ¨å°±å¯ä»¥è€ƒè™‘åˆ©ç”¨ç¼–ç¨‹æ–¹å¼æ¥è§£å†³ã€‚ æœ¬æ–‡ä»¥æˆ‘çš„åšå®¢çš„æ–‡æ¡£åˆ—è¡¨é¡µé¢ä¸ºä¾‹ï¼Œåˆ©ç”¨pythonå¯¹é¡µé¢ä¸­çš„æ–‡ç« åè¿›è¡Œæå–ã€‚ æ–‡ç« åˆ—è¡¨é¡µä¸­çš„æ–‡ç« åˆ—è¡¨éƒ¨åˆ†çš„urlå¦‚ä¸‹ï¼š 1234567&lt;ul class="listing"&gt; &lt;li class="listing-item"&gt;&lt;span class="date"&gt;2014-12-03&lt;/span&gt;&lt;a href="/post/linux_funtion_advance_feature" title="Linuxå‡½æ•°é«˜çº§ç‰¹æ€§" &gt;Linuxå‡½æ•°é«˜çº§ç‰¹æ€§&lt;/a&gt; &lt;/li&gt; &lt;li class="listing-item"&gt;&lt;span class="date"&gt;2014-12-02&lt;/span&gt;&lt;a href="/post/cgdb" title="cgdbçš„ä½¿ç”¨" &gt;cgdbçš„ä½¿ç”¨&lt;/a&gt; &lt;/li&gt;...&lt;/ul&gt; requestsæ¨¡å—çš„å®‰è£…requestsæ¨¡å—ç”¨äºŽåŠ è½½è¦è¯·æ±‚çš„webé¡µé¢ã€‚ åœ¨pythonçš„å‘½ä»¤è¡Œä¸­è¾“å…¥import requestsï¼ŒæŠ¥é”™è¯´æ˜Žrequestsæ¨¡å—æ²¡æœ‰å®‰è£…ã€‚ æˆ‘è¿™é‡Œæ‰“ç®—é‡‡ç”¨easy_installçš„åœ¨çº¿å®‰è£…æ–¹å¼å®‰è£…ï¼Œå‘çŽ°ç³»ç»Ÿä¸­å¹¶ä¸å­˜åœ¨easy_installå‘½ä»¤ï¼Œè¾“å…¥sudo apt-get install python-setuptoolsæ¥å®‰è£…easy_installå·¥å…·ã€‚ æ‰§è¡Œsudo easy_install requestså®‰è£…requestsæ¨¡å—ã€‚ Beautiful Soupå®‰è£…ä¸ºäº†èƒ½å¤Ÿå¯¹é¡µé¢ä¸­çš„å†…å®¹è¿›è¡Œè§£æžï¼Œæœ¬æ–‡ä½¿ç”¨Beautiful Soupã€‚å½“ç„¶ï¼Œæœ¬æ–‡çš„ä¾‹å­éœ€æ±‚è¾ƒç®€å•ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨åˆ†æžå­—ç¬¦ä¸²çš„æ–¹å¼ã€‚ æ‰§è¡Œsudo easy_install beautifulsoup4å³å¯å®‰è£…ã€‚ ç¼–ç é—®é¢˜pythonçš„ç¼–ç é—®é¢˜ç¡®å®žæ˜¯ä¸€ä¸ªå¾ˆå¤´å¤§çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯å¯¹äºŽä¸ç†Ÿæ‚‰pythonçš„èœé¸Ÿã€‚ pythonè‡ªèº«çš„ç¼–ç é—®é¢˜å°±å·²ç»å¤Ÿå¤´å¤§çš„äº†ï¼Œç¢°å·§requestsæ¨¡å—ä¹Ÿæœ‰ä¸€ä¸ªç¼–ç é—®é¢˜çš„bugï¼Œå…·ä½“çš„bugè§å‚è€ƒæ–‡ç« ã€‚ ä»£ç 1234567891011121314151617181920212223242526272829303132#!/usr/bin/env python # -*- coding: utf-8 -*-' a http parse test programe '__author__ = 'kuring lv'import requestsimport bs4archives_url = "http://kuring.me/archive"def start_parse(url) : print "å¼€å§‹èŽ·å–(%s)å†…å®¹" % url response = requests.get(url) print "èŽ·å–ç½‘é¡µå†…å®¹å®Œæ¯•" soup = bs4.BeautifulSoup(response.content.decode("utf-8")) #soup = bs4.BeautifulSoup(response.text); # ä¸ºäº†é˜²æ­¢æ¼æŽ‰è°ƒç”¨closeæ–¹æ³•ï¼Œè¿™é‡Œä½¿ç”¨äº†withè¯­å¥ # å†™å…¥åˆ°æ–‡ä»¶ä¸­çš„ç¼–ç ä¸ºutf-8 with open('archives.txt', 'w') as f : for archive in soup.select("li.listing-item a") : f.write(archive.get_text().encode('utf-8') + "\n") print archive.get_text().encode('utf-8')# å½“å‘½ä»¤è¡Œè¿è¡Œè¯¥æ¨¡å—æ—¶ï¼Œ__name__ç­‰äºŽ'__main__'# å…¶ä»–æ¨¡å—å¯¼å…¥è¯¥æ¨¡å—æ—¶ï¼Œ__name__ç­‰äºŽ'parse_html'if __name__ == '__main__' : start_parse(archives_url) å‚è€ƒæ–‡ç«  å»–é›ªå³°çš„pythonæ•™ç¨‹ Beautiful Soup 4.2.0 æ–‡æ¡£ ä½¿ç”¨ Python è½»æ¾æŠ“å–ç½‘é¡µ Python+RequestsæŠ“å–ä¸­æ–‡ä¹±ç æ”¹è¿›æ–¹æ¡ˆ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æˆ‘çš„Makefileæ–‡ä»¶]]></title>
      <url>%2Fpost%2Fmy_makefile%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘å­¦ä¹ äº†ã€ŠGNU Makeé¡¹ç›®ç®¡ç†ã€‹ï¼Œæ”¹è¿›äº†æˆ‘ä¹‹å‰ä¸€ç›´åœ¨ç”¨çš„Makefileæ–‡ä»¶ï¼Œè§£å†³æˆ‘ä¹‹å‰çš„Makefileä¸­ä¸€ç›´å­˜åœ¨çš„ä¿®æ”¹ä¾èµ–å¤´æ–‡ä»¶åŽä¸èƒ½è‡ªåŠ¨ç¼–è¯‘cppæ–‡ä»¶çš„é—®é¢˜ã€‚æœ¬æ–‡åˆ—ä¸¾äº†æˆ‘å¸¸ç”¨çš„ä¸¤ä¸ªMakefileæ–‡ä»¶ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªä¸ºæˆ‘å¸¸ç”¨çš„Makefileï¼Œç¬¬äºŒä¸ªä¸ºä»Žç½‘ä¸Šæ‰¾åˆ°çš„å…¶ä»–Makefileæ–‡ä»¶ã€‚ ç¬¬ä¸€ä¸ªMakefile123456789101112131415161718192021222324252627282930313233343536373839404142434445464748all:INCLUDE = -I./FLAGS = -g -Wall $(INCLUDE)FLAGS += -fPICLIBDIR = -lz -lm -lcryptoLINK = $(LIBDIR) -lpthreadGCC = g++# for C++ languageCODE.cpp = main.cpp \ trim.cppCPP.o = $(CODE.cpp:.cpp=.o)OBJS.d = $(CODE.cpp:.cpp=.d)OBJS.o = $(CPP.o)# è§£å†³å¤´æ–‡ä»¶ä¾èµ–-include $(subst .cpp,.d,$(CODE.cpp))%.d: %.cpp $(GCC) -M $(FLAGS) $&lt; &gt; $@.$$$$; \ sed 's,\($*\)\.o[ :]*,\1.o $@ : ,g' &lt; $@.$$$$ &gt; $@; \ rm -f $@.$$$$# rule for C++ language%.o : %.cpp $(GCC) $(FLAGS) -o $@ -c $&lt; @echo $*.o build successfully!......TARGET = main $(TARGET) : $(OBJS.o) $(GCC) $(OBJS.o) -o $(TARGET) $(LINK) @echo $(TARGET) BUILD OK!.........all : $(TARGET).PHONY:clean: rm -rf $(TARGET) rm -rf $(OBJS.o) rm -rf $(OBJS.d) rm -rf *.d è¯¥æ–‡ä»¶ç‰¹ç‚¹ä¸ºéœ€è¦æ‰‹å·¥å°†éœ€è¦ç¼–è¯‘çš„æºæ–‡ä»¶æ‰‹åŠ¨æ·»åŠ åˆ°Makefileä¸­ï¼Œå¯èƒ½æ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯ç¼–è¯‘æ—¶æ¯”è¾ƒçµæ´»ã€‚å¯ä»¥éšæ„ä¿®æ”¹éœ€è¦ç¼–è¯‘æºæ–‡ä»¶çš„é¡ºåºå’Œæ˜¯å¦éœ€è¦ç¼–è¯‘æºæ–‡ä»¶ã€‚ ç¬¬äºŒä¸ªMakefile1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495############################################################# KEFILE FOR C/C++ PROJECT# Author: swm8023 &lt;swm8023@gmail.com&gt;# Date: 2014/01/30############################################################.PHONY: all cleanall: # annotation when release versionDEBUG := yTARGET_PROG := main# project directory DEBUG_DIR := ./DebugRELEASE_DIR := ./ReleaseBIN_DIR := $(if $(DEBUG), $(DEBUG_DIR), $(RELEASE_DIR))# shell commandCC := gccCXX := g++RM := rm -rfMKDIR := mkdir -pSED := sedMV := mv# init sources &amp; objects &amp; dependssources_all := $(shell find . -name "*.c" -o -name "*.cpp" -o -name "*.h")sources_c := $(filter %.c, $(sources_all))sources_cpp := $(filter %.cpp, $(sources_all))sources_h := $(filter %.h, $(sources_all))objs := $(addprefix $(BIN_DIR)/,$(strip $(sources_cpp:.cpp=.o) $(sources_c:.c=.o)))deps := $(addprefix $(BIN_DIR)/,$(strip $(sources_cpp:.cpp=.d) $(sources_c:.c=.d)))# create directory$(foreach dirname,$(sort $(dir $(sources_c) $(sources_cpp))),\ $(shell $(MKDIR) $(BIN_DIR)/$(dirname)))# complie &amp; link variableCFLAGS := $(if $(DEBUG),-g -O, -O2)CFLAGS += $(addprefix -I ,$(sort $(dir $(sources_h))))CXXFLAGS = $(CFLAGS)LDFLAGS := LOADLIBES += #-L/usr/include/mysqlLDLIBS += #-lpthread -lmysqlclient# add vpathvpath %.h $(sort $(dir $(sources_h)))vpath %.c $(sort $(dir $(sources_c)))vpath %.cpp $(sort $(dir $(sources_cpp)))# generate depend files# actually generate after object generated, beacasue it only used when next make)ifneq "$(MAKECMDGOALS)" "clean"sinclude $(deps)endif# make-depend(depend-file,source-file,object-file,cc)define make-depend $(RM) $1; \ $4 $(CFLAGS) -MM $2 | \ $(SED) 's,\($(notdir $3)\): ,$3: ,' &gt; $1.tmp; \ $(SED) -e 's/#.*//' \ -e 's/^[^:]*: *//' \ -e 's/ *\\$$//' \ -e '/^$$/ d' \ -e 's/$$/ :/' &lt; $1.tmp &gt;&gt; $1.tmp; \ $(MV) $1.tmp $1;endef# rules to generate objects file$(BIN_DIR)/%.o: %.c @$(call make-depend,$(patsubst %.o,%.d,$@),$&lt;,$@,$(CC)) $(CC) $(CFLAGS) -o $@ -c $&lt;$(BIN_DIR)/%.o: %.cpp @$(call make-depend,$(patsubst %.o,%.d,$@),$&lt;,$@,$(CXX)) $(CXX) $(CXXFLAGS) -o $@ -c $&lt;# add-target(target,objs,cc)define add-target REAL_TARGET += $(BIN_DIR)/$1 $(BIN_DIR)/$1: $2 $3 $(LDFLAGS) $$^ $(LOADLIBES) $(LDLIBS) -o $$@endef# call add-target$(foreach targ,$(TARGET_PROG),$(eval $(call add-target,$(targ),$(objs),$(CXX))))all: $(REAL_TARGET) $(TARGET_LIBS)clean: $(RM) $(BIN_DIR) è¯¥Makefileä¸ºä»Žä¸€ä¸ªé€šç”¨çš„C/C++ Makefileä¸­ç›´æŽ¥èŽ·å¾—çš„ï¼Œä¸ºäº†é¿å…åŽŸåšå®¢ä»¥åŽä¸èƒ½è®¿é—®çš„æƒ…å†µï¼Œè¿™é‡Œå¤‡ä»½ä¸€ä¸‹ã€‚ è¯¥Makefileå¯ä»¥åŠ¨æ£€æµ‹Makefileæ‰€åœ¨ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„.cå’Œ.cppæ–‡ä»¶ï¼Œå¹¶è¿›è¡Œç¼–è¯‘ï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹Makefileæ¥å¡«å†™éœ€è¦ç¼–è¯‘çš„æºæ–‡ä»¶ï¼Œæ¯”è¾ƒè‡ªåŠ¨åŒ–ã€‚ ç›¸å…³å‚è€ƒç¬¬äºŒä¸ªMakefileæ–‡ä»¶çš„ä½œè€…åšå®¢ä¸­çš„ä¸¤ç¯‡æ–‡ç« ï¼šGNU Makeå­¦ä¹ æ€»ç»“ï¼ˆä¸€ï¼‰å’ŒGNU Makeå­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰ ç›¸å…³ä¸‹è½½ä¸€ä¸ªåŒ…å«ä¸Šè¿°ä¸¤ä¸ªMakefileçš„ä¾‹å­]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ç¼–ç¨‹ç çŽ‘è¯»ä¹¦ç¬”è®°ç¬¬1ç« å¼€ç¯‡]]></title>
      <url>%2Fpost%2Fprogramming_pearls_1%2F</url>
      <content type="text"><![CDATA[é—®é¢˜æè¿°ä¸€ä¸ªæœ€å¤šåŒ…å«nä¸ªæ­£æ•´æ•°çš„æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°å°äºŽnï¼Œå…¶ä¸­nä¸º10000000ã€‚è¦æ±‚å‡åºæŽ’åˆ—æ•´æ•°åˆ—è¡¨ï¼Œæœ€å¤šä½¿ç”¨1MBçš„å†…å­˜ï¼Œè¿è¡Œæ—¶é—´å°½å¯èƒ½çŸ­ã€‚ ä»£ç å®žçŽ°12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;stdio.h&gt; #include &lt;stdlib.h&gt;#define BITSPERWORD 32#define SHIFT 5#define MASK 0x1F#define N 10000000int a[1 + N/BITSPERWORD] = &#123;0&#125;;/** * i&gt;&gt;SHIFTç›¸å½“äºŽi/32ï¼Œç”¨äºŽç¡®å®šiåœ¨ç¬¬å‡ ä¸ªintæ•°ç»„ä¸­ * å…¶ä¸­i&amp;MASKå«ä¹‰ä¸ºi%32ï¼Œç”¨äºŽç¡®å®šåœ¨intä¸­çš„ç¬¬å‡ ä½ */void set(int i)&#123; a[i &gt;&gt; SHIFT] |= (1 &lt;&lt; (i &amp; MASK));&#125;void clr(int i)&#123; a[i &gt;&gt; SHIFT] &amp;= (0 &lt;&lt; (i &amp; MASK));&#125;int test(int i)&#123; return a[i &gt;&gt; SHIFT] &amp; (1 &lt;&lt; (i &amp; MASK));&#125;int main(void)&#123; int i; while (scanf("%d", &amp;i) != EOF) &#123; set(i); &#125; for (i=0; i&lt;N; i++) &#123; if (test(i)) &#123; printf("%d\n", i); &#125; &#125; return 0;&#125;` ä¹ é¢˜5é€šè¿‡shellå‘½ä»¤echo &quot;scale=2; 10000000 / 1024 / 8 / 1024.0&quot; | bcè®¡ç®—è¯¥ç¨‹åºè¿è¡Œæ—¶è‡³å°‘éœ€è¦çš„å­˜å‚¨ç©ºé—´ä¸º1.19MBï¼Œå¦‚æžœä»…æä¾›äº†1MBçš„å­˜å‚¨ç©ºé—´ï¼Œåˆ™éœ€è¦æ›´æ”¹ä¸Šè¿°ç¨‹åºçš„å¤„ç†æ–¹å¼ã€‚ å¯é‡‡ç”¨å¤šè¶Ÿç®—æ³•ï¼Œå¤šè¶Ÿè¯»å…¥è¾“å…¥æ•°æ®ï¼Œæ¯æ¬¡å®Œæˆä¸€æ­¥ã€‚é’ˆå¯¹è¯¥é¢˜ï¼Œå¯é‡‡ç”¨2æ­¥æ¥å®Œæˆï¼Œintæ•°ç»„çš„å¤§å°å˜æ›´ä¸º5000000/8ï¼Œæ¯”ä¹‹å‰å°äº†ä¸€åŠã€‚ç¬¬ä¸€æ­¥å¤„ç†0-4999999ä¹‹é—´çš„æ•°æ®ï¼Œç¬¬äºŒæ­¥å¤„ç†5000000-999999ä¹‹é—´çš„æ•°æ®ã€‚ ä¹ é¢˜6å¦‚æžœæ˜¯æ¯ä¸ªæ•´æ•°è‡³å°‘å‡ºçŽ°10æ¬¡ï¼Œè€Œä¸æ˜¯åŽŸå…ˆçš„ä¸€æ¬¡ã€‚å¯ä»¥ä½¿ç”¨4bitæ¥ç»Ÿè®¡å‡ºçŽ°çš„æ¬¡æ•°ï¼Œç”³è¯·çš„æ•°ç»„å¤§å°å˜ä¸ºäº†10000000/2ã€‚åªè¦æ˜¯æ¯ä¸ªæ•´æ•°æœ‰å‡ºçŽ°çš„æœ€å¤šæ¬¡æ•°ä¸Šé™è¯¥ç§å¤„ç†æ–¹å¼å°±åˆé€‚ï¼Œå½“ç„¶æ•´æ•°å‡ºçŽ°çš„ä¸Šé™ä¸èƒ½å¤ªå¤§ï¼Œå¦åˆ™è¯¥ç®—æ³•å°±æ²¡æœ‰äº†ä»»ä½•ä¼˜åŠ¿ã€‚ ä¹ é¢˜9å¯¹ä¸€ä¸ªå¤§çš„æ•°ç»„çš„åˆå§‹åŒ–æ“ä½œéœ€è¦è€—è´¹ä¸€äº›æ—¶é—´ï¼Œä¸ºäº†æ¶ˆé™¤æ•°ç»„çš„åˆå§‹åŒ–ï¼Œå¯ä»¥é€šè¿‡ä¸¤ä¸ªé¢å¤–çš„æ•°ç»„æ¥è§£å†³ï¼Œè¿™æ˜¯å…¸åž‹çš„ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ³•ã€‚ +---+---+---+---+---+---+---+----+ data | | | 3 | | 2 | | 8 | | +---+---+---+---+---+---+---+----+ +---+---+---+---+---+---+---+----+ from | | | 0 | | 2 | | 1 | | +---+---+---+---+---+---+---+----+ +---+---+---+---+---+---+---+----+ to | 1 | 5 | 3 | | | | | | +---+---+---+---+---+---+---+----+ ^ + top ä¸Šå›¾ä¸­dataä¸ºè¦åˆå§‹åŒ–çš„æ•°ç»„ï¼Œfromå’Œtoä¸ºè¾…åŠ©æ•°ç»„ã€‚å¦‚æžœdata[i]å·²ç»åˆå§‹åŒ–ï¼Œåˆ™from[i]&lt;topï¼Œto[from[i]]=iã€‚fromæ˜¯ä¸€ä¸ªç®€å•çš„æ ‡è¯†ï¼Œtoå’Œtopç¡®ä¿äº†fromä¸­ä¸ä¼šå†™å…¥å†…å­˜ä¸­çš„éšæœºå†…å®¹ã€‚ ä¹ é¢˜11è¯¥é¢˜çš„ç­”æ¡ˆå¤ªä»–å¦ˆé€—äº†ï¼Œä¸ºäº†èƒ½å¤Ÿè§£å†³ä¸¤åœ°ä¹‹é—´çš„æ•°æ®ä¼ è¾“ç“¶é¢ˆï¼Œä½œè€…ç»™å‡ºçš„ç­”æ¡ˆå±…ç„¶æ˜¯ç”¨ä¿¡é¸½ä¼ è¾“å›¾ç‰‡çš„åº•ç‰‡åŽå†å°†åº•ç‰‡æ”¾å¤§çš„æ–¹å¼æ¥ä»£æ›¿åŽŸå…ˆçš„ç”¨æ±½è½¦è¿è¾“çš„æ–¹å¼ï¼Œè¿™å°±æ˜¯ä¸­å›½å¤ä»£çš„é£žé¸½ä¼ ä¹¦å•Šã€‚ ä¹ é¢˜12è¯¥é¢˜åœ¨ã€Šä¸‰å‚»å¤§é—¹å®èŽ±åžã€‹ä¸­è§è¿‡ï¼Œè¿™è·Ÿç¼–ç¨‹æ¯›çº¿å…³ç³»ä¹Ÿæ²¡æœ‰å•Šã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸€ä¸ªå®žä¾‹è®²è§£HTTPçš„æ–­ç‚¹ç»­ä¼ ]]></title>
      <url>%2Fpost%2Fhttp_range%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡ä»¥ä»ŽæœåŠ¡å™¨ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ä¸ºä¾‹ï¼Œè®²è§£HTTPçš„æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ã€‚ å®¢æˆ·ç«¯IPåœ°å€ä¸ºï¼š192.168.1.2æœåŠ¡å™¨IPåœ°å€ä¸ºï¼š192.168.1.3 å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€çš„è¯·æ±‚ä¸ºï¼š 1234567GET /deepc.a HTTP/1.1Host: 192.168.100.189Connection: keep-aliveAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.14 Safari/537.36Accept-Encoding: gzip,deflate,sdchAccept-Language: zh-CN,zh;q=0.8,en;q=0.6 ä»Žä¸­å¯ä»¥çœ‹å‡ºè¯·æ±‚çš„æ–‡ä»¶åä¸ºdeepc.aæ–‡ä»¶ã€‚ å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€å…·ä½“è¯·æ±‚123456789GET /deepc.a HTTP/1.1Host: 192.168.100.189Connection: keep-aliveUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.14 Safari/537.36Accept: */*Referer: http://192.168.100.189/deepc.aAccept-Encoding: gzip,deflate,sdchAccept-Language: zh-CN,zh;q=0.8,en;q=0.6Range: bytes=0-32767 Rangeå­—æ®µè¡¨ç¤ºè¯·æ±‚æ–‡ä»¶çš„èŒƒå›´ä¸º0-32767ã€‚ æœåŠ¡å™¨å“åº”ç¬¬ä¸€æ¬¡æœåŠ¡å™¨çš„HTTPå“åº”æŠ¥æ–‡å¦‚ä¸‹ï¼š 1234567891011121314151617181920GET /deepc.a HTTP/1.1Host: 192.168.1.3Connection: keep-aliveUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.14 Safari/537.36Accept: */*Referer: http://192.168.1.3/deepc.aAccept-Encoding: gzip,deflate,sdchAccept-Language: zh-CN,zh;q=0.8,en;q=0.6Range: bytes=0-32767HTTP/1.1 206 Partial ContentDate: Sun, 04 May 2014 05:14:54 GMTServer: Apache/2.4.4 (Win32) PHP/5.4.16Last-Modified: Sat, 03 May 2014 00:43:22 GMTETag: &quot;7efce6-4f8742f6ed9b2&quot;Accept-Ranges: bytesContent-Length: 32768Content-Range: bytes 0-32767/8322278Keep-Alive: timeout=5, max=100Connection: Keep-Alive HTTPçš„çŠ¶æ€ä¸º206ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²ç»å¤„ç†äº†éƒ¨åˆ†HTTPç›¸åº”ã€‚å…¶ä¸­Content-Rangeå­—æ®µè¡¨ç¤ºæœåŠ¡å™¨å·²ç»å“åº”äº†0-32767ä¸ªå­—èŠ‚çš„æ–‡ä»¶å†…å®¹ã€‚8322278è¡¨ç¤ºæ–‡ä»¶çš„æ€»é•¿åº¦ä¸º8322278å­—èŠ‚ã€‚ å®¢æˆ·ç«¯ç»§ç»­å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å®¢æˆ·ç«¯æ ¹æ®ä¸Šæ¬¡HTTPæŠ¥æ–‡ä¸­æœåŠ¡å™¨å·²ç»è¿”å›žç»™çš„å®¢æˆ·ç«¯çš„æ•°æ®æƒ…å†µç»§ç»­å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æŠ¥æ–‡ï¼Œå‘æœåŠ¡å™¨å‘é€çš„è¯·æ±‚æŠ¥æ–‡å†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021GET /deepc.a HTTP/1.1Host: 192.168.100.189Connection: keep-aliveUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/30.0.1599.14 Safari/537.36Accept: */*Referer: http://192.168.100.189/deepc.aAccept-Encoding: gzip,deflate,sdchAccept-Language: zh-CN,zh;q=0.8,en;q=0.6Range: bytes=32768-8322277If-Range: &quot;7efce6-4f8742f6ed9b2&quot;HTTP/1.1 206 Partial ContentDate: Sun, 04 May 2014 05:14:54 GMTServer: Apache/2.4.4 (Win32) PHP/5.4.16Last-Modified: Sat, 03 May 2014 00:43:22 GMTETag: &quot;7efce6-4f8742f6ed9b2&quot;Accept-Ranges: bytesContent-Length: 8289510Content-Range: bytes 32768-8322277/8322278Keep-Alive: timeout=5, max=98Connection: Keep-Alive Content-Rangeçš„å†…å®¹è¡¨ç¤ºå®¢æˆ·ç«¯å‘æœåŠ¡å™¨è¯·æ±‚æ–‡ä»¶ä¸­32768-8322277ä¹‹é—´çš„å­—èŠ‚æ•°æ®ã€‚ ç¬¬äºŒæ¬¡æœåŠ¡å™¨çš„HTTPå“åº”æŠ¥æ–‡å¦‚ä¸‹ï¼š12345678910HTTP/1.1 206 Partial ContentDate: Sun, 04 May 2014 05:14:54 GMTServer: Apache/2.4.4 (Win32) PHP/5.4.16Last-Modified: Sat, 03 May 2014 00:43:22 GMTETag: &quot;7efce6-4f8742f6ed9b2&quot;Accept-Ranges: bytesContent-Length: 8289510Content-Range: bytes 32768-8322277/8322278Keep-Alive: timeout=5, max=98Connection: Keep-Alive è¡¨ç¤ºæœåŠ¡å™¨å·²ç»ç›¸åº”å®Œæˆäº†32768-8322277ä¹‹é—´çš„æ•°æ®ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸€ä¸ªLinuxä¸‹çš„ç›‘å¬è„šæœ¬ç¨‹åº]]></title>
      <url>%2Fpost%2Flinux_listen_shell%2F</url>
      <content type="text"><![CDATA[ä¸ºäº†é¿å…linuxä¸‹çš„æŽ§åˆ¶å°ç¨‹åºAæ­»æŽ‰ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªå¦å¤–ä¸€ä¸ªç¨‹åºBæ¥ç›‘å¬Aç¨‹åºï¼Œå½“Aç¨‹åºå¼‚å¸¸é€€å‡ºæ—¶å°†Bç¨‹åºå¸¦èµ·æ¥ã€‚å½“ç„¶ç¨‹åºè®¾è®¡çš„æœ€å¥½æ–¹å¼ä¸ºç¨‹åºä¸å´©æºƒï¼Œä½†æ˜¯ç¨‹åºä¸­å­˜åœ¨bugå¾ˆéš¾é¿å…ï¼Œè¯¥æ–¹æ³•è¿˜æ˜¯æœ‰ä¸€å®šçš„å®žè·µæ„ä¹‰ã€‚å¯¹äºŽBç¨‹åºå¯ä»¥é€šè¿‡shellè„šæœ¬æˆ–è€…å•ç‹¬ä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥è§£å†³ã€‚æœ¬æ–‡å°†é€šè¿‡shellè„šæœ¬æ¥è§£å†³æ­¤é—®é¢˜ã€‚ shellè„šæœ¬çš„å†…å®¹123456789101112131415161718192021222324252627282930#!/bin/bashcheck_process()&#123; # check parameter if [ $1 = "" ]; then return -1 fi # get the running process process_names=$(ps -ef | grep $1 | grep -v grep | awk '&#123;print $8&#125;') for process_name in $process_names do if [ $process_name = $1 ] ; then return 1 fi done # not run and run the process echo "$(date) : process $1 not run, just run it" $1 return 0&#125;while [ 1 ];do check_process "/usr/bin/app/process" # programe path sleep 5done å°†shellè„šæœ¬åœ¨è„±ç¦»æŽ§åˆ¶å°ä¸‹å¯ä»¥è¿è¡Œä¸€æ—¦æ–­å¼€äº†æŽ§åˆ¶å°ï¼Œshellè„šæœ¬å°±ä¼šç”±äºŽæŽ¥æ”¶åˆ°SIGHUPä¿¡å·è€Œé€€å‡ºã€‚è¿™é‡Œæœ‰ä¸¤ç§æ€è·¯æ¥è§£å†³è¯¥é—®é¢˜ï¼Œä¸€ç§æ˜¯é€šè¿‡ç³»ç»Ÿçš„crontabæ¥å®šæœŸè°ƒç”¨è„šæœ¬ç¨‹åºï¼Œå¦å¤–ä¸€ç§æ˜¯é€šè¿‡ç¥žå¥‡çš„screenç¨‹åºæ¥è§£å†³è¯¥é—®é¢˜ï¼Œæˆ‘è¿™é‡Œé€šè¿‡screenç¨‹åºæ¥è§£å†³è¯¥é—®é¢˜ï¼Œå…·ä½“screenç¨‹åºçš„åº”ç”¨è§æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ã€Šã€‹ã€‚ åº”ç”¨ç¨‹åºä¸ºdaemonæ–¹å¼è¿è¡Œä¸ºäº†èƒ½å¤Ÿä¿è¯è¯¥è„šæœ¬ç›‘æŽ§å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œéœ€è¦å°†åº”ç”¨ç¨‹åºè®¾ç½®ä¸ºdaemonæ–¹å¼è¿è¡Œï¼Œå¯ä»¥è°ƒç”¨å‡½æ•°daemonå®žçŽ°ã€‚ä¹Ÿå¯ä»¥è°ƒç”¨å•ç‹¬å®žçŽ°çš„daemonå‡½æ•°ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526void init_daemon(void) &#123; int pid; int i; if(pid=fork()) exit(0);//æ˜¯çˆ¶è¿›ç¨‹ï¼Œç»“æŸçˆ¶è¿›ç¨‹ else if(pid&lt; 0) exit(1);//forkå¤±è´¥ï¼Œé€€å‡º //æ˜¯ç¬¬ä¸€å­è¿›ç¨‹ï¼ŒåŽå°ç»§ç»­æ‰§è¡Œ setsid();//ç¬¬ä¸€å­è¿›ç¨‹æˆä¸ºæ–°çš„ä¼šè¯ç»„é•¿å’Œè¿›ç¨‹ç»„é•¿ //å¹¶ä¸ŽæŽ§åˆ¶ç»ˆç«¯åˆ†ç¦» if(pid=fork()) exit(0);//æ˜¯ç¬¬ä¸€å­è¿›ç¨‹ï¼Œç»“æŸç¬¬ä¸€å­è¿›ç¨‹ else if(pid&lt; 0) exit(1);//forkå¤±è´¥ï¼Œé€€å‡º //æ˜¯ç¬¬äºŒå­è¿›ç¨‹ï¼Œç»§ç»­ //ç¬¬äºŒå­è¿›ç¨‹ä¸å†æ˜¯ä¼šè¯ç»„é•¿ for(i=0;i&lt; NOFILE;++i)//å…³é—­æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ close(i); chdir(&quot;/tmp&quot;);//æ”¹å˜å·¥ä½œç›®å½•åˆ°/tmp umask(0);//é‡è®¾æ–‡ä»¶åˆ›å»ºæŽ©æ¨¡ return; &#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨githubä¸ŠåŒæ­¥forkçš„é¡¹ç›®]]></title>
      <url>%2Fpost%2Fgithub_fork_sync%2F</url>
      <content type="text"><![CDATA[åœ¨githubä¸Šå¯ä»¥forkåˆ«äººçš„é¡¹ç›®æˆä¸ºè‡ªå·±çš„é¡¹ç›®ï¼Œä½†æ˜¯å½“forkçš„é¡¹ç›®æ›´æ–°åŽè‡ªå·±forkçš„é¡¹ç›®åº”è¯¥æ€Žä¹ˆæ€Žä¹ˆæ›´æ–°å‘¢ï¼Ÿæˆ‘ä»Žç½‘ä¸Šçœ‹åˆ°äº†ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é‡‡ç”¨githubçš„webç•Œé¢ä¸­çš„æ“ä½œæ¥å®žçŽ°ï¼Œå…·ä½“æ˜¯é€šè¿‡â€œPull Requestâ€åŠŸèƒ½æ¥å®žçŽ°ï¼›å¦å¤–ä¸€ç§æ˜¯é€šè¿‡åœ¨æœ¬åœ°åˆå¹¶ä»£ç åˆ†æ”¯çš„æ–¹å¼æ¥è§£å†³ã€‚æœ¬æ–‡å°†é‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œä»¥æˆ‘æœ€è¿‘forkçš„é¡¹ç›®ä¸ºä¾‹æ¥è¯´æ˜Žã€‚ å°†forkåŽè‡ªå·±çš„é¡¹ç›®cloneåˆ°æœ¬åœ°æ‰§è¡Œgit clone https://github.com/kuring/leetcode.gitå³å¯å°†è‡ªå·±forkçš„ä»£ç æ›´æ–°åˆ°æœ¬åœ°ã€‚ forkå®ŒæˆåŽçš„è¿œç¨‹åˆ†æ”¯å’Œæ‰€æœ‰åˆ†æ”¯æƒ…å†µå¦‚ä¸‹ï¼š 1234567kuring@T420:/data/git/leetcode$ git remote -vorigin https://github.com/kuring/leetcode.git (fetch)origin https://github.com/kuring/leetcode.git (push)kuring@T420:/data/git/leetcode$ git branch -a* master remotes/origin/HEAD -&gt; origin/master remotes/origin/master å°†forkä¹‹å‰çš„é¡¹ç›®cloneåˆ°æœ¬åœ°å°†forkä¹‹å‰çš„é¡¹ç›®æ·»åŠ åˆ°æœ¬åœ°çš„è¿œç¨‹åˆ†æ”¯haoelä¸­ï¼Œæ‰§è¡Œgit remote add haoel https://github.com/haoel/leetcodeã€‚ å†æŸ¥çœ‹ä¸€ä¸‹è¿œç¨‹åˆ†æ”¯å’Œæ‰€æœ‰åˆ†æ”¯æƒ…å†µï¼š 123456789kuring@T420:/data/git/leetcode$ git remote -vhaoel https://github.com/haoel/leetcode (fetch)haoel https://github.com/haoel/leetcode (push)origin https://github.com/kuring/leetcode.git (fetch)origin https://github.com/kuring/leetcode.git (push)kuring@T420:/data/git/leetcode$ git branch -a* master remotes/origin/HEAD -&gt; origin/master remotes/origin/master å°†è¿œç¨‹ä»£ç halelåˆ†æ”¯fetchåˆ°æœ¬åœ°æ‰§è¡Œgit fetch haoelï¼Œæ­¤æ—¶çš„æ‰€æœ‰åˆ†æ”¯æƒ…å†µå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹å‡ºå¤šäº†ä¸€ä¸ªremotes/haoel/masteråˆ†æ”¯ã€‚ 12345kuring@T420:/data/git/leetcode$ git branch -a* master remotes/haoel/master remotes/origin/HEAD -&gt; origin/master remotes/origin/master å°†halelåˆ†æ”¯mergeåˆ°æœ¬åœ°çš„åˆ†æ”¯æ‰§è¡Œgit merge remotes/haoel/masterï¼Œæ­¤æ—¶å‘çŽ°æœ‰å†²çªï¼Œæç¤ºå†…å®¹å¦‚ä¸‹ï¼š 1234uring@T420:/data/git/leetcode$ git merge haoel/masterè‡ªåŠ¨åˆå¹¶ src/reverseInteger/reverseInteger.cppå†²çªï¼ˆå†…å®¹ï¼‰ï¼šåˆå¹¶å†²çªäºŽ src/reverseInteger/reverseInteger.cppè‡ªåŠ¨åˆå¹¶å¤±è´¥ï¼Œä¿®æ­£å†²çªç„¶åŽæäº¤ä¿®æ­£çš„ç»“æžœã€‚ ä¹‹æ‰€ä»¥å‡ºçŽ°ä¸Šè¿°é”™è¯¯ï¼Œè¿™æ˜¯ç”±äºŽæˆ‘åœ¨forkä¹‹åŽåœ¨æœ¬åœ°ä¿®æ­£äº†æºä»£ç ä¸­çš„ä¸€å¤„bugï¼Œè€Œåœ¨forkä¹‹åŽåˆ°çŽ°åœ¨çš„æ—¶é—´é—´éš”å†…åŽŸä½œè€…haoelä¹Ÿæ­£å¥½ä¿®æ­£äº†è¯¥bugã€‚æ‰“å¼€æ–‡ä»¶åŽå‘çŽ°å­˜åœ¨å¦‚ä¸‹çš„å†…å®¹ï¼Œå…¶å®žå°±æ˜¯ä»£ç é£Žæ ¼çš„é—®é¢˜ï¼Œæˆ‘è¿™é‡Œå°†é”™è¯¯è¿›è¡Œä¿®æ­£ã€‚ 1234536 &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD 37 while( x != 0 )&#123;38 =======39 while( x != 0)&#123;40 &gt;&gt;&gt;&gt;&gt;&gt;&gt; haoel/master å¦‚æžœæ²¡æœ‰å†²çªçš„æƒ…å†µä¸‹é€šè¿‡mergeå‘½ä»¤å³ä¼šå°†haoel/masteråˆ†æ”¯åˆå¹¶masteråˆ†æ”¯å¹¶æ‰§è¡Œcommitæ“ä½œã€‚å¯ä»¥é€šè¿‡git statuså‘½ä»¤çœ‹åˆ°å½“å‰å†²çªçš„æ–‡ä»¶å’Œå·²ç»ä¿®æ”¹çš„æ–‡ä»¶ã€‚æ‰§è¡Œgit statuså‘½ä»¤å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼Œè¯´æ˜Žæœªå†²çªçš„æ–‡ä»¶å·²ç»åœ¨æš‚å­˜åŒºï¼Œå†²çªçš„æ–‡ä»¶éœ€è¦ä¿®æ”¹åŽæ‰§è¡Œaddæ“ä½œï¼š 12345678910111213141516171819kuring@T420:/data/git/leetcode$ git statusä½äºŽåˆ†æ”¯ masteræ‚¨çš„åˆ†æ”¯ä¸Žä¸Šæ¸¸åˆ†æ”¯ &apos;origin/master&apos; ä¸€è‡´ã€‚æ‚¨æœ‰å°šæœªåˆå¹¶çš„è·¯å¾„ã€‚ ï¼ˆè§£å†³å†²çªå¹¶è¿è¡Œ &quot;git commit&quot;ï¼‰è¦æäº¤çš„å˜æ›´ï¼š ä¿®æ”¹: src/3Sum/3Sum.cpp ä¿®æ”¹: src/4Sum/4Sum.cpp ä¿®æ”¹: src/LRUCache/LRUCache.cpp ...... // æ­¤å¤„çœç•¥äº†å¾ˆå¤šé‡å¤çš„ ......æœªåˆå¹¶çš„è·¯å¾„ï¼š ï¼ˆä½¿ç”¨ &quot;git add &lt;file&gt;...&quot; æ ‡è®°è§£å†³æ–¹æ¡ˆï¼‰ åŒæ–¹ä¿®æ”¹ï¼š src/reverseInteger/reverseInteger.cpp è§£å†³å®Œå†²çªåŽæ‰§è¡Œaddæ“ä½œåŽå†é€šè¿‡git statuså‘½ä»¤æŸ¥çœ‹çš„å†…å®¹å¦‚ä¸‹ã€‚é€šè¿‡git statuså‘½ä»¤å´çœ‹ä¸åˆ°å·²ç»è§£å†³çš„å†²çªæ–‡ä»¶ï¼Œå¯¹äºŽè¿™ä¸€ç‚¹æˆ‘è¿˜æ˜¯å¾ˆç†è§£ï¼Œå‚è€ƒæ–‡ç« ä¸­çš„Git åˆ†æ”¯ - åˆ†æ”¯çš„æ–°å»ºä¸Žåˆå¹¶æ˜¯å¯ä»¥çœ‹åˆ°å·²ç»è§£å†³çš„å†²çªæ–‡ä»¶çš„ï¼Œå› ä¸ºæ‰§è¡Œgit addåŽå°†è§£å†³å®Œæˆå†²çªçš„æ–‡ä»¶æ”¾åˆ°äº†æš‚å­˜åŒºä¸­ã€‚ 1234567891011121314kuring@T420:/data/git/leetcode$ git statusä½äºŽåˆ†æ”¯ masteræ‚¨çš„åˆ†æ”¯ä¸Žä¸Šæ¸¸åˆ†æ”¯ &apos;origin/master&apos; ä¸€è‡´ã€‚æ‰€æœ‰å†²çªå·²è§£å†³ä½†æ‚¨ä»å¤„äºŽåˆå¹¶ä¸­ã€‚ ï¼ˆä½¿ç”¨ &quot;git commit&quot; ç»“æŸåˆå¹¶ï¼‰è¦æäº¤çš„å˜æ›´ï¼š ä¿®æ”¹: src/3Sum/3Sum.cpp ä¿®æ”¹: src/4Sum/4Sum.cpp ä¿®æ”¹: src/LRUCache/LRUCache.cpp ...... // æ­¤å¤„çœç•¥äº†å¾ˆå¤šé‡å¤çš„ ...... è¿™é‡Œå†²çªåŽmergeæ“ä½œå¹¶æ²¡æœ‰æ‰§è¡Œcommitæ“ä½œï¼Œéœ€è¦è§£å†³å†²çªåŽå†æ‰‹å·¥æ‰§è¡Œcommitæ“ä½œï¼Œæ­¤æ—¶æ•´ä¸ªçš„åŒæ­¥æ“ä½œå°±å·²ç»å®Œæˆäº†ã€‚ ç»“å°¾å¦‚æžœéš”ä¸€æ®µæ—¶é—´åŽåˆéœ€è¦åŒæ­¥é¡¹ç›®äº†ä»…éœ€è¦æ‰§è¡Œgit fetch haoelå‘½ä»¤ä»¥ä¸‹çš„æ“ä½œå³å¯ã€‚ å‚è€ƒ Git åˆ†æ”¯ - åˆ†æ”¯çš„æ–°å»ºä¸Žåˆå¹¶ å¦‚ä½•åœ¨githubä¸Šforkä¸€ä¸ªé¡¹ç›®æ¥è´¡çŒ®ä»£ç ä»¥åŠåŒæ­¥åŽŸä½œè€…çš„ä¿®æ”¹ Githubä¸Šæ›´æ–°è‡ªå·±forkçš„ä»£ç  ç”±äºŽgitå‘½ä»¤è¾ƒå¤šï¼Œä¸ºäº†ä¾¿äºŽæŸ¥é˜…å¢žåŠ ä¸€å¤„git data transprot commands]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Unique Binary Search Trees II]]></title>
      <url>%2Fpost%2Fleetcode_unique_binary_search_trees_ii%2F</url>
      <content type="text"><![CDATA[é—®é¢˜Given n, generate all structurally unique BSTâ€™s (binary search trees) that store values 1â€¦n. For example,Given n = 3, your program should return all 5 unique BSTâ€™s shown below. 1 3 3 2 1 \ / / / \ \ 3 2 1 1 3 2 / / \ \ 2 1 2 3 åˆ†æžè¦æƒ³èƒ½å¤Ÿç”Ÿæˆå¤šä¸ªæ ‘å¹¶å­˜å‚¨åˆ°vectorä¸­ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯é€’å½’ç®—æ³•ã€‚è¦æƒ³èƒ½å¤Ÿé€’å½’ï¼Œé¢˜ç›®ä¸­æä¾›çš„å‡½æ•°ä»…æœ‰ä¸€ä¸ªå‚æ•°ï¼Œç»“åˆé¢˜ç›®ä¸èƒ½å¤Ÿå®Œæˆé€’å½’çš„æ¡ä»¶ï¼Œè€ƒè™‘åˆ°unique binary search treesä¸­çš„è§£æ³•ï¼Œéœ€è¦é€’å½’å…·æœ‰ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°ã€‚ è€ƒè™‘åˆ°äº†é€’å½’çš„é—®é¢˜ï¼Œè¿˜éœ€è¦åˆ©ç”¨å¾ªçŽ¯ä¸æ–­å°†æ ‘æ·»åŠ åˆ°vectorä¸­ï¼Œè¿™ç¼–å†™èµ·æ¥ä¹Ÿæ˜¯æ¯”è¾ƒæœ‰éš¾åº¦ï¼Œéœ€è¦æŽŒæ¡å¾ªçŽ¯çš„æ¬¡æ•°å’Œä»€ä¹ˆæ—¶å€™å°†æ ‘æ·»åŠ åˆ°vectorä¸­ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536vector&lt;TreeNode *&gt; generateTrees(int n) &#123; vector&lt;TreeNode *&gt; sub_tree = generateTrees(1, n); return sub_tree;&#125;vector&lt;TreeNode *&gt; generateTrees(int low, int high) &#123; vector&lt;TreeNode *&gt; result; if (low &gt; high) &#123; result.push_back(NULL); return result; &#125; else if (low == high) &#123; TreeNode *node = new TreeNode(low); result.push_back(node); return result; &#125; for (int i=low; i&lt;=high; i++) &#123; vector&lt;TreeNode *&gt; left = generateTrees(low, i - 1); vector&lt;TreeNode *&gt; right = generateTrees(i + 1, high); for (int j=0; j&lt;left.size(); j++) &#123; for (int k=0; k&lt;right.size(); k++) &#123; TreeNode *root = new TreeNode(i); root-&gt;left = left[j]; root-&gt;right = right[k]; result.push_back(root); &#125; &#125; &#125; return result;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å›¾çš„å­˜å‚¨å’ŒéåŽ†]]></title>
      <url>%2Fpost%2Ftraverse_graph%2F</url>
      <content type="text"><![CDATA[å›¾çš„å­˜å‚¨åœ¨leetcodeä¸­å›¾çš„å­˜å‚¨å½¢å¼å¦‚ä¸‹ï¼Œè¿™ç§å½¢å¼çš„å›¾åªèƒ½é€‚åˆç”¨æ¥å­˜å‚¨æ˜¯è¿žé€šå›¾çš„æƒ…å†µï¼Œä¸”æ ¹æ®leetcodeæä¾›çš„{0,1,2#1,2#2,2}æ ¼å¼çš„å­—ç¬¦ä¸²é€šè¿‡ç¨‹åºæ¥è‡ªåŠ¨æž„é€ å›¾æ¯”è¾ƒéº»çƒ¦ï¼Œé¢„çŸ¥å­—ç¬¦ä¸²çš„å«ä¹‰è¯·ç§»æ­¥åˆ°leetcodeçš„è§£é‡Šã€‚ 1234567/** * Definition for undirected graph. * struct UndirectedGraphNode &#123; * int label; * vector&lt;UndirectedGraphNode *&gt; neighbors; * UndirectedGraphNode(int x) : label(x) &#123;&#125;; * &#125;; æœ¬æ–‡ä¸ºäº†èƒ½å¤Ÿç”¨å­—ç¬¦ä¸²è¡¨ç¤ºæ‰€æœ‰å›¾ï¼Œå¹¶ä¸”ä¾¿äºŽç¨‹åºçš„æž„é€ ï¼Œä½¿ç”¨äº†é‚»æŽ¥è¡¨çš„å½¢å¼æ¥å¯¹å›¾è¿›è¡Œå­˜å‚¨ï¼Œå³å¯ä»¥ç”¨æ¥å­˜å‚¨æœ‰å‘å›¾ï¼Œæœ‰å¯ä»¥å­˜å‚¨æ— å‘å›¾ã€‚å›¾ä¸€ä¸ªèŠ‚ç‚¹çš„ç»“æž„å¦‚ä¸‹ï¼š 123456789/** * å›¾èŠ‚ç‚¹çš„é‚»æŽ¥è¡¨è¡¨ç¤ºå½¢å¼ */struct GraphNode &#123; std::string label; std::vector&lt;GraphNode *&gt; neighbors; bool visited; // æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„éåŽ†éƒ½éœ€è¦visitedæ•°ç»„ï¼Œä¸ºäº†ç®€åŒ–ç¨‹åºï¼Œç›´æŽ¥åœ¨èŠ‚ç‚¹çš„å­˜å‚¨ç»“æž„ä¸­è®¾ç½®visitedå˜é‡ GraphNode(std::string x) : label(x), visited(false) &#123;&#125;;&#125;; å›¾çš„åˆ›å»ºæ–¹é¢ä¸ºäº†ç®€åŒ–ç®—æ³•å®žçŽ°ï¼Œå¯¹ç¨‹åºçš„æ•ˆçŽ‡æ²¡åšå¤ªå¤šå…³æ³¨ï¼Œç®—æ³•å¤æ‚åº¦ç¨é«˜ã€‚æœ¬ç®—æ³•çš„éš¾ç‚¹åœ¨äºŽå¯¹å­—ç¬¦ä¸²çš„æ‹†è§£ï¼Œå¹¶æ ¹æ®å­—ç¬¦ä¸²æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹æŒ‡é’ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117/** * å›¾èŠ‚ç‚¹çš„é‚»æŽ¥è¡¨è¡¨ç¤ºå½¢å¼ */struct GraphNode &#123; std::string label; std::vector&lt;GraphNode *&gt; neighbors; bool visited; GraphNode(std::string x) : label(x), visited(false) &#123;&#125;;&#125;;/** * é€šè¿‡å­—ç¬¦ä¸²çš„å€¼ï¼Œæ‰¾åˆ°è¯¥å­—ç¬¦ä¸²å¯¹åº”çš„å›¾èŠ‚ç‚¹ */ GraphNode *get_one_node(const std::vector&lt;GraphNode *&gt; &amp;node_vector, std::string str)&#123; for (std::vector&lt;GraphNode *&gt;::const_iterator iter = node_vector.begin(); iter != node_vector.end(); iter++) &#123; if ((*iter)-&gt;label == str) &#123; return *iter; &#125; &#125; return NULL;&#125;/** * æ—¶é—´å¤æ‚åº¦é«˜,å¯¹å›¾çš„æž„å»ºä¸€èˆ¬æ•ˆçŽ‡è¦æ±‚è¾ƒä½Ž * å¯¹äºŽæŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹çš„é‚»æŽ¥ç‚¹çš„æŒ‡é’ˆæ“ä½œå¯ä»¥ä½¿ç”¨mapæ¥æé«˜æŸ¥è¯¢æ•ˆçŽ‡ * æˆ–è€…å¯ä»¥é€šè¿‡ä¸éœ€è¦åˆå§‹åŒ–æ‰€æœ‰èŠ‚ç‚¹çš„æ–¹å¼æ¥æž„é€ å›¾ï¼Œè€Œæ˜¯é‡‡ç”¨éœ€è¦å“ªä¸ªèŠ‚ç‚¹æž„é€ å“ªä¸ªèŠ‚ç‚¹çš„æ–¹å¼ */std::vector&lt;GraphNode *&gt; create_graph(std::string str)&#123; std::vector&lt;GraphNode *&gt; node_vector; // init all nodes for (size_t pos = 0; pos &lt; str.length() - 1;) &#123; size_t end = str.find(',', pos); if (end != std::string::npos) &#123; GraphNode *node = new GraphNode(str.substr(pos, end - pos)); node_vector.push_back(node); &#125; else &#123; break; &#125; pos = str.find('#', pos); if (pos == std::string::npos) &#123; break; &#125; else &#123; pos++; &#125; &#125; // add neighbors in every node for (size_t pos = 0; pos &lt; str.length() - 1; ) &#123; GraphNode *current_node = NULL; size_t current_end = str.find(',', pos); if (current_end != std::string::npos) &#123; current_node = get_one_node(node_vector, str.substr(pos, current_end - pos)); pos = current_end + 1; &#125; else &#123; break; &#125; size_t node_end = str.find('#', pos); // å½“å‰èŠ‚ç‚¹çš„å­—ç¬¦ä¸²çš„ç»“æŸä½ç½® if (node_end == std::string::npos) &#123; node_end = str.length(); &#125; else &#123; node_end--; &#125; for ( ; ; ) &#123; current_end = str.find(',', pos); if (current_end &gt; node_end || current_end == std::string::npos) &#123; // ä¸€ä¸ªèŠ‚ç‚¹çš„æœ€åŽä¸€ä¸ªé‚»æŽ¥ç‚¹ current_end = node_end; &#125; else &#123; current_end--; &#125; GraphNode *node = get_one_node(node_vector, str.substr(pos, current_end - pos + 1)); if (node != NULL) &#123; current_node-&gt;neighbors.push_back(node); std::cout &lt;&lt; current_node-&gt;label &lt;&lt; " add " &lt;&lt; node-&gt;label &lt;&lt; std::endl; &#125; if (current_end == node_end) &#123; // ä¸€ä¸ªèŠ‚ç‚¹çš„æœ€åŽä¸€ä¸ªé‚»æŽ¥ç‚¹ break; &#125; else &#123; pos = current_end + 2; // è¯¥èŠ‚ç‚¹ä¹‹åŽè¿˜æœ‰å…¶ä»–é‚»æŽ¥ç‚¹ &#125; &#125; pos = node_end + 2; &#125; return node_vector;&#125; æ·±åº¦ä¼˜å…ˆæœç´¢æ·±åº¦ä¼˜å…ˆæœç´¢éµå¾ªè´ªå¿ƒç®—æ³•çš„åŽŸç†ï¼Œå¦‚æžœå­©å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™ä¸€ç›´éåŽ†ä¸‹åŽ»ã€‚ é€’å½’ç®—æ³•12345678910111213141516171819202122232425262728293031void DFS_traverse_recursion(GraphNode *node)&#123; if (!node-&gt;visited) &#123; std::cout &lt;&lt; node-&gt;label &lt;&lt; '\t'; node-&gt;visited = true; &#125; for (std::vector&lt;GraphNode *&gt;::iterator iter = node-&gt;neighbors.begin(); iter != node-&gt;neighbors.end(); iter++) &#123; if (!(*iter)-&gt;visited) &#123; DFS_traverse_recursion(*iter); &#125; &#125;&#125;/** * å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢çš„é€’å½’å½¢å¼ */void DFS_traverse_recursion(std::vector&lt;GraphNode *&gt; &amp;graph)&#123; for (std::vector&lt;GraphNode *&gt;::iterator iter = graph.begin(); iter != graph.end(); iter++) &#123; (*iter)-&gt;visited = false; &#125; for (std::vector&lt;GraphNode *&gt;::iterator iter = graph.begin(); iter != graph.end(); iter++) &#123; if (!(*iter)-&gt;visited) DFS_traverse_recursion(*iter); &#125;&#125; éžé€’å½’ç®—æ³•ä½¿ç”¨æ ˆæ¥å®žçŽ°éžé€’å½’ã€‚ 12345678910111213141516171819202122232425262728293031323334353637/** * å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢çš„éžé€’å½’å½¢å¼ */void DFS_traverse_not_recursion(std::vector&lt;GraphNode *&gt; &amp;graph)&#123; for (std::vector&lt;GraphNode *&gt;::iterator iter = graph.begin(); iter != graph.end(); iter++) &#123; (*iter)-&gt;visited = false; &#125; for (std::vector&lt;GraphNode *&gt;::iterator iter = graph.begin(); iter != graph.end(); iter++) &#123; std::stack&lt;GraphNode *&gt; node_stack; if ((*iter)-&gt;visited) &#123; continue; &#125; node_stack.push(*iter); while (!node_stack.empty()) &#123; GraphNode *node = node_stack.top(); node_stack.pop(); if (node-&gt;visited) continue; std::cout &lt;&lt; node-&gt;label &lt;&lt; '\t'; node-&gt;visited = true; /* ä½¿ç”¨åå‘è¿­ä»£å™¨éåŽ†åŽå°†èŠ‚ç‚¹åŠ å…¥åˆ°æ ˆä¸­ */ for (std::vector&lt;GraphNode *&gt;::reverse_iterator iter2 = node-&gt;neighbors.rbegin(); iter2 != node-&gt;neighbors.rend(); iter2++) &#123; if (!(*iter2)-&gt;visited) &#123; node_stack.push(*iter2); &#125; &#125; &#125; &#125;&#125; å¹¿åº¦ä¼˜å…ˆæœç´¢è¯¥ç®—æ³•ä¸å­˜åœ¨é€’å½’ç®—æ³•ï¼Œä»…æœ‰éžé€’å½’ç‰ˆæœ¬ã€‚éœ€è¦åˆ©ç”¨é˜Ÿåˆ—æ¥ä¿å­˜éœ€è¦éåŽ†çš„èŠ‚ç‚¹ï¼Œå ç”¨çš„å­˜å‚¨ç©ºé—´ç¨å¤šã€‚ 123456789101112131415161718192021222324252627282930313233343536/** * å›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢çš„éžé€’å½’å½¢å¼ */void BFS_traverse_not_recursion(std::vector&lt;GraphNode *&gt; &amp;graph)&#123; for (std::vector&lt;GraphNode *&gt;::iterator iter = graph.begin(); iter != graph.end(); iter++) &#123; (*iter)-&gt;visited = false; &#125; for (std::vector&lt;GraphNode *&gt;::iterator iter = graph.begin(); iter != graph.end(); iter++) &#123; std::queue&lt;GraphNode *&gt; node_queue; if ((*iter)-&gt;visited) &#123; continue; &#125; node_queue.push(*iter); while (!node_queue.empty()) &#123; GraphNode *node = node_queue.front(); node_queue.pop(); if (node-&gt;visited) continue; std::cout &lt;&lt; node-&gt;label &lt;&lt; '\t'; node-&gt;visited = true; for (std::vector&lt;GraphNode *&gt;::iterator iter2 = node-&gt;neighbors.begin(); iter2 != node-&gt;neighbors.end(); iter2++) &#123; if (!(*iter2)-&gt;visited) &#123; node_queue.push(*iter2); &#125; &#125; &#125; &#125;&#125; ç›¸å…³ä¸‹è½½æœ¬æ–‡ç›¸å…³æºç ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[äºŒå‰æ ‘çš„éåŽ†]]></title>
      <url>%2Fpost%2Ftraverse_tree%2F</url>
      <content type="text"><![CDATA[[TOC] è¿‘æœŸå‡†å¤‡å¤ä¹ æ•°æ®ç»“æž„å’Œç®—æ³•çš„çŸ¥è¯†ï¼Œå‚ç…§äº†ç½‘ç»œä¸Šå„è·¯å¤§ç¥žçš„å­¦ä¹ æ”»ç•¥ï¼Œå¤§éƒ¨åˆ†ç®—æ³•å­¦ä¹ çš„æ€è·¯ä¸ºå‚ç…§ä¸€äº›ç»å…¸ä¹¦ç±ï¼ˆå¦‚ç®—æ³•å¯¼è®ºï¼‰å¹¶ç»“åˆä¸€äº›ä»£ç çš„å®žè·µæ¥å®Œæˆï¼Œå¹¶æœªæ‰¾åˆ°ä¸€æ¡é€‚åˆæˆ‘çš„ç®—æ³•å­¦ä¹ ä¹‹è·¯ã€‚ç»è¿‡æ€è€ƒåŽå†³å®šé‡‡ç”¨ä»£ç ç¼–å†™æ›¾ç»çš„æ•™ç§‘ä¹¦ä¸­ä»£ç å®žä¾‹çš„æ–¹å¼æ¥å­¦ä¹ ï¼Œæ›¾ç»æŽ¥è§¦çš„ç®—æ³•æ•™ç§‘ä¹¦åŒ…æ‹¬ã€Šæ•°æ®ç»“æž„ï¼ˆCè¯­è¨€ç‰ˆï¼‰ã€‹å’Œã€Šè®¡ç®—æœºç®—æ³•åŸºç¡€ã€‹ã€‚ä¸€æ¥è¿™äº›ç®—æ³•å·²ç»åŸºæœ¬ç†Ÿæ‚‰ï¼Œåªæ˜¯æ—¶é—´ä¹…è¿œæœ‰äº›å·²ç»å¿˜è®°ï¼›äºŒæ¥ï¼Œé€šè¿‡æ€è€ƒåŽç¼–å†™ä»£ç å¢žå¼ºè‡ªå·±çš„è®°å¿†ã€‚ åŒæ—¶æˆ‘ç¼–å†™çš„è¿™äº›å®žä¾‹å¯ä»¥ä½œä¸ºleetcodeä¸Šçš„å¾ˆå¤šé¢˜ç›®çš„åŸºç¡€ï¼Œä¸ºä¸‹ä¸€ä¸ªé˜¶æ®µåˆ·leetcodeä¸Šçš„é¢˜ç›®æ‰“å¥½åŸºç¡€ã€‚ æ ‘çš„å­˜å‚¨å½¢å¼åŒ…æ‹¬äº†é¡ºåºå­˜å‚¨ï¼ˆé‡‡ç”¨æ•°ç»„å½¢å¼ï¼‰å’Œé“¾å¼å­˜å‚¨ï¼Œå…¶ä¸­é“¾å¼å­˜å‚¨æ›´ä¸ºçµæ´»ï¼Œå¯ä»¥è¡¨ç¤ºä»»æ„å½¢å¼çš„æ ‘ï¼Œæœ¬æ–‡ä¸­çš„ä»£ç å°†é‡‡ç”¨æ ‘çš„é“¾å¼å­˜å‚¨æ–¹å¼ã€‚ æ ‘çš„æž„å»ºæ ‘çš„æž„å»ºæœ‰å¤šç§æ–¹å¼ï¼Œæœ¬æ–‡ä½¿ç”¨å­—ç¬¦ä¸²é‡‡ç”¨äº†è‡ªé¡¶å‘ä¸‹ã€è‡ªå·¦åˆ°å³çš„é¡ºåºæž„å»ºæ ‘ï¼Œè·Ÿleetcodeçš„å½¢å¼ä¸€è‡´ã€‚å…¶ä¸­â€™#â€™è¡¨ç¤ºè¯¥èŠ‚ç‚¹ä¸ºç©ºï¼Œå¦‚æžœè¯¥èŠ‚ç‚¹ä¸ºç©ºèŠ‚ç‚¹ï¼Œå…¶å·¦å³å­å­©å­èŠ‚ç‚¹ä¹Ÿè¦ç”¨â€™#â€™è¡¨ç¤ºï¼Œè€Œä¸èƒ½ä¸ç”¨ä»»ä½•å­—ç¬¦è¡¨ç¤ºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * äºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ç»“æž„ */struct TreeNode&#123; char data; struct TreeNode *left; struct TreeNode *right; TreeNode(char data) : data(data), left(NULL), right(NULL) &#123;&#125;&#125;;/** * æž„é€ äºŒå‰æ ‘ï¼Œè¦æž„é€ çš„å­—ç¬¦ä¸²é‡‡ç”¨äº†è‡ªé¡¶å‘ä¸‹ã€è‡ªå·¦åˆ°å³çš„é¡ºåºï¼Œè·Ÿleetcodeçš„å½¢å¼ä¸€è‡´ */TreeNode *create_binary_tree(const char *str)&#123; if (!str || strlen(str) == 0) &#123; return NULL; &#125; // å¯¹æ¯ä¸ªèŠ‚ç‚¹åˆ†é…å­˜å‚¨ç©ºé—´ int node_size = strlen(str); TreeNode **tree = new TreeNode*[node_size]; for (int i=0; i&lt;node_size; i++) &#123; if (str[i] == '#') &#123; tree[i] = NULL; &#125; else &#123; tree[i] = new TreeNode(str[i]); &#125; &#125; for (int i=0, j=0; i&lt;node_size &amp;&amp; j&lt;node_size; i++) &#123; if (tree[i] != NULL) &#123; if ((j + 1) &lt; node_size) &#123; tree[i]-&gt;left = tree[++j]; tree[i]-&gt;right = tree[++j]; &#125; &#125; else &#123; j += 2; &#125; &#125; return *tree;&#125; äºŒå‰æ ‘çš„å…ˆåºéåŽ†é€’å½’å®žçŽ°12345678910111213141516/** * å…ˆåºéåŽ†äºŒå‰æ ‘çš„é€’å½’å½¢å¼ */void preorder_traverse_recursion(TreeNode *root)&#123; if (!root) &#123; return; &#125; printf(&quot;%c\t&quot;, root-&gt;data); preorder_traverse_recursion(root-&gt;left); preorder_traverse_recursion(root-&gt;right);&#125; éžé€’å½’å®žçŽ°1234567891011121314151617181920212223242526/** * å…ˆåºéåŽ†çš„éžé€’å½’å½¢å¼ */void preorder_traverse_not_recursion(TreeNode *root)&#123; if (!root) &#123; return ; &#125; std::stack&lt;TreeNode *&gt; tree_stack; tree_stack.push(root); while (tree_stack.size() &gt; 0) &#123; TreeNode *node = tree_stack.top(); tree_stack.pop(); printf("%c\t", node-&gt;data); if (node-&gt;right != NULL) &#123; tree_stack.push(node-&gt;right); &#125; if (node-&gt;left != NULL) &#123; tree_stack.push(node-&gt;left); &#125; &#125;&#125; äºŒå‰æ ‘çš„ä¸­åºéåŽ†é€’å½’å®žçŽ°12345678910111213141516/** * ä¸­åºéåŽ†äºŒå‰æ ‘çš„é€’å½’å½¢å¼ */void inorder_traverse_recursion(TreeNode *root)&#123; if (!root) &#123; return; &#125; inorder_traverse_recursion(root-&gt;left); printf("%c\t", root-&gt;data); inorder_traverse_recursion(root-&gt;right);&#125; éžé€’å½’å®žçŽ°123456789101112131415161718192021222324252627/** * ä¸­åºéåŽ†äºŒå‰æ ‘çš„éžé€’å½’å½¢å¼ */void inorder_traverse_not_recursion(TreeNode *root)&#123; if (!root) &#123; return ; &#125; std::stack&lt;TreeNode *&gt; tree_stack; while (root != NULL || tree_stack.size() &gt; 0) &#123; // éåŽ†åˆ°å·¦å­æ ‘çš„å¶å­èŠ‚ç‚¹ while (root) &#123; tree_stack.push(root); root = root-&gt;left; &#125; // éåŽ†æ ˆé¡¶èŠ‚ç‚¹ root = tree_stack.top(); tree_stack.pop(); printf("%c\t", root-&gt;data); root = root-&gt;right; &#125;&#125; äºŒå‰æ ‘çš„åŽåºéåŽ†é€’å½’å®žçŽ°12345678910111213141516/** * åŽåºéåŽ†äºŒå‰æ ‘çš„é€’å½’å½¢å¼ */void postorder_traverse_recursion(TreeNode *root)&#123; if (!root) &#123; return; &#125; postorder_traverse_recursion(root-&gt;left); postorder_traverse_recursion(root-&gt;right); printf("%c\t", root-&gt;data);&#125; éžé€’å½’å®žçŽ°ä»…ç”¨ä¸€ä¸ªæ ˆä¸èƒ½å¤Ÿå®žçŽ°åŽåºéåŽ†éžé€’å½’ç®—æ³•ï¼Œéœ€è¦ä¿å­˜ä¸€ä¸ªä¸Šæ¬¡è®¿é—®è¿‡èŠ‚ç‚¹çš„å˜é‡ã€‚ 123456789101112131415161718192021222324252627282930313233343536/** * åŽåºéåŽ†äºŒå‰æ ‘çš„éžé€’å½’å½¢å¼ */void postorder_traverse_not_recursion(TreeNode *root)&#123; if (!root) &#123; return ; &#125; std::stack&lt;TreeNode *&gt; tree_stack; TreeNode *visited = NULL; while (root != NULL || tree_stack.size() &gt; 0) &#123; // éåŽ†åˆ°å·¦å­æ ‘çš„å¶å­èŠ‚ç‚¹ while (root) &#123; tree_stack.push(root); root = root-&gt;left; &#125; root = tree_stack.top(); if (root-&gt;right == NULL || root-&gt;right == visited) &#123; // å¦‚æžœæ²¡æœ‰å³å­©å­ï¼Œæˆ–è€…å³å­©å­åˆšåˆšè®¿é—®è¿‡ï¼Œåˆ™è®¿é—®å½“å‰èŠ‚ç‚¹ printf("%c\t", root-&gt;data); tree_stack.pop(); visited = root; root = NULL; &#125; else &#123; root = root-&gt;right; &#125; &#125;&#125; æ€»ç»“äºŒå‰æ ‘éåŽ†çš„é€’å½’å½¢å¼ç¨‹åºç»“æž„ç±»ä¼¼ï¼Œç¼–å†™ç›¸å¯¹ç®€å•ã€‚ä½†æ˜¯é€’å½’æ–¹æ³•åœ¨Cè¯­è¨€ä¸­å­˜åœ¨æ‰§è¡Œæ•ˆçŽ‡å·®ï¼ˆéœ€è¦ç»´æŠ¤å‡½æ•°æ ˆï¼‰ï¼Œå®¹æ˜“å‡ºçŽ°æ ˆæº¢å‡ºçš„å¼‚å¸¸çš„é—®é¢˜ã€‚ä»»ä½•é€’å½’é—®é¢˜é—®é¢˜éƒ½å¯ä»¥è½¬åŒ–ä¸ºéžé€’å½’é—®é¢˜ï¼Œè½¬åŒ–çš„æ€è·¯åŒ…æ‹¬äº†ç›´æŽ¥è½¬åŒ–æ³•å’Œé—´æŽ¥è½¬åŒ–æ³•ã€‚ç›´æŽ¥è½¬åŒ–æ³•å¯ä»¥é€šè¿‡å¾ªçŽ¯æ¥è§£å†³ï¼Œé—´æŽ¥è½¬åŒ–æ³•éœ€è¦å€ŸåŠ©æ ˆåŠ å¾ªçŽ¯æ¥è§£å†³ã€‚ äºŒå‰æ ‘éåŽ†çš„éžé€’å½’å½¢å¼ç›¸å¯¹å¤æ‚ï¼ŒäºŒå‰æ ‘çš„å…ˆåºéåŽ†çš„éžé€’å½’å½¢å¼å®¹æ˜“ç†è§£ï¼ŒäºŒå‰æ ‘çš„ä¸­åºéåŽ†ç¨å¾®å›°éš¾ï¼ŒåŽåºéåŽ†çš„éžé€’å½’å½¢å¼æœ€å¤æ‚ã€‚ ç›¸å…³ä¸‹è½½ç¨‹åºæºä»£ç ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œè¿›åˆ¶è½¬æ¢]]></title>
      <url>%2Fpost%2Flinux_convert_ary%2F</url>
      <content type="text"><![CDATA[åœ¨Windowsä¸‹å¯ä»¥é€šè¿‡è®¡ç®—å™¨è¿›è¡Œè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼Œéžå¸¸æ–¹ä¾¿ã€‚æœ¬æ–‡æ€»ç»“Linuxä¸‹å¯ç”¨çš„è¿›è¡Œè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢æ–¹æ³•ã€‚ åˆ©ç”¨shellshellè„šæœ¬é»˜è®¤æ•°å€¼æ˜¯ç”±10è¿›åˆ¶æ•°å¤„ç†ï¼Œé™¤éžè¿™ä¸ªæ•°å­—æŸç§ç‰¹æ®Šçš„æ ‡è®°æ³•æˆ–å‰ç¼€å¼€å¤´ï¼Œæ‰å¯ä»¥è¡¨ç¤ºå…¶å®ƒè¿›åˆ¶ç±»åž‹æ•°å€¼ã€‚å¦‚ï¼šä»¥0å¼€å¤´å°±æ˜¯8è¿›åˆ¶ã€ä»¥0xå¼€å¤´å°±æ˜¯16è¿›åˆ¶æ•°ã€‚ä½¿ç”¨â€œBASE#NUMBERâ€è¿™ç§å½¢å¼å¯ä»¥è¡¨ç¤ºå…¶å®ƒè¿›åˆ¶ã€‚BASEå€¼çš„èŒƒå›´ä¸º2-64ã€‚ å…¶ä»–è¿›åˆ¶è½¬10è¿›åˆ¶ 123456789101112kuring@T420:~$ echo $((16#4000000))67108864kuring@T420:~$ echo $((2#111))7kuring@T420:~$ echo $((0x10))16kuring@T420:~$ echo $((010))8// å¯¹è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶è¿›è¡Œè¿ç®—ï¼Œç¨æ˜¾å•°å—¦kuring@T420:~$ echo $(($((16#4000000))/1014/1024));64 åˆ©ç”¨letå‘½ä»¤letç”¨æ¥æ‰§è¡Œç®—æ•°è¿ç®—å’Œæ•°å€¼è¡¨è¾¾å¼æµ‹è¯•ã€‚å¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤å®Œæˆç®€å•çš„è®¡ç®—ï¼Œå¹¶å°†è®¡ç®—ç»“æžœèµ‹ç»™å…¶ä»–å˜é‡ã€‚ 1234// å¯¹è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶åŽè¿›è¡Œè¿ç®—ï¼Œæ¯”çº¯shellæ–¹å¼ç®€æ´kuring@T420:~$ let a=$((16#4000000))/1014/1024;kuring@T420:~$ echo $a64 åˆ©ç”¨bcå‘½ä»¤è¯¥å‘½ä»¤æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è®¡ç®—å™¨è½¯ä»¶ï¼Œå¯ä»¥åˆ©ç”¨å…¶ä¸­çš„ibaseå’Œobaseè¿›è¡Œè¾“å…¥è¿›åˆ¶çš„è½¬æ¢ï¼Œibaseè¡¨ç¤ºè¾“å…¥æ•°å­—çš„è¿›åˆ¶ï¼Œobaseè¡¨ç¤ºè¾“å‡ºæ•°å­—çš„è¿›åˆ¶ã€‚ 123456// å¦‚æžœæ²¡æœ‰åˆ¶å®šï¼Œåˆ™é»˜è®¤ä¸º10è¿›åˆ¶// å¯¹äºŽ16è¿›åˆ¶ï¼Œè¦ä½¿ç”¨Fï¼Œè€Œä¸èƒ½ä½¿ç”¨fkuring@T420:~$ echo "ibase=16;FF" | bc255kuring@T420:~$ echo "obase=2;ibase=16;FF" | bc11111111 å‚è€ƒæ–‡ç« linux shell ä¸åŒè¿›åˆ¶æ•°æ®è½¬æ¢ï¼ˆäºŒè¿›åˆ¶ï¼Œå…«è¿›åˆ¶ï¼Œåå…­è¿›åˆ¶ï¼Œbase64) Shellè¿›åˆ¶è½¬æ¢å°ç»“]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[leetcodeé¢˜ç›®ä¹‹Min Stack]]></title>
      <url>%2Fpost%2Fmin_stack%2F</url>
      <content type="text"><![CDATA[é¢˜ç›® Memory Limit Exceeded Design a stack that supports push, pop, top, and retrieving the minimum element in constant time. push(x) â€“ Push element x onto stack.pop() â€“ Removes the element on top of the stack.top() â€“ Get the top element.getMin() â€“ Retrieve the minimum element in the stack. é”™è¯¯ä»£ç çœ‹åˆ°æ­¤é¢˜ç›®ï¼Œä»¥ä¸ºæ˜¯ç”¨å®žçŽ°ä¸€ä¸ªç®€å•çš„æ ˆç»“æž„ï¼ŒäºŽæ˜¯å°±ç›´æŽ¥å†™ä¸‹äº†å¦‚ä¸‹ä»£ç ï¼Œé‡‡ç”¨äº†åŒå‘é“¾è¡¨çš„æ–¹å¼æ¥å®žçŽ°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657class MinStack &#123;public: struct Node &#123; int data; Node *next; Node *pre; Node() : next(NULL),pre(NULL) &#123;&#125;; &#125;; MinStack() &#123; header = new Node(); tail = header; &#125; void push(int x) &#123; Node *node = new Node(); node-&gt;data = x; node-&gt;pre = tail; tail-&gt;next = node; tail = node; &#125; void pop() &#123; Node *pre = tail-&gt;pre; delete tail; tail = pre; tail-&gt;next = NULL; &#125; int top() &#123; if (tail == header) &#123; return -1; &#125; return tail-&gt;data; &#125; int getMin() &#123; Node *begin = header-&gt;next; int min = INT_MIN; while(begin) &#123; if (min &gt; begin-&gt;data) &#123; min = begin-&gt;data; &#125; begin = begin-&gt;next; &#125; return min; &#125; private: Node *header; Node *tail;&#125;; æäº¤åŽæç¤ºMemory Limit Exceededé”™è¯¯ï¼Œå¼€å§‹è€ƒè™‘æ˜¯ä¸æ˜¯åŒå‘é“¾è¡¨å ç”¨çš„ç©ºé—´è¿‡å¤šã€‚ æ­£ç¡®ä»£ç ä»”ç»†çœ‹é¢˜ç›®åŽå‘çŽ°retrieving the minimum element in constant timeï¼Œå³æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œä¸Šè¿°å®žçŽ°ä»£ç æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæ˜Žæ˜¾ä¸ç¬¦åˆè¦æ±‚ã€‚çœ‹æ¥ç†è§£é¢˜ç›®æœ‰è¯¯ï¼Œä¸æ˜¯ä¸ºäº†å®žçŽ°æ ˆç±»ï¼Œè€Œæ˜¯ä¸ºäº†åˆ©ç”¨æ•°æ®ç»“æž„è§£å†³èŽ·å–æœ€å°å€¼é—®é¢˜ã€‚ ç»è¿‡è€ƒè™‘åŽå¯ä»¥é€šè¿‡åœ¨ç±»å†…éƒ¨ç»´æŠ¤å­˜å‚¨æœ€å°å€¼çš„æ ˆæ¥è§£å†³ï¼Œå­˜å‚¨æœ€å°å€¼çš„æ ˆé™¤äº†éœ€è¦å­˜å‚¨æœ€å°å€¼å¤–ï¼Œè¿˜éœ€è¦ç»´æŠ¤æœ€å°å€¼ä¸ªæ•°ã€‚ å®žçŽ°ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051class MinStack &#123; struct MinUnit &#123; int count; int value; MinUnit(int count, int value) : count(count), value(value) &#123;&#125;; &#125;;public: void push(int x) &#123; data_stack.push(x); if (min_stack.empty() || x &lt; min_stack.top()-&gt;value) &#123; MinUnit *p_unit = new MinUnit(1, x); min_stack.push(p_unit); &#125; else if (x == min_stack.top()-&gt;value) &#123; min_stack.top()-&gt;count++; &#125; &#125; void pop() &#123; if (data_stack.top() == min_stack.top()-&gt;value) &#123; if (min_stack.top()-&gt;count == 1) &#123; MinUnit *punit = min_stack.top(); min_stack.pop(); delete punit; &#125; else &#123; min_stack.top()-&gt;count--; &#125; &#125; data_stack.pop(); &#125; int top() &#123; return data_stack.top(); &#125; int getMin() &#123; return min_stack.top()-&gt;value; &#125; private: std::stack&lt;int&gt; data_stack; // æœ€å°æ ˆï¼Œä¸ºäº†ä¾¿äºŽä¿®æ”¹æ ˆå•å…ƒä¸­çš„countå€¼ï¼Œé‡‡ç”¨å­˜å‚¨æŒ‡é’ˆæ–¹å¼ std::stack&lt;MinUnit*&gt; min_stack;&#125;;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux IOæ¨¡åž‹]]></title>
      <url>%2Fpost%2Flinux_io%2F</url>
      <content type="text"><![CDATA[ç”±äºŽI/Oæ¨¡åž‹çŽ°åœ¨æŽŒæ¡è¿˜ä¸å¤Ÿé€å½»ï¼Œæœ¬æ–‡ä»…åˆ—å‡ºäº†ä¸€äº›I/Oæ¨¡åž‹ä¸­çš„ä¸€äº›å¸¸ç”¨æ¦‚å¿µï¼Œå¯¹äºŽselectã€pollã€epollå’Œä¿¡å·é©±åŠ¨I/Oç­‰æ¨¡åž‹ç†è§£è¿˜ä¸å¤Ÿé€å½»ï¼Œå¾…ç†è§£é€å½»åŽè¡¥ä¸Šã€‚ é˜»å¡žI/Oä¸Žéžé˜»å¡žI/Oé˜»å¡žI/Oï¼šå½“è¿›è¡ŒI/Oæ“ä½œåŽï¼Œç¨‹åºå¤„äºŽç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°éœ€è¦çš„èµ„æºå¯ç”¨ä¸ºæ­¢ã€‚ éžé˜»å¡žI/Oï¼šå½“è¿›è¡ŒI/Oæ“ä½œåŽï¼Œå‡½æ•°ç›´æŽ¥è¿”å›žï¼Œä¸éœ€è¦ç­‰å¾…ã€‚ ä¸¤ç§æ–‡ä»¶æè¿°ç¬¦å‡†å¤‡å°±ç»ªçš„é€šçŸ¥æ¨¡å¼æ°´å¹³è§¦å‘é€šçŸ¥ï¼šå¦‚æžœæ–‡ä»¶æè¿°ç¬¦ä¸Šå¯ä»¥éžé˜»å¡žåœ°æ‰§è¡ŒI/Oç³»ç»Ÿè°ƒç”¨ï¼Œæ­¤æ—¶è®¤ä¸ºå®ƒå·²ç»å°±ç»ªã€‚å…è®¸åœ¨ä»»æ„æ—¶åˆ»é‡å¤æ£€æµ‹I/OçŠ¶æ€ï¼Œæ²¡æœ‰å¿…è¦æ¯æ¬¡å½“æ–‡ä»¶æè¿°ç¬¦å°±ç»ªåŽå°½å¯èƒ½å¤šçš„æ‰§è¡ŒI/Oã€‚å…¶ä¸­select()å’Œpoll()å±žäºŽæ°´å¹³è§¦å‘é€šçŸ¥æ¨¡å¼ã€‚ è¾¹ç¼˜è§¦å‘é€šçŸ¥ï¼šå¦‚æžœæ–‡ä»¶æè¿°ç¬¦è‡ªä¸Šæ¬¡çŠ¶æ€æ£€æŸ¥ä»¥æ¥æœ‰äº†æ–°çš„I/Oæ´»åŠ¨ï¼Œæ­¤æ—¶éœ€è¦è§¦å‘é€šçŸ¥ã€‚åªæœ‰å½“I/Oäº‹ä»¶å‘ç”ŸåŽæ‰ä¼šå¾—åˆ°é€šçŸ¥ï¼Œåœ¨å¦å¤–ä¸€ä¸ªI/Oäº‹ä»¶åˆ°æ¥ä¹‹å‰ä¸ä¼šå¾—åˆ°é€šçŸ¥ã€‚å› æ­¤ï¼Œåœ¨æŽ¥æ”¶åˆ°ä¸€ä¸ªI/Oäº‹ä»¶åŽï¼Œç¨‹åºåœ¨æŸä¸ªæ—¶åˆ»åº”è¯¥åœ¨ç›¸åº”çš„æ–‡ä»¶æè¿°ç¬¦ä¸Šå°½å¯èƒ½å¤šåœ°æ‰§è¡ŒI/Oã€‚æ¯ä¸ªè¢«æ£€æŸ¥çš„æ–‡ä»¶æè¿°ç¬¦è¢«ç½®ä¸ºéžé˜»å¡žæ¨¡å¼ï¼Œåœ¨å¾—åˆ°I/Oäº‹ä»¶é€šçŸ¥åŽé‡å¤æ‰§è¡ŒI/Oæ“ä½œï¼Œç›´åˆ°ç³»ç»Ÿè°ƒç”¨è¿”å›žé”™è¯¯ä¸ºæ­¢ã€‚å…¶ä¸­ä¿¡å·é©±åŠ¨I/Oå±žäºŽæ­¤ç§ç±»åž‹ã€‚ å°†çš„é€šä¿—ä¸€ç‚¹ï¼Œå‡è®¾é€šè¿‡å¼‚æ­¥I/Oè¯»å–socketæ•°æ®ï¼Œå½“æŽ¥æ”¶åˆ°100ä¸ªå­—èŠ‚çš„æ•°æ®åŽï¼Œè¿™æ—¶å€™ä¼šè§¦å‘é€šçŸ¥ç»™åº”ç”¨ç¨‹åºã€‚å¦‚æžœåº”ç”¨ç¨‹åºä»…è¯»å–äº†50å­—èŠ‚çš„æ•°æ®ï¼Œé‡æ–°è°ƒç”¨å¼‚æ­¥I/Oå‡½æ•°æ—¶ï¼Œåœ¨æ°´å¹³è§¦å‘æ—¶ä»ç„¶ä¼šå¾—åˆ°é€šçŸ¥ï¼Œè€Œé‡‡ç”¨è¾¹ç¼˜è§¦å‘æ—¶ä¸ä¼šå¾—åˆ°é€šçŸ¥ã€‚ epollå³å¯ä»¥é‡‡ç”¨æ°´å¹³è§¦å‘é€šçŸ¥æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨è¾¹ç¼˜è§¦å‘é€šçŸ¥æ–¹å¼ã€‚ è¿™ä¸¤ä¸ªæ¦‚å¿µå¯¹äºŽç†è§£Linuxçš„I/Oæ¨¡åž‹éžå¸¸é‡è¦ï¼Œä½†æ˜¯å´æ˜¯ä¸å®¹æ˜“ç†è§£ã€‚å¯ä»¥é€šè¿‡ä¸¾ä¾‹è¯´æ˜Žï¼šä¸€ä¸ªç®¡é“å†…æ”¶åˆ°äº†æ•°æ®ï¼Œæ³¨å†Œè¯¥ç®¡é“æè¿°ç¬¦çš„epollè¿”å›žï¼Œä½†æ˜¯ç”¨æˆ·åªè¯»å–äº†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œç„¶åŽå†æ¬¡è°ƒç”¨äº†epollã€‚è¿™æ—¶ï¼Œå¦‚æžœæ˜¯æ°´å¹³è§¦å‘æ–¹å¼ï¼Œepollå°†ç«‹åˆ»è¿”å›žï¼Œå› ä¸ºå½“å‰æœ‰æ•°æ®å¯è¯»ï¼Œæ»¡è¶³IOå°±ç»ªçš„è¦æ±‚ï¼›ä½†æ˜¯å¦‚æžœæ˜¯è¾¹æ²¿è§¦å‘æ–¹å¼ï¼Œepollä¸ä¼šè¿”å›žï¼Œå› ä¸ºè°ƒç”¨ä¹‹åŽè¿˜æ²¡æœ‰æ–°çš„IOäº‹ä»¶å‘ç”Ÿï¼Œç›´åˆ°æœ‰æ–°çš„æ•°æ®åˆ°æ¥ï¼Œepollæ‰ä¼šè¿”å›žï¼Œç”¨æˆ·å¯ä»¥ä¸€å¹¶è¯»åˆ°è€çš„æ•°æ®å’Œæ–°çš„æ•°æ®ã€‚ åŒæ­¥I/Oä¸Žå¼‚æ­¥I/OåŒæ­¥I/Oï¼šå‘å‡ºI/Oæ“ä½œåŽï¼ŒåŽé¢æ“ä½œä¸èƒ½è¿›è¡Œï¼Œè¦ä¹ˆç­‰å¾…I/Oæ“ä½œå®Œæˆï¼Œè¦ä¹ˆæ”¾å¼ƒI/Oæ“ä½œã€‚åŽé¢çš„æ“ä½œå’Œå½“å‰çš„æ“ä½œåªèƒ½æœ‰ä¸€ä¸ªè¿›è¡Œã€‚ å¼‚æ­¥I/Oï¼šå‘å‡ºI/Oæ“ä½œåŽï¼Œé©¬ä¸Šè¿”å›žç»§ç»­æ‰§è¡ŒåŽé¢çš„æ“ä½œï¼Œè€ŒI/Oæ“ä½œåŒæ—¶æ‰§è¡Œã€‚ å‚è€ƒæ–‡ç«  ã€ŠLinux/UNIXç³»ç»Ÿç¼–ç¨‹æ‰‹å†Œã€‹ç¬¬63ç«  æµ…æžLinux IOæŠ€æœ¯ä½“ç³»]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[äº‘å—ä¹‹æ—…]]></title>
      <url>%2Fpost%2Fyunan_travel%2F</url>
      <content type="text"><![CDATA[å‰è¨€åœ¨è¿™ä¸ªç‚Žçƒ­çš„å¤å¤©ï¼Œåœ¨ä¸€ä¸ªç‰¹æ®Šçš„æœˆä»½ï¼Œæˆ‘å¼€å¯äº†ä¸€æ®µ8å¤©7æ™šçš„äº‘å—ä¹‹æ—…ã€‚å‡ºäºŽèµ„é‡‘æ–¹é¢å’Œçœå¿ƒæ–¹é¢çš„è€ƒè™‘ï¼Œé€‰æ‹©è·Ÿå›¢æ—…æ¸¸ã€‚æœ¬æ¬¡çš„æ—…è¡ŒåŒ…å«äº†æ˜†æ˜Žã€å¤§ç†ã€ä¸½æ±Ÿå’Œé¦™æ ¼é‡Œæ‹‰å››ä¸ªåœ°ç‚¹ï¼Œå¦‚æžœä¸æ˜¯è·Ÿå›¢ï¼Œåœ¨çŸ­çŸ­çš„6å¤©çš„æ—…è¡Œæ—¶é—´ä¹‹å†…ä¸å¯èƒ½èµ°å®Œå››ä¸ªåœ°æ–¹çš„å¤šä¸ªæ™¯ç‚¹ï¼Œå› ä¸ºè¿™å››ä¸ªåœ°æ–¹ä¹‹é—´çš„è·ç¦»åè½¦åŸºæœ¬éƒ½åœ¨å››ä¸ªå°æ—¶ä»¥ä¸Šã€‚å¤§å¤šæ•°äººåŽ»äº‘å—è¿˜æ˜¯ä¼šé€‰æ‹©è·Ÿå›¢çš„ï¼Œå› ä¸ºè·Ÿå›¢çœå¤ªå¤šäº‹äº†ã€‚å¦‚æžœæ˜¯ç‹¬è‡ªå‡ºè¡Œï¼Œæ¯å¤©å…‰æŸ¥è·¯çº¿è·¯ã€æ‰¾é…’åº—ã€æŸ¥æ”»ç•¥å°±ä¼šæµªè´¹æŽ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ—¶é—´ï¼Œè‚¯å®šä¼šæ›´è‡ªç”±ä¸€äº›ï¼Œä½†æ˜¯ç»å¯¹ä¸ä¼šèµ°è¿‡è¿™ä¹ˆå¤šåœ°æ–¹ã€‚ è·Ÿå›¢ä¹Ÿæœ‰å¾ˆå¤šä¸å¥½çš„åœ°æ–¹ï¼Œæœ¬æ¬¡å‡ºè¡Œæ—…è¡Œç¤¾åˆ¶å®šçš„è·¯çº¿ä¸ºâ€œå‡ºå‘åœ°-æ˜†æ˜Ž-å¤§ç†-ä¸½æ±Ÿ-é¦™æ ¼é‡Œæ‹‰-ä¸½æ±Ÿ-å¤§ç†-æ˜†æ˜Ž-ç›®çš„åœ°â€ï¼Œå¯ä»¥çœ‹åˆ°è·¯çº¿æ˜¯é‡å¤äº†ä¸€éï¼Œç›¸å½“äºŽå¾ˆå¤§ä¸€éƒ¨åˆ†æ—¶é—´éƒ½æµªè´¹åœ¨äº†è·¯ä¸Šï¼Œè‡³å°‘ç›¸å½“äºŽæµªè´¹äº†4+4+4å…±12ä¸ªå°æ—¶çš„æ—¶é—´ï¼Œè¿™ä¹Ÿå°±é€ æˆäº†æ¯å¤©æ—©æ™¨éœ€è¦å¾ˆæ—©å°±èµ·åºŠï¼ŒåŸºæœ¬åœ¨6ç‚¹åŠå°±ååœ¨å¤§å·´ä¸Šå‡ºå‘äº†ã€‚ä¹‹æ‰€ä»¥æ¯å¤©æ—©æ™¨ä¼šå¾ˆæ—©å°±èµ·åºŠï¼Œå¦ä¸€ä¸ªåŽŸå› æ˜¯å› ä¸ºçŽ°åœ¨æ˜¯äº‘å—æ—…æ¸¸çš„æ—ºå­£ï¼Œä¸€æ—¦ç¨å¾®æ™šäº›ï¼Œå¾ˆå¤šæ™¯ç‚¹å°±ä¼šæŽ’é˜Ÿç­‰å¥½é•¿æ—¶é—´ï¼Œå¯èƒ½æ™šèµ·10åˆ†é’Ÿï¼Œå°±è¦åœ¨æ™¯åŒºå¤šæŽ’ä¸€ä¸ªå°æ—¶çš„é˜Ÿã€‚ è·Ÿå›¢çš„ä»·æ ¼ä¹‹æ‰€ä»¥ä¾¿å®œï¼Œå¬å¯¼æ¸¸è¯´ï¼Œè¿™æ˜¯äº‘å—çœæ—…æ¸¸å±€çš„å†³å®šã€‚äº‘å—ç»å¤§å¤šæ•°éƒ½æ˜¯é«˜åŽŸå±±åŒºåœ°è²Œï¼Œäº¤é€šä¸å¤Ÿå‘è¾¾ã€‚æ—…æ¸¸ä¸šåœ¨äº‘å—çš„ç»æµŽä¸­å æœ‰å¾ˆå¤§çš„æ¯”é‡ï¼Œæ”¿åºœæƒ³é€šè¿‡æ—…æ¸¸æ¥æ‹‰åŠ¨ç»æµŽï¼Œè·Ÿå›¢ä»·æ ¼ä¾¿å®œï¼Œè‡ªç„¶éœ€è¦åœ¨æ—…æ¸¸è¿‡ç¨‹ä¸­çš„æ¶ˆè´¹æ¥èµšé’±ã€‚æœ¬æ¬¡æ—…æ¸¸çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæœ‰å‡ æ¬¡è´­ç‰©çš„ç»åŽ†ï¼Œå…¶ä¸­è¡Œç¨‹ä¸­çš„å¤§ç†åå…«é‡Œé“ºå’Œä¸ƒå½©äº‘å—æ˜¯èµ¤è£¸è£¸çš„è´­ç‰©çŽ¯èŠ‚ï¼Œå¯¼æ¸¸ä¹Ÿæ˜Žç¡®çš„å‘ŠçŸ¥äº†ã€‚åœ¨åŽ»æ™¯ç‚¹çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆæ˜Žæ˜¾å‘çŽ°æ¯ä¸ªæ™¯ç‚¹çš„å¿…ç»é€šé“ä¸­å‡æœ‰è´­ç‰©çš„éƒ¨åˆ†ï¼Œè¿™æ˜¯äº‘å—çš„æ™¯ç‚¹å’Œæˆ‘åŽ»è¿‡çš„å…¶ä»–æ™¯ç‚¹æ¯”è¾ƒå¤§çš„å·®åˆ«ã€‚æœ€å¥‡è‘©çš„æ˜¯é•¿æ±Ÿç¬¬ä¸€å¼¯çš„è§‚æ™¯æ¥¼ï¼Œå¤§çº¦7å±‚æ¥¼å·¦å³çš„æ ·å­ï¼Œæ¯å±‚æ¥¼çš„æ¥¼æ¢¯éƒ½ä¸åœ¨ä¸€ä¸ªä½ç½®ï¼Œä»Žä¸€å±‚çš„æ¥¼æ¢¯èµ°åˆ°å¦ä¸€å±‚çš„æ¥¼æ¢¯å¿…ç»å–åœŸç‰¹äº§çš„æŸœå°ï¼Œæ¥¼å±‚ä¸Šå…¨æ˜¯å–åœŸç‰¹äº§çš„ã€‚å…¶å®žé•¿æ±Ÿç¬¬ä¸€å¼¯ä¹Ÿä»…æœ‰ä¸€ä¸ªè§‚æ™¯æ¥¼è€Œå·²ï¼Œå› æ­¤æ˜¯å…è´¹çš„ã€‚ è·Ÿå›¢å¾ˆå¤§ä¸€éƒ¨åˆ†æ—¶é—´éƒ½åœ¨åè½¦ä¸Šï¼Œæ¸¸è§ˆæ™¯ç‚¹çš„æ—¶é—´ç¡®å®žéžå¸¸ç´§ï¼Œè€Œå¯¼æ¸¸ç»™çš„è´­ç‰©åœ°æ–¹çš„æ—¶é—´ç¡®å®žéžå¸¸å……è£•ã€‚æ¯”å¦‚æ¸¸è§ˆçŸ³æž—ä»…ç»™äº†ä¸€ä¸ªåŠå°æ—¶å·¦å³çš„æ—¶é—´ï¼ŒçŸ³æž—æ˜¯å›½å®¶çš„5Açº§æ™¯åŒºï¼Œé—¨ç¥¨ä»·æ ¼æ˜¯170ï¼Œæ˜¯æœ¬æ¬¡è¡Œç¨‹ä¸­æœ€è´µçš„æ™¯ç‚¹äº†å§ã€‚çŸ³æž—è™½ç„¶ä¸å¤§ï¼Œä½†æ˜¯è¦æƒ³åœ¨ä¸€ä¸ªåŠå°æ—¶å†…å…¨éƒ¨æ¸¸è§ˆå®Œæ˜¯ä¸å¯èƒ½çš„ï¼Œå› æ­¤åªèƒ½èµ°é©¬è§‚èŠ±ï¼Œæ²¡åŠžæ³•ï¼Œè·Ÿå›¢èµ°å°±åªèƒ½è®¤äº†ã€‚ ä¹‹æ‰€ä»¥è¦å†™ä¸‹è¿™æ®µè¡Œç¨‹ï¼Œæ˜¯å› ä¸ºè¿™æ®µæ—…è¡Œå¯¹æˆ‘è€Œè¨€æœ‰ç€ä¸ä¸€èˆ¬çš„æ„ä¹‰ï¼Œæˆ‘æƒ³å°†è¿™æ®µè®°å¿†é“­è®°åœ¨å¿ƒã€‚ä¸å¹¸çš„æ˜¯ï¼Œå›žå®¶åŽå‘çŽ°å•åçš„SDå¡å‡ºé—®é¢˜äº†ï¼Œç…§ç‰‡ä¸¢å¤±äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚æˆ‘è™½ä¸æ˜¯å¾ˆè®¤åŒæ—…æ¸¸å°±æ˜¯ä¸ºäº†æ‹ç…§ï¼ŒçŽ°åœ¨äººä»¬å·²ç»è¿‡åº¦çš„é‡è§†æ‹ç…§è€Œå¿½ç•¥äº†æ—…è¡Œæœ¬èº«çš„æ„ä¹‰ï¼Œä½†æ˜¯è¿™äº›ç…§ç‰‡åœ¨è¿™æ¬¡æ—…è¡Œä¸­ç¡®å®žä¸å¯æˆ–ç¼ºçš„ã€‚ Day 1ä¸‹åˆä¸‰ç‚¹å¤šå°±åˆ°äº†æ˜¥åŸŽæ˜†æ˜Žï¼ŒæŠ¬å¤´ä¸€çœ‹æ˜†æ˜Žçš„å¤©æžœç„¶ä¸ä¸€èˆ¬ï¼Œäº‘å½©éžå¸¸å¤šï¼Œè€Œä¸”ç¦»åœ°é¢éžå¸¸è¿‘ï¼Œè½®å»“æ„Ÿå¾ˆå¼ºã€‚é˜³å…‰éžå¸¸å¼ºçƒˆï¼Œæ°”æ¸©è™½ç„¶ä¸é«˜ï¼Œä½†æ˜¯ç´«å¤–çº¿è¾ƒå¼ºï¼Œé˜³å…‰ç…§åœ¨çš®è‚¤ä¸Šç”Ÿç–¼ã€‚ä¸åƒåœ¨æµŽå—åªèƒ½çœ‹åˆ°çš„é›¾éœ¾ï¼ŒæµŽå—å³ä½¿æœ‰äº‘ä¹Ÿæ˜¯åœ¨é›¾éœ¾ä¹‹ä¸Šï¼Œä»Žåœ°é¢çœ‹åŽ»æ¯«æ— å±‚æ¬¡æ„Ÿã€‚æ‰¾åˆ°æ—…è¡Œç¤¾åŽæœºåœºæŽ¥é€äººå‘˜é€å¾€é…’åº—ï¼Œç¨äº‹ä¼‘æ¯åŽåŽ»åˆ°æ˜†æ˜Žå¸‚ä¸­å¿ƒçš„å—å±è¡—ã€‚ä»Žæ•´ä½“çœ‹ï¼Œæ˜†æ˜Žçš„å¸‚å®¹è·ŸæµŽå—ç›¸ä»¿ï¼Œå±žäºŽä¸æ˜¯å¾ˆç¹åŽçš„ç±»åˆ«ï¼Œä½†æ˜¯å´å±žäºŽçœä¼šçš„æ¡£æ¬¡ã€‚ä¸‹å›¾ç…§ç‰‡æˆ‘ç¬¬ä¸€æ™šé…’åº—çš„ç…§ç‰‡ï¼Œå¤§å®¶æ„Ÿå—ä¸€ä¸‹äº‘ã€‚ æ™šä¸Šå’Œæœ‹å‹åœ¨ä¸€å®¶å½æ—çš„èœé¦†åƒé¥­ï¼Œå¯¹äºŽåŒ—æ–¹çš„æˆ‘æ¥è¯´ï¼Œå—æ–¹çš„é¥­èœåƒèµ·æ¥ä¸å¤ªä¹ æƒ¯ï¼Œç±³é¥­æ˜¯ç”Ÿç¡¬çš„ï¼Œæ±¤æ˜¯æ²¹è…»çš„ï¼Œèœæ˜¯è¾£çš„ä¸”æ²¡æ»‹å‘³ã€‚ åƒå®Œé¥­åŽå‡†å¤‡åå…¬äº¤å›žé…’åº—ï¼Œå·²ç»æ™šä¸Šä¹ç‚¹åŠå·¦å³äº†ï¼Œæƒ³æŠ¬å¤´çœ‹çœ‹èƒ½ä¸èƒ½çœ‹åˆ°æ˜Ÿæ˜Ÿï¼Œå±…ç„¶çœ‹åˆ°æ»¡å¤©çš„äº‘ï¼ŒçœŸæ˜¯å¥‡ç‰¹ã€‚åœ¨å±±ä¸œå³ä½¿æ™šä¸Šæœ‰æ»¡å¤©çš„äº‘ï¼Œä¹Ÿç»å¯¹è¾¾ä¸åˆ°æ˜†æ˜Žçš„äº‘çš„æ˜Žäº®ç¨‹åº¦ã€‚é€ æˆè¿™ç§çŽ°è±¡æœ‰ä¸¤ä¸ªåŽŸå› ï¼Œä¸€æ˜¯æ˜†æ˜Žå±žäºŽä¸œä¸ƒåŒºï¼Œæ¯”åŒ—äº¬æ—¶é—´è¦æ™šä¸Šä¸€ä¸ªå°æ—¶ï¼›äºŒæ˜¯ï¼Œäº‘å—çš„äº‘ç¦»å¾—åœ°é¢æ›´è¿‘ä¸”å¤šã€‚ Day 2è¿™æ˜¯æ‚²å‚¬çš„ä¸€å¤©ï¼ŒæŒ‰ç…§è¡Œç¨‹ï¼Œè¦èµ°â€œæ˜†æ˜Žâ€”å¤§ç†â€”ä¸½æ±Ÿï¼ˆæ˜†æ˜Žå¤§ç†è¡Œè½¦çº¦4.5å°æ—¶ï¼Œå¤§ç†-ä¸½æ±Ÿè¡Œè½¦çº¦2å°æ—¶è½¦ç¨‹ï¼‰â€çš„è·¯ç¨‹ã€‚æ—©æ™¨ä¸€èµ·åºŠï¼Œè¦åŽ»é¤åŽ…åƒæ—©é¥­ï¼Œå‘çŽ°é¤åŽ…ä¹Œç§§ä¹Œç§§çš„å…¨æ˜¯äººå•Šï¼Œæ‰¾ä¸ªåœ°æ–¹åƒé¥­éƒ½éš¾ï¼Œåœ¨è‰°éš¾ä¸­åƒå®Œäº†æ—©é¤ã€‚æœŸé—´ä¸€å¥³åŒèƒžä¸å°å¿ƒæ‰“ç¢Žäº†ä¸€ä¸ªç¢—ï¼Œé¤åŽ…è€æ¿è¦äº†å¥³é¡¾å®¢10å—é’±ï¼Œå¿ƒæƒ³çœŸé»‘å•Šï¼Œå‡ æ¯›é’±ä¸€ä¸ªç¢—è‡³äºŽè¦è¿™ä¹ˆå¤šå—ï¼Ÿ åƒå®Œé¥­åŽï¼Œé¤åŽ…å¤–é¢å’Œé…’åº—å¤§å ‚å…¨æ˜¯æ¸¸å®¢ï¼Œç»è¿‡ç”µè¯æ²Ÿé€šåŽæ‰¾åˆ°äº†å¯¼æ¸¸ã€‚å¯¼æ¸¸ç‚¹ååŽåä¸Šäº†æ‚²å‚¬çš„å¤§å·´ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¯¼æ¸¸è¿˜ä¸é”™ï¼Œä¸œåŒ—å°ä¼™ï¼Œåœ¨äº‘å—ä¸Šçš„å¤§å­¦ã€‚äº‘å—çš„æ—…æ¸¸å¤§å·´éƒ½æ˜¯è½¦ç‰Œå·éƒ½æ˜¯ç»Ÿä¸€ç¼–å·çš„ï¼Œè½¦ç‰Œå·ä»¥â€œLâ€œå¼€å¤´ï¼Œè¡¨ç¤ºæ—…æ¸¸çš„å«ä¹‰ã€‚æ—…æ¸¸å¤§å·´å¯åŠ¨åŽï¼Œé›¨å°±å¼€å§‹ç¨€é‡Œå“—å•¦çš„ä¸‹èµ·æ¥äº†ï¼Œè¿æ°”è¿˜ä¸é”™ã€‚ æ—…æ¸¸å¤§å·´åœ¨é«˜é€Ÿä¸Šè¦åœ¨å¥½å¤šåœ°æ–¹åšä¾‹è¡Œæ£€æŸ¥ï¼Œå¤§çº¦9ç‚¹å·¦å³è¡Œé©¶åˆ°æ¥šé›„åœ°æ®µçš„æŸä¸ªé«˜é€Ÿæ£€æŸ¥ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¤§å·´çš„å³ä¾§çŽ»ç’ƒè·ŸåŽé¢çš„å¤§å·´çš„å·¦ä¾§åŽè§†é•œæ‘©æ“¦è€Œè¿‡ï¼Œå› ä¸ºæˆ‘å°±ååœ¨åŽæŽ’ï¼Œçœ¼çççš„ç›®ç¹äº†è¿™ä¸€è¿‡ç¨‹ã€‚ç»“æžœæˆ‘ä»¬å¤§å·´å³ä¾§çŽ»ç’ƒå’ŒåŽé¢å¤§å·´çš„å·¦ä¾§åŽè§†é•œå…¨éƒ¨æŒ‚æŽ‰äº†ï¼Œå¹¸å¥½æ²¡æœ‰é©´å‹å—ä¼¤æƒ…å†µï¼Œæœ‰å›¾æœ‰çœŸç›¸ã€‚ åœ¨æœåŠ¡åŒºç»è¿‡1ä¸ªå°æ—¶çš„ç­‰å¾…åŽå¤§å·´å‘å‰èµ°äº†ï¼Œç›®çš„åœ°ä¸æ˜¯å¤§ç†ï¼Œè€Œæ˜¯å‰æ–¹çš„æŸä¸ªå°é•‡ã€‚å› ä¸ºå¤§å·´æ²¡äº†æŒ¡é£ŽçŽ»ç’ƒï¼Œé€Ÿåº¦ä¹Ÿä¸Šä¸åŽ»äº†ï¼Œåœ¨åŽé¢åç€è¿˜æ˜¯ç›¸å½“å‡‰å¿«çš„ã€‚åœ¨å°é•‡åƒäº†ä¸ªé‡Žç”ŸèŒç«é”…åŽï¼Œå¼€å§‹äº†æ¼«é•¿çš„ç­‰å¾…ï¼Œç­‰å¾…ç€æ›´æ¢çš„å¤§å·´ä»Žå¤§ç†èµ¶æ¥ã€‚ä»Žå‡ºçŽ°äº‹æ•…åˆ°æ–°çš„å¤§å·´çš„åˆ°æ¥ï¼ŒèŠ±æŽ‰äº†è¿‘5ä¸ªå°æ—¶çš„æ—¶é—´ï¼Œè¿™äº”ä¸ªå°æ—¶å°±ç®—æµªè´¹äº†ã€‚ å¤§å·´å‰å¾€å¤§ç†ï¼Œåˆ°è¾¾å¤§ç†æ—¶æŽ¥è¿‘5ç‚¹å¤šäº†ï¼Œåœ¨å¤©é¾™å…«éƒ¨å½±è§†åŸŽé™„è¿‘åƒäº†ä¸ªæ™šé¤ï¼Œå¼€å§‹äº†èµ¶å¾€ä¸½æ±Ÿçš„è¡Œç¨‹ã€‚æœ¬æ¥è®¡åˆ’ä¸­çš„å¤§ç†å¤åŸŽå’ŒæŸæ²³å¤é•‡å…¨éƒ¨æ³¡æ±¤ï¼Œåªèƒ½å°†è¡Œç¨‹å®‰æŽ’åˆ°å›žæ¥æ—¶åœ¨æ¸¸è§ˆã€‚ åˆ°è¾¾ä¸½æ±Ÿæ—¶å·²ç»æ™šä¸Šåç‚¹çš„æ ·å­ï¼Œåˆšåˆšä¸‹è¿‡ä¸€åœºé›¨ï¼Œç›´æŽ¥å…¥ä½é…’åº—ã€‚ Day 3ç›¸å¯¹æ¥è¯´æœ€è½»æ¾çš„ä¸€å¤©ï¼Œä»Šå¤©çš„è¡Œç¨‹ä¸­ä»…æœ‰çŽ‰é¾™é›ªå±±æ™¯åŒºå’ŒçŽ‰æ°´å¯¨ã€‚ åœ¨äº‘å—ç»™æˆ‘ä»¬å¸¦å›¢çš„å¯¼æ¸¸å±žäºŽçœçº§å¯¼æ¸¸ï¼Œåˆ°äº†ä¸½æ±Ÿè¿™ç§åœ°æ–¹æ€§æ™¯ç‚¹å¯¼æ¸¸éœ€è¦æ›´æ¢ä¸ºåœ°æ–¹æ€§å¯¼æ¸¸ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§åœ°æ–¹æ‹‰åŠ¨å°±ä¸šçš„æŽªæ–½ã€‚æ˜¨å¤©çš„å¯¼æ¸¸ç›´æŽ¥ä¼‘æ¯ä¸€å¤©ï¼Œä»Šå¤©çš„å¯¼æ¸¸æ˜¯å½“åœ°çš„çº³è¥¿æ—å¯¼æ¸¸å¸¦é¢†ã€‚ çŽ‰é¾™é›ªå±±æ˜¯ä¸½æ±Ÿæ—…æ¸¸çš„å¿…åŽ»ä¹‹åœ°ï¼Œæ¯å¤©ä¸½æ±Ÿçš„æ¸¸å®¢å¤§çº¦åœ¨2ä¸‡äººçš„æ ·å­ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©ä¹Ÿä¼šæœ‰2ä¸‡äººä¼šå‰å¾€çŽ‰é¾™é›ªå±±ã€‚ä¸ºäº†é¿å…åœ¨æ™¯åŒºæŽ’é˜Ÿï¼Œæ—©æ™¨6ç‚¹åŠå°±å‡ºå‘å‰å¾€çŽ‰é¾™é›ªå±±ï¼Œä¸€ä¸ªå°æ—¶å·¦å³æ—¶é—´åˆ°è¾¾äº†çŽ‰é¾™é›ªå±±çš„å…¥å£ã€‚ä¸‹è½¦åŽåç€çŽ¯ä¿å¤§å·´ç›˜å±±è€Œä¸Šï¼Œåˆ°è¾¾äº‘æ‰åªè„šä¸‹ï¼Œä¹˜ç´¢é“è€Œä¸Šåˆ°è¾¾äº‘æ‰åªã€‚äº‘é¾™é›ªå±±ç»ˆå¹´äº‘é›¾ç¼­ç»•ï¼Œå°¤å…¶æ˜¯åœ¨äº‘å—çš„é›¨å­£æ›´æ˜¯éžå¸¸éš¾ä»¥çœ‹åˆ°çŽ‰é¾™é›ªå±±çš„é¢è²Œï¼Œå¬å¯¼æ¸¸è®²ä»–ä¹Ÿä»…ä»…çœ‹è¿‡10æ¬¡å·¦å³çš„æ ·å­ã€‚æˆ‘ä¸æ˜¯ä¸ªå¹¸è¿çš„äººï¼Œè‡ªç„¶ä¹Ÿæ— æ³•çœ‹åˆ°çŽ‰é¾™é›ªå±±çš„é¢è²Œï¼Œæ­¤æ—¶å¤©è¿˜ä¸‹ç€å°é›¨ï¼Œä»Žäº‘æ‰åªä¸Šæœ›åŽ»ä»…æœ‰ç™½èŒ«èŒ«çš„äº‘è€Œå·²ã€‚å…¶å®žä»Žç´¢é“ä¸‹å’Œç´¢é“ä¸Šçœ‹åˆ°çš„çŽ‰é¾™é›ªå±±çš„æ™¯è‰²å‡ ä¹Žæ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œå¢žåŠ ç´¢é“ä»…æ˜¯ä¸ºäº†å¢žåŠ æ™¯ç‚¹çš„å¯çŽ©æ€§ã€‚ ä»Žç´¢é“ä¸‹æ¥åŽï¼Œå¼€å§‹ä¹˜åç”µç“¶è½¦å¾€ä¸‹èµ°ï¼Œç»è¿‡ä¸‰ç«™ï¼Œæ¯ä¸€ç«™éƒ½ä¼šåœä¸‹æ¥è§‚èµé£Žæ™¯ã€‚ä¸‰ç«™è§‚èµéƒ½æ˜¯ä¸‹å±±çš„ç™½æ°´æ²³ï¼Œåªæ˜¯åˆ†ä¸ºäº†ä¸‰æ®µï¼Œä¸‰æ®µæ™¯è‰²ä¸å°½ç›¸åŒã€‚æ²³æ°´å±žäºŽç¢±æ€§ï¼Œæ²³æ°´é¢œè‰²æ˜¯è“è‰²ä¸”æ¸…æ¾ˆï¼Œçœ‹èµ·æ¥ç›¸å½“æ¼‚äº®ï¼Œæ‰€ä»¥å«åšè“æœˆè°·ã€‚ ä»Žé›ªå±±ä¸‹æ¥åŽï¼Œå¦‚æžœæ—¶é—´æ¥çš„åŠå¯ä»¥çœ‹åˆ°å¼ è‰ºè°‹å¯¼æ¼”çš„ã€Šå°è±¡ä¸½æ±Ÿã€‹ï¼Œ500åçº³è¥¿æ—çš„ç¾¤ä¼—æ¼”å‘˜çš„è¡¨æ¼”ã€‚ç”±äºŽä¸‹æ¥æ™šäº†ï¼Œä»…çœ‹äº†ä¸ª5åˆ†é’Ÿçš„ç»“å°¾ï¼Œä¸è¿‡å¯ä»¥ä»Žç½‘ä¸Šæ‰¾çš„åˆ°è§†é¢‘ã€‚è‡ªä»Žæœ‰äº†è€è°‹å­çš„ã€Šå°è±¡ä¸½æ±Ÿã€‹ï¼Œå¸¦å›¢çš„å¿…é¡»è·Ÿç€æ¼”å‡ºæ—¶é—´èµ°ï¼Œæ¥æ™šäº†å°±çœ‹ä¸ä¸Šäº†ã€‚ ä»Žäº‘é¾™é›ªå±±å‡ºæ¥åŽï¼Œå‰å¾€çŽ‰æ°´å¯¨ã€‚çŽ‰æ°´å¯¨æ˜¯ä¸½æ±Ÿå¤åŸŽæ²³æ°´ä¸»è¦æºå¤´ä¹‹ä¸€ï¼Œæ˜¯ä¸½æ±Ÿä¸œå·´æ–‡åŒ–çš„ä¼ æ‰¿åœ£åœ°ã€‚æ™¯ç‚¹é¢ç§¯ä¸å¤§ï¼Œä½†å±žäºŽä¸œå·´æ•™åœ£åœ°ã€‚æ—¢ç„¶å±žäºŽåœ£åœ°ï¼Œç…§ç‰‡å°±ä¸ä¸Šäº†ã€‚ åœ¨å›žä¸½æ±Ÿå¸‚çš„é€”ä¸­ï¼Œå¯¼æ¸¸é¢†æˆ‘ä»¬åŽ»äº†æ‰€è°“çš„èžºæ—‹è—»é…é€ä¸­å¿ƒï¼Œå®žå®žåœ¨åœ¨çš„è´­ç‰©çŽ¯èŠ‚ã€‚èžºæ—‹è—»çš„ç¡®å±žäºŽä¸½æ±Ÿç‰¹äº§ï¼Œé‡Žç”Ÿçš„èžºæ—‹è—»éœ€è¦ç”Ÿé•¿åœ¨ç¢±æ€§çŽ¯å¢ƒä¸­ï¼Œè€Œç¦»ä¸½æ±Ÿä¸è¿œçš„ç¨‹æµ·æ¹–æ˜¯ä¸–ç•Œç¬¬ä¸‰å¤§ç¢±æ€§æ¹–æ³Šï¼Œç»å¯¹æ˜¯é‡Žç”Ÿèžºæ—‹è—»çš„äº§åœ°ï¼Œå°±æ˜¯ä¸çŸ¥é“å¸‚é¢ä¸Šçš„æ‰€è°“ç¨‹æµ·æ¹–èžºæ—‹è—»æœ‰å¤šå°‘æ˜¯çœŸçš„ï¼Œå› ä¸ºä¸€ä¸ªç¨‹æµ·æ¹–å†å¤§ä¹Ÿä¾›åº”ä¸äº†å¸‚åœºä¸Šè¿™ä¹ˆå¤šçš„èžºæ—‹è—»ã€‚èžºæ—‹è—»å¯ä»¥è¢«å¯¼æ¸¸æè¿°å‡ºä¸€å †å¥½å¤„ï¼Œä»€ä¹ˆé™è¡€åŽ‹ã€è°ƒè‚ èƒƒã€å¢žå¼ºæŠµæŠ—åŠ›ç­‰ã€‚æ¯ç½èžºæ—‹è—»290å…ƒï¼Œå±žäºŽæ‰¹å‘ä»·ã€‚æœºçµçš„æˆ‘åœ¨æ²¡æœ‰äº†è§£ä¸€ä»¶å•†å“ä¹‹å‰æ˜¯ä¸ä¼šå†²åŠ¨æ¶ˆè´¹çš„ï¼Œæ·˜å®ä¸€ä¸‹å‘çŽ°æœ‰æ›´ä¾¿å®œçš„ï¼Œå¥½åƒè¿™ä¸ªå“ç‰Œä¹Ÿä¸æ˜¯ä»€ä¹ˆæœ€å¥½çš„ï¼Œè‡ªç„¶ä¸ä¹°ï¼Œä½•å†µæƒ³ä¹°è¿˜éžå¾—ä»Žè¿™é‡Œä¹°ä¸æˆã€‚ ä¸‹åˆä¸€ç‚¹å·¦å³åˆ°è¾¾ä¸½æ±Ÿå¤åŸŽåŒ—é—¨åŽå°±æ˜¯æˆ‘ä»¬çš„è‡ªç”±æ—¶é—´ã€‚é¦–å…ˆæ¥åˆ°äº†é»‘é¾™æ½­å…¬å›­ï¼Œå±žäºŽå¸‚æ°‘æœ€å¸¸åŽ»çš„å¥èº«åœºæ‰€ï¼Œè·ŸæµŽå—çš„äº”é¾™æ½­å…¬å›­ç±»ä¼¼ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Œå±žäºŽå¸‚æ°‘æœ€å¸¸åŽ»çš„å¥èº«åœºæ‰€ã€‚ ä»Žé»‘é¾™æ½­å‡ºæ¥åŽç›´å¥”ä¸½æ±Ÿå¤åŸŽï¼Œæ•´ä¸ªæ¸¸è§ˆä¸‹æ¥ä¸½æ±Ÿå¤åŸŽç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ä¸€åº§å·²ç»å®Œå…¨å•†ä¸šåŒ–çš„çŽ°ä»£å¤åŸŽï¼Œå‡ ä¹Žè·Ÿæˆ‘æƒ³è±¡ä¸­çš„ä¸€è‡´ã€‚å¯¼æ¸¸è·Ÿæˆ‘ä»¬è¯´è¿‡ï¼Œä¸½æ±Ÿå¤åŸŽå†…å…¶ä¸­90%æ˜¯å¤–åœ°äººï¼Œå› æ­¤è¦åœ¨è¿™é‡Œæ‰¾å›žå¤åŸŽçš„æ„Ÿè§‰æ˜¯æ¯”è¾ƒéš¾äº†ï¼Œä½†åœ¨è¿™é‡Œæ–‡è‰ºä¸€æŠŠè¿˜æ˜¯å¯ä»¥çš„ã€‚ ä¸½æ±Ÿå¤åŸŽé¢ç§¯è™½å¤§ï¼Œä½†æ˜¯æ¸¸è§ˆä¸‹æ¥å¤åŸŽå†…ä¹Ÿå°±æ–‡è‰ºå®¢æ ˆã€æ™®é€šé¤é¦†ã€è‰³é‡é…’å§ã€å½©æ¡å›´å·¾ã€ç‰¹è‰²å°é¥°å“ã€é“¶é¦–é¥°ã€æ‰‹æ•²é¼“ã€å†™çœŸã€‚å®¢æ ˆå‡ ä¹Žè¢«é²œèŠ±åŒ…è£¹ï¼Œéšä¾¿æ‰¾ä¸€å®¶å®¢æ ˆéƒ½çœ‹ä¸ŠåŽ»å¾ˆç¾Žå¾ˆè‰ºæœ¯ï¼Œçœ‹ä¸ŠåŽ»åƒæ˜¯ä¸€ä»¶è‰ºæœ¯ä½œå“ã€‚é¤é¦†è·Ÿå¤åŸŽå¤–é¢çš„æ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œåªæ˜¯ä½ç½®ä¸åŒç½¢äº†ã€‚é…’å§åœ¨å¤åŸŽä¸­å æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†å¸­åœ°ï¼Œä¸½æ±Ÿæ˜¯ä»¥è‰³é‡é—»åçš„ï¼Œè‰³é‡æœ€å¤šçš„åœ°æ–¹è¿˜æ˜¯å¾—åœ¨é…’å§ã€‚ç”šè‡³å¤§è¡—ä¸Šéƒ½æœ‰å–è‰³é‡æœè£…çš„ï¼Œå¯è§è‰³é‡åœ¨æ¸¸å®¢å¿ƒä¸­çš„åœ°ä½ã€‚å½©æ¡å›´å·¾åŸºæœ¬æ‹¿å›žå®¶éƒ½æ˜¯é€äººå’Œå½“æ¡Œå¸ƒçš„ï¼Œå¯¼æ¸¸è¯´å›´å·¾åŸºæœ¬éƒ½äº§è‡ªæµ™æ±Ÿçš„ï¼Œä½†åœ¨é€›å¤åŸŽçš„æ—¶å€™ä¹°ä¸ªæŠ«è‚©æŠ«åœ¨èº«ä¸Šçœ‹èµ·æ¥è¿˜æ˜¯ä¸é”™çš„ã€‚å¯¼æ¸¸è¯´é“¶é¦–é¥°æ˜¯ä¹°ä¸å¾—çš„ï¼Œä¸çŸ¥çœŸå‡ï¼Œä¸ä¹°ä¸ºå¥½ã€‚ä»Žåº—å¤–é¢çœ‹åŽ»æ‰‹æ•²é¼“åº—é‡Œåœ¨è¾¹åŠˆç€è…¿åç€æ•²é¼“è¾¹å”±æ­Œçš„å¥³å£«æ€Žä¹ˆçœ‹æ€Žä¹ˆè§‰å¾—åˆ«æ‰­ï¼Œä½†é‚£éŸ³ä¹å¾ˆç‰¹åˆ«ã€‚å¤åŸŽçš„è¡—é“æŒºå¤šï¼Œä½†æ˜¯èµ°ç€èµ°ç€å´åŽŒå€¦äº†ï¼Œå› ä¸ºæ¯æ¡è¡—é“ä¸Šçš„å•†å“ä¹Ÿå°±é‚£äº›ã€‚ è¾¹çœ‹åœ°å›¾è¾¹é—®è·¯ï¼Œå†é…åˆä¸Šä¸å¤ªå¥½ç”¨çš„ç™¾åº¦åœ°å›¾å‘é…’åº—è¿”å›žã€‚ä¸½æ±Ÿçš„ç‰¹è‰²èœä¸ºä¸‰æ–‡é±¼ã€é»‘å±±ç¾Šå’Œè…ŠæŽ’éª¨ã€‚ä¸€è·¯ä¸Šæƒ³æ‰¾ä¸€å®¶å¯ä»¥åƒè…ŠæŽ’éª¨çš„åº—ï¼Œæ„£æ˜¯æ²¡æœ‰æ‰¾åˆ°ä¸€å®¶åˆé€‚çš„ã€‚æœ€åŽç´¯å¹¶é¥¿çš„ä¸è¡Œäº†ï¼Œåœ¨å››æ–¹è¡—æ‰¾äº†å®¶å¾·å…‹å£«å¡«é¥±è‚šå­ç®—äº†ã€‚ Day 4ä¸€æ—©èµ·æ¥ï¼Œå‘è§‰èƒƒéƒ¨ä¸é€‚ï¼Œä¸çŸ¥æ˜¯ä¸æ˜¯æ˜¨å¤©åœ¨ä¸½æ±Ÿå¤åŸŽåƒäº†ä»€ä¹ˆä¸åˆé€‚çš„å°åƒè¿˜æ˜¯æ™šä¸Šç¡è§‰å¿˜è®°å¼€çª—æˆ·äº†è¿˜æ˜¯æœ‰ç‚¹è½»å¾®çš„é«˜åŽŸååº”è¿˜æ˜¯è¿™å‡ å¤©çš„åŠ³ç´¯è¿˜æ˜¯æ°´åœŸä¸æœã€‚æ€»ä¹‹èº«ä½“ä¸èˆ’æœæ˜¯æ—…æ¸¸ä¸­çš„å¤§å¿Œï¼Œæˆ‘æ°å·§å°±ç¢°åˆ°äº†ã€‚ç¨å¾®å–äº†ç‚¹ç±³ç²¥åŽå°±ä¸Šè·¯äº†ã€‚çº¦èŽ«èµ°äº†ä¸€ä¸ªå°æ—¶ï¼Œåäº†ä¸€æ¬¡ã€‚è¿˜å¥½ï¼Œåå®ŒåŽæ•´ä¸ªèº«ä½“éƒ½è½»æ¾å¤šäº†ã€‚ åœ¨è™Žè·³å³¡é™„è¿‘æŽ¥ä¸Šæˆ‘ä»¬çš„é¦™æ ¼é‡Œæ‹‰å¯¼æ¸¸ï¼Œåœ°æ–¹å¯¼æ¸¸è‡ªç„¶æ˜¯è—æ—äººï¼Œå«ä»€ä¹ˆæŽªï¼Œæˆ‘ä»¬çš„å›¢æ”¹æˆå«â€œæŽªå›¢â€ã€‚ ä»Šå¤©ç¬¬ä¸€ä¸ªæ™¯ç‚¹ä¸ºè™Žè·³å³¡ï¼Œè™Žè·³å³¡ä¸ºé‡‘æ²™æ±Ÿä¸Šçš„ä¸€ä¸ªå³¡è°·ï¼Œä¸‹è½¦ç‚¹åœ¨å³¡è°·ä¸Šæ–¹ï¼Œæ™¯ç‚¹ä¸ºæ²¿ç€æŠ¤æ å³¡è°·åº•éƒ¨è¡Œè¿›ï¼Œåˆ°è¾¾åº•éƒ¨åŽå†æ²¿ä¸Šè¡Œæœ¨æ ˆé“åˆ°è¾¾å‡ºå‘ç‚¹ã€‚ä¸‹è½¦åŽå¬åˆ°æœ€å¤šçš„å°±æ˜¯çŸ¥äº†å«ï¼ŒçŸ¥äº†æ•°é‡éžå¸¸ä¹‹å¤šï¼Œä»¥è‡³äºŽæœ¨æ ˆé“ä¸Šéƒ½æœ‰ï¼Œä¼¸æ‰‹å°±å¯ä»¥æŠ“åˆ°ã€‚æ²¿æœ¨æ ˆé“è€Œä¸‹ï¼Œæ±Ÿæ°´å¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„æ€¥ï¼Œä¸è¿‡åœ¨æœ€ä¸‹é¢çš„è§‚æ™¯å°ä¸Šå£°éŸ³å¬èµ·æ¥ç¡®å®žå¾ˆå¤§ã€‚è§‚æ™¯å°å¯¹é¢æœ‰ä¸€ä¸ªè¿žæŽ¥ä¸¤å±±çš„çŸ³æ¡¥è¿œè¿œçœ‹åŽ»éžå¸¸æ¼‚äº®ã€‚ç”±äºŽç…§ç‰‡å…¨éƒ¨æŸåï¼Œä¸èƒ½è´´å›¾äº†ã€‚ ä»Žè™Žè·³å³¡èµ°åŽä¸‹åˆä¸€ç‚¹æŠµè¾¾â€œå¿ƒä¸­çš„æ—¥æœˆâ€“é¦™æ ¼é‡Œæ‹‰â€ï¼Œé¦™æ ¼é‡Œæ‹‰ä¸€åæºäºŽã€Šæ¶ˆå¤±çš„åœ°å¹³çº¿ã€‹å°è¯´ä¸­è™šæž„çš„åœ°åã€‚é¦™æ ¼é‡Œæ‹‰çš„æµ·æ‹”åœ¨3200ç±³ï¼Œå¾ˆå¤šäººåœ¨è¿™ç§æµ·æ‹”é«˜åº¦ä¼šå‡ºçŽ°é«˜åŽŸååº”ã€‚ ä¸‹åˆä¸€åˆ°é…’åº—å°±è¶´åœ¨åºŠä¸Šç´¯çš„èµ·ä¸æ¥äº†ï¼Œæ²‰ç¡äº†ä¸¤ä¸ªå°æ—¶åŽï¼Œç”±äºŽæ™šä¸Šè¦åŽ»è—æ—å®¶é‡Œè¿›è¡Œå®¶è®¿ï¼Œä¸æ•¢ç¡çš„å¤ªæ²‰ã€‚é†’åŽåˆåœ¨åºŠä¸Šèººäº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œä¸€é—­çœ¼å°±èƒ½ç¡ç€ï¼Œæ„Ÿè§‰ä»Žæ¥æ²¡æœ‰è¿™ä¹ˆç´¯è¿‡ã€‚å’¬å’¬ç‰™èµ·æ¥åŽï¼Œæ‰¾ä¸ªè¶…æ—¶ä¹°ç‚¹ä¸œè¥¿ï¼Œæ„Ÿè§‰èµ°èµ·æ¥ä¹Ÿéžå¸¸çš„ç´¯ï¼Œå¿ƒæƒ³ï¼Œè¿™è¾ˆå­å†ä¹Ÿä¸ä¼šæ¥è¿™åœ°æ–¹äº†ï¼Œçº¯ç²¹çš„èŠ±é’±æ‰¾ç½ªå—ã€‚ åƒè¿‡æ™šé¥­åŽï¼Œå°±åŽ»äº†è—æ—å®¶ã€‚è¿™ä¸ªæ˜¯é¢å¤–æ”¶è´¹çš„ï¼Œè€Œä¸”è´¹ç”¨ä¸ä½Žã€‚å¸¦ç‰¦ç‰›è‚‰å’Œçƒ¤é¸¡è‚‰çš„ä»·æ ¼ä¸ºä¸€äºº260å…ƒï¼Œä¸å¸¦çš„ä¸ºä¸€äºº180å…ƒã€‚èƒƒéƒ¨æœ¬æ¥å°±ä¸é€‚çš„è‡ªç„¶é€‰æ‹©äº†180å…ƒçš„ä»·æ ¼ã€‚ç­‰åˆ°æˆ‘ä»¬åŽ»äº†ä¹‹åŽé—®èµ·å…¶ä»–å›¢çš„ï¼Œä»–ä»¬å¸¦ç‰¦ç‰›å’Œçƒ¤é¸¡çš„ä»·æ ¼æ‰100å…ƒï¼Œå¯è§æˆ‘ä»¬å¯¼æ¸¸èƒ½é»‘æˆ‘ä»¬å¤šå°‘moneyã€‚è¿™æ¬¡å®¶è®¿çº¯ç²¹æ˜¯ä¸€æ¬¡å•†ä¸šæ€§è´¨çš„å®¶è®¿ï¼Œå¤§å·´åœ¨è—æ—å®¶é—¨å£åœä¸‹æ¥ï¼Œä¸‹è½¦åŽå°±ä¼šæœ‰äººç»™ä½©æˆ´å›´å·¾ï¼Œå¹¶ä¸”æœ‰ä¸“äººæ‹¿ç€å•åæ‹ç…§ã€‚ è¿›å±‹åŽç›´æŽ¥åˆ°äºŒæ¥¼ï¼Œå±‹é‡Œå·²ç»æœ‰å¥½å¤šä¸ªå›¢å›´ç€å±‹ä¸­å¤®è€Œåã€‚åä¸‹åŽï¼Œå“å°é…¥æ²¹èŒ¶ï¼Œé’ç¨žé…’ï¼Œè¿˜æœ‰é…¸å¥¶å¹²ï¼Œç”šè‡³è¿˜æœ‰é’ç¨žæ‹¿æ¥å½“ç“œå­åƒçš„ã€‚ ç­‰ç‰¦ç‰›è‚‰å’Œçƒ¤é¸¡éƒ½ä¸Šé½åŽï¼ŒèŠ‚ç›®å°±å¼€å§‹äº†ã€‚ä¸»æŒäººå¾ˆæ˜Žæ˜¾ç»è¿‡äº›ä¸“ä¸šçš„è®­ç»ƒï¼Œå—“é—¨ç‰¹åˆ«å¤§ï¼Œä¹Ÿç‰¹åˆ«æ“…é•¿å¸¦åŠ¨æ°”æ°›ã€‚è—æ—äººå¥½å®¢çš„æ–¹å¼å°±æ˜¯è·ºåœ°æ¿åŠ é¼“æŽŒï¼Œå£°éŸ³è¶Šå¤§è¶Šå¥½ã€‚åœ°æ¿ä¸ºæœ¨åˆ¶çš„ï¼Œä¸€ç¾¤äººè·ºèµ·è„šæ¥åŽå£°éŸ³ç‰¹åˆ«å¤§ã€‚èŠ‚ç›®å¤§çº¦æŒç»­äº†ä¸‰ä¸ªå°æ—¶ï¼Œæ— éžå°±æ˜¯è·³èˆžã€å”±æ­Œã€è·ºè„šã€æ•™äº›è—æ—çš„è¯­è¨€ç­‰ã€‚å…¶å®žèŠ‚ç›®æŒºæ— èŠï¼Œä½†æ˜¯çƒ­é—¹ã€‚æŒºä½©æœä¸»æŒäººèƒ½å¤Ÿå°†è¿™ä¹ˆåº¸ä¿—çš„ä¸€ä¸ªèŠ‚ç›®åšæŒäº†ä¸‰ä¸ªå°æ—¶ä¹‹å·¨ã€‚æœ¬æ¥èº«ä½“éžå¸¸éš¾å—çš„æˆ‘ï¼Œåœ¨æ¬¢å‘¼ä¸­ä¹Ÿå˜å¾—çƒ­æƒ…é«˜æ¶¨ï¼Œä½¿åŠ²è·ºè„šï¼Œä½¿åŠ²æ•…éšœï¼Œå…¨èº«å¿ƒæŠ•å…¥åˆ°èŠ‚ç›®ä¸­ï¼Œæœ€åŽå±…ç„¶éš¾å—çš„ç—‡çŠ¶å…¨éƒ¨æ¶ˆå¤±äº†ã€‚ æœŸé—´ï¼Œè—æ°‘å¼€å§‹æŒ‰ç…§åœ¨é—¨å£æ—¶æ‹æ‘„çš„ç…§ç‰‡æ‰¾äººï¼Œæ‰€æœ‰äººçš„ç…§ç‰‡æ—©å·²ç»æ´—å¥½ï¼Œå¹¶ä¸”ç”¨ç¡¬å¡‘æ–™è†œä¿æŠ¤ç€ã€‚ç…§ç‰‡20å…ƒä¸€ä½ï¼Œå¯è§è¿™æ˜¯å¤šä¹ˆå•†ä¸šçš„ä¸€æ¬¡æ´»åŠ¨ã€‚ åˆ°äº†é…’åº—å·²ç»11ç‚¹äº†ï¼Œå¯¼æ¸¸å˜±å’è¿‡ä¸èƒ½æ—©ç¡ï¼Œä¸èƒ½æ´—æ¾¡ï¼Œå¦åˆ™å¾ˆå®¹æ˜“å‡ºçŽ°é«˜åŽŸå¤´ç—›ç­‰é«˜åŽŸååº”çš„ç—‡çŠ¶ã€‚ Day 5ç…§æ—§æ˜¯æ—©èµ·ï¼Œä»Šå¤©çš„è¡Œç¨‹ä¸ºæ™®è¾¾æŽªå›½å®¶æ£®æž—å…¬å›­ã€‚ä¸ºäº†é˜²æ­¢å‡ºçŽ°é«˜åŽŸååº”å¸¦æ¥çš„äº‹æ•…ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è¾¾åˆ°èµšé’±çš„ç›®çš„ï¼Œå¯¼æ¸¸æŽ¨èæˆ‘ä»¬åœ¨é¦™æ ¼é‡Œæ‹‰ä¹°æ°§æ°”çŒå’Œçº¢æ™¯å¤©å£æœæ¶²ã€‚ä»™å‰‘å¥‡ä¾ ä¼ ä¸‰ä¸­çš„æ™¯å¤©å¤§æ¦‚å°±å–è‡ªæ­¤è¯åå§ã€‚æ™®è¾¾æŽªçš„æœ€é«˜å¤„æµ·æ‹”å¯ä»¥è¾¾åˆ°4200ç±³ï¼Œæƒ³æƒ³è¿™ä¸ªæµ·æ‹”é«˜åº¦ï¼Œä¸ºäº†é¿å…é«˜åŽŸååº”ï¼Œå†åŠ ä¸Šæ˜¨å¤©æˆ‘æœ¬æ¥å°±å¾ˆä¸èˆ’æœï¼Œä¸ºäº†ä¿é™©äº†æˆ‘ä¹°äº†ä¸¤ç½ï¼Œå¹¶ä¸”è´­ä¹°äº†ä¸€ç›’çº¢æ™¯å¤©å£æœæ¶²ã€‚åŽæ¥æ‰å‘çŽ°è¿™äº›èŠ±è´¹éƒ½æ˜¯å¤šä½™çš„ï¼Œæ™®è¾¾æŽªä¹‹æ‰€ä»¥ç§°ä¹‹ä¸ºæ£®æž—å…¬å›­ï¼Œæ£®æž—è‚¯å®šéžå¸¸ä¹‹å¤šï¼Œç©ºæ°”ä¸­æ°§æ°”å«é‡ä¸ä¼šå¾ˆä½Žã€‚èµ°åœ¨æ™®è¾¾æŽªä¸­ï¼Œæ„Ÿè§‰ç©ºæ°”æ¯”æ°§æ°”ç“¶ä¸­çš„æ›´çº¯å‡€ã€‚ æ•´ä¸ªæ£®æž—å…¬å›­åˆ†ä¸ºäº†ä¸‰éƒ¨åˆ†ï¼šå±žéƒ½æ¹–ã€å¼¥é‡Œå¡˜å’Œç¢§å¡”æµ·ã€‚æ•´ä¸ªæ£®æž—å…¬å›­çš„é¢ç§¯éžå¸¸ä¹‹å¤§ï¼Œä¸‰ä¸ªæ™¯ç‚¹ä¹‹é—´å¤§çº¦éœ€è¦å10-20åˆ†é’Ÿçš„ç”µç“¶è½¦ï¼Œç”µç“¶è½¦ä¸Šéƒ½ä¼šæœ‰å¯¼æ¸¸å¯¹æ™¯ç‚¹è¿›è¡Œè®²è§£ã€‚ æ™®è¾¾æŽªåº”è¯¥æ˜¯æˆ‘è¿™æ¬¡äº‘å—æ—…æ¸¸ä¸­æœ€å€¼å¾—ä¸€åŽ»çš„åœ°æ–¹ï¼Œæ•´ä¸ªæ¸¸è§ˆä¸‹æ¥å°±æ„Ÿè§‰è¿™ä¸ªåœ°æ–¹å¥½ä¼¼äººé—´ä»™å¢ƒã€‚è¿™é‡Œçš„æ¹–é¢éžå¸¸é™ï¼Œè¿œå¤„ç‰¦ç‰›å’Œé©¬å„¿ä½Žç€å¤´åœ¨ä¸åœçš„åƒè‰ï¼Œä¸€å‰¯æ‚ é—²è‡ªå¾—çš„æ ·å­ã€‚éåœ°çš„å°é‡ŽèŠ±ï¼Œåœ¨ç‰›ç²ªå †ä¸­è‡ªç”±çš„ç”Ÿé•¿ã€‚ä»Žå±±ä¸Šç•™ä¸‹æ¥çš„æ°´å°±åœ¨å¹³åœ°ä¸Šå†²å‡ºä¸€æ¡å¼¯å¼¯æ›²æ›²çš„æ²³ï¼Œä»¤æˆ‘ä¸€ç›´åœ¨æƒ³æ²³é“ä¸ºä»€ä¹ˆæ˜¯Såž‹ï¼Œè¿™è¯´æ˜Žå±±ä¸Šç•™ä¸‹æ¥çš„æ°´æ€»æ˜¯ç¼“ç¼“çš„ã€‚æ°´æ‰æ ‘ä¸ŠæŒ‚æ»¡äº†èœ˜è››ç½‘ç‰ˆçš„ç™½è‰²çš„æ¯›ï¼Œæ›´æ·»åŠ äº†è¿™é‡Œçš„ä»™å¢ƒè‰²å½©ï¼Œæ®è¯´æ˜¯å¯„ç”Ÿåœ¨æ°´æ‰ä¸Šçš„ä¸€ç§æ¤ç‰©ã€‚å±±é—´å¶å°”ä¼šè§åˆ°ç‰¹åˆ«å°çš„å°æ¾é¼ åœ¨æ ‘ä¸‹æ‰¾ç‚¹åƒçš„ï¼Œç„¶åŽä¸€ä¼šå°±ä¸è§äº†ï¼Œä»¿ä½›åˆšæ‰è§åˆ°çš„ä¸æ˜¯çœŸçš„ã€‚è¿™ä¸­æ™¯è‰²ä¸­æœ‰èº«ä¸´å…¶å¢ƒæ–¹èƒ½ä½“ä¼šã€‚ å±žéƒ½æ¹–ä¸ºä¸€ä¸ªå¤©ç„¶æ¹–æ³Šï¼Œè¿œå¤„å°±èƒ½çœ‹åˆ°ç‰¦ç‰›å’Œé©¬å„¿ã€‚å¼¥é‡Œå¡˜æ˜¯æ•´ä¸ªæ£®æž—çš„æµ·æ‹”æœ€é«˜å¤„ï¼Œåœ°æ–¹éžå¸¸å¹³é™ï¼Œè§†é‡Žç›¸å½“å¼€é˜”ï¼Œç‰¦ç‰›å’Œé©¬å„¿åœ¨è¿œå¤„çš„è‰åœ°ä¸Šåƒç€å°èŠ±å°è‰ã€‚ç¢§å¡”æµ·æ˜¯æ•´ä¸ªæ™¯åŒºçš„æ ¸å¿ƒæ™¯ç‚¹ï¼Œæˆ‘ä»¬é€‰æ‹©å¾’æ­¥4å…¬é‡Œçš„è·¯ç¨‹ï¼Œæ²¿ç€ç¢§å¡”æµ·ä»Žæ¹–çš„ä¸€è¾¹èµ°åˆ°å¦å¤–ä¸€è¾¹ã€‚åœ¨æ¼«æ­¥ä¸­æ…¢æ…¢ä½“ä¼šç¢§å¡”æµ·çš„è¿·äººä¹‹å¤„ã€‚ ä»Žæ™®è¾¾æŽªå‡ºæ¥åŽï¼Œè—æ—å¯¼æ¸¸è·Ÿæˆ‘ä»¬è¯´æ‹œæ‹œã€‚åœ¨é¦™æ ¼é‡Œæ‹‰åƒè¿‡åˆé¥­åŽï¼Œå¼€å§‹é©¬ä¸åœè¹„çš„å¾€ä¸½æ±Ÿèµ¶ã€‚æœŸé—´è·¯è¿‡â€œé•¿æ±Ÿç¬¬ä¸€æ¹¾â€æ™¯ç‚¹ï¼Œåœ¨è§‚æ™¯æ¥¼ä¸Šé«˜é«˜çœ‹åŽ»ï¼Œé™¤äº†æé«˜ä¹‹å¤–æ²¡æœ‰åˆ«çš„æ„Ÿè§‰ã€‚å‰æ–‡å·²ç»ä»‹ç»è¿‡â€œé•¿æ±Ÿç¬¬ä¸€æ¹¾â€æ™¯ç‚¹çš„ä¸€äº›å‘å†µï¼Œä¸å†å¯¹å‘è¿›è¡Œè¿‡å¤šæè¿°ã€‚ ä¸‹åˆä¸‰ç‚¹å¤šåˆ°è¾¾ä¸½æ±Ÿçš„é…’åº—ï¼Œåœ¨é…’åº—æ”¾ä¸‹ä¸œè¥¿åŽç›´æŽ¥å‰å¾€å¤§ç†å¤åŸŽï¼Œè¿™é‡Œé…’åº—ç¦»çš„å¤§ç†å¤åŸŽçš„å—é—¨ç®—æ˜¯æ¯”è¾ƒè¿‘ã€‚ä¸Šæ¬¡æ¥æ²¡æœ‰åƒä¸Šå½“åœ°ç‰¹è‰²å°åƒè…ŠæŽ’éª¨ï¼Œåœ¨å—é—¨å¤–æ‰¾äº†å®¶åº—å“å°ä¸€ç•ªï¼Œåƒèµ·æ¥è·Ÿæˆ‘æƒ³è±¡ä¸­çš„ä¸€è‡´ï¼Œé™¤äº†æœ‰ç‚¹æŽ’éª¨å‘³ä¹‹å¤–è¿˜ç•¥å¸¦è…Šå‘³ã€‚ åƒå®Œè…ŠæŽ’éª¨åŽå·²ç»æ˜¯æ™šä¸Š8ç‚¹å·¦å³çš„æ—¶é—´ï¼Œä¸Šæ¬¡é€›ä¸½æ±Ÿå¤åŸŽä¸»è¦æ˜¯é€›äº†åŒ—é—¨é™„è¿‘å¤šäº›ï¼Œè¿™æ¬¡é€›ä¸Šæ¬¡æ²¡æœ‰é€›è¿‡çš„å—é—¨é™„è¿‘ã€‚å—é—¨é™„è¿‘ä¸ŽåŒ—é—¨ä¸åŒçš„æ˜¯ï¼Œå¤åŸŽå—è¾¹æœ‰å¾ˆå¤šçš„å®¢æ ˆï¼Œä½†æ˜¯è¿™é‡Œçš„èƒ¡åŒå’Œå®¢æ ˆå´ç•¥æ˜¾å‡„å‡‰ï¼Œäººå°‘äº†éœ€è¦ï¼Œå®¢æ ˆä¹Ÿæ²¡æœ‰é‚£ä¹ˆæ–‡è‰ºã€‚è½¬äº†å‡ ä¸ªèƒ¡åŒåŽï¼Œåœ¨è½¬äº†ä¸€ä¸ªåˆä¸€ä¸ªå¼¯åŽçš„èƒ¡åŒä¸­æ‰¾åˆ°äº†å¤§åé¼Žé¼Žçš„æœ¨åºœã€‚æ—¶é—´å·²æ™šï¼Œçœ‹ç€åœ°å›¾åŠ å¯¼èˆªæŽ¥å›žé…’åº—ç¡ä¸‹äº†ã€‚ Day 6ä»Šå¤©çš„è¡Œç¨‹ä¸ºä»Žä¸½æ±Ÿ-å¤§ç†-æ˜†æ˜Žã€‚ä¸Šæ¬¡åŽ»å¤§ç†ä»…æ˜¯è·¯è¿‡ï¼Œè¿™æ¬¡æ˜¯åŽ»ä½“éªŒï¼Œè™½ç„¶æ—¶é—´ä¹Ÿä»…ä»…æœ‰ä¸€å¤©ã€‚ ä¸‹å…³é£Žï¼Œä¸Šå…³èŠ±ï¼Œè‹å±±é›ªï¼Œæ´±æµ·æœˆã€‚é£ŽèŠ±é›ªæœˆä¾¿æ˜¯å¤§ç†æ™¯è‰²çš„æœ€çœŸå®žå†™ç…§ï¼Œå¤§ç†åŸŽå°±è¢«ä¸‹å…³ã€ä¸Šå…³ã€è‹å±±å’Œæ´±æµ·åŒ…è£¹ç€ã€‚æœ¬æ¬¡å¤§ç†æ‰§è¡Œé£ŽèŠ±é›ªæœˆå‡ä¸ºä½“ä¼šåˆ°ï¼Œç”šè‡³è¿žæ´±æµ·è¾¹éƒ½æœªåˆ°è¿‡ï¼Œä»…ä»…æ˜¯åŽ»äº†æ´±æºå°è¥¿æ¹–ï¼Œä¹Ÿå‹‰å¼ºç®—æ˜¯åˆ°è¿‡æ´±æµ·å§ã€‚ å¿«åˆ°æ´±æºå°è¥¿æ¹–çš„è·¯ä¸Šé‡åˆ°äº†é›†å¸‚ï¼Œé›†å¸‚ä¸Šæœ‰ç”¨ç«¹ç¯“å­å–å°çŒªï¼Œçœ‹èµ·æ¥æŒºæ»‘ç¨½æŒºæœ‰æ„æ€ã€‚ è¿›å…¥æ´±æºå°è¥¿æ¹–åŽå¯¼æ¸¸ä¼šå…ˆå¸¦é¢†åˆ°è´­ç‰©åŒºï¼Œéƒ½æ˜¯äº›å½“åœ°çš„ç‰¹äº§ï¼Œä»·æ ¼ä¹Ÿä¸è´µã€‚åˆšåä¸Šæœ¨èˆ¹ä¼šçœ‹åˆ°é±¼é¹°è¡¨æ¼”ï¼Œæœ¨èˆ¹ç»•ç€è¥¿æ¹–è½¬ä¸Šä¸€åœˆï¼Œæ¬£èµè¥¿æ¹–çš„ç¾Žæ™¯ã€‚ ä¸‹èˆ¹åŽï¼Œä¼šåŽ»é¤é¦†ç™½æ—çš„æ­Œèˆžè¡¨æ¼”ï¼Œå¹¶å“å°ç™½æ—ä¸‰é“èŒ¶ã€‚ä¸‰é“èŒ¶â€œå¤´è‹¦ã€äºŒç”œã€ä¸‰å›žå‘³â€ï¼Œå–èµ·æ¥å‘³é“æ€ªæ€ªçš„ã€‚ä»Žæ­Œèˆžè¡¨æ¼”åŽ…å‡ºæ¥åŽå°±ç›´æŽ¥å‡ºè¥¿æ¹–äº†ã€‚ ä»Žè¥¿æ¹–å‡ºæ¥åŽï¼Œç›´æŽ¥èµ¶åˆ°ç™½é“¶è´­ç‰©ä¸­å¿ƒåå…«é‡Œé“ºã€‚å¤§ç†æ˜¯ç™½é“¶äº§åœ°ï¼Œåœ¨å¤§ç†æ—…æ¸¸è´­ç‰©è‡ªç„¶å°‘ä¸äº†ç™½é“¶ã€‚ä¸€ä¸‹è½¦ï¼Œåœ¨åå…«é‡Œé“ºçš„åœè½¦åœºå·²ç»åœäº†å‡ åè¾†å¤§å·´ï¼Œæ˜¾ç„¶éƒ½æ˜¯æ‹‰æ¥è´­ç‰©çš„ã€‚å¯¼æ¸¸è±¡å¾æ€§çš„ç»™æˆ‘ä»¬ä»‹ç»äº†ä¸‹å¤§ç†ç™½æ—çš„æˆ¿å±‹å¸ƒç½®å’Œå©šæˆ¿å¸ƒç½®ï¼Œé¡ºä¾¿çœ‹äº†ä¸‹å‡ ä¸ªäººåœ¨æ‰‹å·¥åˆ¶ä½œç™½é“¶ï¼Œæœ€åŽå°±å¸¦æˆ‘ä»¬åˆ°ç™½é“¶è´­ç‰©å¤§åŽ…é‡Œäº†ï¼Œç„¶åŽå¯¼æ¸¸å°±æ’¤äº†ã€‚ç•™ä¸‹æ¥é€‰æ‹©è´­ä¹°ç™½é“¶çš„æ—¶é—´éžå¸¸çš„é•¿ï¼Œæœ‰ä¸€ä¸ªåŠå°æ—¶ä¹‹ä¹…ã€‚ è‰°éš¾çš„ç­‰å¾…åŽï¼Œåœ¨åå…«é‡Œé“ºåƒå®Œåˆé¥­åŽï¼Œç›´æŽ¥å¥”å‘å¤§ç†å¤åŸŽã€‚ç”±äºŽå—é—¨æ— æ³•åœè½¦ï¼Œå¤§å·´åœ¨ç¦»å¤§ç†å¤åŸŽå—é—¨2é‡Œåœ°çš„åœè½¦åœºåœä¸‹ï¼Œå¯¼æ¸¸ç»™æˆ‘ä»¬æ¸¸çŽ©çš„æ—¶é—´æ˜¯1ä¸ªåŠå°æ—¶ï¼ŒåŒå¤§ä¸€ä¸ªå¤§ç†å¤åŸŽä»…æœ‰ä¸€ä¸ªåŠå°æ—¶çš„æ¸¸çŽ©æ—¶é—´ï¼Œè€Œä¸€ä¸ªåå…«é‡Œé“ºçš„è´­ç‰©å¤§åŽ…å´ä¹Ÿé¢„ç•™äº†å·®ä¸å¤šæ—¶é—´ã€‚ å¤§ç†å¤åŸŽç›¸æ¯”ä¸½æ±Ÿå¤åŸŽæ›´çŽ°ä»£åŒ–ï¼Œå¤åŸŽå†…æœ‰ç›¸å½“å¤šçš„çŽ°ä»£å•†åº—ï¼Œç”šè‡³éƒ½æœ‰è¶…å¸‚çš„å­˜åœ¨ï¼Œé™¤äº†å»ºç­‘é£Žæ ¼æ¯”è¾ƒå¤ä¹‹å¤–ï¼Œå…¶ä»–éƒ½æ˜¯æ–°çš„ã€‚å¤åŸŽçš„åŒ—é¢ï¼Œç›´æŽ¥å°±æˆäº†å±…æ°‘åŒºäº†ã€‚ä¸è¿‡ç›¸æ¯”ä¸½æ±Ÿå¤åŸŽï¼Œæˆ‘æ›´å–œæ¬¢å¤§ç†å¤åŸŽï¼Œå› ä¸ºè¿™é‡Œè´­ç‰©æ›´æ–¹ä¾¿ï¼Œè€Œä¸”è¡—é“ä¹Ÿå»ºè®¾çš„æ›´åŠ è§„æ•´ï¼Œä¸ä¼šå‡ºçŽ°è¿·è·¯çš„æƒ…å†µã€‚é‡Œé¢çš„ç‰©å“ä»·æ ¼ä¹Ÿæ›´åŠ ä¾¿å®œï¼Œæ•´ä¸ªå¤åŸŽæ›´åƒæ˜¯åŸŽå¸‚ä¸­çš„æ­¥è¡Œè¡—ã€‚ ä»Žå¤§ç†å¤åŸŽèµ°åŽï¼Œç›´æŽ¥èµ¶å›žæ˜†æ˜Žï¼Œåˆ°è¾¾æ˜†æ˜Žé…’åº—å·²ç»æ˜¯æ™šä¸Š10ç‚¹äº†ã€‚ Day 7æ—©é¤åŽèµ¶å¾€ä¸­å›½åç‰Œä¼ä¸šä¸ƒå½©äº‘å—ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯è´­ç‰©äº†ã€‚å¯¼æ¸¸ä¸€è€Œå†å†è€Œä¸‰çš„å¼ºè°ƒï¼Œå¯¼æ¸¸å‰äº”å¤©æ˜¯å¤©ä½¿ï¼Œç¬¬å…­å¤©å°±æ˜¯é­”é¬¼ã€‚â€œä»€ä¹ˆéƒ½å¯ä»¥è½åœ¨å®¾é¦†ï¼Œå”¯ç‹¬ä½ ä»¬çš„æ­¦å™¨â€“é’±åŒ…ä¸èƒ½è½åœ¨å®¾é¦†â€ã€‚æ²¡æœ‰æ¯”è¿™ä¸ªæ›´ç›´ç™½çš„äº†ã€‚ ä¸ƒå½©äº‘å—å›­åŒºå†…å…±æœ‰ä¸ƒä¸ªå±•é¦†ï¼Œé¦–å…ˆå¸¦é¢†æˆ‘ä»¬åŽ»çš„æ˜¯ç¿¡ç¿ é¦†ã€‚ç¿¡ç¿ ä¸»è¦äº§è‡ªç¼…ç”¸å’Œäº‘å—æŽ¥å£¤åœ°å¸¦ï¼Œè‡ªç„¶ä¼šæˆä¸ºäº‘å—çš„ç‰¹äº§ä»£è¡¨ã€‚å¯¼æ¸¸å¸¦é¢†æˆ‘ä»¬ä½“éªŒä¸€æŠŠæ¨¡æ‹Ÿçš„ç¿¡ç¿ å½¢æˆè¿‡ç¨‹çš„åŠ¨ç”»ï¼Œç´§æŽ¥ç€å°±ä¼šå¸¦é¢†æˆ‘ä»¬åˆ°è¾¾ç¿¡ç¿ é”€å”®å¤§åŽ…ã€‚è´­ä¹°ç¿¡ç¿ çš„æ—¶é—´é¢„ç•™çš„éžå¸¸å……è¶³ï¼ŒæœŸé—´ä¸ºäº†æ‰“å‘æ—¶é—´è·‘åŽ»äº†å­”é›€å›­è½¬äº†ä¸€åœˆã€‚æ•´ä¸ªè¡Œç¨‹ä¸­å¯¼æ¸¸æ˜¯åªå­—æœªæå­”é›€å›­ï¼Œä½†æ˜¯å­”é›€å›­å´æ˜¯ä¸ƒå½©äº‘å—å›­åŒºä¸­æœ€é€‚åˆæ¸¸çŽ©çš„åœ°æ–¹ã€‚å­”é›€å›­å†…æœ‰å‡ åƒåªå­”é›€ï¼Œæ¤ç‰©çš„ç§ç±»ä¹Ÿéžå¸¸å¤šï¼Œè¿˜æœ‰ä¸€é¢éžå¸¸å¤§çš„èŠ±å¢™ï¼Œçœ‹ä¸ŠåŽ»ä¹Ÿæ˜¯ç›¸å½“æ¼‚äº®ã€‚ é›†åˆåŽåˆé¤é¦†äº†æ™®æ´±èŒ¶é¦†ï¼Œç›´æŽ¥è¢«å…³åˆ°å±‹é‡Œé¢å“èŒ¶ï¼Œå“å®Œç†ŸèŒ¶å“ç”ŸèŒ¶ï¼Œå“å®ŒèŒ¶åŽè‡ªç„¶æ˜¯ä¹°èŒ¶ã€‚ åœ¨ä¸ƒå½©äº‘å—åƒè¿‡åˆé¤åŽï¼Œå¤§å·´èµ¶å¾€å¤©é€ å¥‡è§‚çš„çŸ³æž—ã€‚åŽ»çŸ³æž—çš„è·¯ä¸Šï¼Œä»Žæœªçœ‹åˆ°è¿‡çŸ³æž—å†…å½¢çŠ¶çš„çŸ³å¤´ï¼Œå¯æ˜¯åˆ°äº†çŸ³æž—å†…éƒ¨å´åˆ°å¤„éƒ½æ˜¯ç«–çŠ¶çš„çŸ³å¤´ï¼Œä¸€ç›´å¯¹ç«–çŠ¶çŸ³å¤´çš„æˆå› æ„Ÿåˆ°é¢‡ä¸ºå¥½å¥‡ã€‚ä¸€ä¸ª5Açº§çš„æ™¯åŒºä»…ä»…é¢„ç•™äº†ä¸€ä¸ªåŠå°æ—¶çš„æ—¶é—´æ¸¸è§ˆï¼Œè€Œä¸”è¿˜åŒ…å«äº†æŽ’é˜Ÿç­‰ç”µç“¶è½¦çš„æ—¶é—´ã€‚ çŸ³æž—åˆ†å¤§çŸ³æž—å’Œå°çŸ³æž—ï¼Œå¤§çŸ³æž—çš„çŸ³å¤´çœ‹ä¸ŠåŽ»æ›´é«˜å¤§ä¸€äº›ï¼Œå°çŸ³æž—çš„çŸ³å¤´çœ‹ä¸ŠåŽ»ç¨å¾®çŸ®å°ä¸€äº›ã€‚å¬æ™¯åŒºçš„å¯¼æ¸¸ä»‹ç»ï¼Œåˆ°äº†å¤§çŸ³æž—æ‰¾åˆ°â€œçŸ³æž—â€äºŒå­åŽæ‹ä¸ªç…§åŽå°±ç›¸å½“äºŽèŠ±æŽ‰äº†100å—é’±çš„é—¨ç¥¨ï¼Œåˆ°äº†å°çŸ³æž—åŽæ‰¾åˆ°â€œé˜¿è¯—çŽ›çš„åŒ–èº«â€åŽå°±ç›¸å½“äºŽåˆèŠ±æŽ‰äº†70å…ƒçš„é—¨ç¥¨ã€‚ åˆ°è¾¾å¤§çŸ³æž—åŽæ‰¾åˆ°äº†â€œçŸ³æž—â€äºŒå­—æ‹å®Œç…§åŽï¼Œæ²¡æœ‰å¬å¯¼æ¸¸çš„è¯ç›´æŽ¥åŽŸè·¯è¿”å›žåç”µç“¶è½¦åˆ°å°çŸ³æž—ï¼Œè€Œæ˜¯å‡ºäºŽå¥½å¥‡åœ¨çŸ³æž—å†…éƒ¨è½¬èµ·è¿·å®«æ¥ï¼ŒçŸ³æž—é¢ç§¯åº”è¯¥ä¸å°ï¼Œè‡³å°‘æˆ‘åœ¨å†…éƒ¨è‡³å°‘èµ°äº†40åˆ†é’ŸåŽä¹Ÿæ²¡æœ‰èµ°å¤šå°‘ï¼Œè€Œä¸”é‡è¦çš„æ˜¯æˆ‘å½»åº•è¿·è·¯äº†ï¼Œæ‰¾ä¸åˆ°å…¥å£ä¹Ÿæ‰¾ä¸åˆ°å‡ºå£ã€‚ä¸€çœ‹æ—¶é—´å·²ç»è¿‡åŽ»äº†ä¸€å¤§åŠï¼Œè¿˜æ²¡åˆ°å°çŸ³æž—ï¼Œå°±æŠ“ç´§æ—¶é—´å¾€å¤–èµ¶ï¼Œè½¬äº†åŠå¤©è¿·å®«ç»ˆäºŽå‡ºæ¥äº†ã€‚ æŽ’é˜ŸæŒ¤ä¸Šç”µç“¶è½¦åˆ°è¾¾å°çŸ³æž—ï¼Œå°çŸ³æž—çŸ³å¤´ä¹‹é—´çš„é—´éš™è¦å¤§å¾ˆå¤šï¼ŒçŸ³å¤´ä¹‹é—´è¿˜æœ‰è‰åœ°ï¼Œèµ°åœ¨é‡Œé¢ä¸ä¼šå­˜åœ¨è¿·è·¯çš„å¯èƒ½ã€‚æ‹ä¸ªå¼¯æ‰¾åˆ°é˜¿è¯—çŽ›çš„åŒ–èº«æ‹ä¸ªç…§æŠ“ç´§æ—¶é—´å¾€å‡ºå£èµ¶ã€‚é˜¿è¯—çŽ›çš„åŒ–èº«çŸ³æˆ‘æ€Žä¹ˆçœ‹ä¹Ÿæ²¡çœ‹å‡ºåƒä¸€ä¸ªäººæ¥ï¼ŒçŸ³å¤´èƒŒåŽçš„æ•…äº‹å°±ä¸æ·±ç©¶äº†ã€‚ ä»ŽçŸ³æž—å½’æ¥åŽï¼Œåˆå›žåˆ°äº†ä¸ƒå½©äº‘å—ã€‚è¿™æ¬¡è´­ç‰©çš„é‡ç‚¹å·²ç»ä¸å†æ˜¯ç¿¡ç¿ ï¼Œè€Œæ˜¯é»„é¾™çŽ‰ã€‚é»„é¾™çŽ‰äº§è‡ªäº‘å—ï¼Œå‘çŽ°è¾ƒæ™šï¼Œå› æ­¤ä»·æ ¼è¾ƒä¾¿å®œã€‚æˆ‘ç›´æŽ¥èµ°å‘é»„é¾™çŽ‰æ—è¾¹çš„åœŸç‰¹äº§è¶…å¸‚ï¼Œä»Žé‡Œé¢ä¹°ç‚¹é²œèŠ±é¥¼ã€å½“åœ°å’–å•¡ã€æ™®æ´±èŒ¶ç­‰ï¼Œä»·æ ¼è¿˜ç®—äº²æ°‘ï¼Œæ‹¿å›žæ¥é€æœ‹å‹æ˜¯ä¸ªå¾ˆä¸é”™çš„é€‰æ‹©ã€‚ åœ¨ä¸ƒå½©äº‘å—åƒè¿‡åœ°é“çš„è¿‡æ¡¥ç±³çº¿åŽç›´æŽ¥å…¥ä½æ¸©æ³‰é…’åº—ï¼Œè·Ÿé™ªä¼´æˆ‘ä»¬å…­å¤©çš„å¯¼æ¸¸å’Œå¸æœºå¸ˆå‚…è¯´å†è§åŽï¼Œåœ¨æ¸©æ³‰é…’åº—åšäº†ä¸ªé±¼ç–—åŽï¼Œæ”¶æ‹¾æ‰€æœ‰çš„ç‰©å“æ‰“åŒ…å‡†å¤‡å›žæ¸©é¦¨çš„å®¶ã€‚ Day 88ç‚¹20çš„é£žæœºï¼Œäº”ç‚¹åŠå¼€å§‹å¾€æœºåœºèµ¶ã€‚12ç‚¹å·¦å³å·²ç»å›žåˆ°äº†æ¸©é¦¨çš„å®¶ã€‚ æ‚æ–¹å‘æ„Ÿæˆ‘æ— è®ºåˆ°å“ªé‡Œéƒ½å–œæ¬¢æ‰¾æ‰¾æ–¹å‘æ„Ÿï¼Œçœ‹çœ‹é‚£æ˜¯å—ï¼Œæˆ‘æ˜¯å±žäºŽé‚£ç§ç¬¬ä¸€æ¬¡åˆ°ä¸€ä¸ªåœ°æ–¹åŽåªè¦è®¤é”™äº†æ–¹å‘å°±å†ä¹Ÿè°ƒä¸è¿‡æ¥çš„é‚£ç§äººã€‚è¿™ä¸€å‘¨çš„æ—¶é—´æˆ‘å´å‡ ä¹Žæ²¡æœ‰æŽ‰è¿‡æ–¹å‘æ¥ï¼Œä»¥è‡³äºŽåˆ°åŽæ¥å¹²è„†å°±ä¸è€ƒè™‘æ–¹å‘äº†ï¼Œç®¡ä»–ä¸œè¥¿å—åŒ—ï¼Œåªè¦èƒ½å›žå¾—äº†é…’åº—ï¼Œåªè¦èƒ½æ‰¾åˆ°å¤§å·´å°±OKäº†ã€‚ æ°‘æ—æœ¬æ¬¡è¡Œç¨‹ä¸­çš„å‡ ä¸ªåŸŽå¸‚åˆ†å±žäºŽä¸åŒçš„å°‘æ•°æ°‘æ—ï¼Œé£Žä¿—ä¹ æƒ¯ã€æ–‡åŒ–ä¼ ç»Ÿå’Œå»ºç­‘é£Žæ ¼å„æœ‰ç‰¹ç‚¹ã€‚æ˜†æ˜Žå’Œæ¥šé›„æ˜¯å½æ—äººå±…å¤šï¼Œå¤§ç†æ˜¯ç™½æ—è‡ªæ²»å·žï¼Œä¸½æ±Ÿæ˜¯çº³è¥¿æ—çš„èšå±…åœ°ï¼Œé¦™æ ¼é‡Œæ‹‰ä¸»è¦æ˜¯è—æ—äººã€‚æœ€æœ‰æ„æ€çš„æ˜¯ï¼Œè¿™å‡ ä¸ªå°‘æ•°åæ—å¯¹ç”·å¥³çš„ç§°å‘¼å„æœ‰ç‰¹è‰²ã€‚å½æ—äººå¯¹ç”·æ€§ç§°å‘¼ä¸ºâ€œé˜¿é»‘å“¥â€ï¼Œå¯¹å¥³æ€§ç§°å‘¼ä¸ºâ€œé˜¿è¯—çŽ›â€ï¼›ç™½æ—åˆ†åˆ«ç§°å‘¼ä¸ºâ€œé‡‘èŠ±â€å’Œâ€œé˜¿é¹â€ï¼›çº³è¥¿æ—åˆ†åˆ«ç§°å‘¼ä¸ºâ€œèƒ–é‡‘å¦¹â€å’Œâ€œèƒ–é‡‘å“¥â€ï¼›è—æ—åˆ†åˆ«ç§°å‘¼ä¸ºâ€œæ‰Žè¥¿â€å’Œâ€œå“çŽ›â€ã€‚ å°¾æœ¬æ¥æ˜¯è®¡åˆ’å†™æˆæ•£æ–‡çš„ï¼Œæ–‡ç¬”æœ‰é™ï¼Œå†™ç€å†™ç€å°±å†™æˆè®°å™æ–‡äº†ã€‚è¦æ˜¯æœ‰è¶³å¤Ÿçš„æ–‡é‡‡ï¼Œç»å¯¹å¯ä»¥å†™å‡ºæ¯”ã€Šä»Žç™¾è‰å›­åˆ°ä¸‰å‘³ä¹¦å±‹ã€‹ä¸­éœ€è¦èƒŒè¯µçš„ç‰‡æ®µæ›´ä¼˜ç¾Žçš„æ–‡å­—ï¼Œå¯æƒœä¸æ˜¯ä½œå®¶çš„æ–™ï¼Œä»…èƒ½ç å­—è€Œå·²ã€‚ æ—…æ¸¸ä¸æ˜“ï¼Œç å­—æ›´éš¾ï¼Œä¸”è¡Œä¸”çæƒœã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[coolshellåšå®¢è§£è°œé¢˜æ¸¸æˆ]]></title>
      <url>%2Fpost%2Fcoolshell_puzzle%2F</url>
      <content type="text"><![CDATA[æœ‰äº›é—²æš‡æ—¶é—´äº†è§£äº†ä¸‹é…·å£³çš„è°œé¢˜æ´»åŠ¨ï¼Œå…±10é“é¢˜ï¼Œæ¯é“é¢˜éƒ½ä¸æ˜¯éžå¸¸ç®€å•ï¼Œæˆ‘è¿™é‡Œå‚è€ƒç€æ”»ç•¥åšäº†ä¸‹ã€‚ å­—ç¬¦æ›¿æ¢é¢˜æˆ‘ç¼–å†™çš„C++è¯­è¨€ç¨‹åº 1234567891011121314151617181920212223242526272829#include &lt;stdio.h&gt;#include &lt;string.h&gt;char change(char input)&#123; char *after = "abcdefghijklmnopqrstuvwxyz"; char *before = "pvwdgazxubqfsnrhocitlkeymj"; for (int i=0; i&lt;strlen(before); i++) &#123; if (before[i] == input) &#123; return after[i]; &#125; &#125; return input;&#125;int main()&#123; char *input = "Wxgcg txgcg ui p ixgff, txgcg ui p epm. I gyhgwt mrl lig txg ixgff wrsspnd tr irfkg txui hcrvfgs, nre, hfgpig tcm liunz txg crt13 ra \"ixgff\" tr gntgc ngyt fgkgf."; char *output = new char[strlen(input) + 1]; for (int i=0; i&lt;strlen(input); i++) &#123; output[i] = change(input[i]); &#125; output[strlen(input)] = '\0'; printf("%s\n", output); return 1;&#125; å¥½ä¹…æ²¡æœ‰ç”¨shelläº†ï¼Œåˆå†™äº†ä¸ªshellç‰ˆæœ¬çš„è§£é¢˜æ–¹æ³•ï¼Œè¯¥é—®é¢˜å¯èƒ½æœ‰æ›´ç®€å•çš„shellè§£å†³åŠžæ³•ï¼Œæˆ‘è¿™é‡Œè‚¯å®šå†™å¤æ‚äº†ã€‚ 123456789101112131415161718192021222324252627282930#!/bin/bashresult=''function change()&#123; result=$1 before='pvwdgazxubqfsnrhocitlkeymj' after='abcdefghijklmnopqrstuvwxyz' for ((i=0; i &lt;= $&#123;#before&#125;; i++)) do if [[ $&#123;before:$&#123;i&#125;:1&#125; = $&#123;1&#125; ]] then result=$&#123;after:$&#123;i&#125;:1&#125; break fi done&#125;input='Wxgcg txgcg ui p ixgff, txgcg ui p epm. I gyhgwt mrl lig txg ixgff wrsspnd tr irfkg txui hcrvfgs, nre, hfgpig tcm liunz txg crt13 ra "ixgff" tr gntgc ngyt fgkgf.'output=''j=0while [ "$j" -le $&#123;#input&#125; ]do change "$&#123;input:$&#123;j&#125;:1&#125;" output="$&#123;output&#125;$&#123;result&#125;" j=$((j+1))doneecho $&#123;output&#125; å…³äºŽrol13çš„è½¬ç å¯ä»¥é‡‡ç”¨rot13è¿™ä¸ªç½‘å€æ¥åœ¨çº¿è½¬ç ã€‚ ç©·ä¸¾å˜é‡é¢˜è¯¥é¢˜éœ€è¦ä¸æ–­çš„è¯·æ±‚urlæ¥èŽ·å–æœ€ç»ˆçš„ç½‘å€ï¼Œæˆ‘è¿™é‡Œå†™ä¸€ä¸ªshellè„šæœ¬æ¥ç©·ä¸¾ã€‚ 12345678#!/bin/bashres=2014while [ $&#123;#res&#125; &gt; 0 ]dores=`curl -s "http://fun.coolshell.cn/n/$&#123;res&#125;"`echo $resdone å¾—åˆ°ç­”æ¡ˆtree å‚è€ƒæ¸¸æˆé¡µé¢CoolShell puzzle game æ”»ç•¥æˆ‘ä¹Ÿä¸äº§ç”Ÿä»£ç  â€“ Coolshell è°œé¢˜ä¸€æ¸¸]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¿®æ”¹eclipseä¸»é¢˜]]></title>
      <url>%2Fpost%2Feclipse_theme%2F</url>
      <content type="text"><![CDATA[Eclipseé»˜è®¤æä¾›çš„ä¸»é¢˜è¿‡äºŽåˆºçœ¼ï¼Œè‡ªå·±æ¯”è¾ƒä¹ æƒ¯é»‘è‰²èƒŒæ™¯è‰²ã€‚æœ¬æ–‡åˆ†äº«ä¸‹ä¿®æ”¹Eclipseä¸»é¢˜çš„æ­¥éª¤ã€‚æˆ‘æ‰€ä½¿ç”¨çš„Eclipseç‰ˆæœ¬ä¸ºKeplerã€‚ç›¸å…³çš„è¯´æ˜Žåœ¨æ’ä»¶çš„ç½‘ç«™éƒ½æœ‰ç›¸å…³è¯´æ˜Žï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ã€‚å®‰è£…å®Œæ’ä»¶åŽçš„æ•ˆæžœå›¾å¦‚ä¸‹ï¼š å®‰è£…Eclipse Color Themeæ’ä»¶è¯¥æ’ä»¶ä»…ä¼šæ›´æ–°ç¼–è¾‘æ ä¸­çš„èƒŒæ™¯é¢œè‰²å’Œå­—ä½“é¢œè‰²ç­‰ä¿¡æ¯ï¼Œä¸ä¼šä¿®æ”¹Eclipseçš„æ•´ä½“ä¸»é¢˜é¢œè‰²ã€‚è¯¥æ’ä»¶ç½‘å€ä¸ºï¼šhttps://github.com/eclipse-color-theme/eclipse-color-themeã€‚ å®‰è£…Eclipse UI Themesä¸»é¢˜è¯¥æ’ä»¶ä¼šæ›´æ–°é™¤ç¼–è¾‘æ ä¹‹å¤–çš„å…¶ä»–EclipseèƒŒæ™¯è‰²ç­‰ä¿¡æ¯ï¼Œå…¶Githubåœ°å€ä¸ºï¼šhttp://eclipsecolorthemes.org/ã€‚ ç›¸å…³ä¸‹è½½ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘è¿™é‡Œå¤‡ä»½äº†æ’ä»¶æ”¾åœ¨ç™¾åº¦ç½‘ç›˜å…±äº«ï¼Œç›¸å…³æ’ä»¶ä¸‹è½½åœ°å€ï¼šhttp://pan.baidu.com/s/1eQnDI86]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹çš„ç½‘å¡é€Ÿåº¦æå‡æ–¹æ¡ˆ]]></title>
      <url>%2Fpost%2Flinux_netcard_promote%2F</url>
      <content type="text"><![CDATA[[TOC] æœ¬æ–‡ç ”ç©¶äº†Linuxä¸‹çš„ä¸€äº›ç½‘å¡è°ƒä¼˜ï¼Œç”¨äºŽæå‡ç½‘å¡çš„æ€§èƒ½ã€‚ ä¸‹æ–‡ä¸­çš„æ‰€æœ‰å…³äºŽç½‘ç»œçš„å‚æ•°å¯ä»¥åœ¨/etc/sysctl.confæ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œå¦‚æžœæ²¡æœ‰ç›¸åº”çš„å‚æ•°ï¼Œå¯ä»¥æ·»åŠ ã€‚ æŸ¥çœ‹ç›¸åº”å‚æ•°åœ¨å½“å‰è¿è¡Œæœºå™¨çš„å€¼å¯ä»¥é€šè¿‡/proc/sys/net/ç›®å½•ä¸‹çš„æ–‡ä»¶å†…å®¹æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥å¯¹è¯¥ç›®å½•ä¸‹ç›¸åº”æ–‡ä»¶çš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯ç”±äºŽ/procç›®å½•ä¸‹çš„æ–‡ä»¶å…¨éƒ¨ä½äºŽå†…å­˜ä¸­ï¼Œä¿®æ”¹çš„å€¼ä¸ä¼šä¿å­˜åˆ°ä¸‹æ¬¡å¼€æœºæ—¶ã€‚å› æ­¤è¦ä¿®æ”¹å‚æ•°çš„å€¼å¯ä»¥é€šè¿‡ä¿®æ”¹/etc/sysctl.confæ–‡ä»¶æ¥å®Œæˆã€‚ è¿˜å¯ä»¥é€šè¿‡sysctl -aå‘½ä»¤æ¥æŸ¥çœ‹æ‰€æœ‰çš„ç³»ç»Ÿé…ç½®å‚æ•°ã€‚ IPåè®®ç›¸å…³å‚æ•°é…ç½® net.ipv4.ip_default_ttlï¼šè®¾ç½®ä»Žæœ¬æœºå‘å‡ºçš„ipåŒ…çš„ç”Ÿå­˜æ—¶é—´ï¼Œå‚æ•°å€¼ä¸ºæ•´æ•°ï¼ŒèŒƒå›´ä¸º0ï½ž128ï¼Œç¼ºçœå€¼ä¸º64ã€‚å¦‚æžœç³»ç»Ÿç»å¸¸å¾—åˆ°â€œTime to live exceededâ€çš„icmpå›žåº”ï¼Œå¯ä»¥é€‚å½“å¢žå¤§è¯¥å‚æ•°çš„å€¼ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½è¿‡å¤§ï¼Œå› ä¸ºå¦‚æžœä½ çš„è·¯ç”±çš„çŽ¯è·¯çš„è¯ï¼Œå°±ä¼šå¢žåŠ ç³»ç»ŸæŠ¥é”™çš„æ—¶é—´ã€‚ TCPåè®®ç›¸å…³å‚æ•°é…ç½®TCPé“¾æŽ¥æ˜¯æœ‰å¾ˆå¤šå¼€é”€çš„ï¼Œä¸€ä¸ªæ˜¯ä¼šå ç”¨æ–‡ä»¶æè¿°ç¬¦ï¼Œå¦ä¸€ä¸ªæ˜¯ä¼šå¼€ç¼“å­˜ï¼Œä¸€èˆ¬æ¥è¯´ä¸€ä¸ªç³»ç»Ÿå¯ä»¥æ”¯æŒçš„TCPé“¾æŽ¥æ•°æ˜¯æœ‰é™çš„ã€‚ TCPå¸¸è§„å‚æ•° /proc/sys/net/ipv4/tcp_window_scalingï¼šè®¾ç½®tcp/ipä¼šè¯çš„æ»‘åŠ¨çª—å£å¤§å°æ˜¯å¦å¯å˜ã€‚å‚æ•°å€¼ä¸ºå¸ƒå°”å€¼ï¼Œä¸º1æ—¶è¡¨ç¤ºå¯å˜ï¼Œä¸º0æ—¶è¡¨ç¤ºä¸å¯å˜ã€‚Tcp/ip é€šå¸¸ä½¿ç”¨çš„çª—å£æœ€å¤§å¯è¾¾åˆ°65535å­—èŠ‚ï¼Œå¯¹äºŽé«˜é€Ÿç½‘ç»œï¼Œè¯¥å€¼å¯èƒ½å¤ªå°ï¼Œè¿™æ—¶å€™å¦‚æžœå¯ç”¨äº†è¯¥åŠŸèƒ½ï¼Œå¯ä»¥ä½¿tcp/ipæ»‘åŠ¨çª—å£å¤§å°å¢žå¤§æ•°ä¸ªæ•°é‡çº§ï¼Œä»Žè€Œæé«˜æ•°æ®ä¼ è¾“çš„èƒ½åŠ›ã€‚ net.core.rmem_defaultï¼šé»˜è®¤çš„æŽ¥æ”¶çª—å£å¤§å°ã€‚ net.core.rmem_maxï¼šæŽ¥æ”¶çª—å£çš„æœ€å¤§å¤§å°ã€‚ net.core.wmem_defaultï¼šé»˜è®¤çš„å‘é€çª—å£å¤§å°ã€‚ net.core.wmem_maxï¼šå‘é€çª—å£çš„æœ€å¤§å¤§å°ã€‚ /proc/sys/net/core/wmem_maxã€‚æœ€å¤§çš„TCPå‘é€æ•°æ®ç¼“å†²åŒºå¤§å°ã€‚ /proc/sys/net/ipv4/tcp_timestampsã€‚æ—¶é—´æˆ³åœ¨(è¯·å‚è€ƒRFC 1323)TCPçš„åŒ…å¤´å¢žåŠ 10ä¸ªå­—èŠ‚ï¼Œä»¥ä¸€ç§æ¯”é‡å‘è¶…æ—¶æ›´ç²¾ç¡®çš„æ–¹æ³•ï¼ˆè¯·å‚é˜… RFC 1323ï¼‰æ¥å¯ç”¨å¯¹ RTT çš„è®¡ç®—ï¼›ä¸ºäº†å®žçŽ°æ›´å¥½çš„æ€§èƒ½åº”è¯¥å¯ç”¨è¿™ä¸ªé€‰é¡¹ã€‚ é…ç½®KeepAliveå‚æ•°è¿™ä¸ªå‚æ•°çš„æ„æ€æ˜¯å®šä¹‰ä¸€ä¸ªæ—¶é—´ï¼Œå¦‚æžœé“¾æŽ¥ä¸Šæ²¡æœ‰æ•°æ®ä¼ è¾“ï¼Œç³»ç»Ÿä¼šåœ¨è¿™ä¸ªæ—¶é—´å‘ä¸€ä¸ªåŒ…ï¼Œå¦‚æžœæ²¡æœ‰æ”¶åˆ°å›žåº”ï¼Œé‚£ä¹ˆTCPå°±è®¤ä¸ºé“¾æŽ¥æ–­äº†ï¼Œç„¶åŽå°±ä¼šæŠŠé“¾æŽ¥å…³é—­ï¼Œè¿™æ ·å¯ä»¥å›žæ”¶ç³»ç»Ÿèµ„æºå¼€é”€ã€‚ï¼ˆæ³¨ï¼šHTTPå±‚ä¸Šä¹Ÿæœ‰KeepAliveå‚æ•°ï¼‰å¯¹äºŽåƒHTTPè¿™æ ·çš„çŸ­é“¾æŽ¥ï¼Œè®¾ç½®ä¸€ä¸ª1-2åˆ†é’Ÿçš„keepaliveéžå¸¸é‡è¦ã€‚ net.ipv4.tcp_keepalive_timeï¼šå½“keepaliveæ‰“å¼€çš„æƒ…å†µä¸‹ï¼ŒTCPå‘é€keepaliveæ¶ˆæ¯çš„é¢‘çŽ‡ã€‚ç¼ºçœå€¼ä¸º7200,å³ä¸¤å°æ—¶ï¼Œå»ºè®®å°†å…¶æ›´æ”¹ä¸º1800ã€‚ net.ipv4.tcp_keepalive_probesï¼šTCPå‘é€keepaliveæŽ¢æµ‹ä»¥ç¡®å®šè¯¥è¿žæŽ¥å·²ç»æ–­å¼€çš„æ¬¡æ•°ã€‚(é»˜è®¤å€¼æ˜¯9ï¼Œè®¾ç½®ä¸º5æ¯”è¾ƒåˆé€‚)ã€‚ net.ipv4.tcp_keepalive_intvlï¼šæŽ¢æµ‹æ¶ˆæ¯å‘é€çš„é¢‘çŽ‡ï¼Œä¹˜ä»¥tcp_keepalive_probeså°±å¾—åˆ°å¯¹äºŽä»Žå¼€å§‹æŽ¢æµ‹ä»¥æ¥æ²¡æœ‰å“åº”çš„è¿žæŽ¥æ€é™¤çš„æ—¶é—´ã€‚(é»˜è®¤å€¼ä¸º75ç§’ï¼ŒæŽ¨èè®¾ä¸º15ç§’) é…ç½®å»ºç«‹è¿žæŽ¥å‚æ•° /proc/sys/net/ipv4/tcp_syn_retriesï¼šè®¾ç½®å¼€å§‹å»ºç«‹ä¸€ä¸ªtcpä¼šè¯æ—¶ï¼Œé‡è¯•å‘é€synè¿žæŽ¥è¯·æ±‚åŒ…çš„æ¬¡æ•°ã€‚å‚æ•°å€¼ä¸ºå°äºŽ255çš„æ•´æ•°ï¼Œç¼ºçœå€¼ä¸º10ã€‚å‡å¦‚ä½ çš„è¿žæŽ¥é€Ÿåº¦å¾ˆå¿«ï¼Œå¯ä»¥è€ƒè™‘é™ä½Žè¯¥å€¼æ¥æé«˜ç³»ç»Ÿå“åº”æ—¶é—´ï¼Œå³ä¾¿å¯¹è¿žæŽ¥é€Ÿåº¦å¾ˆæ…¢çš„ç”¨æˆ·ï¼Œç¼ºçœå€¼çš„è®¾å®šä¹Ÿè¶³å¤Ÿå¤§äº†ã€‚ net.ipv4.tcp_retries1ï¼šå»ºç«‹ä¸€ä¸ªè¿žæŽ¥çš„æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º3,ä¸å»ºè®®ä¿®æ”¹ã€‚ é…ç½®å…³é—­è¿žæŽ¥å‚æ•°ä¸»åŠ¨å…³é—­çš„ä¸€æ–¹è¿›å…¥TIME_WAITçŠ¶æ€ï¼ŒTIME_WAITçŠ¶æ€å°†æŒç»­2ä¸ªMSL(Max Segment Lifetime)ï¼Œé»˜è®¤ä¸º4åˆ†é’Ÿï¼ŒTIME_WAITçŠ¶æ€ä¸‹çš„èµ„æºä¸èƒ½å›žæ”¶ã€‚æœ‰å¤§é‡çš„TIME_WAITé“¾æŽ¥çš„æƒ…å†µä¸€èˆ¬æ˜¯åœ¨HTTPæœåŠ¡å™¨ä¸Šã€‚ net.ipv4.tcp_retries2ï¼šæ™®é€šæ•°æ®çš„é‡ä¼ æ¬¡æ•°ï¼Œåœ¨ä¸¢å¼ƒæ¿€æ´»(å·²å»ºç«‹é€šè®¯çŠ¶å†µ)çš„TCPè¿žæŽ¥ä¹‹å‰ï¹éœ€è¦è¿›è¡Œå¤šå°‘æ¬¡é‡è¯•ã€‚é»˜è®¤å€¼ä¸º15ï¼Œæ ¹æ®RTOçš„å€¼æ¥å†³å®šï¼Œç›¸å½“äºŽ13-30åˆ†é’Ÿ(RFC1122è§„å®šï¼Œå¿…é¡»å¤§äºŽ100ç§’)ã€‚ net.ipv4.tcp_tw_reuseï¼šè¯¥æ–‡ä»¶è¡¨ç¤ºæ˜¯å¦å…è®¸é‡æ–°åº”ç”¨å¤„äºŽTIME-WAITçŠ¶æ€çš„socketç”¨äºŽæ–°çš„TCPè¿žæŽ¥ã€‚å¯ä»¥å°†å…¶è®¾ç½®ä¸º1 net.ipv4.tcp_tw_recycleï¼šæ‰“å¼€å¿«é€ŸTIME-WAIT socketså›žæ”¶ã€‚é»˜è®¤å…³é—­ï¼Œå»ºè®®æ‰“å¼€ã€‚ net.ipv4.tcp_fin_timeoutï¼šåœ¨ä¸€ä¸ªtcpä¼šè¯è¿‡ç¨‹ä¸­ï¼Œåœ¨ä¼šè¯ç»“æŸæ—¶ï¼ŒAé¦–å…ˆå‘Bå‘é€ä¸€ä¸ªfinåŒ…ï¼Œåœ¨èŽ·å¾—Bçš„ackç¡®è®¤åŒ…åŽï¼ŒAå°±è¿›å…¥FIN WAIT2çŠ¶æ€ç­‰å¾…Bçš„finåŒ…ç„¶åŽç»™Bå‘ackç¡®è®¤åŒ…ã€‚è¿™ä¸ªå‚æ•°å°±æ˜¯ç”¨æ¥è®¾ç½®Aè¿›å…¥FIN WAIT2çŠ¶æ€ç­‰å¾…å¯¹æ–¹finåŒ…çš„è¶…æ—¶æ—¶é—´ã€‚å¦‚æžœæ—¶é—´åˆ°äº†ä»æœªæ”¶åˆ°å¯¹æ–¹çš„finåŒ…å°±ä¸»åŠ¨é‡Šæ”¾è¯¥ä¼šè¯ã€‚å‚æ•°å€¼ä¸ºæ•´æ•°ï¼Œå•ä½ä¸ºç§’ï¼Œç¼ºçœä¸º180ç§’ï¼Œå»ºè®®è®¾ç½®æˆ30ç§’ã€‚ ç½‘å¡çš„å‚æ•°è®¾ç½®è°ƒæ•´ç½‘å¡çš„txqueuelentxqueuelençš„æ¶µä¹‰ä¸ºç½‘å¡çš„å‘é€é˜Ÿåˆ—é•¿åº¦ï¼Œå¯ä»¥é€šè¿‡ifconfigå‘½ä»¤æ‰¾åˆ°ç½‘å¡çš„txqueuelenå‚æ•°é…ç½®ï¼Œé»˜è®¤ä¸º1000,å»ºè®®å°†å…¶æ›´æ”¹ä¸º5000ã€‚ ç½‘å¡çš„ä¸­æ–­è®¾ç½®ç½‘å¡çš„è¯»å†™æ˜¯é€šè¿‡ç¡¬ä»¶çš„ä¸­æ–­æœºåˆ¶æ¥å®žçŽ°çš„ï¼Œé»˜è®¤ç½‘å¡æ˜¯ä¸­æ–­åœ¨cpuçš„å†…æ ¸0ä¸Šã€‚CPU0éžå¸¸é‡è¦ï¼ŒCPU0å…·æœ‰è°ƒæ•´åŠŸèƒ½ï¼Œå¦‚æžœCPU0åˆ©ç”¨çŽ‡è¿‡é«˜ï¼Œå…¶ä»–cpuæ ¸å¿ƒçš„åˆ©ç”¨çŽ‡ä¹Ÿä¼šä¸‹é™ã€‚å› æ­¤å¯ä»¥è€ƒè™‘å°†linuxçš„ç½‘å¡ä¸­æ–­ç»‘å®šåˆ°å…¶ä»–çš„cpuå†…æ ¸ä¸Šã€‚ å¯ä»¥é€šè¿‡/proc/interruptæ–‡ä»¶å†…å®¹æ¥æŸ¥çœ‹ç½‘å¡åœ¨cpuæ ¸çš„ä¸­æ–­æƒ…å†µã€‚12345678910111213141516171819202122232425262728 CPU0 CPU1 CPU2 CPU3 0: 16 0 0 0 IO-APIC-edge timer 1: 17144 2552 2312 2011 IO-APIC-edge i8042 5: 0 0 0 0 IO-APIC-edge parport0 8: 1 0 0 0 IO-APIC-edge rtc0 9: 0 0 0 0 IO-APIC-fasteoi acpi 19: 75011 144479 28826 16212 IO-APIC-fasteoi ata_piix, ata_piix 23: 214627 1 0 2 IO-APIC-fasteoi ehci_hcd:usb1, ehci_hcd:usb2 41: 0 0 0 0 PCI-MSI-edge xhci_hcd 42: 245675 11 17 6 PCI-MSI-edge eth0 43: 18 6 0 0 PCI-MSI-edge mei 44: 423481 80408 67559 54037 PCI-MSI-edge i915 45: 268 488 112 16 PCI-MSI-edge snd_hda_intelNMI: 21 18 23 18 Non-maskable interruptsLOC: 7076902 6761203 8711912 9042018 Local timer interruptsSPU: 0 0 0 0 Spurious interruptsPMI: 21 18 23 18 Performance monitoring interruptsIWI: 0 0 0 0 IRQ work interruptsRTR: 2 0 0 0 APIC ICR read retriesRES: 365564 155654 52242 40754 Rescheduling interruptsCAL: 12775 15182 23713 23003 Function call interruptsTLB: 31028 26721 21584 25548 TLB shootdownsTRM: 0 0 0 0 Thermal event interruptsTHR: 0 0 0 0 Threshold APIC interruptsMCE: 0 0 0 0 Machine check exceptionsMCP: 32 32 32 32 Machine check pollsERR: 0MIS: 0 å¯ä»¥çœ‹åˆ°eth0çš„ä¸­æ–­æ˜¯åœ¨CPU0ä¸Šï¼Œå¯ä»¥é€šè¿‡/proc/irq/42/smp_affinityæ–‡ä»¶æŸ¥çœ‹eth0é»˜è®¤çš„ä¸­æ–­åˆ†é…æƒ…å†µï¼Œæ–‡ä»¶çš„å†…å®¹ä¸º1,å¯¹åº”äºŒè¿›åˆ¶ä¸º0001,å¯¹åº”çš„ä¸ºCPU0ã€‚ è¦æƒ³ä¿®æ”¹ä¸­æ–­åˆ†é…æ–¹å¼ï¼Œéœ€è¦å…ˆåœæŽ‰IRQè‡ªåŠ¨è°ƒèŠ‚çš„æœåŠ¡è¿›ç¨‹ã€‚12/etc/init.d/irqbalance stopecho &quot;2&quot; &gt; /proc/irq/42/smp_affinity è¿™é‡Œçš„2è¡¨ç¤ºå°†ä¸­æ–­åˆ†é…åˆ°CPU1ä¸Šã€‚ åŒç½‘å¡è´Ÿè½½å‡è¡¡ä¸¤ä¸ªç½‘å¡å…±ç”¨ä¸€ä¸ªIPåœ°å€ï¼Œä¸­æ–­ç”¨ä¸¤ä¸ªæ ¸ï¼Œæ•ˆçŽ‡å¯ä»¥æå‡ä¸€å€ã€‚ æœåŠ¡å™¨çš„å…¶ä»–è®¾ç½®ä¿®æ”¹æœåŠ¡å™¨å¯åŠ¨çº§åˆ«å¯ä»¥é€šè¿‡runlevelå‘½ä»¤æŸ¥çœ‹æœºå™¨çš„å¯åŠ¨çº§åˆ«ï¼Œå¸¦å›¾å½¢ç•Œé¢çš„å¯åŠ¨çº§åˆ«ä¸º5ã€‚å¯ä»¥é€šè¿‡init 3æ¥åˆ‡æ¢åˆ°å¯åŠ¨çº§åˆ«3;å¯ä»¥ä¿®æ”¹/etc/inittabæ–‡ä»¶ä¸­id:5:initdefault:æ¥ä¿®æ”¹é»˜è®¤çº§åˆ«ã€‚ ä¿®æ”¹ç³»ç»Ÿçš„æ–‡ä»¶æè¿°ç¬¦æ•°å¦‚æžœç½‘ç»œé“¾æŽ¥è¾ƒå¤šï¼Œå¯ä»¥ä¿®æ”¹æ¯ä¸ªè¿›ç¨‹æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°ç›®ï¼Œé»˜è®¤ä¸º1024.å¯ä»¥é€šè¿‡ulimit -aæŸ¥çœ‹ï¼Œå¯ä»¥é€šè¿‡ulimit -n 32768æ¥ä¿®æ”¹ã€‚ å‚è€ƒç½‘é¡µ æ€§èƒ½è°ƒä¼˜æ”»ç•¥ Linux å†…æ ¸ç½‘ç»œå‚æ•°é…ç½®èµ„æ–™ Linux å¤šæ ¸ä¸‹ç»‘å®šç¡¬ä»¶ä¸­æ–­åˆ°ä¸åŒ CPUï¼ˆIRQ Affinityï¼‰ è®¡ç®— SMP IRQ Affinity æé«˜ Linux ä¸Š socket æ€§èƒ½]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æµªæ½®ä¹‹å·…è¯»ä¹¦ç¬”è®°]]></title>
      <url>%2Fpost%2Fon_top_of_tides%2F</url>
      <content type="text"><![CDATA[æˆ‘çš„å¤§éƒ¨åˆ†è¯»ä¹¦æ—¶é—´éƒ½èŠ±åœ¨äº†æŠ€æœ¯ç±»ä¹¦ç±ä¸Šï¼Œå¯¹äºŽæ‰¯æ·¡ç±»å’Œé¸¡æ±¤ç±»çš„ä¹¦ç±ä¸æ˜¯æˆ‘çš„æœ€çˆ±ã€‚æœ¬ä¹¦å—åˆ°äº†å¾ˆå¤šäº’è”ç½‘ä»Žä¸šäººå‘˜çš„æŽ¨èï¼Œå¯¹äºŽæŠ€æœ¯äººå‘˜æŽ¨èçš„ä¹¦ç±æ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒé è°±çš„ï¼Œå› æ­¤è¯•ç€ä¸€è¯»ï¼Œè¯»å®Œä¹‹åŽæžœç„¶æ”¶èŽ·é¢‡å¤šã€‚å´å†›åšå£«çš„å¾ˆå¤šè§‚ç‚¹éƒ½ç›¸å½“ç†æ€§ï¼Œå¾ˆå¤šå¯¹æœªæ¥çš„é¢„æµ‹ä¹Ÿéƒ½åœ¨ä»Šå¤©å¾—ä»¥éªŒè¯äº†ã€‚æ–‡ç« è¡Œä¸ºæµç•…ï¼Œè§‚ç‚¹é²œæ˜Žï¼Œèƒ½å¤Ÿçª¥è§ä½œè€…çš„å†™ä½œåŠŸåº•ã€‚æ–‡ä¸­çš„ä¸€äº›è§‚ç‚¹éžå¸¸å€¼å¾—è®°å½•å’Œå­¦ä¹ ï¼Œæœ¬æ–‡ä¸»è¦æ˜¯è®°å½•æ–‡ä¸­è§‚ç‚¹çš„æ‘˜è¦ï¼Œå¹¶ä½“çŽ°éƒ¨åˆ†è‡ªå·±çš„ç†è§£ã€‚ è®¡ç®—æœºè¡Œä¸šå‘å±•è§„å¾‹## æ‘©å°”å®šå¾‹ æ‘©å°”å®šå¾‹ï¼šæ¯18ä¸ªæœˆï¼Œè®¡ç®—æœºç­‰ITäº§å“çš„æ€§èƒ½ä¼šç¿»ä¸€ç•ªï¼Œæˆ–è€…è¯´ç›¸åŒæ€§èƒ½çš„è®¡ç®—æœºç­‰ITäº§å“ï¼Œæ¯18ä¸ªæœˆä»·é’±ä¼šé™ä¸€åŠã€‚ æ‘©å°”å®šå¾‹å¯¹è¡Œä¸šå‘å±•çš„å½±å“ä¸»è¦ä½“çŽ°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š ITå…¬å¸å¿…é¡»åœ¨æ¯”è¾ƒçŸ­çš„æ—¶é—´å†…å®Œæˆä¸‹ä¸€ä»£äº§å“çš„å¼€å‘ã€‚å¤©ä¸‹æ­¦åŠŸå”¯å¿«ä¸ç ´ï¼Œåœ¨äº’è”ç½‘è¡Œä¸šç‰¹åˆ«åˆé€‚ã€‚ ç”±äºŽæœ‰äº†å¼ºæœ‰åŠ›çš„ç¡¬ä»¶æ”¯æŒï¼Œä»¥å‰éƒ½ä¸æ•¢æƒ³çš„åº”ç”¨ä¼šä¸æ–­æ¶ŒçŽ°ã€‚æ‰‹æœºè¡Œä¸šæ­£åœ¨æ·±å—æ‘©å°”å®šå¾‹çš„å½±å“ã€‚ å„ä¸ªå…¬å¸çŽ°åœ¨çš„ç ”å‘å¿…é¡»é’ˆå¯¹å¤šå¹´åŽçš„å¸‚åœºã€‚ä¸çŸ¥é“googleæ˜¯å¦åœ¨ç ”ç©¶PCç‰ˆçš„æ“ä½œç³»ç»Ÿæ¥å–ä»£Windowsäº†ï¼Œä¸çŸ¥é“è‹¹æžœå…¬å¸å†…éƒ¨æ˜¯å¦åœ¨ç ”ç©¶iphone10äº†ï¼Ÿ å®‰è¿ª-æ¯”å°”å®šå¾‹ å®‰è¿ª-æ¯”å°”å®šå¾‹ï¼šå³æ¯”å°”è¦æ‹¿èµ°å®‰è¿ªæ‰€ç»™çš„ã€‚å®‰è¿ªæ˜¯åŽŸè‹±ç‰¹å°”å…¬å¸ CEO å®‰è¿ªÂ·æ ¼é²å¤«ï¼ˆAndy Groveï¼‰ï¼Œæ¯”å°”å°±æ˜¯å¾®è½¯çš„åˆ›å§‹äººæ¯”å°”Â·ç›–èŒ¨ã€‚åœ¨è¿‡åŽ»çš„äºŒåå¹´é‡Œï¼Œè‹±ç‰¹å°”å¤„ç†å™¨çš„é€Ÿåº¦æ¯åå…«ä¸ªæœˆç¿»ä¸€ç•ªï¼Œè®¡ç®—æœºå†…å­˜å’Œç¡¬ç›˜çš„å®¹é‡ä»¥æ›´å¿«çš„é€Ÿåº¦åœ¨å¢žé•¿ã€‚ä½†æ˜¯ï¼Œå¾®è½¯çš„æ“ä½œç³»ç»Ÿç­‰åº”ç”¨è½¯ä»¶è¶Šæ¥è¶Šæ…¢ï¼Œä¹Ÿè¶Šåšè¶Šå¤§ã€‚æ‰€ä»¥ï¼ŒçŽ°åœ¨çš„è®¡ç®—æœºè™½ç„¶æ¯”åå¹´å‰å¿«äº†ä¸€ç™¾å€ï¼Œè¿è¡Œè½¯ä»¶æ„Ÿè§‰ä¸Šè¿˜æ˜¯å’Œä»¥å‰å·®ä¸å¤šã€‚è€Œä¸”ï¼Œè¿‡åŽ»æ•´ä¸ªè§†çª—æ“ä½œç³»ç»Ÿä¸è¿‡åå‡ å…†å¤§å°ï¼ŒçŽ°åœ¨è¦å‡ åƒå…†ï¼Œåº”ç”¨è½¯ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è™½ç„¶æ–°çš„è½¯ä»¶åŠŸèƒ½æ¯”ä»¥å‰çš„ç‰ˆæœ¬å¼ºäº†ä¸€äº›ï¼Œä½†æ˜¯ï¼Œå¢žåŠ çš„åŠŸèƒ½ç»å¯¹ä¸æ˜¯å’Œå®ƒçš„å¤§å°æˆæ¯”ä¾‹çš„ã€‚å› æ­¤ï¼Œä¸€å°åå¹´å‰çš„è®¡ç®—æœºèƒ½è£…å¤šå°‘åº”ç”¨ç¨‹åºï¼ŒçŽ°åœ¨çš„ä¹Ÿä¸è¿‡è£…è¿™ä¹ˆå¤šï¼Œè™½ç„¶ç¡¬ç›˜çš„å®¹é‡å¢žåŠ äº†ä¸€åƒå€ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œç”¨æˆ·å‘çŽ°ï¼Œå¦‚æžœä¸æ›´æ–°è®¡ç®—æœºï¼ŒçŽ°åœ¨å¾ˆå¤šæ–°çš„è½¯ä»¶å°±ç”¨ä¸äº†ï¼Œè¿žä¸Šç½‘ä¹Ÿæ˜¯ä¸ªé—®é¢˜ã€‚è€Œåå¹´å‰ä¹°å¾—èµ·çš„è½¦å´ç…§æ ·å¯ä»¥è·‘ã€‚ å®‰è¿ª-æ¯”å°”å®šå¾‹æŠŠåŽŸæœ¬å±žäºŽè€ç”¨æ¶ˆè´¹å“çš„ç”µè„‘ã€æ‰‹æœºç­‰å•†å“å˜æˆäº†æ¶ˆè´¹æ€§å•†å“ï¼Œåˆºæ¿€ç€æ•´ä¸ªITé¢†åŸŸçš„å‘å±•ã€‚ åæ‘©å°”å®šå¾‹ åæ‘©å°”å®šå¾‹ï¼šGoogleçš„å‰CEOåŸƒé‡Œå…‹Â·æ–½å¯†ç‰¹æå‡ºï¼šå¦‚æžœä½ åè¿‡æ¥çœ‹æ‘©å°”å®šå¾‹ï¼Œä¸€ä¸ªITå…¬å¸å¦‚æžœä»Šå¤©å’Œ18ä¸ªæœˆå‰å–æŽ‰åŒæ ·å¤šçš„ã€åŒæ ·çš„äº§å“ï¼Œå®ƒçš„è¥ä¸šé¢å°±è¦é™ä¸€åŠã€‚ITç•ŒæŠŠå®ƒç§°ä¸ºåæ‘©å°”å®šå¾‹ã€‚åæ‘©å°”å®šç†å¯¹äºŽæ‰€æœ‰çš„IT å…¬å¸æ¥è®²ï¼Œéƒ½æ˜¯éžå¸¸å¯æ‚²çš„ï¼Œå› ä¸ºä¸€ä¸ªITå…¬å¸èŠ±äº†åŒæ ·çš„åŠ³åŠ¨ï¼Œå´åªå¾—åˆ°ä»¥å‰ä¸€åŠçš„æ”¶å…¥ã€‚åæ‘©å°”å®šç†é€¼ç€æ‰€æœ‰çš„ç¡¬ä»¶è®¾å¤‡å…¬å¸å¿…é¡»èµ¶ä¸Šæ‘©å°”å®šç†è§„å®šçš„æ›´æ–°é€Ÿåº¦ã€‚ ä¿¡æ¯äº§ä¸šçš„è§„å¾‹æ€§70-20-10å®šå¾‹ å½“æŸä¸ªé¢†åŸŸå‘å±•æˆç†ŸåŽï¼ˆè€Œä¸æ˜¯ç¾¤é›„äº‰éœ¸æ—¶æœŸï¼‰ï¼Œä¸€èˆ¬åœ¨å…¨çƒå®¹ä¸ä¸‹ä¸‰ä¸ªä»¥ä¸Šçš„ä¸»è¦ç«žäº‰è€…ã€‚è¿™ä¸ªè¡Œä¸šä¸€å®šæœ‰ä¸€ä¸ªè€å¤§ï¼Œæ–¯åº“åˆ©æŠŠå®ƒæ¯”å–»æˆä¸€ä¸ªçŒ´çŽ‹ï¼Œå®ƒæ˜¯è¿™ä¸ªè¡Œä¸šçš„ä¸»å¯¼è€…ã€‚æ¯«æ— ç–‘é—®ï¼Œå®ƒè™½ç„¶æƒ³é¡ºé¡ºå½“å½“åœ°ç»Ÿé¢†å¥½æ•´ä¸ªè¡Œä¸šï¼Œå°±åƒçŒ´çŽ‹æƒ³è®©çŒ´å­ä»¬æ°¸è¿œè‡£æœä¸€æ ·ï¼Œä½†æ˜¯ï¼Œå®ƒä¸€å®šä¼šé‡åˆ°ä¸€ä¸¤ä¸ªä¸»è¦çš„æŒ‘æˆ˜è€…ï¼Œä¹Ÿå°±æ˜¯è€äºŒï¼ˆä¹Ÿè®¸è¿˜æœ‰ä¸€ä¸ªè€ä¸‰ï¼‰ã€‚å‰©ä¸‹æ¥çš„æ˜¯ä¸€å¤§ç¾¤å°å•†å®¶ï¼Œå°±åƒä¸€å¤§ç¾¤çŒ´å­ã€‚è€å¤§æ˜¯è¿™ä¸ªé¢†åŸŸçš„ä¸»å¯¼è€…ï¼Œä¸ä»…å æ®ç€è¶…è¿‡ä¸€åŠï¼Œé€šå¸¸æ˜¯ç™¾åˆ†ä¹‹å…­ä¸ƒåçš„å¸‚åœºï¼Œå¹¶ä¸”åˆ¶å®šäº†è¿™ä¸ªé¢†åŸŸçš„æ¸¸æˆè§„åˆ™ã€‚è€äºŒæœ‰è‡ªå·±ç¨³å®šçš„ç™¾åˆ†ä¹‹äºŒä¸‰åçš„å¸‚åœºä»½é¢ï¼Œæœ‰æ—¶ä¹Ÿä¼šæŒ‘æˆ˜è€å¤§å¹¶ç»™è€å¤§ä¸€äº›é¢œè‰²çœ‹çœ‹ï¼Œä½†æ˜¯æ€»çš„æ¥è®²æ˜¯å—è€å¤§æ¬ºè´Ÿçš„æ—¶é—´å¤šã€‚å‰©ä¸‹çš„ä¸€ç¾¤å°çŒ´å­æ•°é‡è™½ç„¶å¤šï¼Œä½†æ˜¯å´åªèƒ½å åˆ°ç™¾åˆ†ä¹‹åç”šè‡³æ›´å°‘çš„å¸‚åœºï¼Œå®ƒä»¬åŸºæœ¬ä¸Šå”¯è€å¤§é©¬é¦–æ˜¯çž»ã€‚è€å¤§æ€»æ˜¯å¯†åˆ‡æ³¨è§†ç€è€äºŒï¼Œå¹¶æ—¶ä¸æ—¶åœ°æ‰“åŽ‹å®ƒï¼Œé˜²æ­¢å®ƒåšå¤§ã€‚è€å¤§å’Œè€äºŒé€šå¸¸éƒ½ä¸ä¼šå¤ªåœ¨æ„å‰©ä¸‹çš„å°ä¼ä¸šï¼Œè¿™æ ·å°±è®©è¿™ä¸€ç¾¤å°çš„ä¼ä¸šèƒ½æœ‰æŒ£ä¸€äº›å°é’±çš„åœ°æ–¹ã€‚ è¯ºç»´æ ¼å®šå¾‹ è°·æ­Œç ”ç©¶é™¢é™¢é•¿å½¼å¾—.è¯ºå¨æ ¼åšå£«è¯´ï¼Œå½“ä¸€ä¸ªå…¬å¸çš„å¸‚åœºå æœ‰çŽ‡è¶…è¿‡50% ä»¥åŽï¼Œå°±ä¸è¦å†æŒ‡æœ›åœ¨å¸‚åœºå æœ‰çŽ‡ä¸Šç¿»ç•ªäº†ã€‚ åŸºå› å†³å®šå®šå¾‹ ä¸€ä¸ªåœ¨æŸä¸ªé¢†åŸŸç‰¹åˆ«æˆåŠŸçš„å¤§å…¬å¸ä¸€å®šå·²ç»è¢«ä¼˜åŒ–å¾—éžå¸¸é€‚åº”è¿™ä¸ªå¸‚åœºï¼Œå®ƒçš„æ–‡åŒ–ã€åšäº‹æ–¹å¼ã€å•†ä¸šæ¨¡å¼ã€å¸‚åœºå®šä½ç­‰ç­‰å·²ç»éžå¸¸é€‚åº”ï¼Œç”šè‡³è¿‡åˆ†é€‚åº”è‡ªå·±ä¼ ç»Ÿçš„å¸‚åœºã€‚è¿™ä½¿å¾—è¯¥å…¬å¸èŽ·å¾—æˆåŠŸçš„å†…åœ¨å› ç´ ä¼šæ¸æ¸åœ°ã€æ·±æ·±åœ°æ¤å…¥è¯¥å…¬å¸ï¼Œå¯ä»¥è®²æ˜¯è¿™ä¸ªå…¬å¸çš„åŸºå› ã€‚ åŸºå› å¯¹äºŽä¸€ä¸ªå…¬å¸éžå¸¸çš„é‡è¦ï¼Œä¼šå½±å“åˆ°å…¬å¸çš„æ•´ä¸ªå‘å±•åŽ†ç¨‹ã€‚æµŽå—çš„è½¯ä»¶å…¬å¸éƒ½æ˜¯äº›ä¼ ç»Ÿè¡Œä¸šçš„è½¯ä»¶å…¬å¸ï¼Œåœ¨è¿‡åŽ»åå¹´çš„æ—¶é—´ä¸­å‘å±•è¿˜ç®—å¯ä»¥ã€‚å› ä¸ºè¡Œä¸šè½¯ä»¶æ˜¯é”€å”®ä¸ºçŽ‹ï¼Œåªè¦é”€å”®æžçš„å¥½ï¼Œåªè¦ä¸æ˜¯ç‰¹åˆ«çƒ‚çš„æŠ€æœ¯éƒ½èƒ½æ··è¿‡åŽ»ã€‚çŽ°åœ¨éšç€äº’è”ç½‘çš„å…´èµ·ï¼Œå¾ˆå¤šä¼ä¸šå¼€å§‹è½¬åž‹æžäº’è”ç½‘åº”ç”¨ï¼Œå´æ²¡æœ‰ä¸€å®¶æžçš„èµ·æ¥ï¼Œåˆ°çŽ°åœ¨æµŽå—éƒ½æ²¡æœ‰ä¸€å®¶çœŸæ­£æ„ä¹‰ä¸Šçš„äº’è”ç½‘å…¬å¸ï¼Œå¦‚æžœæœ‰è¯·ä½ å‘Šè¯‰æˆ‘ã€‚è¿™äº›ä»Žæœ¬è´¨ä¸Šæ¥è¯´è¿˜æ˜¯åŸºå› å†³å®šå®šå¾‹çš„å½±å“ã€‚ æœ€ä½³å•†ä¸šæ¨¡å¼Googleçš„å¹¿å‘Šç³»ç»Ÿ åœ¨è¿™å°å°é’žæœºé‡Œï¼Œè¿è¥çš„æˆæœ¬å°±æ˜¯æ•°æ®ä¸­å¿ƒçš„è´¹ç”¨å’Œå¸¦å®½çš„è´¹ç”¨ï¼Œè€Œé—´æŽ¥çš„æˆæœ¬åˆ™æ˜¯æ‰“é€ å’Œæ”¹è¿›è¿™ä¸ªå°é’žæœºçš„ç ”å‘è´¹ç”¨ã€‚åœ¨è¿™å°å°é’žæœºä¸­ï¼Œè‡ªåŠ¨åŒ–ç¨‹åº¦å¿…é¡»åˆ°è¾¾ä¸€ä¸ªé˜ˆå€¼ï¼Œå®ƒæ‰èƒ½è‡ªåŠ¨è¿è½¬èµ·æ¥ã€‚è€Œå½“å®ƒçš„è‡ªåŠ¨åŒ–è¶Šé«˜ï¼Œæˆæœ¬å°±è¶Šä½Žã€‚ Ebay å’Œäºšé©¬é€Šçš„åœ¨çº¿å¸‚åœºæä¾›åœ¨çº¿äº¤æ˜“å’Œæ”¯ä»˜å¹³å°ï¼Œä¹°å–åŒæ–¹è‡ªç”±äº¤æ˜“ï¼Œèµšå–æ‰‹ç»­è´¹ç”¨å’Œå°‘é‡ææˆã€‚ä¸­å›½çš„æ·˜å®ä¹ŸåŸºæœ¬å±žäºŽè¿™ç§æ¨¡å¼ã€‚ æˆ´å°”çš„è™šæ‹Ÿå·¥åŽ‚ ä¸€ä¸ªä¼ ç»Ÿçš„åˆ¶é€ ä¸šéœ€è¦é€šè¿‡äº§å“è®¾è®¡ã€åŽŸæ–™é‡‡è´­ã€ä»“å‚¨è¿è¾“ã€åŠ å·¥åˆ¶é€ ã€è®¢å•å¤„ç†ã€æ‰¹å‘ç»è¥å’Œé›¶å”®ä¸ƒä¸ªçŽ¯èŠ‚æ‰èƒ½æ”¶å›žæŠ•èµ„ã€èŽ·å¾—åˆ©æ¶¦ã€‚æˆ´å°”å°†ä¸Šè¿°ä¸ƒä¸ªçŽ¯èŠ‚å‡å°‘åˆ°ä¸¤ä¸ªï¼Œä»…ç•™è®¢å•å¤„ç†å’Œé›¶å”®ã€‚ è…¾è®¯çš„è™šæ‹Ÿç‰©å“å’ŒæœåŠ¡é”€å”®è™šæ‹Ÿå•†å“å•†ä¸šæ¨¡å¼å¿…é¡»è§£å†³å¥½ä¸¤ä¸ªé—®é¢˜ï¼šè™šæ‹Ÿå•†å“çš„ä½¿ç”¨ä»·å€¼å’Œè™šæ‹Ÿç¤¾äº¤ç½‘ç«™ä¸­çš„ç”¨æˆ·ä¸ä½†æ˜¯è™šæ‹Ÿå•†å“çš„æ¶ˆè´¹è€…ï¼Œè¿˜æ˜¯å®ƒä»¬çš„åˆ›é€ è€…ã€‚è§£å†³å¥½ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜ï¼Œåªè¦ç´¯è®¡èµ·è¶³å¤Ÿå¤šçš„ç”¨æˆ·åŸºæ•°ï¼Œè™šæ‹Ÿå•†å“å°±æˆäº†ç¤¾äº¤ç½‘ç«™çš„å°é’žæœºã€‚ ä¸‹ä¸€ä¸ªGoogleå¾®è½¯æ˜¯ä¸€å®¶è½¯ä»¶å…¬å¸ï¼Œç™¾åº¦æ˜¯ä¸€å®¶åŒºåŸŸæ€§çš„äº’è”ç½‘å…¬å¸ï¼Œè€ŒGoogleæ›´å¤šåœ°æ˜¯ä¸€å®¶ç§‘æŠ€å…¬å¸ã€‚ ä¸‹ä¸€ä¸ªGoogleä¸å¯èƒ½æ˜¯æœç´¢å…¬å¸ï¼Œè€Œä¸”ä¸å¤ªå¯èƒ½æ˜¯çŽ°åœ¨æ„ä¹‰ä¸Šä¾é å¹¿å‘ŠæŒ£é’±çš„äº’è”ç½‘å…¬å¸ï¼Œå› ä¸ºè¿™ä¸ªäº’è”ç½‘å¹¿å‘Šäº§ä¸šä¸å¤Ÿå…»æ´»ä¸€ä¸ªåƒGoogleè¿™ä¹ˆå¤§çš„å…¬å¸ã€‚ æ›¿ä»£èƒ½æºå’Œç”µæ± åœ¨è¿‘æœŸå¾ˆéš¾è¯žç”Ÿä¸€ä¸ªGoogleè¿™æ ·çš„å…¬å¸ã€‚ ç”Ÿç‰©å’ŒåŒ»ç–—æŠ€æœ¯æœ‰å…¨ç¤¾ä¼šçš„éœ€æ±‚ï¼Œä½†æ˜¯åˆ›æ–°å‘¨æœŸç‰¹åˆ«é•¿ï¼ŒåŠ ä¸Šæ³•å¾‹ä¸Šçš„é£Žé™©ï¼Œä¸å¯èƒ½åœ¨çŸ­æœŸå†…æ ¸è¯žç”Ÿä¸‹ä¸€ä¸ªGoogleã€‚ åœ¨ä¸­å›½å’Œä¸€äº›äºšæ´²å›½å®¶ï¼Œç”µå­å•†åŠ¡çš„æ½œåŠ›å¯ä»¥æ—©å°±å‡ºGoogleè¿™æ ·çš„å¤§åž‹æ–°åž‹å…¬å¸ã€‚ å¦‚æžœé€šè¿‡äº‘è®¡ç®—è¯žç”Ÿä¸€ä¸¤ä¸ªåƒäº¿ç¾Žå…ƒçš„å…¬å¸ï¼Œé¦–å…ˆä¼šæ˜¯Googleè‡ªå·±ï¼Œå…¶æ¬¡æ˜¯æŽ§åˆ¶å¼€å‘å¹³å°çš„Facebookï¼Œè€Œä¸ä¼šæ˜¯æ–°é¢å­”ã€‚ ç›¸å…³ä¸‹è½½éžå¸¸ç²¾ç¾Žçš„è¯»ä¹¦ç¬”è®°PPT]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹çˆ¶è¿›ç¨‹å®šæœŸæ€æ­»è¶…æ—¶å­è¿›ç¨‹çš„ä¾‹å­]]></title>
      <url>%2Fpost%2Flinux_kill_child_process%2F</url>
      <content type="text"><![CDATA[åœ¨Linuxä¸‹ä¼šçˆ¶è¿›ç¨‹é€šè¿‡fork()å‡ºçš„å­è¿›ç¨‹å¯èƒ½ä¼šç”±äºŽæŸç§åŽŸå› æ­»é”æˆ–ç¡çœ è€Œæ— æ³•ç»ˆæ­¢ï¼Œè¿™æ—¶å€™éœ€è¦çˆ¶è¿›ç¨‹æ€æ­»å­è¿›ç¨‹ã€‚æœ¬ç¨‹åºæ˜¯çˆ¶è¿›ç¨‹æ£€æµ‹åˆ°å­è¿›ç¨‹è¿è¡Œä¸€æ®µæ—¶é—´åŽæ€æ­»å­è¿›ç¨‹çš„ä¾‹å­ã€‚ çˆ¶è¿›ç¨‹çš„æ£€æµ‹ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/wait.h&gt;int main(int argc, char *argv[])&#123; int pid = fork(); if (pid &gt; 0) &#123; // parent process int count = 0; while (1) &#123; pid_t result = waitpid(pid, NULL, WNOHANG); if (result == 0) &#123; printf("child process is running\n"); count++; if (count &gt;= 60 * 60) // one hour &#123; kill(pid, 9); // kill child process &#125; &#125; else if (result == pid) &#123; printf("child process has exit\n"); break; &#125; else &#123; printf("result=%d\n", result); &#125; sleep(1); &#125; &#125; else if (pid == 0) &#123; // child process execv("/home/kuring/source/child", NULL); _exit(1); &#125; else &#123; printf("fork() error\n"); return -1; &#125; return 0; &#125; å­è¿›ç¨‹è°ƒç”¨execv()å‡½æ•°æ‰§è¡Œçš„childä»£ç å¦‚ä¸‹ï¼š 123456789101112#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;int main(int argc, char *argv[])&#123; while (1) &#123; sleep(1); &#125; return 1;&#125; ä¾‹å­æ¯”è¾ƒç®€å•ï¼Œä¸ä½œè¿‡å¤šè§£é‡Šã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æˆ‘ç›®å‰çš„ç†æƒ³å·¥ä½œçŠ¶æ€]]></title>
      <url>%2Fpost%2Fmy_perfect_work%2F</url>
      <content type="text"><![CDATA[åœ¨å¤–åœ°å‡ºå·®ï¼Œè¶ç€åˆä¼‘æ—¶é—´èººåœ¨æœºæˆ¿èµ°å»Šçš„åœ°æ¿ä¸Šæƒ³å°æ†©ä¸€ä¼šå´æ€Žä¹ˆä¹Ÿè¿›å…¥ä¸äº†çŠ¶æ€ã€‚çªç„¶å†™ç€å¯ä»¥å†™å†™æˆ‘å¿ƒä¸­ç›®å‰çš„ç†æƒ³å·¥ä½œçŠ¶æ€ã€‚éšç€å¹´é¾„ã€é˜…åŽ†å’ŒçŸ¥è¯†æ°´å¹³çš„å¢žé•¿ï¼Œæ¯ä¸ªäººå¿ƒä¸­ç†æƒ³çš„å·¥ä½œçŠ¶æ€ä¹Ÿä¼šåœ¨å˜ã€‚æˆ‘çŽ°åœ¨çš„ç†æƒ³å·¥ä½œçŠ¶æ€è·Ÿæˆ‘åˆšæ¯•ä¸šæ—¶è‚¯å®šæ˜¯æœ‰åŒºåˆ«çš„ï¼Œåˆšæ¯•ä¸šé‚£ä¼šåˆå…¥èŒ…åºï¼Œå¯¹å…¬å¸çš„å¾ˆå¤šäº‹æƒ…è¿˜æ˜¯æ‡µæ‡‚ï¼Œè‡ªç„¶æœŸæœ›æ‰¾ä¸ªé«˜æ‰‹å¸¦ä¸€å¸¦ã€‚ æˆ‘æœŸæœ›åŠ å…¥ä¸€å®¶æŠ€æœ¯ä¸ºçŽ‹çš„å…¬å¸ã€‚ æŠ€æœ¯æ‰æ˜¯ç§‘æŠ€å…¬å¸çœŸæ­£çš„æ ¸å¿ƒç«žäº‰åŠ›ï¼Œè€Œéžé”€å”®å’Œå…¬å…³èƒ½åŠ›ã€‚ä»Žç¡…è°·ä¸­åšå¤§åšå¼ºçš„å…¬å¸å“ªä¸ªä¸æ˜¯ä»¥æŠ€æœ¯ä½œä¸ºé¢†å…ˆç«žäº‰å¯¹æ‰‹çš„ç­¹ç ï¼Œåå‡ å¹´å‰çš„googleçš„å´›èµ·ã€é›…è™Žçš„è¡°è½ï¼Œè¿‘å‡ å¹´Githubçš„ç«çˆ†æ— ä¸æ˜¯æŠ€æœ¯å› ç´ åœ¨å…¶å†³å®šä½œç”¨ã€‚åœ¨ä¸­å›½è½¯ä»¶è¡Œä¸šè¿˜æœªå‘å±•æˆç†Ÿï¼Œè§‰å¤§å¤šæ•°ä¼ä¸šä»ç„¶åœ¨ä»¥é”€å”®ä¸ºæ ¸å¿ƒç›ˆåˆ©æ–¹å¼çš„ç•¸å½¢å‘å±•æ–¹å¼ä¸­ï¼Œä½†æŠ€æœ¯ä¸ºçŽ‹ç»å¯¹æ˜¯ä¸ªè¶‹åŠ¿ï¼Œè¿™ä¸ªä¸æ˜¯é å…³ç³»é æ”¿ç­–å¯ä»¥æ”¹å˜çš„äº‹å®žï¼Œè¿™ä¸ªæ˜¯å¤§åŠ¿æ‰€è¶‹ã€åŽ†å²å¿…ç„¶ã€‚ æˆ‘ä¸å¥¢æœ›æŠ€æœ¯ä¸ºçŽ‹çš„å…¬å¸ä¸­ç‰›äººè¾ˆå‡ºä½†æ˜¯æœŸæœ›èƒ½å¤šå‡ ä¸ªç‰›äººå°±å¤šå‡ ä¸ªç‰›äººï¼Œè‡³å°‘ä¸æœŸæœ›åœ¨å…¬å¸ä¸­è§åˆ°ä¸€çœ‹å°±æ²¡æœ‰åšæŠ€æœ¯æ½œè´¨çš„åŒäº‹ï¼ˆä¸€ä¸ªäººé€‚ä¸é€‚åˆåšæŠ€æœ¯æœ‰æ—¶å€™æ˜¯å¯ä»¥çœ‹å‡ºæ¥çš„ï¼‰ã€‚ æˆ‘æœŸæœ›åŠ å…¥ä¸€å®¶äº’è”ç½‘è¡Œä¸šçš„å…¬å¸ã€‚ è½¯ä»¶è¡Œä¸šæŒ‰ç…§äº§å“ç±»åž‹å¤§è‡´å¯ä»¥åˆ†ä¸‰ç±»ï¼šå¤–åŒ…ã€å–äº§å“å’Œåšå¹³å°ã€‚ å¤–åŒ…å…¬å¸å®Œå…¨ä»¥è®¢å•ä¸ºå¯¼å‘ï¼Œå¾€å¾€æ¶‰åŠåˆ°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼ŒæŠ€æœ¯å«é‡ä½Žï¼Œè‡ªç„¶ä¸åœ¨æˆ‘çš„è€ƒè™‘èŒƒå›´å†…ã€‚ æˆ‘ä¹‹å‰ä»Žäº‹çš„å…¬å¸éƒ½æ˜¯åœ¨å–äº§å“çš„å…¬å¸ï¼Œå¾€å¾€å–äº§å“çš„å…¬å¸éœ€è¦æœ‰ä¸€å®šçš„æŠ€æœ¯å«é‡ï¼Œä½†æ˜¯æŠ€æœ¯ä¸èƒ½å†³å®šå…¬å¸å‘å±•ï¼Œè¿™ä¸€ç±»å…¬å¸æ˜¯ä»¥é”€å”®ä¸ºå¯¼å‘çš„å…¬å¸ï¼Œä¸€å¥—äº§å“å¾€å¾€å¯ä»¥å–ä¸Šå¤šå¹´ï¼Œç”šè‡³åå‡ å¹´ä¹Ÿä¸å¥‡æ€ªã€‚ åšå¹³å°çš„å…¬å¸å¾€å¾€ä¸éœ€è¦è¿‡å¤šçš„é”€å”®ï¼Œå¤§å¤šæ•°æ˜¯ä»¥ç”¨æˆ·é‡ä¸ºçŽ‹çš„ï¼Œè€Œè¦æƒ³æ‹‰æ‹¢ç”¨æˆ·åˆ°å¹³å°ä¸Šå¾€å¾€éœ€è¦é æŠ€æœ¯æˆ–é”€å”®å–èƒœï¼Œè€ŒæŠ€æœ¯å› ç´ ç›¸å¯¹æ›´åŠ å…³é”®ã€‚ä»¥Dotaå¯¹æˆ˜å¹³å°ä¸ºä¾‹ï¼Œå‰å‡ å¹´æ¯”è¾ƒç«çˆ†çš„æ˜¯æµ©æ–¹å’ŒVSï¼ŒçŽ°åœ¨æˆäº†11å¯¹æˆ˜å¹³å°çš„å¤©ä¸‹äº†ã€‚11å¯¹æˆ˜å¹³å°åŽæ¥è€…å±…ä¸Šå°±æ˜¯å› ä¸º11å¯¹æˆ˜å¹³å°çŽ‡å…ˆæŽ¨å‡ºäº†å¤©æ¢¯æ¨¡å¼å’Œè·¯äººæ¨¡å¼ï¼Œä»Žè€Œè½ä¸‹äº†ç«žäº‰å¯¹æ‰‹ä¸€å¤§æˆªã€‚äº’è”ç½‘è¡Œä¸šå±žäºŽç¬¬ä¸‰ç±»ï¼Œè€ŒæµŽå—å‡ ä¹Žæ‰¾ä¸åˆ°è¿™ç±»å…¬å¸ã€‚å°±ç®—æœ‰ä¸€äº›è¿™æ ·çš„å…¬å¸ï¼Œå¾€å¾€ä¹Ÿæ˜¯ä»¥é”€å”®ä¸ºå¯¼å‘çš„å…¬å¸ã€‚éŸ©éƒ½è¡£èˆä¹Ÿæœ‰è‡ªå·±çš„ç½‘ç«™ï¼Œä½†æ˜¯æµé‡åº”è¯¥æ²¡æœ‰æ·˜å®å¤§ï¼Œä¼°è®¡ç½‘ç«™æŠ€æœ¯ä¸Šçš„æŠ•å…¥ä¹Ÿä¸€èˆ¬èˆ¬ã€‚é“¶åº§é›†å›¢åœ¨ç”µå•†ç«çˆ†äº†åŽä¹Ÿæžäº†ä¸ªç½‘ä¸Šå•†åŸŽï¼Œå•ä»Žç•Œé¢çœ‹å¯è·Ÿè‹å®æ‹‰åœ¨åŒä¸€ä¸ªæ¡£æ¬¡ï¼Œä½†æ•ˆæžœå¦‚ä½•å½±å“æ€Žä¹ˆæ ·å¯æƒ³è€ŒçŸ¥ï¼Œä¼°è®¡æŠ€æœ¯éƒ½æ˜¯å¤–åŒ…çš„ï¼Œä»…æ˜¯é¢†å¯¼æ‹æ‹è„‘è¢‹çš„äº§ç‰©ã€‚æˆ‘å®žåœ¨æƒ³ä¸åˆ°åœ¨æµŽå—æœ‰ä»€ä¹ˆäº’è”ç½‘å…¬å¸äº†ï¼Œå¦‚æžœä½ çŸ¥é“è¯·å‘Šè¯‰æˆ‘ã€‚ æˆ‘æœŸæœ›åŠ å…¥ä¸€å®¶åˆ›ä¸šåž‹çš„å…¬å¸ã€‚ æˆ‘çŽ°åœ¨è¿˜ä¸å…·å¤‡å•ç‹¬åˆ›ä¸šçš„å®žåŠ›ï¼Œä½†æˆ‘ä¸€ç›´æ¢¦æƒ³èƒ½å¤ŸåŠ å…¥ä¸€å®¶æœ‰æ¢¦æƒ³æœ‰æ¿€æƒ…çš„åˆ›ä¸šå…¬å¸ã€‚åŠ å…¥åˆ›ä¸šå…¬å¸å°±æ„å‘³ç€ä¸ä¼šæ¸…é—²ï¼Œæˆ‘åªæœŸæœ›æ¯å¤©èƒ½å¤Ÿè¿‡çš„å……å®žå¹¶å¿«ä¹ç€ã€‚ã€Šé»‘å®¢ä¸Žç”»å®¶ã€‹ä¸­æåˆ°å¿«é€Ÿè‡´å¯Œçš„æ‰‹æ®µå°±æ˜¯åŠ å…¥ä¸€å®¶åˆ›ä¸šå…¬å¸ï¼Œåœ¨ç¾Žå›½å¦‚æ­¤ï¼Œåœ¨ä¸­å›½äº¦å¦‚æ­¤ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘æƒ³åŠ å…¥ä¸€å®¶æŠ€æœ¯ä¸ºçŽ‹çš„äº’è”ç½‘è¡Œä¸šçš„åˆ›ä¸šå…¬å¸ã€‚å¦‚æžœä½ çŸ¥é“åœ¨æµŽå—æœ‰å“ªå®¶å…¬å¸å¯ä»¥æ»¡è¶³æˆ‘çš„è¦æ±‚ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œè°¢è°¢ï¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxæ›´æ”¹ç½‘å¡åç§°]]></title>
      <url>%2Fpost%2Flinux_change_netcardname%2F</url>
      <content type="text"><![CDATA[æœ¬å®žéªŒä¸ºåœ¨è™šæ‹ŸæœºçŽ¯å¢ƒä¸­å®žéªŒï¼Œæ“ä½œç³»ç»Ÿä¸ºRed Hat Enterprise6.0 32ä½ï¼Œå½“å‰ç½‘å¡åˆ—è¡¨å¦‚ä¸‹ï¼š 1234567891011121314151617181920[root@localhost ~]# ifconfig eth1 Link encap:Ethernet HWaddr 00:0C:29:8C:58:06 inet addr:192.168.124.140 Bcast:192.168.124.255 Mask:255.255.255.0 inet6 addr: fe80::20c:29ff:fe8c:5806/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:123 errors:0 dropped:0 overruns:0 frame:0 TX packets:57 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:18770 (18.3 KiB) TX bytes:11684 (11.4 KiB) Interrupt:19 Base address:0x2024eth2 Link encap:Ethernet HWaddr 00:50:56:3F:B3:90 inet addr:192.168.124.141 Bcast:192.168.124.255 Mask:255.255.255.0 inet6 addr: fe80::250:56ff:fe3f:b390/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:111 errors:0 dropped:0 overruns:0 frame:0 TX packets:43 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:16101 (15.7 KiB) TX bytes:10343 (10.1 KiB) Interrupt:19 Base address:0x20a4 ç›®çš„ä¸ºå°†ç½‘å¡eth1æ›´æ”¹ä¸ºeth0ï¼Œå°†eth2æ›´æ”¹ä¸ºeth3ã€‚ ä¿®æ”¹grub.confæ–‡ä»¶åœ¨æ–‡ä»¶ä¸­å†…æ ¸å¯åŠ¨æ—¶å¢žåŠ biosdevname=0é€‰é¡¹ã€‚ä¿®æ”¹åŽçš„æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 12345678default=0timeout=5splashimage=(hd0,0)/grub/splash.xpm.gzhiddenmenutitle Red Hat Enterprise Linux (2.6.32-71.el6.i686) root (hd0,0) kernel /vmlinuz-2.6.32-71.el6.i686 ro root=/dev/mapper/VolGroup-lv_root rd_LVM_LV=VolGroup/lv_root rd_LVM_LV=VolGroup/lv_swap rd_NO_LUKS rd_NO_MD rd_NO_DM LANG=zh_CN.UTF-8 KEYBOARDTYPE=pc KEYTABLE=us nomodeset crashkernel=auto rhgb quiet biosdevname=0 initrd /initramfs-2.6.32-71.el6.i686.img æ›´æ”¹ç½‘å¡é…ç½®æ–‡ä»¶å†…å®¹å’Œæ–‡ä»¶åç§°åœ¨/etc/sysconfig/network-scriptsç›®å½•ä¸­å°†åŽŸæœ‰çš„ç½‘å¡é…ç½®æ–‡ä»¶ifcfg_Auto_eth1å’Œifcfg_Auto_eth2æ›´æ”¹ä¸ºifcfg_eth0å’Œifcfg_eth3ï¼ŒåŒæ—¶ä¿®æ”¹æ–‡ä»¶çš„å†…å®¹ï¼Œå°†æ–‡ä»¶çš„å†…å®¹ä¸­çš„ç½‘å¡è®¾å¤‡åç§°è¿›è¡Œæ›¿æ¢ã€‚æ›¿æ¢åŽçš„æ–‡ä»¶ifcfg_eth0å†…å®¹å¦‚ä¸‹ï¼š 123456789101112TYPE=EthernetBOOTPROTO=dhcpDEFROUTE=yesIPV4_FAILURE_FATAL=yesIPV6INIT=noNAME=&quot;Auto eth0&quot;UUID=995d037e-3b65-4490-a1fa-f26f6abf066dONBOOT=yesHWADDR=00:0C:29:8C:58:06PEERDNS=yesPEERROUTES=yesDEVICE=eth0 åˆ é™¤70-persistent-net.rulesæ–‡ä»¶è¯¥æ–‡ä»¶å­˜åœ¨äºŽ/etc/udev/rules.dç›®å½•ä¸‹ã€‚è¯¥æ–‡ä»¶å¦‚æžœä¸å­˜åœ¨ï¼Œå¼€å§‹æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œé‡Œé¢åŒ…å«äº†ç½‘å¡åç§°çš„é…ç½®ä¿¡æ¯ã€‚ åœ¨ä¿®æ”¹å®Œä¸Šè¿°å†…å®¹åŽé‡æ–°å¯åŠ¨æœºå™¨é…ç½®å°±ä¿®æ”¹è¿‡æ¥äº†,ä¿®æ”¹å®Œæˆä¹‹åŽçš„ç½‘å¡é…ç½®å¦‚ä¸‹ï¼š 1234567891011121314151617181920[root@localhost rules.d]# ifconfig eth0 Link encap:Ethernet HWaddr 00:0C:29:8C:58:06 inet addr:192.168.124.140 Bcast:192.168.124.255 Mask:255.255.255.0 inet6 addr: fe80::20c:29ff:fe8c:5806/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:87 errors:0 dropped:0 overruns:0 frame:0 TX packets:75 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:17174 (16.7 KiB) TX bytes:14520 (14.1 KiB) Interrupt:19 Base address:0x2024eth3 Link encap:Ethernet HWaddr 00:50:56:3F:B3:90 inet addr:192.168.124.141 Bcast:192.168.124.255 Mask:255.255.255.0 inet6 addr: fe80::250:56ff:fe3f:b390/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:72 errors:0 dropped:0 overruns:0 frame:0 TX packets:76 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:14164 (13.8 KiB) TX bytes:14955 (14.6 KiB) Interrupt:19 Base address:0x20a4]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Redhatå®‰è£…å®Œæˆä¹‹åŽçš„è®¾ç½®]]></title>
      <url>%2Fpost%2Fredhat_setup_base%2F</url>
      <content type="text"><![CDATA[[TOC] ï¼ƒ å®‰è£…kdevelop ç¡®ä¿å¯ä»¥ä¸Šç½‘ï¼Œè¿™é‡Œé‡‡ç”¨yumçš„å®‰è£…æ–¹å¼è¿›è¡Œå®‰è£…ã€‚é¦–å…ˆæ‰§è¡Œå‘½ä»¤ï¼šyum install kdevelopï¼Œä¼šå‡ºçŽ°å¦‚ä¸‹æç¤ºï¼š123456Loaded plugins: rhnplugin, securityThis system is not registered with RHN.RHN support will be disabled.file:///mnt/file/rh5/Cluster/repodata/repomd.xml: [Errno 5] OSError: [Errno 2] æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•: &apos;/mnt/file/rh5/Cluster/repodata/repomd.xml&apos;Trying other mirror.Error: Cannot retrieve repository metadata (repomd.xml) for repository: Cluster. Please verify its path and try again å‡ºçŽ°ä¸Šè¿°é”™è¯¯æ˜¯ç”±äºŽredhatæ²¡æœ‰æ³¨å†Œï¼Œæ‰€æœ‰ä¸èƒ½ä½¿ç”¨å®ƒè‡ªèº«çš„æºè¿›è¡Œæ›´æ–°ï¼Œå¯ä»¥æ›´æ¢ä¸ºCentOSç³»ç»Ÿçš„æºè¿›è¡Œæ›´æ–°ï¼Œæ“ä½œæ­¥éª¤ä¸ºï¼š1ã€è¿›å…¥/etc/yum.repos.d/ç›®å½•ã€‚åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼šwget http://docs.linuxtone.org/soft/lemp/CentOS-Base.repoã€‚2ã€ls ä¸€ä¸‹ï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶åä¸ºCentOS-Base.repoçš„æ–‡ä»¶ã€‚3ã€å°†åŽŸæ¥çš„æ–‡ä»¶rhel-debuginfo.repoæ”¹åä¸ºrhel-debuginfo.repo.bakã€‚4ã€å°†CentOS-Base.repoæ”¹åä¸ºrhel-debuginfo.repo å†æ¬¡è¿è¡Œå‘½ä»¤ï¼šyum install kdevelopï¼Œå°±å¯ä»¥å®‰è£…kdevelopäº†ã€‚ å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°äº†éœ€è¦çš„pcreåŒ…æ— æ³•ä»Žcentosçš„æºä¸­ä¸‹è½½çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ³•ä¸ºæ ¹æ®yumå‘½ä»¤æ— æ³•ä¸‹è½½çš„åŒ…ï¼Œåœ¨googleä¸­æœç´¢ï¼Œä¸‹è½½åŒ…ç„¶åŽå†redhatä¸Šç”¨rpmçš„å‡çº§å‘½ä»¤æ¥å®‰è£…ã€‚å…·ä½“ä¸‹è½½ç½‘å€ä¸ºï¼šç”µå­ç§‘æŠ€å¤§å­¦æ˜Ÿè¾°å·¥ä½œå®¤å¼€æºé•œåƒæœåŠ¡ã€‚ rpmç›¸å…³å‘½ä»¤ï¼šå®‰è£…ä¸€ä¸ªåŒ…ï¼šrpm -ivhå‡çº§ä¸€ä¸ªåŒ…ï¼šrpm -Uvhç§»èµ°ä¸€ä¸ªåŒ…ï¼šrpm -e å®‰è£…konsoleå®‰è£…ä¸ŠkdevelopåŽåœ¨æ‰§è¡Œç¨‹åºçš„æ—¶å€™ä¼šæç¤º/bin/sh:konsole:command not foundã€‚æ‰§è¡Œyum install kdebaseå‘½ä»¤æ¥å®‰è£…konsoleã€‚ é…ç½®sshæœåŠ¡ä¿®æ”¹sshæœåŠ¡çš„é…ç½®æ–‡ä»¶/etc/ssh/sshd_configæ–‡ä»¶ï¼Œå°†æ–‡ä»¶ä¸­çš„#PasswordAuthentication yesæ³¨é‡Šæ‰“å¼€ã€‚ä¿®æ”¹sshæœåŠ¡çš„é…ç½®æ–‡ä»¶/etc/ssh/sshd_configæ–‡ä»¶ï¼Œå°†æ–‡ä»¶ä¸­çš„PermitRootLogin noæ›´æ”¹ä¸ºyesã€‚è¿™æ ·å³å¯ä»¥ç”¨sshå·¥å…·è¿žæŽ¥åˆ°è¯¥æœºå™¨ã€‚ xmanagerè¿žæŽ¥é…ç½®è¯¥éƒ¨åˆ†å‚è€ƒæ–‡æ¡£çš„ç½‘å€ä¸ºï¼šhttp://blog.csdn.net/gltyi99/article/details/6141972 ä¿®æ”¹/usr/share/gdm/defaults.confæ–‡ä»¶çš„æƒé™ï¼Œé»˜è®¤æƒé™ä¸º444ï¼Œchmod 700 /usr/share/gdm/defaults.confã€‚ åœ¨/usr/share/gdm/defaults.confæ–‡ä»¶çš„æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 123456Enable=trueDisplaysPerHost=10Port=177AllowRoot=trueAllowRemoteroot=trueAllowRemoteAutoLogin=false ä¿®æ”¹/etc/gdm/custom.confæ–‡ä»¶ 12[xdmcp]Enable=1 ä¿®æ”¹/etc/inittabæ–‡ä»¶ï¼Œä¸ä¿®æ”¹åŽŸæ¥çš„è®¾ç½®ï¼Œåœ¨æ–‡ä»¶çš„æœ€åŽå¢žåŠ ä¸€è¡Œï¼š 1x:5:respawn:/usr/sbin/gdm ä¿®æ”¹/usr/share/gdm/defaults.confæ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„ 12345678910111213141516171819202122[security]# Allow root to login. It makes sense to turn this off for kiosk use, when# you want to minimize the possibility of break in.AllowRoot=true# Allow login as root via XDMCP. This value will be overridden and set to# false if the /etc/default/login file exists and contains# &quot;CONSOLE=/dev/login&quot;, and set to true if the /etc/default/login file exists# and contains any other value or no value for CONSOLE.AllowRemoteRoot=false# This will allow remote timed login.AllowRemoteAutoLogin=false# 0 is the most restrictive, 1 allows group write permissions, 2 allows all# write permissions.RelaxPermissions=0# Check if directories are owned by logon user. Set to false, if you have, for# example, home directories owned by some other user.CheckDirOwner=true# Number of seconds to wait after a failed login#RetryDelay=1# Maximum size of a file we wish to read. This makes it hard for a user to DoS# us by using a large file.#UserMaxFile=65536 AllowRemoteRoot=falseæ›´æ”¹ä¸ºAllowRemoteRoot=trueã€‚ ä¿®æ”¹/etc/securettyæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶åº•éƒ¨æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 12345pts/0pts/1pts/2pts/3pts/4 ä¿®æ”¹/etc/pam.d/loginæ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„ä¸€è¡Œæ³¨é‡Š 1#auth [user_unknown=ignore success=ok ignore=ignore default=bad] pam_securetty.so ä¿®æ”¹/etc/pam.d/remoteï¼Œå°†å…¶ä¸­çš„ä¸€è¡Œæ³¨é‡Š 1#auth required pam_securetty.so ä¿®æ”¹/etc/xinetd.d/krb5-telnetæ–‡ä»¶ï¼Œå°†æ–‡ä»¶å†…å®¹ç”± 12345678910service telnet&#123; flags = REUSE socket_type = stream wait = no user = root server = /usr/kerberos/sbin/telnetd log_on_failure += USERID disable = yes&#125; æ›´æ”¹ä¸ºï¼š12345678910service telnet&#123; flags = REUSE socket_type = stream wait = no user = root server = /usr/kerberos/sbin/telnetd log_on_failure += USERID disable = no&#125; åŒæ ·å°†/etc/xinetd.d/ekrb5-telnetæ–‡ä»¶ä¸­çš„disable=yesæ›´æ”¹ä¸ºdisable=noã€‚ å®‰è£…ä¸­æ–‡å­—ä½“ä¸ºäº†é˜…è¯»ä»£ç æ–¹ä¾¿ï¼Œå®‰è£…å­—ä½“ã€‚ å°†å­—ä½“æ–‡ä»¶YaHei.Consolas.1.12.ttfæ”¾åˆ°Redhatçš„ç›®å½•/usr/share/fonts/chinese/TrueTypeç›®å½•ä¸‹ æ‰§è¡Œmkfontscaleå‘½ä»¤ï¼Œé‡æ–°ç”Ÿæˆfonts.scaleæ–‡ä»¶ æ‰§è¡Œmkfontdirå‘½ä»¤ï¼Œé‡æ–°ç”Ÿæˆäº†fonts.diræ–‡ä»¶ã€‚ æ‰§è¡Œchkfontpath â€“add /usr/share/fonts/chinese/TrueType æ›´æ”¹æ“ä½œç³»ç»Ÿç¼–ç ä»Žutf8åˆ°gb18030å¯ä»¥é€šè¿‡localeå‘½ä»¤æ¥æŸ¥çœ‹æ“ä½œç³»ç»Ÿç¼–ç ã€‚è¾“å‡ºå¦‚ä¸‹ï¼š1234567891011121314151617LANG=zh_CN.UTF-8LC_CTYPE=&quot;zh_CN.UTF-8&quot;LC_NUMERIC=&quot;zh_CN.UTF-8&quot;LC_TIME=&quot;zh_CN.UTF-8&quot;LC_COLLATE=&quot;zh_CN.UTF-8&quot;LC_MONETARY=&quot;zh_CN.UTF-8&quot;LC_MESSAGES=&quot;zh_CN.UTF-8&quot;LC_PAPER=&quot;zh_CN.UTF-8&quot;LC_NAME=&quot;zh_CN.UTF-8&quot;LC_ADDRESS=&quot;zh_CN.UTF-8&quot;LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;LC_ALL=``` æ‰“å¼€/etc/sysconfig/i18næ–‡ä»¶ï¼Œæ–‡ä»¶é»˜è®¤å†…å®¹ä¸ºï¼š LANG=â€zh_CN.UTF-8â€1å°†æ–‡ä»¶å†…å®¹ä¿®æ”¹ä¸ºï¼š LANG=â€zh_CN.GBKâ€` ç›¸å…³ä¸‹è½½æœ€é€‚åˆç¨‹åºå‘˜çš„å­—ä½“ï¼šå¾®è½¯é›…é»‘+Consolas]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¤§è§„æ¨¡C++ç¨‹åºè®¾è®¡ç¬¬1éƒ¨åˆ†è¯»ä¹¦ç¬”è®°]]></title>
      <url>%2Fpost%2Flarge_scale_c%2B%2B_software_desigin_part_1%2F</url>
      <content type="text"><![CDATA[å£°æ˜Žå’Œå®šä¹‰å£°æ˜Žå°†ä¸€ä¸ªåå­—å¼•å…¥åˆ°äº†ç¨‹åºä¸­ï¼Œï¼›å®šä¹‰æä¾›äº†ä¸€ä¸ªå®žä½“ï¼ˆå¦‚ç±»åž‹ã€å®žä¾‹ã€å‡½æ•°ï¼‰åœ¨ç¨‹åºä¸­çš„å”¯ä¸€æè¿°ï¼Œä¸ºå˜é‡åˆ†é…å­˜å‚¨ç©ºé—´ï¼› åœ¨ä¸€ä¸ªç»™å®šçš„ä½œç”¨äºŽä¸­é‡å¤ä¸€ä¸ªç»™å®šçš„å£°æ˜Žæ˜¯åˆæ³•çš„ï¼Œè€Œé‡å¤å®šä¹‰æ˜¯éžæ³•çš„ã€‚å£°æ˜Žä»…å¯¹å½“å‰ç¼–è¯‘å•å…ƒæœ‰æ•ˆï¼Œä»…ä¼šåœ¨.oæ–‡ä»¶ä¸­åŠ å…¥äº†ä¸€ä¸ªæœªå®šä¹‰ç¬¦å·ã€‚ç‰¹å®šçš„ç±»åž‹ä¸å¿…ä¸Žå®žé™…çš„å®šä¹‰ç±»åž‹åŒ¹é…ã€‚ å†…éƒ¨é“¾æŽ¥å’Œå¤–éƒ¨é“¾æŽ¥å†…éƒ¨é“¾æŽ¥å’Œå¤–éƒ¨é“¾æŽ¥æ˜¯æ ¹æ®é“¾æŽ¥è¿‡ç¨‹ä¸­ä¸€ä¸ªç¬¦å·æ˜¯åœ¨ç¼–è¯‘å•å…ƒå†…éƒ¨è¿˜æ˜¯å¤–éƒ¨è¿›è¡Œåˆ’åˆ†çš„ï¼Œç¼–è¯‘å•å…ƒæ˜¯æŒ‰ç…§ä¸€ä¸ª.cæˆ–.cppæ–‡ä»¶çš„ä½œç”¨åŸŸè¿›è¡Œåˆ’åˆ†çš„ã€‚ å†…éƒ¨é“¾æŽ¥ï¼šä¸€ä¸ªæ ‡è¯†ç¬¦å¯¹äºŽç¼–è¯‘å•å…ƒï¼ˆä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼‰æ¥è¯´æ˜¯å±€éƒ¨çš„ï¼Œå¹¶åœ¨é“¾æŽ¥æ—¶ä¸Žå…¶ä»–ç¼–è¯‘å•å…ƒä¸­çš„æ ‡è¯†ç¬¦ä¸å†²çªã€‚ å†…éƒ¨é“¾æŽ¥åŒ…æ‹¬ï¼š staticç±»åž‹çš„å˜é‡ã€å‡½æ•° constç±»åž‹çš„å˜é‡ æžšä¸¾ç±»åž‹çš„å®šä¹‰ typedefå®šä¹‰çš„ç±»åž‹ classã€structã€unionçš„å®šä¹‰ inlineå‡½æ•° å¤–éƒ¨é“¾æŽ¥ï¼šåœ¨å¤šæ–‡ä»¶ç¨‹åºä¸­ï¼Œé“¾æŽ¥æ—¶è¿™ä¸ªæ ‡è¯†ç¬¦å¯ä»¥å’Œå…¶ä»–ç¼–è¯‘å•å…ƒäº¤äº’ã€‚è¿™äº›å¤–éƒ¨ç¬¦å·åœ¨ç¨‹åºä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œç”¨æ¥è¢«å…¶ä»–ç¼–è¯‘å•å…ƒä¸­æœªå®šä¹‰çš„ç¬¦å·è®¿é—®ã€‚ å°†å¸¦æœ‰å¤–éƒ¨é“¾æŽ¥çš„å®šä¹‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­æ˜¯é”™è¯¯çš„ã€‚ å¤–éƒ¨é“¾æŽ¥åŒ…æ‹¬ï¼š ç±»çš„éžå†…è”æˆå‘˜å‡½æ•° éžå†…è”ä¸”éžstaticå‡½æ•° ç±»çš„staticæ•°æ®æˆå‘˜ constç±»åž‹çš„å˜é‡ä¸ºå†…éƒ¨é“¾æŽ¥çš„å®žä¾‹test1.hå†…å®¹å¦‚ä¸‹ï¼š 1void print1(); test1.cppå†…å®¹å¦‚ä¸‹ï¼š 12345678#include &lt;stdio.h&gt;const int max_length = 256;void print1()&#123; printf("max_length=%d\n", max_length);&#125; test2.hå†…å®¹å¦‚ä¸‹ï¼š 1void print2(); test2.cppå†…å®¹å¦‚ä¸‹ï¼š 12345678#include &lt;stdio.h&gt;const int max_length = 128;void print2()&#123; printf("max_length=%d\n", max_length);&#125; main.cppå†…å®¹å¦‚ä¸‹ï¼š 1234567891011#include &lt;stdio.h&gt;#include "test1.h"#include "test2.h"int main()&#123; print1(); print2(); return 1;&#125; ä»Žå®žä¾‹å¯ä»¥çœ‹å‡ºåœ¨å…¨å±€ä½œç”¨åŸŸå†…å£°æ˜Žçš„constç±»åž‹çš„å˜é‡ä¸ºå†…éƒ¨é“¾æŽ¥çš„ï¼Œåœ¨å¤šä¸ªæ–‡ä»¶çš„ä½œç”¨åŸŸä¸­åˆ†åˆ«å®šä¹‰ç›¸åŒçš„constç±»åž‹çš„å˜é‡å¹¶ä¸ä¼šäº§ç”Ÿå†²çªã€‚ åŸºæœ¬è§„åˆ™ç›´æŽ¥è®¿é—®ç±»çš„æ•°æ®æˆå‘˜è¿åäº†é¢å‘å¯¹è±¡ä¸­çš„å°è£…åŽŸåˆ™ï¼Œåº”è¯¥å°†ç±»çš„æ•°æ®æˆå‘˜ç§æœ‰åŒ–ï¼Œå¹¶æä¾›æŽ¥å£ä¾›éƒ¨è®¿é—®ï¼Œç±»ä¼¼äºŽjava beanè§„èŒƒã€‚ é¿å…ä½¿ç”¨å…¨å±€å˜é‡ï¼Œåº”è¯¥å°†å…¨å±€å˜é‡å°è£…åˆ°ç±»ä¸­ï¼Œå¹¶æä¾›æŽ¥å£ä¾›å¤–éƒ¨è®¿é—®ã€‚ ä¸ºé¿å…å‘½åå†²çªï¼Œå°†å…¨å±€å‡½æ•°å°è£…åˆ°ç±»ä¸­ã€‚ é¿å…åœ¨å¤´æ–‡ä»¶çš„ä½œç”¨åŸŸä¸­ä½¿ç”¨enumã€typedefå’Œconstæ•°æ®ï¼Œåº”è¯¥å°†è¿™äº›æ•°æ®å°è£…åˆ°å¤´æ–‡ä»¶çš„ç±»ä½œç”¨åŸŸä¸­ã€‚ åœ¨å¤´æ–‡ä»¶ä¸­åªåº”è¯¥åŒ…å«å¦‚ä¸‹å†…å®¹ï¼šç±»ã€ç»“æž„ä½“ã€è”åˆä½“å’Œè¿ç®—ç¬¦å‡½æ•°çš„å£°æ˜Žï¼Œç±»ã€ç»“æž„ä½“ã€è”åˆä½“å’Œå†…è”å‡½æ•°çš„å®šä¹‰ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxè®¾å¤‡é©±åŠ¨ç¨‹åºå®žä¾‹ä¹‹hello world]]></title>
      <url>%2Fpost%2Flinux_driver_hello_world%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡ä¸ºLinuxè®¾å¤‡é©±åŠ¨ç¨‹åºçš„å…¥é—¨å®žè·µæ–‡ç« ï¼Œç¼–å†™ä¸€ä¸ªhello worldç¨‹åºï¼Œå¹¶åœ¨Linuxä¸Šæ‰§è¡Œã€‚ ç¼–å†™é©±åŠ¨ç¨‹åºé©±åŠ¨ç¨‹åºhello.cæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627#ifndef __KERNEL__# define __KERNEL__#endif#ifndef MODULE# define MODULE#endif#include &lt;linux/kernel.h&gt;#include &lt;linux/module.h&gt;#include &lt;linux/init.h&gt;MODULE_LICENSE(&quot;GPL&quot;);int hello_init()&#123; printk(KERN_WARNING &quot;Hello kernel!\n&quot;); return 0;&#125;void hello_exit()&#123; printk(&quot;Bye, kernel!\n&quot;);&#125;module_init(hello_init);module_exit(hello_exit) ç¼–å†™MakefileMakefileæ–‡ä»¶çš„å†™æ³•å¯ä»¥é‡‡ç”¨ä¼ ç»Ÿçš„makeæ–¹å¼ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨kbuildçš„æ–¹å¼ã€‚ é‡‡ç”¨ä¼ ç»Ÿçš„makeæ–¹å¼çš„å†™æ³•å¦‚ä¸‹ï¼š 1234567891011121314151617ifeq ($(KERNELRELEASE),)KERNELDIR ?= /lib/modules/$(shell uname -r)/buildPWD := $(shell pwd)modules: $(MAKE) -C $(KERNELDIR) M=$(PWD) modulesmodules_install: $(MAKE) -C $(KERNELDIR) M=$(PWD) modules_installclean: rm -rf *.o *~ core .depend .*.cmd *.ko *.mod.c .tmp_versions.PHONY: modules modules_install cleanelse obj-m := hello.oendif é‡‡ç”¨kbuildæ–¹å¼çš„Makefileå†…å®¹å¦‚ä¸‹ï¼š 1234567obj-m := hello.oall : $(MAKE) -C /lib/modules/$(shell uname -r)/build M=$(PWD) modulesclean: $(MAKE) -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean ç¼–è¯‘å°†hello.cå’ŒMakefileæ–‡ä»¶æ”¾åœ¨ä»»æ„ç›®å½•ä¸­ï¼Œæ‰§è¡Œmakeå‘½ä»¤ç¼–è¯‘ã€‚ å®‰è£…æ‰§è¡Œinsmod hello.koå‘½ä»¤å®‰è£…é©±åŠ¨ç¨‹åºï¼Œé€šè¿‡lsmodå‘½ä»¤å³å¯çœ‹åˆ°é©±åŠ¨ç¨‹åºå·²ç»å®‰è£…ã€‚ é€šè¿‡æŸ¥çœ‹/var/log/messagesæ–‡ä»¶å³å¯çœ‹åˆ°helloé©±åŠ¨ç¨‹åºæ‰“å°çš„å†…å®¹ã€‚ å¸è½½æ‰§è¡Œrmmod hello.koå‘½ä»¤å³å¯å¸è½½é©±åŠ¨ç¨‹åºæ¨¡å—ã€‚ å‚è€ƒæ–‡ç« ã€Šæ·±å…¥ç†è§£Linuxè®¾å¤‡é©±åŠ¨ç¨‹åºã€‹ã€ŠLinuxé‚£äº›äº‹ä¹‹æˆ‘æ˜¯USBã€‹Ubuntu12.10 å†…æ ¸æºç å¤–ç¼–è¯‘ linuxæ¨¡å—â€“ç¼–è¯‘é©±åŠ¨æ¨¡å—çš„åŸºæœ¬æ–¹æ³•]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹å†…æ ¸ç¼–è¯‘å®‰è£…]]></title>
      <url>%2Fpost%2Flinux_kernel_setup%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡ä»…ä¸ºäº†ç»ƒä¹ Linuxå†…æ ¸æºç çš„ç¼–è¯‘å®‰è£…ï¼Œå®‰è£…çŽ¯å¢ƒä¸ºVMWareä¸‹çš„CentOSï¼ŒçŽ°æœ‰CentOSç‰ˆæœ¬ä¸º2.6.32-358.el6.x86_64ã€‚/boot/grub/grub.confæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 123456789# æ³¨é‡Šéƒ¨åˆ†åŽ»æŽ‰default=0timeout=5splashimage=(hd0,0)/grub/splash.xpm.gzhiddenmenutitle CentOS (2.6.32-358.el6.x86_64) root (hd0,0) kernel /vmlinuz-2.6.32-358.el6.x86_64 ro root=/dev/mapper/vg_livedvd-lv_root rd_NO_LUKS rd_LVM_LV=vg_livedvd/lv_root rd_NO_MD crashkernel=auto rd_LVM_LV=vg_livedvd/lv_swap KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM LANG=zh_CN.UTF-8 rhgb quiet initrd /initramfs-2.6.32-358.el6.x86_64.img èŽ·å–å†…æ ¸æºç é¦–å…ˆä»ŽLinuxçš„å®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆå†…æ ¸Linux3.13ã€‚ æ‰§è¡Œtar Jxvf linux-3.13.tar.xz -C/usr/src/kernelså‘½ä»¤å°†å†…æ ¸æºç è§£åŽ‹åˆ°å†…æ ¸æºä»£ç å­˜æ”¾ç›®å½•/usr/src/kernels/ï¼Œè¯¥æºç ç›®å½•å¹¶ä¸å›ºå®šï¼Œä½†æŽ¨èå°†å†…æ ¸æºç å­˜æ”¾åˆ°è¯¥ç›®å½•ä¸‹ã€‚ ä¸ºäº†å°†ä¸Šæ¬¡ç¼–è¯‘æ—¶çš„ç›®æ ‡æ–‡ä»¶åŠç›¸å…³è®¾ç½®æ–‡ä»¶åˆ é™¤ï¼Œæ‰§è¡Œmake mrproperã€‚ æŒ‘é€‰åŠŸèƒ½å¯ä»¥é‡‡ç”¨äº†å¤šç§æ–¹å¼ï¼Œè¿™é‡Œé‡‡ç”¨make menuconfigçš„æ–¹å¼æ¥æŒ‘é€‰å†…æ ¸åŠŸèƒ½ï¼Œè¯¥æ–¹å¼ä¸éœ€è¦X Windowï¼ˆmake xconfigæ–¹å¼ï¼‰çš„æ”¯æŒï¼Œè€Œä¸”è¦æ¯”çº¯å‘½ä»¤è¡Œæ–¹å¼ï¼ˆmake configï¼‰è¦ç›´è§‚ã€‚æ‰§è¡Œmake menuconfigé‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼š 1234567891011[root@localhost linux-3.13]# make menuconfig HOSTCC scripts/basic/fixdep HOSTCC scripts/kconfig/conf.o *** Unable to find the ncurses libraries or the *** required header files. *** &apos;make menuconfig&apos; requires the ncurses libraries. *** *** Install ncurses (ncurses-devel) and try again. ***make[1]: *** [scripts/kconfig/dochecklxdialog] é”™è¯¯ 1make: *** [menuconfig] é”™è¯¯ 2 è¿™æ˜¯å› ä¸ºéœ€è¦ncursesåº“çš„æ”¯æŒï¼Œä¸‹é¢é‡‡ç”¨ä»Žæºç å®‰è£…çš„æ–¹å¼å®‰è£…ncursesã€‚ ä»Žncursesçš„å®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆçš„ncurses-5.9.tar.gzã€‚ç„¶åŽåˆ†åˆ«æ‰§è¡Œ./configureã€makeã€make install`å‘½ä»¤å®‰è£…ã€‚ æ›´æ”¹å†…æ ¸ç‰ˆæœ¬å·æ ‡è¯†ä¸ºäº†èƒ½å¤Ÿåœ¨ç¼–è¯‘å®ŒæˆåŽçš„å†…æ ¸ç‰ˆæœ¬ä¸­é€šè¿‡uname -rçœ‹åˆ°å®šä¹‰çš„å†…æ ¸ç‰ˆæœ¬å·ï¼Œä¿®æ”¹Makefileæ–‡ä»¶ã€‚å…¶ä¸­EXTRAVERSIONå­—æ®µå€¼ä¸ºç©ºï¼Œå°†å…¶èµ‹å€¼ä¸ºkuringã€‚ ç¼–è¯‘å†…æ ¸æ‰§è¡Œmakeå‘½ä»¤ï¼Œè¯¥è¿‡ç¨‹éœ€è¦è¯è´¹å¾ˆé•¿æ—¶é—´ï¼Œæˆ‘åœ¨512MBçš„VMä¸‹è·‘ï¼ŒèŠ±è´¹äº†å¤§çº¦1ä¸ªåŠå°æ—¶æ—¶é—´ã€‚ ç¼–è¯‘å†…æ ¸æ¨¡å—æ‰§è¡Œmake moduleså‘½ä»¤ã€‚ å®‰è£…å†…æ ¸æ¨¡å—æ‰§è¡Œmake modules_installå‘½ä»¤ï¼Œä¼šå°†å†…æ ¸æ¨¡å—å®‰è£…åˆ°/lib/modulesç›®å½•ä¸‹ã€‚ å®‰è£…å†…æ ¸æ‰§è¡Œmake installå‘½ä»¤ï¼Œäº§ç”Ÿå¦‚ä¸‹è¾“å‡ºï¼š 123456sh /usr/src/kernels/linux-3.13/arch/x86/boot/install.sh 3.13.0kuring arch/x86/boot/bzImage \ System.map &quot;/boot&quot;ERROR: modinfo: could not find module vmhgfsERROR: modinfo: could not find module vsockERROR: modinfo: could not find module vmware_balloonERROR: modinfo: could not find module vmci è¿™ä¸ªé”™è¯¯è·Ÿvmwareçš„vmware toolsæœ‰å…³ï¼Œæš‚æ—¶ä¸åŽ»ç®¡ã€‚ è¿™æ ·å†åŽ»çœ‹/boot/grub/grub.confæ–‡ä»¶ï¼Œä¼šçœ‹åˆ°æ–‡ä»¶å·²ç»å˜åŒ–ï¼Œå·²ç»å°†æ–°å†…æ ¸æ·»åŠ åˆ°å¼€æœºå¯åŠ¨é¡¹ä¸­ã€‚ 12345678910111213# æ³¨é‡Šéƒ¨åˆ†åŽ»æŽ‰default=1timeout=5splashimage=(hd0,0)/grub/splash.xpm.gzhiddenmenutitle CentOS (3.13.0kuring) root (hd0,0) kernel /vmlinuz-3.13.0kuring ro root=/dev/mapper/vg_livedvd-lv_root rd_NO_LUKS rd_LVM_LV=vg_livedvd/lv_root rd_NO_MD crashkernel=auto rd_LVM_LV=vg_livedvd/lv_swap KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM LANG=zh_CN.UTF-8 rhgb quiet initrd /initramfs-3.13.0kuring.imgtitle CentOS (2.6.32-358.el6.x86_64) root (hd0,0) kernel /vmlinuz-2.6.32-358.el6.x86_64 ro root=/dev/mapper/vg_livedvd-lv_root rd_NO_LUKS rd_LVM_LV=vg_livedvd/lv_root rd_NO_MD crashkernel=auto rd_LVM_LV=vg_livedvd/lv_swap KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM LANG=zh_CN.UTF-8 rhgb quiet initrd /initramfs-2.6.32-358.el6.x86_64.img åŒæ—¶åœ¨/bootç›®å½•ä¸‹å·²ç»å¤šå‡ºäº†vmlinuz-3.13.0kuringã€System.map-3.13.0kuringã€initramfs-3.13.0kuring.imgæ–‡ä»¶ã€‚ é‡å¯ç³»ç»ŸåŽï¼Œåœ¨å¯åŠ¨èœå•ä¸­å¤šå‡ºäº†æ–°å†…æ ¸é€‰é¡¹ã€‚è¿›å…¥æ–°å†…æ ¸åŽï¼Œæ‰§è¡Œuname -ræ˜¾ç¤º3.13.0kuringï¼Œè¯´æ˜Žæ–°å†…æ ¸å·²ç»å®‰è£…å®Œæˆã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[CentOS6.5ä¸‹å®‰è£…svnå®¢æˆ·ç«¯è½¯ä»¶]]></title>
      <url>%2Fpost%2Fcentos6.5_svn%2F</url>
      <content type="text"><![CDATA[åœ¨ç”¨CentOSé»˜è®¤çš„svnå®¢æˆ·ç«¯å·¥å…·è®¿é—®Windowsä¸‹æ­å»ºçš„subversionæ—¶ä¼šæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š 12[kuring@localhost æ¡Œé¢]$ svn checkout https://192.168.100.100/svn/testsvn: æ–¹æ³• OPTIONS å¤±è´¥äºŽ â€œhttps://192.168.100.100/svn/test: SSL handshake failed: SSL é”™è¯¯ï¼šKey usage violation in certificate has been detected. (https://192.168.100.100) é€šè¿‡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥çœ‹åˆ°svnæ˜¯æ”¯æŒhttpsåè®®çš„ï¼š 1234567891011121314151617[kuring@localhost ~]$ svn --versionsvnï¼Œç‰ˆæœ¬ 1.6.11 (r934486) ç¼–è¯‘äºŽ Apr 11 2013ï¼Œ16:13:51ç‰ˆæƒæ‰€æœ‰ (C) 2000-2009 CollabNetã€‚Subversion æ˜¯å¼€æ”¾æºä»£ç è½¯ä»¶ï¼Œè¯·å‚é˜… http://subversion.tigris.org/ ç«™ç‚¹ã€‚æ­¤äº§å“åŒ…å«ç”± CollabNet(http://www.Collab.Net/) å¼€å‘çš„è½¯ä»¶ã€‚å¯ä½¿ç”¨ä»¥ä¸‹çš„ç‰ˆæœ¬åº“è®¿é—®æ¨¡å—:* ra_neon : é€šè¿‡ WebDAV åè®®ä½¿ç”¨ neon è®¿é—®ç‰ˆæœ¬åº“çš„æ¨¡å—ã€‚ - å¤„ç†â€œhttpâ€æ–¹æ¡ˆ - å¤„ç†â€œhttpsâ€æ–¹æ¡ˆ* ra_svn : ä½¿ç”¨ svn ç½‘ç»œåè®®è®¿é—®ç‰ˆæœ¬åº“çš„æ¨¡å—ã€‚ - ä½¿ç”¨ Cyrus SASL è®¤è¯ - å¤„ç†â€œsvnâ€æ–¹æ¡ˆ* ra_local : è®¿é—®æœ¬åœ°ç£ç›˜çš„ç‰ˆæœ¬åº“æ¨¡å—ã€‚ - å¤„ç†â€œfileâ€æ–¹æ¡ˆ è¿™æ˜¯ç”±äºŽsvnå®¢æˆ·ç«¯åœ¨httpsåè®®ä¸­ä½¿ç”¨äº†GnuTLSåº“é€ æˆçš„ï¼Œå°†å…¶æ›´æ”¹ä¸ºä½¿ç”¨opensslåº“å³å¯ã€‚é€šè¿‡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹svnä½¿ç”¨çš„åº“ï¼š 123[kuring@localhost bin]$ ldd svn | grep ssl[kuring@localhost bin]$ ldd svn | grep tls libgnutls.so.26 =&gt; /usr/lib64/libgnutls.so.26 (0x00007f33004ad000) ä¸‹é¢é€‰æ‹©é‡æ–°ç¼–è¯‘çš„æ–¹å¼æ¥å®‰è£…svnã€‚ åˆ é™¤subversionæ‰§è¡Œï¼šyum remove subversion æ£€æŸ¥opensslå®‰è£…æƒ…å†µè¿™é‡Œå·²ç»å®‰è£…ï¼š 123[kuring@localhost tmp]$ rpm -qa | grep opensslopenssl-1.0.1e-15.el6.x86_64openssl-devel-1.0.1e-15.el6.x86_64 å®‰è£…neonè¿™é‡Œé€‰æ‹©çš„å®‰è£…ç‰ˆæœ¬ä¸º0.29.6ï¼Œsubversionå¯¹neonçš„ç‰ˆæœ¬æœ‰è¦æ±‚ã€‚å¦‚æžœä¸æ˜¯subversionçš„ç‰ˆæœ¬ï¼Œåœ¨æ‰§è¡Œsubversionä¸‹çš„configureæ–‡ä»¶æ—¶å¹¶ä¸ä¼šæŠ¥é”™12345[kuring@localhost software]$ tar zvxf neon-0.29.6.tar.gz[kuring@localhost software]$ cd neon-0.29.6./configure --with-ssl=opensslmakemake install å®‰è£…apr12345tar zvxf apr-1.5.0.tar.gzcd apr-1.5.0./configuremakemake install å®‰è£…apr-util12345tar zvxf apr-util-1.5.3.tar.gz cd apr-util-1.5.3./configure --with-apr=/usr/local/aprmakemake install ä¸‹è½½sqllite123unzip sqlite-amalgamation-3080401.zipmv sqlite-amalgamation-3080401 sqlite-amalgamationmv sqlite-amalgamation subversion-1.8.8/ // å°†å…¶å¤åˆ¶åˆ°subversionæºç ç›®å½•ä¸‹ å®‰è£…subversion1234tar zvxf subversion-1.7.16.tar.gz./configure --with-ssl --with-neon --with-apr=/usr/local/apr --with-apr-util=/usr/local/aprmakemake install ç„¶åŽå†æ‰§è¡Œsvn --versionå‘½ä»¤å¯ä»¥çœ‹åˆ°å·²ç»åŒ…å«äº†httpsåè®®ã€‚ å‚è€ƒèµ„æ–™SSL handshake failed: SSL error: Key usage violation in certificate has been detected CentOS èµ„æ–™ä¸‹è½½éœ€è¦çš„å®‰è£…åŒ…ä¸‹è½½]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨Eclipseä¸­å®‰è£…vipluginæ’ä»¶]]></title>
      <url>%2Fpost%2Feclipse_viplugin%2F</url>
      <content type="text"><![CDATA[ä»Žå®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„vipluginæ’ä»¶ï¼šviPlugin_2.12.0ã€‚ å°†viPlugin_2.12.0.zipæ–‡ä»¶è§£åŽ‹åˆ°eclipseå®‰è£…ç›®å½•ä¸‹çš„dropinsç›®å½•ä¸‹ã€‚ è¯¥æ’ä»¶ä¸ºæ”¶è´¹æ’ä»¶ï¼Œåœ¨eclipseå®‰è£…çš„æ ¹ç›®å½•ä¸‹æ–°å»ºviPlugin2.licæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸º:_q1MHdGlxh7nCyn_FpHaVazxTdn1tajjeIABlcgJBc20_ã€‚ é‡å¯eclipseåŽå³å¯ç”Ÿæ•ˆã€‚ å®˜æ–¹å‚è€ƒæ–‡æ¡£åœ°å€ï¼šhttp://www.viplugin.com/files/User_Manual_viPlugin.pdf ç›¸å…³ä¸‹è½½ï¼šviPlugin_2.12.0.zip]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxéš¾ç‚¹ä¹‹æƒé™ç±»åž‹]]></title>
      <url>%2Fpost%2Flinux_permission%2F</url>
      <content type="text"><![CDATA[[TOC] åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ç»„9ä¸ªæƒé™ä½æ¥æŽ§åˆ¶è°èƒ½å¤Ÿè¯»å†™å’Œæ‰§è¡Œè¯¥æ–‡ä»¶çš„å†…å®¹ã€‚è¿™ç»„æƒé™å¯¹äºŽæ–‡ä»¶çš„æ„ä¹‰éžå¸¸å®¹æ˜“ç†è§£ã€‚ä½†æ˜¯å¯¹äºŽç›®å½•è€Œè¨€å°±ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ç†è§£äº†ã€‚è¦æƒ³æžæ˜Žç™½æƒé™æœºåˆ¶éœ€è¦äº†è§£æ–‡ä»¶ç³»ç»Ÿä¸­çš„inodeèŠ‚ç‚¹å’Œblockç­‰æ¦‚å¿µï¼Œå¹¶å¤§è‡´äº†è§£æ–‡ä»¶ç³»ç»Ÿçš„å†…éƒ¨å®žçŽ°åŽŸç†ã€‚ æ–‡ä»¶çš„æƒé™è¿™éƒ¨åˆ†æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚æ¯”è¾ƒå®¹æ˜“æžé”™çš„ä¸ºï¼š wä½ï¼šåŒ…å«å¯¹æ–‡ä»¶çš„æ·»åŠ ã€ä¿®æ”¹è¯¥æ–‡ä»¶å†…å®¹çš„æƒé™ï¼Œä½†ä¸åŒ…å«åˆ é™¤æ–‡ä»¶æˆ–ç§»åŠ¨è¯¥æ–‡ä»¶çš„æƒé™ï¼Œå› ä¸ºæ–‡ä»¶çš„æ–‡ä»¶åä¿¡æ¯å­˜å‚¨åœ¨çˆ¶ç›®å½•çš„blockä¸­ï¼Œè€Œä¸æ˜¯åœ¨è¯¥æ–‡ä»¶çš„inodeèŠ‚ç‚¹ä¸­ã€‚çˆ¶ç›®å½•çš„blockä¸­åŒ…å«è¯¥æ–‡ä»¶çš„inodeèŠ‚ç‚¹å’Œæ–‡ä»¶åä¿¡æ¯ï¼Œé€šè¿‡çˆ¶ç›®å½•ä¸­çš„inodeèŠ‚ç‚¹æ‰¾åˆ°è¯¥æ–‡ä»¶ã€‚ ç›®å½•çš„æƒé™rä½ï¼šè¡¨ç¤ºå…·æœ‰è¯»å–è¯¥ç›®å½•åˆ—è¡¨çš„æƒé™ã€‚ wä½ï¼šå¯¹è¯¥æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–°çš„æ–‡ä»¶æˆ–ç›®å½•è¿›è¡Œå¢žåŠ ã€åˆ é™¤ã€ä¿®æ”¹æ“ä½œã€‚ xä½ï¼šè¿™ä¸ªç¨å¾®éš¾ä»¥ç†è§£ã€‚è¡¨ç¤ºç”¨æˆ·èƒ½å¦è¿›å…¥è¯¥ç›®å½•æˆä¸ºå·¥ä½œç›®å½•ï¼Œå³æ˜¯å¦å¯ä»¥cdåˆ°è¯¥ç›®å½•ã€‚é€šå¸¸å’Œrä½ç»„åˆä¸€å—ä½¿ç”¨ã€‚ ä¾‹å­ä¸€å‡è®¾rootç”¨æˆ·å¯¹testingç›®å½•å’Œtestingç›®å½•ä¸‹çš„testingæ–‡ä»¶æ‹¥æœ‰çš„å¦‚ä¸‹æƒé™ï¼š 123[root@localhost tmp]# ls -ald testing/ testing/testingdrwxr--r--. 2 root root 4096 3æœˆ 1 11:44 testing/-rw-------. 1 root root 0 3æœˆ 1 11:44 testing/testing kuringç”¨æˆ·æ‹¥æœ‰å¯¹è¯¥æ–‡ä»¶å¤¹çš„è¯»æƒé™ï¼Œä½†æ˜¯æ²¡æœ‰xæƒé™ã€‚å½“kuringç”¨æˆ·è®¿é—®æ—¶ä¼šæç¤ºå¦‚ä¸‹å†…å®¹ï¼š 123456789// æ‹¥æœ‰rçš„æƒé™å¯ä»¥æŸ¥è¯¢æ–‡ä»¶åï¼Œä½†æ˜¯æ²¡æœ‰xæƒé™ï¼Œä¸èƒ½è¯»å–é™¤æ–‡ä»¶åå¤–çš„å…¶ä»–ä¿¡æ¯ï¼Œäº§ç”Ÿäº†é—®å·ã€‚[kuring@localhost tmp]$ ll testing/ls: æ— æ³•è®¿é—®testing/testing: æƒé™ä¸å¤Ÿæ€»ç”¨é‡ 0-????????? ? ? ? ? ? testing // æ²¡æœ‰xæƒé™ï¼Œä¸èƒ½è¿›å…¥è¯¥ç›®å½•[kuring@localhost tmp]$ cd testing/bash: cd: testing/: æƒé™ä¸å¤Ÿ ä¾‹å­äºŒåœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œç»™kuringç”¨æˆ·å¢žåŠ å¯¹ç›®å½•testingçš„rwxæƒé™ï¼Œå´åªæ‹¥æœ‰testingç›®å½•ä¸‹çš„testingæ–‡ä»¶çš„ræƒé™ã€‚æƒé™æƒ…å†µå¦‚ä¸‹æ‰€ç¤ºï¼š 123[kuring@localhost tmp]$ ls -ald testing testing/testingdrwxr--rwx. 2 root root 4096 3æœˆ 1 13:29 testing-rw-r--r--. 1 root root 0 3æœˆ 1 13:29 testing/testing kuringç”¨æˆ·æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š 12345678910// å½“å¯¹æ–‡ä»¶è¿›è¡Œæ›´æ”¹æ—¶ç”±äºŽæ²¡æœ‰å¯¹æ–‡ä»¶çš„wæƒé™ï¼Œæ“ä½œå¤±è´¥[kuring@localhost tmp]$ echo &quot;world&quot; &gt;&gt; testing/testingbash: testing/testing: æƒé™ä¸å¤Ÿ// å½“å¯¹æ–‡ä»¶è¿›è¡Œåˆ é™¤æ“ä½œæ—¶å´å¯ä»¥åˆ é™¤è¯¥æ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºæ–‡ä»¶åˆ é™¤æ“ä½œçš„æƒé™æ˜¯ç”±è¯¥æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„wä½å†³å®šçš„// æ–‡ä»¶åˆ é™¤æ“ä½œä¼šä¿®æ”¹çˆ¶ç›®å½•ä¸­blockèŠ‚ç‚¹ä¸­çš„æ–‡ä»¶åå†…å®¹ï¼Œè€Œçˆ¶ç›®å½•çš„æƒé™ä¸ºrxï¼Œä¸å¯å†™ã€‚[kuring@localhost tmp]$ rm testing/testingrmï¼šæ˜¯å¦åˆ é™¤æœ‰å†™ä¿æŠ¤çš„æ™®é€šæ–‡ä»¶ &quot;testing/testing&quot;ï¼Ÿy[kuring@localhost tmp]$ ls testing/[kuring@localhost tmp]$ åªæœ‰äº†è§£äº†åŽŸç†ï¼Œå°±å¯ä»¥ç†è§£åœ¨å¤šçº§ç›®å½•å¹¶ä¸”ç›®å½•çš„æƒé™ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ç›¸åº”çš„æƒé™é—®é¢˜äº†ã€‚ è¿›ç¨‹ç”¨æˆ·IDè¦è®²è§£set uidå’Œset gidï¼Œå°±æ¶‰åŠåˆ°è¿›ç¨‹çš„ç”¨æˆ·IDæ¦‚å¿µã€‚ç”¨æˆ·IDåˆå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š å®žé™…ç”¨æˆ·IDå’Œå®žé™…ç»„IDï¼šæ ‡è¯†äº†ç©¶ç«Ÿæ˜¯å“ªä¸ªç”¨æˆ·æ‰§è¡Œäº†è¯¥ç¨‹åºï¼Œè·Ÿå‘½ä»¤è¡Œä¸­çš„ç™»å½•ç”¨æˆ·ä¸€è‡´ï¼Œå¯ä»¥é€šè¿‡idå‘½ä»¤æŸ¥çœ‹ã€‚ æœ‰æ•ˆç”¨æˆ·IDå’Œæœ‰æ•ˆç»„IDï¼šç³»ç»Ÿé€šè¿‡æœ‰æ•ˆç”¨æˆ·IDã€æœ‰æ•ˆç»„IDå’Œé™„åŠ ç»„IDæ¥å†³å®šè¿›è¡Œå¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®æƒé™ã€‚åœ¨Linuxç³»ç»Ÿä¸­ä¸€ä¸ªç”¨æˆ·å¯ä»¥å±žäºŽå¤šä¸ªç»„ï¼Œåœ¨/etc/passwdæ–‡ä»¶ä¸­ä¸€ä¸ªç”¨æˆ·ä»…èƒ½æ ‡è¯†å‡ºéš¶å±žäºŽä¸€ä¸ªç»„IDï¼Œè¯¥ç»„IDå«åšé»˜è®¤çš„ç»„IDã€‚åœ¨/etc/groupä¸ºæ–‡ä»¶ä¸­å¯ä»¥æ ‡è¯†å‡ºä¸€ä¸ªç”¨æˆ·éš¶å±žäºŽå¤šä¸ªç»„ï¼Œè¿™å¤šä¸ªç»„ä¸­é™¤åŽ»é»˜è®¤çš„ç»„IDå«åšé™„åŠ ç»„IDã€‚ set uid è¯¥æƒé™ä½ä»…å¯¹äºŒè¿›åˆ¶æ–‡ä»¶æœ‰æ•ˆ æ‰§è¡Œè€…å¯¹è¯¥ç¨‹åºéœ€è¦å…·æœ‰xçš„æƒé™ è¯¥æƒé™ä»…åœ¨æ‰§è¡Œè¯¥ç¨‹åºè¿‡ç¨‹ä¸­æœ‰æ•ˆ æ‰§è¡Œè€…å°†å…·æœ‰è¯¥ç¨‹åºæ‹¥æœ‰è€…çš„æƒé™ ä»¥/usr/bin/passwdå‘½ä»¤ä¸ºä¾‹ï¼Œè¯¥ç¨‹åºçš„æƒé™ä¸ºï¼šrwsr-xr-xã€‚æ™®é€šç”¨æˆ·å¯ä»¥è°ƒç”¨è¯¥ç¨‹åºä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Œè€Œå¯†ç æ–‡ä»¶/etc/shadowæœªè®¾ç½®ä»»ä½•æƒé™ï¼Œå³åªæœ‰rootç”¨æˆ·å¯ä»¥æ“ä½œè¯¥æ–‡ä»¶ã€‚ 1234[root@localhost tmp]# ll /usr/bin/passwd-rwsr-xr-x. 1 root root 30768 2æœˆ 22 2012 /usr/bin/passwd[root@localhost tmp]# ll /etc/shadow----------. 1 root root 1248 11æœˆ 30 10:50 /etc/shadow passwdæ–‡ä»¶çš„sæ ‡å¿—è¡¨æ˜Žsetuidä½è¢«è®¾ç½®ã€‚ passwdçš„æ‹¥æœ‰è€…ä¸ºrootï¼›å½“æ™®é€šç”¨æˆ·æ‰§è¡Œpasswdå‘½ä»¤æ—¶ï¼Œæ™®é€šç”¨æˆ·å…·æœ‰è¯¥å‘½ä»¤çš„æ‰§è¡Œæƒé™ï¼›passwdæ‰§è¡Œè¯¥å‘½ä»¤æ—¶ä¼šæš‚æ—¶èŽ·å¾—rootç”¨æˆ·æƒé™ï¼›/etc/shadowå°±å¯ä»¥è¢«ä¿®æ”¹ã€‚ ä¹Ÿè®¸çœ‹åˆ°è¿™é‡Œå°±ä¼šæœ‰ç–‘é—®ï¼šé‚£å²‚ä¸æ˜¯æ™®é€šç”¨æˆ·å¯ä»¥é€šè¿‡/etc/passwdå‘½ä»¤ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç äº†ã€‚ä¹‹æ‰€ä»¥ä¸å¯ä»¥è¿™ä¹ˆæ“ä½œæ˜¯å› ä¸ºpasswdå‘½ä»¤å†…éƒ¨é€šè¿‡é€»è¾‘å®žçŽ°ã€‚ set gidè®¾ç½®åœ¨æ–‡ä»¶ä¸Šçš„æƒ…å†µï¼š è¯¥æƒé™ä½ä»…å¯¹äºŒè¿›åˆ¶æ–‡ä»¶æœ‰æ•ˆ æ‰§è¡Œè€…å¯¹è¯¥ç¨‹åºéœ€è¦å…·æœ‰xçš„æƒé™ æ‰§è¡Œè€…åœ¨è¿è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸­å°†ä¼šèŽ·å¾—è¯¥æ‰§è¡Œç¾¤ç»„çš„æƒé™ è®¾ç½®åœ¨ç›®å½•ä¸Šçš„æƒ…å†µï¼š ç”¨æˆ·å¯¹ç›®å½•å…·æœ‰rå’Œxçš„æƒé™ ç”¨æˆ·åœ¨ç›®å½•ä¸‹çš„æœ‰æ•ˆç¾¤ç»„å°†ä¼šå˜æˆè¯¥ç›®å½•çš„ç¾¤ç»„ è‹¥ç”¨æˆ·åœ¨æ­¤ç›®å½•ä¸‹å…·æœ‰wçš„æƒé™ï¼Œä½¿ç”¨è€…å»ºç«‹çš„ç¾¤ç»„ä¸Žè¯¥ç›®å½•çš„ç¾¤ç»„ç›¸åŒ ç²˜é™„ä½ï¼ˆsticky bitï¼‰è¯¥æƒé™ä½ä»…å¯¹ç›®å½•æœ‰æ•ˆï¼Œå¦‚æžœåœ¨ç›®å½•ä¸Šè®¾ç½®äº†ç²˜é™„ä½ï¼Œåªæœ‰è¯¥ç›®å½•çš„å±žä¸»ã€è¯¥æ–‡ä»¶çš„å±žä¸»æˆ–rootç”¨æˆ·å¯ä»¥åˆ é™¤æˆ–é‡å‘½åè¯¥ç›®å½•æ–‡ä»¶ã€‚ /tmpæ–‡ä»¶å¤¹çš„æƒé™å¦‚ä¸‹ï¼Œå…¶ä¸­çš„tä½è¡¨ç¤ºç²˜é™„ä½ï¼š 12[kuring@localhost /]$ ll -ad tmp/drwxrwxrwt. 25 root root 4096 3æœˆ 1 14:51 tmp/ å¦‚æžœåœ¨/tmpä¸‹kuringç”¨æˆ·åˆ›å»ºäº†è‡ªå·±çš„æ–‡ä»¶kuring_fileï¼Œå¹¶è®¾ç½®æƒé™ä¸º777ï¼Œtestç”¨æˆ·å¹¶ä¸èƒ½åˆ é™¤è¯¥æ–‡ä»¶ 123456789101112[kuring@localhost tmp]$ touch kuring_file[kuring@localhost tmp]$ ll kuring_file-rw-rw-r--. 1 kuring kuring 0 3æœˆ 1 15:05 kuring_file[kuring@localhost tmp]$ chmod 777 kuring_file[kuring@localhost tmp]$ ll kuring_file-rwxrwxrwx. 1 kuring kuring 0 3æœˆ 1 15:05 kuring_file[kuring@localhost tmp]$ su - testå¯†ç ï¼š[test@localhost ~]$ cd /tmp/[test@localhost tmp]$ rm kuring_filerm: æ— æ³•åˆ é™¤&quot;kuring_file&quot;: ä¸å…è®¸çš„æ“ä½œ è¡¨ç¤ºæ–¹æ³•å¦‚æžœè®¾ç½®äº†setuidä½ï¼Œå±žä¸»çš„æ‰§è¡Œæƒé™ä¸­çš„xç”¨sæ¥ä»£æ›¿ï¼›å¦‚æžœè®¾ç½®äº†setgidä½ï¼Œç»„æ‰§è¡Œæƒé™ä¸­çš„xç”¨sæ¥ä»£æ›¿ï¼›å¦‚æžœè®¾ç½®äº†stickyä½ï¼Œæƒé™æœ€åŽçš„é‚£ä¸ªå­—ç¬¦è¢«è®¾ç½®ä¸ºtï¼›å¦‚æžœè®¾ç½®äº†setuidã€setgidæˆ–stickyä½ä¸­ä¸€ä¸ªï¼Œåˆæ²¡æœ‰è®¾ç½®ç›¸åº”çš„æ‰§è¡Œä½ï¼Œè¿™äº›ä½æ˜¾ç¤ºä¸ºSæˆ–Tã€‚ æƒé™è®¾å®šæ–¹å¼4ä¸ºsetuidä½ï¼Œ2ä¸ºsetgidä½ï¼Œ1ä¸ºstickyä½ã€‚å…·ä½“å‚è€ƒã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœã€‹ã€‚ å‚è€ƒæ–‡æ¡£ã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœã€‹ã€ŠUNIX/Linuxç³»ç»Ÿç®¡ç†æŠ€æœ¯æ‰‹å†Œã€‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹çš„screenå‘½ä»¤]]></title>
      <url>%2Fpost%2Flinux_screen%2F</url>
      <content type="text"><![CDATA[åœ¨ä½¿ç”¨SSHæˆ–è€…telentè¿œç¨‹ç™»å½•åˆ°Linux æœåŠ¡å™¨ï¼Œç»å¸¸è¿è¡Œä¸€äº›éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œæ¯”å¦‚ç³»ç»Ÿå¤‡ä»½ã€ftp ä¼ è¾“ç­‰ç­‰ã€‚é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯ä¸ºæ¯ä¸€ä¸ªè¿™æ ·çš„ä»»åŠ¡å¼€ä¸€ä¸ªè¿œç¨‹ç»ˆç«¯çª—å£ï¼Œå› ä¸ºå®ƒä»¬æ‰§è¡Œçš„æ—¶é—´å¤ªé•¿äº†ã€‚å¿…é¡»ç­‰å¾…å®ƒä»¬æ‰§è¡Œå®Œæ¯•ï¼Œåœ¨æ­¤æœŸé—´ä¸èƒ½å…³æŽ‰çª—å£æˆ–è€…æ–­å¼€è¿žæŽ¥ï¼Œå¦åˆ™è¿™ä¸ªä»»åŠ¡å°±ä¼šè¢«æ€æŽ‰ï¼Œä¸€åˆ‡åŠé€”è€ŒåºŸäº†ã€‚ å®‰è£…CentOSä¸‹é»˜è®¤æ²¡æœ‰å®‰è£…è¯¥å‘½ä»¤ï¼Œä»Žscreençš„å®˜æ–¹ç½‘ç«™ä¸‹è½½ï¼Œä¸‹è½½åœ°å€ï¼šhttp://ftp.gnu.org/gnu/screen/ã€‚ è§£åŽ‹åŽæ‰§è¡Œ./configureã€‚ æ‰§è¡Œmakeå‘½ä»¤ã€‚åœ¨æ‰§è¡Œmakeå‘½ä»¤æ—¶ä¼šé‡åˆ°é”™è¯¯pty.c:38:26: é”™è¯¯ï¼šsys/stropts.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œåœ¨/usr/install/sys/ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªstropts.hçš„ç©ºæ–‡ä»¶å³å¯ã€‚ æ‰§è¡Œmake installï¼Œè¯¥å‘½ä»¤å¹¶ä¸ä¼šå°†screenå‘½ä»¤å¤åˆ¶åˆ°ç³»ç»Ÿçš„PATHå˜é‡åŒ…å«çš„è·¯å¾„ä¸‹ï¼Œå³ä¸èƒ½æ‰§è¡Œscreenå‘½ä»¤ã€‚ æ‰§è¡Œinstall -m 644 etc/etcscreenrc /etc/screenrcã€‚ æ‰§è¡Œcp screen /bin/ã€‚ æ‰§è¡Œcp doc/man/man1/screen.1 /usr/share/man/man1/ï¼Œå³å¯ä»¥å¯ä½¿ç”¨man screenæŸ¥çœ‹å¸®åŠ©ã€‚ å®žçŽ°åŽŸç†å½“å…³é—­çª—å£æˆ–æ–­å¼€è¿žæŽ¥æ—¶ï¼Œå†…æ ¸ä¼šå°†SIGHUPä¿¡å·å‘é€åˆ°ä¼šè¯æœŸé¦–è¿›ç¨‹ï¼Œè¿›ç¨‹å¯¹SIGHUPçš„å¤„ç†åŠ¨ä½œä¸ºç»ˆæ­¢ã€‚å¦‚æžœä¼šè¯æœŸé¦–è¿›ç¨‹ç»ˆæ­¢ï¼Œåˆ™è¯¥ä¿¡å·å‘é€åˆ°è¯¥ä¼šè¯æœŸå‰å°è¿›ç¨‹ç»„ã€‚ä¸€ä¸ªè¿›ç¨‹é€€å‡ºå¯¼è‡´ä¸€ä¸ªå­¤å„¿è¿›ç¨‹ç»„ä¸­äº§ç”Ÿæ—¶ï¼Œå¦‚æžœä»»æ„ä¸€ä¸ªå­¤å„¿è¿›ç¨‹ç»„è¿›ç¨‹å¤„äºŽSTOPçŠ¶æ€ï¼Œå‘é€SIGHUPå’ŒSIGCONTä¿¡å·åˆ°è¯¥è¿›ç¨‹ç»„ä¸­æ‰€æœ‰è¿›ç¨‹ã€‚å› æ­¤å½“ç½‘ç»œæ–­å¼€æˆ–ç»ˆç«¯çª—å£å…³é—­åŽï¼ŒæŽ§åˆ¶è¿›ç¨‹æ”¶åˆ°SIGHUPä¿¡å·é€€å‡ºï¼Œä¼šå¯¼è‡´è¯¥ä¼šè¯æœŸå†…å…¶ä»–è¿›ç¨‹é€€å‡ºã€‚ ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒLinuxç¨‹åºåœ¨è®¾è®¡æ—¶å¯è®¾è®¡æˆå®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å¯åŠ¨ã€‚ å¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡nohup å‘½ä»¤ &amp;çš„æ–¹å¼å¯åŠ¨æ¥è§£å†³é—®é¢˜ã€‚ æ–°å»ºscreen ç›´æŽ¥è¾“å…¥screenå‘½ä»¤å³å¯ä½¿ç”¨ã€‚ è¾“å…¥screen -S kuringï¼Œè¿™é‡Œç»™screenå–äº†ä¸€ä¸ªåå­—ï¼Œæ–¹ä¾¿è¾¨è®¤ã€‚ screen å‘½ä»¤ç›´æŽ¥åœ¨screenä¸­æ‰§è¡Œå‘½ä»¤ï¼Œå‘½ä»¤ç»“æŸåŽscreené€€å‡ºã€‚ åˆ†ç¦»ä¸Žæ¢å¤åœ¨screençª—å£ä¸­æ‰§è¡Œctrl + a då‘½ä»¤ï¼Œscreenä¼šç»™å‡º[detached]æç¤ºï¼Œå¹¶æ¢å¤åˆ°æ‰§è¡Œscreenä¹‹å‰çš„bashã€‚æŸ¥æ‰¾ä¹‹å‰çš„screenæ‰§è¡Œscreen -lsï¼Œä¼šåˆ—å‡ºå½“å‰æ‰“å¼€çš„screenã€‚1234There are screens on: 8576.pts-3.localhost (Attached) 8449.kuring (Detached)2 Sockets in /tmp/uscreens/S-kuring. è¿™é‡Œç³»ç»Ÿä¸­æ‰“å¼€äº†ä¸¤ä¸ªscreenï¼Œä¸€ä¸ªä¸ºAttachedï¼Œå¦ä¸€ä¸ªä¸ºDetachedã€‚ é‡æ–°è¿žæŽ¥æ‰§è¡Œscreen -r kuringæˆ–screen -r 8449æˆ–screen -rï¼Œå½“ç³»ç»Ÿä¸­ä»…æœ‰ä¸€ä¸ªå¤„äºŽDetachedçŠ¶æ€çš„screenæ—¶å°±å¯ä»¥ç›´æŽ¥æ‰§è¡Œscreen -rå‘½ä»¤ã€‚ å…³é—­çª—å£åœ¨screençš„shellä¸­æ‰§è¡Œexitå‘½ä»¤å³å¯å…³é—­screenã€‚ ä¹Ÿå¯ä»¥æ‰§è¡Œctrl + a kï¼Œä¼šæ€æ­»å½“å‰screenä¸­çš„æ‰€æœ‰è¿è¡Œè¿›ç¨‹ã€‚ é”™è¯¯åœ¨screenä¸­æ‰§è¡Œviå‘½ä»¤æ—¶ä¼šæç¤ºE437: terminal capability â€œcmâ€ requiredé”™è¯¯ï¼Œæ‰§è¡Œecho $TERMæŸ¥çœ‹å‘çŽ°æ‰“å°å€¼ä¸ºscreenï¼Œè€Œæœªæ‰§è¡Œscreenæ—¶çš„bashæ‰“å°å€¼ä¸ºxtermï¼Œåœ¨screenä¸­æ‰§è¡Œexport TERM=xtermå³å¯è§£å†³è¯¥é—®é¢˜ã€‚ å‚è€ƒæ–‡æ¡£æ›´å¤šé«˜çº§ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒä»¥ä¸‹æ–‡æ¡£ï¼š linux æŠ€å·§ï¼šä½¿ç”¨ screen ç®¡ç†ä½ çš„è¿œç¨‹ä¼šè¯linux screen å‘½ä»¤è¯¦è§£]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ç”¨Cè¯­è¨€å®žçŽ°çš„trimå‡½æ•°]]></title>
      <url>%2Fpost%2Fc_trim%2F</url>
      <content type="text"><![CDATA[trimå‡½æ•°åœ¨å…¶ä»–è¯­è¨€ä¸­æ¯”è¾ƒå¸¸è§ï¼Œè¿™é‡Œç”¨Cè¯­è¨€å®žçŽ°ä¸€ä¸ªï¼Œä¸ä½¿ç”¨Cè¯­è¨€çš„åº“å‡½æ•°ã€‚è¯¥ä¾‹å­ä¸­ä¸éœ€è¦é¢å¤–çš„ç”³è¯·ç©ºé—´ï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ 123456789101112131415161718192021222324252627282930313233343536#include &lt;stdio.h&gt;char *trim(char * str)&#123; char *buf1, *buf2; int i; if (str == NULL) &#123; return NULL; &#125; // å¤„ç†å­—ç¬¦ä¸²å‰é¢çš„ç©ºæ ¼ for (buf1=str; *buf1 &amp;&amp; *buf1==&apos; &apos;; buf1++); // å°†åŽ»æŽ‰å‰é¢ç©ºæ ¼çš„å­—ç¬¦ä¸²å‘å‰å¤åˆ¶ for (buf2=str, i=0; *buf1;) &#123; *buf2++ = *buf1++; i++; &#125; *buf2 = &apos;\0&apos;; // å¤„ç†å­—ç¬¦ä¸²åŽé¢çš„ç©ºæ ¼ while (*--buf2 == &apos; &apos;) &#123; *buf2 = &apos;\0&apos;; &#125; return str; &#125;int main(int argc, char *argv[])&#123; printf(&quot;trim(\&quot;%s\&quot;) &quot;, argv[1]); printf(&quot;returned \&quot;%s\&quot;\n&quot;, trim(argv[1])); return 0;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[CentOSä¸­å°†å…‰ç›˜ä½œä¸ºå®‰è£…æº]]></title>
      <url>%2Fpost%2Fcentos_yum_iso%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡æ˜¯VMWareä¸‹çš„CentOSæ“ä½œç³»ç»Ÿå°†yumæºæ›´æ”¹ä¸ºå…‰ç›˜çš„å®žä¾‹ï¼Œå…‰ç›˜çš„isoæ–‡ä»¶å­˜æ”¾åœ¨å®¿ä¸»æœºå™¨ä¸Šï¼Œé€šè¿‡VMWareçš„å…±äº«æ–‡ä»¶å¤¹åŠŸèƒ½ä¸ŽCentOSç³»ç»Ÿå…±äº«æ–‡ä»¶ã€‚CentOSä¸­å…±äº«æ–‡ä»¶å¤¹çš„å­˜æ”¾è·¯å¾„ä¸º/mnt/hgfsä¸­ã€‚CentOSçš„å…‰ç›˜ä¸ºä¸¤å¼ ï¼Œåˆ†åˆ«ä¸ºCentOS-6.5-x86_64-bin-DVD1.isoã€CentOS-6.5-x86_64-bin-DVD2.isoã€‚æ³¨æ„LiveCDç‰ˆçš„CentOSç³»ç»Ÿç›˜æ˜¯ä¸å¯ä»¥ä½œä¸ºyumæºçš„ã€‚ æŒ‚è½½å…‰ç›˜ mkdir -p /media/cdrom;mkdir -p /media/CentOSï¼Œåˆ›å»ºæŒ‚è½½ä¸¤ä¸ªæŒ‚è½½ç›®å½•ï¼Œåˆ†åˆ«æŒ‚è½½DVD1å’ŒDVD2ã€‚ æ‰§è¡Œmount /mnt/hgfs/iso/CentOS-6.5-x86_64-bin-DVD1.iso /media/cdrom/ -o loop;mount /mnt/hgfs/iso/CentOS-6.5-x86_64-bin-DVD2.iso /media/CentOS/ -o loop;ï¼Œå°†isoæŒ‚è½½åˆ°åˆ›å»ºçš„ç›®å½•ä¸‹ã€‚ æ‰§è¡Œdf -hå‘½ä»¤å³å¯çœ‹åˆ°æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š12/mnt/hgfs/iso/CentOS-6.5-x86_64-bin-DVD1.iso 4.2G 4.2G 0 100% /media/cdrom/mnt/hgfs/iso/CentOS-6.5-x86_64-bin-DVD2.iso 1.2G 1.2G 0 100% /media/CentOS è®¾ç½®æœ¬åœ°yumæºåœ¨/etc/yum.repos.dç›®å½•ä¸‹CentOS-Base.repoè®°å½•ç€yumé€šè¿‡ç½‘ç»œæ›´æ–°çš„æºï¼ŒCentOS-Media.repoè®°å½•ç€é€šè¿‡æœ¬åœ°æ–‡ä»¶æ›´æ–°çš„æºã€‚å…¶ä¸­CentOS-Media.repoæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š123456789101112131415161718192021# CentOS-Media.repo## This repo can be used with mounted DVD media, verify the mount point for# CentOS-6. You can use this repo and yum to install items directly off the# DVD ISO that we release.## To use this repo, put in your DVD and use it with the other repos too:# yum --enablerepo=c6-media [command]## or for ONLY the media repo, do this:## yum --disablerepo=\* --enablerepo=c6-media [command][c6-media]name=CentOS-$releasever - Mediabaseurl=file:///media/CentOS/ file:///media/cdrom/ file:///media/cdrecorder/gpgcheck=1enabled=0gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6 å…¶ä¸­å·²ç»åŒ…å«äº†/media/cdromè·¯å¾„å’Œ/media/CentOSè·¯å¾„ï¼Œè‡³æ­¤é…ç½®å·²ç»å®Œæ¯•ã€‚ å®‰è£…è½¯ä»¶éœ€è¦é€šè¿‡å‘½ä»¤yum --disablerepo=\* --enablerepo=c6-media [command]ï¼Œæ‰§è¡Œyum [command]å‘½ä»¤æ—¶è¿˜æ˜¯è”ç½‘æ‰§è¡Œã€‚ è®¾ç½®å¼€å¯å¯åŠ¨è‡ªåŠ¨æŒ‚è½½isoæ–‡ä»¶åœ¨/etc/fstabæ–‡ä»¶ä¸­çš„æœ«å°¾å¢žåŠ å¦‚ä¸‹å†…å®¹ï¼š12/mnt/hgfs/iso/CentOS-6.5-x86_64-bin-DVD1.iso /media/cdrom/ iso9660 loop 0 0/mnt/hgfs/iso/CentOS-6.5-x86_64-bin-DVD2.iso /media/CentOS/ iso9660 loop 0 0]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[X Windowå­¦ä¹ ]]></title>
      <url>%2Fpost%2Fx_window%2F</url>
      <content type="text"><![CDATA[X Windowçš„å®žçŽ°æœºåˆ¶è¿˜æ˜¯æ¯”è¾ƒéš¾ä»¥ç†è§£çš„ï¼Œå°¤å…¶æ˜¯è·Ÿè½¯ä»¶å¼€å‘ä¸­çš„å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å¼ä¸å¤ªä¸€æ ·ã€‚æ¶‰åŠåˆ°æ¦‚å¿µä¹Ÿæ¯”è¾ƒå¤šï¼Œç”šè‡³å¾ˆå¯¹æ•™ç¨‹å¯¹æ¦‚å¿µçš„ç†è§£ä¸ä¸€ã€‚æœ€è¿‘æ·±å…¥å­¦ä¹ äº†ä¸‹X Windowçš„åŽŸç†ï¼Œåœ¨æ­¤åšä¸€ä¸‹æ•´ç†ã€‚å…ˆä¸Šä¸€ä¸ªæ‘˜è‡ªç»´åŸºç™¾ç§‘çš„å›¾ï¼š å¸¸ç”¨å¿«æ·é”®ctrl+alt+fnï¼šåˆ‡æ¢åˆ°ç›¸åº”çš„è™šæ‹ŸæŽ§åˆ¶å°ï¼Œnä¸º1-12ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œlinuxæ“ä½œç³»ç»Ÿä¼šåœ¨1-6ä¸Šè¿è¡Œ6ä¸ªè™šæ‹ŸæŽ§åˆ¶å°ã€‚ctrl+alt+é€€æ ¼é”®ï¼šå…³é—­X windowç³»ç»Ÿã€‚åœ¨vmwareçŽ¯å¢ƒä¸‹ï¼Œctrl+altå¿«æ·é”®è·Ÿvmwareå†²çªï¼Œéœ€è¦å…ˆæŒ‰ä½ctrl+altï¼Œç„¶åŽæŒ‰ä¸€ä¸‹ç©ºæ ¼é”®å¹¶æ¾å¼€ï¼Œå†æŒ‰ä¸‹ç›¸åº”çš„fné”®æ‰èƒ½ä½¿ç”¨ã€‚ X Serverè´Ÿè´£ç¡¬ä»¶ç®¡ç†ã€å±å¹•ç»˜åˆ¶ã€å­—ä½“ï¼Œå¹¶æŽ¥æ”¶è¾“å…¥è®¾å¤‡ï¼ˆå¦‚é”®ç›˜ã€é¼ æ ‡ç­‰ï¼‰çš„åŠ¨ä½œï¼Œå¹¶ä¸”å‘ŠçŸ¥X Clientã€‚Linuxä¸‹çš„X Serverè½¯ä»¶ä¸ºXorgï¼Œé€šè¿‡Xï¼ˆXorgçš„é“¾æŽ¥æ–‡ä»¶ï¼‰å‘½ä»¤å³å¯æ‰§è¡Œã€‚è¾“å…¥Xå‘½ä»¤åŽï¼Œä¼šåœ¨ç¬¬7ä¸ªæŽ§åˆ¶å°å¯åŠ¨X Serverï¼Œå°†ä¼šå‡ºçŽ°ä¸€ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰çš„æ¼†é»‘ç•Œé¢ï¼Œè¿™æ˜¯ç”±äºŽæ²¡æœ‰ä»»ä½•X clientç¨‹åºè¾“å…¥çš„åŽŸå› ã€‚å¯ä»¥åœ¨Linuxä¸‹å¯åŠ¨å¤šä¸ªX Serverè½¯ä»¶ï¼Œä»Ž0å¼€å§‹ç¼–å·ã€‚å¦‚æžœå†æ‰§è¡ŒX:2å‘½ä»¤ä¼šå¯åŠ¨ç¬¬äºŒä¸ªX Serverï¼Œæ­¤æ—¶X Serverä¼šåœ¨ç¬¬8ä¸ªæŽ§åˆ¶å°è¿è¡Œã€‚å¦‚æžœç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ˜¯X:2å‘½ä»¤åˆ™X Serverä¼šåœ¨ç¬¬7ä¸ªæŽ§åˆ¶å°è¿è¡Œã€‚åœ¨Windowsæ“ä½œç³»ç»Ÿä¸‹çš„Xmingã€Xmanagerç­‰å¯ä»¥è¿œç¨‹è¿žæŽ¥Linuxç•Œé¢çš„è½¯ä»¶å…¶å®žå°±æ˜¯X Serverã€‚ X Clientå³Xåº”ç”¨ç¨‹åºï¼Œè¿è¡Œåœ¨X Windowä¸‹çš„çª—å£ç¨‹åºéƒ½å±žäºŽX clientã€‚æ¯”å¦‚firefoxå°±æ˜¯ä¸€ä¸ªX Clientã€‚æŽ¥æ”¶æ¥è‡ªX Serverçš„å¤„ç†åŠ¨ä½œï¼Œå°†åŠ¨ä½œå¤„ç†æˆä¸ºç»˜å›¾æ•°æ®ï¼Œå¹¶å°†ç»˜å›¾æ•°æ®ä¼ å›žç»™X Serverã€‚X Clientä¸ŽX Serverä¹‹é—´é€šè¿‡X Window System Core Protocolåè®®è¿›è¡Œé€šè®¯ã€‚xclockæ˜¯ä¸€ä¸ªç®€æ˜“çš„X Clientçš„æ—¶é’Ÿç¨‹åºï¼Œåœ¨:1ä¸Šå¯åŠ¨X ServeråŽï¼Œæ‰§è¡Œxclock â€“display :1&amp;å‘½ä»¤å°†xclockè¾“å‡ºåˆ°X ServeråŽçš„ç”»é¢å¦‚ä¸‹ï¼šè¯¥ç¨‹åºå¯ä»¥åœ¨X Serverä¸Šæ‰§è¡Œï¼Œä½†æ˜¯ç”»é¢éžå¸¸ç®€é™‹ï¼Œç”šè‡³æ²¡æœ‰çª—å£çš„èœå•æ å’Œæœ€å¤§åŒ–ç­‰æŒ‰é’®ã€‚ Window Managerä¸€ç§ç‰¹æ®Šçš„X Clientï¼Œæä¾›äº†çª—å£çš„æ ·å¼ã€‚å¸¸ç”¨çš„Window ManageråŒ…æ‹¬GNOMEé»˜è®¤çš„metacityã€twmç­‰ã€‚å°†metacityè¾“å‡ºåˆ°:1ä¸Šçš„X Serverçš„å‘½ä»¤ä¸ºmetacity â€“display=:1 &amp;ï¼Œæ•ˆæžœå¦‚ä¸‹ï¼šå¯ä»¥çœ‹åˆ°çª—å£å¤šå‡ºäº†æœ€å°åŒ–ã€æœ€å¤§åŒ–ã€å…³é—­æŒ‰é’®ï¼Œå¹¶ä¸”çª—å£å¯ä»¥ç§»åŠ¨å’Œç¼©æ”¾ç­‰æ“ä½œã€‚ Display Manageræä¾›ç”¨æˆ·ç™»å½•ç”»é¢ã€å¸®åŠ©X Serverå»ºç«‹Sessionã€‚gnomeé‡‡ç”¨çš„Display Managerä¸ºgdmï¼ŒKDEé‡‡ç”¨kdmï¼Œè¿˜æœ‰tdmã€xdmç­‰ã€‚ Desktop ManagerX Serverã€X Clientã€Window Managerçš„ä¸€ä¸ªé›†åˆã€‚å¸¸ç”¨çš„Desktop ManageråŒ…æ‹¬ï¼šKDEã€GNOMEç­‰ã€‚ startxå¯åŠ¨æµç¨‹åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œstartxå‘½ä»¤åŽï¼Œç³»ç»Ÿç›´æŽ¥è¿›å…¥äº†æ¡Œé¢çŽ¯å¢ƒï¼Œå¹¶æœªå‡ºçŽ°ç™»å½•ç•Œé¢ã€‚è¿›ç¨‹æ ‘å¦‚ä¸‹ï¼š startxä¼šè°ƒç”¨xinitå‘½ä»¤ï¼Œxinitå‘½ä»¤çš„ä¸»è¦æ˜¯å¯åŠ¨ä¸€ä¸ªX Serverè½¯ä»¶ã€‚ æŽ¥ç€xinitå‘½ä»¤ä¼šè°ƒç”¨gnome-sessionå¯åŠ¨gnomeçš„çŽ¯å¢ƒæ‰€éœ€è¦çš„è½¯ä»¶ã€‚ init 5å¯åŠ¨æµç¨‹åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œinit 5ï¼Œé¦–å…ˆå‡ºçŽ°çš„ç”»é¢ä¸ºç™»å½•ä¿¡æ¯ã€‚è¿›ç¨‹æ ‘å¦‚ä¸‹ï¼š æ‰§è¡Œ/etc/rc.d/rc5.dä¸­çš„daemonã€‚ æ‰§è¡Œ/etc/X11/prefdmæ–‡ä»¶ï¼Œä¼šé€‰æ‹©å¯åŠ¨gdmã€kdmã€xdmã€tdmã€‚ è¿™é‡Œä»¥gdmä¸ºä¾‹ï¼Œgdmæ˜¯ä¸€ä¸ªshellè„šæœ¬ï¼Œä¼šå¯åŠ¨gdm-binaryå‘½ä»¤ã€‚ å®žæˆ˜Windowsä¸»æœºè¿žæŽ¥Linuxçš„æ•™ç¨‹å‚è§æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ã€ŠRedhatå®‰è£…å®Œæˆä¹‹åŽçš„è®¾ç½®ã€‹ä¸­çš„ç›¸å…³éƒ¨åˆ†ã€‚ä¸¤å°Linuxæœºå™¨ä¹‹é—´é€šè¿‡XWindowå®žçŽ°è¿žæŽ¥çš„ç”¨æ³•æ¯”è¾ƒå°‘è§ï¼Œé€šå¸¸æƒ…å†µä¸‹å¯ä»¥é€šè¿‡vncä»£æ›¿ã€‚Linuxä¸»æœºè¿žæŽ¥Windowsçš„å·¥å…·ä¸ºrdesktopã€‚ å‚è€ƒæ–‡ç« ã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœã€‹ã€ŠLinuxæ“ä½œç³»ç»Ÿä¹‹å¥¥ç§˜ã€‹è§†é¢‘ï¼šRH033-ULE112-16-linuxä¸‹Xå›¾å½¢æ˜¾ç¤ºä½“ç³»è§†é¢‘ï¼šXwindowè¯¦è§£]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxå¸¸ç”¨ç½‘ç»œè¯Šæ–­å·¥å…·æ•´ç†]]></title>
      <url>%2Fpost%2Flinux_net_tools%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡å¯¹Linuxå¸¸ç”¨çš„ç½‘ç»œå‘½ä»¤è¿›è¡Œæ•´ç†å’Œæ€»ç»“ã€‚ è¿žé€šæ€§æµ‹è¯•pingå‘½ä»¤æœ€å¸¸ç”¨çš„ç½‘ç»œè¯Šæ–­å‘½ä»¤ã€‚12345678[kuring@localhost ~]$ ping www.baidu.comPING www.a.shifen.com (61.135.169.125) 56(84) bytes of data.64 bytes from 61.135.169.125: icmp_seq=1 ttl=128 time=25.5 ms64 bytes from 61.135.169.125: icmp_seq=2 ttl=128 time=20.3 ms64 bytes from 61.135.169.125: icmp_seq=3 ttl=128 time=25.0 ms64 bytes from 61.135.169.125: icmp_seq=4 ttl=128 time=21.7 ms64 bytes from 61.135.169.125: icmp_seq=5 ttl=128 time=23.4 ms64 bytes from 61.135.169.125: icmp_seq=6 ttl=128 time=21.9 ms é€šè¿‡ä¸Šè¿°è¾“å‡ºå¯ä»¥çœ‹å‡ºï¼Œpingå‘½ä»¤å¯å¾—åˆ°DNSå¯¹åº”çš„IPä¿¡æ¯ã€pingçš„æ•°æ®åŒ…å¤§å°ã€ç½‘ç»œå»¶è¿Ÿä¿¡æ¯ã€‚ å¦å¤–ï¼Œå¯ä»¥é€šè¿‡-så‚æ•°æŒ‡å®špingçš„æ•°æ®åŒ…å¤§å°ã€‚ä¾‹å¦‚ï¼š12345678910111213141516kuring@ubuntu:~$ ping www.baidu.com -s 1024PING www.a.shifen.com (61.135.169.125) 1024(1052) bytes of data.1032 bytes from 61.135.169.125: icmp_req=1 ttl=55 time=22.6 ms1032 bytes from 61.135.169.125: icmp_req=2 ttl=55 time=22.9 ms1032 bytes from 61.135.169.125: icmp_req=3 ttl=55 time=53.0 ms1032 bytes from 61.135.169.125: icmp_req=4 ttl=55 time=28.0 ms1032 bytes from 61.135.169.125: icmp_req=5 ttl=55 time=54.7 ms1032 bytes from 61.135.169.125: icmp_req=6 ttl=55 time=93.1 ms1032 bytes from 61.135.169.125: icmp_req=7 ttl=55 time=26.9 ms1032 bytes from 61.135.169.125: icmp_req=8 ttl=55 time=25.2 ms1032 bytes from 61.135.169.125: icmp_req=9 ttl=55 time=25.4 ms^C1032 bytes from 61.135.169.125: icmp_req=10 ttl=55 time=21.2 ms--- www.a.shifen.com ping statistics ---10 packets transmitted, 10 received, 0% packet loss, time 45436msrtt min/avg/max/mdev = 21.225/37.350/93.149/21.966 ms ä¼šå‘çŽ°pingå‘½ä»¤çš„å“åº”æ—¶é—´å˜é•¿äº†ï¼Œè¿™æ­£æ˜¯ç”±äºŽpingå‘é€æ•°æ®åŒ…å˜å¤§äº†ã€‚ tracerouteå¯ä»¥æ˜¾ç¤ºè·¯ç”±ä¿¡æ¯ã€‚ mtrtracerouteå‘½ä»¤çš„å‡çº§ç‰ˆï¼Œå¯ä»¥åŠ¨æ€åˆ·æ–°è·¯ç”±ä¿¡æ¯ï¼Œå¯ä»¥æ˜¾ç¤ºè·¯ç”±ä¸Šæ¯ä¸ªèŠ‚ç‚¹çš„ä¸¢åŒ…çŽ‡å’Œæ—¶é—´ç­‰ä¿¡æ¯ï¼Œä¿¡æ¯æ¯”è¾ƒå…¨é¢å’Œç›´è§‚ã€‚ arpç›¸å…³arpingå¯ä»¥é€šè¿‡è¯¥å‘½ä»¤æŸ¥çœ‹IPåœ°å€å¯¹åº”çš„macåœ°å€ã€‚arping IPåœ°å€ä¼šç«‹å³å‘é€ä¸€ä¸ªarpå¹¿æ’­ï¼Œå¯ä»¥æ ¹æ®æ”¶åˆ°çš„arpå›žåº”çš„å¤šå°‘çœ‹å±€åŸŸç½‘å†…æ˜¯å¦ä¸­arpç—…æ¯’ã€IPåœ°å€å†²çªç­‰æƒ…å†µã€‚ arpè·Ÿarpåè®®ç›¸å…³ï¼Œå¯ä»¥è®¾ç½®arpè¡¨ã€è¯»å–arpè¡¨ç­‰ã€‚ ç«¯å£ç›¸å…³telnetå¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤æ¥æµ‹è¯•æŸä¸ªç«¯å£æ˜¯å¦æ‰“å¼€ã€‚ä¾‹å¦‚æ‰§è¡Œtelnet localhost 881å…¶ä¸­881ä¸ºæœ¬æœºçš„æœªæ‰“å¼€ç«¯å£ï¼Œä¼šäº§ç”Ÿå¦‚ä¸‹è¾“å‡ºï¼š 12Trying 127.0.0.1...telnet: connect to address 127.0.0.1: Connection refused æ‰§è¡Œtelnet localhost 22ï¼Œå…¶ä¸­22ç«¯å£ä¸ºæœ¬æœºçš„sshæœåŠ¡ç«¯å£ä¸”å·²ç»æ‰“å¼€ï¼Œä¼šäº§ç”Ÿå¦‚ä¸‹è¾“å‡ºï¼š 1234Trying 127.0.0.1...Connected to localhost.Escape character is &apos;^]&apos;.SSH-2.0-OpenSSH_5.3 åˆ™è¡¨ç¤ºæœ¬æœºçš„22ç«¯å£å·²ç»æ‰“å¼€ã€‚ netstatæŸ¥çœ‹æœ¬æœºç½‘ç»œç«¯å£å‘½ä»¤ï¼Œå¸¸ç”¨netstat -aunpã€‚ #DNSç›¸å…³ host1234kuring@ubuntu:~$ host www.google.com.hkwww.google.com.hk is an alias for www-wide.l.google.com.www-wide.l.google.com has address 74.125.128.199www-wide.l.google.com has IPv6 address 2404:6800:4005:c00::c7 nslookup12345678kuring@ubuntu:~$ nslookup www.google.com.hkServer: 127.0.0.1Address: 127.0.0.1#53Non-authoritative answer:www.google.com.hk canonical name = www-wide.l.google.com.Name: www-wide.l.google.comAddress: 74.125.128.199 digå¯ä»¥ä»£æ›¿nslookupçš„å‘½ä»¤ï¼Œæ˜¾ç¤ºçš„åŸŸåä¿¡æ¯æ›´ä¸ºè¯¦ç»†ã€‚ å…¶ä»–abLinuxä¸‹çš„åŽ‹åŠ›æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥æ¨¡æ‹Ÿå¤šä¸ªå®¢æˆ·ç«¯å‘é€å¤šä¸ªè¯·æ±‚ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546kuring@ubuntu:~$ ab -c 100 -n 100 http://kuring.me/This is ApacheBench, Version 2.3 &lt;$Revision: 655654 $&gt;Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/Licensed to The Apache Software Foundation, http://www.apache.org/Benchmarking kuring.me (be patient).....doneServer Software: Tengine/2.0.0Server Hostname: kuring.meServer Port: 80Document Path: /Document Length: 707 bytesConcurrency Level: 100Time taken for tests: 1.547 secondsComplete requests: 100Failed requests: 10 (Connect: 0, Receive: 0, Length: 10, Exceptions: 0)Write errors: 0Non-2xx responses: 90Total transferred: 145330 bytesHTML transferred: 126570 bytesRequests per second: 64.64 [#/sec] (mean)Time per request: 1546.990 [ms] (mean)Time per request: 15.470 [ms] (mean, across all concurrent requests)Transfer rate: 91.74 [Kbytes/sec] receivedConnection Times (ms) min mean[+/-sd] median maxConnect: 173 223 43.8 200 289Processing: 167 340 301.5 236 1368Waiting: 166 339 300.5 235 1364Total: 345 563 295.4 438 1546Percentage of the requests served within a certain time (ms) 50% 438 66% 555 75% 562 80% 597 90% 1108 95% 1474 98% 1484 99% 1546 100% 1546 (longest request) å‚è€ƒ è§£å†³LinuxæœåŠ¡å™¨è®¿é—®æ¯”è¾ƒæ…¢çš„é—®é¢˜-ç½‘ç»œæµ‹è¯•å‘½ä»¤è®²è§£ ã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœ-æœåŠ¡å™¨æž¶è®¾ç¯‡ã€‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[cgdbçš„ä½¿ç”¨]]></title>
      <url>%2Fpost%2Fcgdb%2F</url>
      <content type="text"><![CDATA[é•¿æœŸä»¥æ¥åœ¨ä½¿ç”¨gdbè°ƒè¯•ä»£ç çš„æ—¶å€™éƒ½ä¼šå› ä¸ºè°ƒè¯•ä»£ç çš„æ—¶å€™æŸ¥çœ‹ä»£ç ä¸æ–¹ä¾¿è€Œçƒ¦æ¼ï¼Œgdbçš„listå‘½ä»¤ä¸å¤Ÿå¥½ç”¨ã€‚è€Œä¸”ç½‘ä¸Šçš„æ•™ç¨‹ä¸­ä¹Ÿç¡®å®žä¸å®¹æ˜“å‘çŽ°å¯ä»¥æ›¿ä»£gdbçš„å¥½çš„ç»ˆç«¯ä¸‹çš„è°ƒè¯•å·¥å…·ï¼Œå¯¹äºŽå›¾å½¢ç•Œé¢çš„é›†æˆå¼€å‘çŽ¯å¢ƒï¼ˆæ¯”å¦‚Eclipse CDTï¼‰å’Œå›¾å½¢ç•Œé¢çš„è°ƒè¯•å·¥å…·ï¼ˆæ¯”å¦‚DDDï¼‰ä¸åœ¨æœ¬æ–‡è®¨è®ºçš„èŒƒå›´å†…ï¼Œæ¯•ç«Ÿå¾ˆå¤šæ—¶å€™è¿žæŽ¥linuxçš„æ—¶å€™è¿˜æ˜¯ç»ˆç«¯æ–¹å¼çš„å±…å¤šã€‚ tuiæ¨¡å¼ç›´åˆ°åŽæ¥å¶ç„¶é—´å‘çŽ°äº†gdbçš„-tuiå‚æ•°ï¼Œè¯¥å‚æ•°é€šè¿‡æ–‡æœ¬ç”¨æˆ·ç•Œé¢æ¨¡å¼è¿›è¡Œè°ƒè¯•ä»£ç ï¼Œä½¿ç”¨èµ·æ¥ç¡®å®žæ–¹ä¾¿äº†è®¸å¤šï¼Œå†ä¹Ÿä¸ç”¨è¾¹è°ƒè¯•è¾¹listä»£ç äº†ï¼Œè¯¥æ¨¡å¼å·²ç»æ»¡è¶³äº†æˆ‘çš„è¾¹è°ƒè¯•è¾¹æŸ¥çœ‹ä»£ç çš„éœ€æ±‚ã€‚å¦å¤–ï¼Œgdbtuiå‘½ä»¤ä¹Ÿå¯å®Œæˆç›¸åŒçš„åŠŸèƒ½ã€‚ä¸€ä¸ªtuiè°ƒè¯•æ¨¡å¼çš„ç•Œé¢å¦‚ä¸‹ï¼š è™½ç„¶ï¼Œtuiæ¨¡å¼å¤§å¤§çš„æä¾›äº†è°ƒè¯•çš„å‹å¥½æ€§ï¼Œä½†æ˜¯ä»ç„¶æœ‰ä¸€äº›ç¼ºç‚¹ã€‚æ¯”å¦‚æ˜¾ç¤ºçš„ä»£ç æ— æ³•è¯­æ³•é«˜äº®ï¼Œè™½ç„¶ä¼šå¾ˆå½±å“ç”¨æˆ·ä½“éªŒï¼Œä½†æ˜¯æˆ‘æ¯•ç«Ÿæ˜¯ä¸€ååŽå°å¼€å‘çš„ç¨‹åºå‘˜ï¼Œè¿™ç‚¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚æºç å¸ƒå±€å’Œgdbå‘½ä»¤å¸ƒå±€ä¹‹é—´åˆ‡æ¢ä¸å¤Ÿæ–¹ä¾¿ï¼Œè¿™ç‚¹ä¹Ÿä¸è¦ç´§ï¼Œæ¯•ç«Ÿå¯ä»¥åˆ‡æ¢ï¼Œåªæ˜¯éœ€è¦è¾“å…¥ä¸¤ä¸ªå•è¯å°±å¯ä»¥åˆ‡æ¢äº†ã€‚æœ€æœ€æœ‰é—®é¢˜çš„å°±æ˜¯ï¼Œè¯¥å‘½ä»¤ä½¿ç”¨çš„æ—¶cursesåº“ï¼Œå½“ç”¨sshé€šè¿‡windowsä¸‹çš„SecureCRTæˆ–è€…puttyè¿žæŽ¥è¿›è¡Œè°ƒè¯•æ—¶ï¼Œæºç å¸ƒå±€éƒ¨åˆ†å¾€å¾€ä¸èƒ½å¤Ÿè‡ªåŠ¨åˆ·æ–°ï¼Œéœ€è¦æ‰‹å·¥è¾“å…¥CTRL+Læ¥åˆ·æ–°ï¼Œå…·ä½“çš„åŽŸç†æˆ‘æ²¡æœ‰åŽ»æ·±ç©¶ã€‚ cgdbä¸»è¦æ˜¯æœ¬ç€è§£å†³gdb tuiä¸­çš„æºç å¸ƒå±€ä¸èƒ½è‡ªåŠ¨åˆ·æ–°çš„é—®é¢˜ï¼Œæœ¬æ–‡çš„é‡ç‚¹cgdbå‘½ä»¤ç»ˆäºŽé—ªäº®ç™»åœºäº†ã€‚è¯¥å‘½ä»¤ä¸ä»…è§£å†³äº†æºç å¸ƒå±€è‡ªåŠ¨åˆ·æ–°é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒäº†è¯­æ³•é«˜äº®ï¼ŒåŒæ—¶æºç æŸ¥çœ‹æ”¯æŒviçš„éƒ¨åˆ†å‘½ä»¤ã€‚åŠŸèƒ½åŸºæœ¬è·Ÿvimgdbç›¸è¿‘ï¼Œä½†æ˜¯å®‰è£…æ›´å®¹æ˜“ï¼Œåœ¨ubuntuä¸‹åªéœ€æ‰§è¡Œsudo apt-get install cgdbå³å¯ã€‚ ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š ESCï¼šåˆ‡æ¢ç„¦ç‚¹åˆ°æºç æ¨¡å¼ï¼Œåœ¨è¯¥ç•Œé¢ä¸­å¯ä»¥ä½¿ç”¨viçš„å¸¸ç”¨å‘½ä»¤ iï¼šåˆ‡æ¢ç„¦ç‚¹åˆ°gdbæ¨¡å¼ oï¼šæ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†ï¼Œé€‰æ‹©è¦æ˜¾ç¤ºçš„ä»£ç æ–‡ä»¶ï¼ŒæŒ‰ESCå–æ¶ˆ ç©ºæ ¼ï¼šåœ¨å½“å‰è¡Œè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ å‚è€ƒæ–‡ç« Beejâ€™s Quick Guide to GDBcgdb]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux From Scratchå­¦ä¹ ç¬”è®°]]></title>
      <url>%2Fpost%2Flfs%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘ä¹°äº†æœ¬æ–°ä¹¦ã€Šæ·±åº¦æŽ¢ç´¢Linuxæ“ä½œç³»ç»Ÿã€‹ï¼Œåœ¨æŒ‰ç…§ä¹¦ä¸­æ­¥éª¤å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæ— å¥ˆåœ¨å®‰è£…æ­¥éª¤ä¸­å‡ºé”™ï¼ŒäºŽæ˜¯åªèƒ½åˆ°ç½‘ä¸Šæ‰¾ä¹¦è¯„ã€‚åœ¨æµè§ˆä¹¦è¯„çš„è¿‡ç¨‹ä¸­å¶ç„¶çœ‹åˆ°LFSä¸‰ä¸ªåè¯ï¼Œgoogleä¹‹ï¼Œå‘çŽ°æ˜¯æ‰‹åŠ¨å®‰è£…Linuxçš„å®˜æ–¹å­¦ä¹ æ‰‹å†Œï¼Œå­¦ä¹ ä¹‹ã€‚ è§£åŽ‹å‘½ä»¤ä¸€ç›´å¯¹è§£åŽ‹å‘½ä»¤çš„å‚æ•°è®°ä¸æ¸…æ¥šï¼Œè®°å½•ä¸€ä¸‹ï¼štar -Jvxf .tar.xztar -zvxf .tar.gztar -xvf *.tar.bz2 å°†ä¸€èˆ¬ç”¨æˆ·å¯ä»¥ä½¿ç”¨sudoå‘½ä»¤æ‰§è¡Œå‘½ä»¤çš„æ–¹æ³•æ‰§è¡Œvisudoå‘½ä»¤æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼Œå°†æœ¬ç”¨æˆ·æ·»åŠ åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚ä¿®æ”¹çš„æ–‡ä»¶ä¸º/etc/sudoersï¼Œè¯¥æ–‡ä»¶é»˜è®¤ä¸ºåªè¯»çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡visudoå‘½ä»¤æ¥ä¿®æ”¹ã€‚ login shellå’Œnon-login shelllogin shellï¼šshellä¼šé‡æ–°è¯»å–/etc/profileå’Œ~/.bash_profileæ¥åº”ç”¨æ–°çš„çŽ¯å¢ƒå˜é‡ã€‚é€šè¿‡su - ç”¨æˆ·åçš„æ–¹å¼ç™»å½•ä¸ºlogin shellæ–¹å¼ã€‚non-login shellï¼šæ­¤æ—¶shellä¸ä¼šè¯»å–/etc/profileå’Œ~/.bash_profileï¼Œè€Œæ˜¯è¯»å–~/.bashrcæ¥åº”ç”¨æ–°çš„çŽ¯å¢ƒå˜é‡ã€‚é€šè¿‡su ç”¨æˆ·åç™»å½•çš„æ–¹å¼ä¸ºnon-login shellæ–¹å¼ã€‚ æ–‡ä¸­lfsç”¨æˆ·ä¸‹çš„~/.bash_profileçš„å†…å®¹å¦‚ä¸‹ï¼š1exec env -i HOME=$HOME TERM=$TERM PS1=&apos;\u:\w\$ &apos; /bin/bash è€Œlfsç”¨æˆ·ä¸‹çš„~/.bashrcæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š1234567set +humask 022LFS=/mnt/lfsLC_ALL=POSIXLFS_TGT=$(uname -m)-lfs-linux-gnuPATH=/tools/bin:/bin:/usr/binexport LFS LC_ALL LFS_TGT PATH è€Œæœ€ä»¤äººå¥‡æ€ªçš„æ˜¯å³ä½¿é€šè¿‡su - lfså‘½ä»¤ç™»å½•ä¹Ÿä¼šæ‰§è¡Œåˆ°.bashrcæ–‡ä»¶çš„å†…å®¹ï¼Œä¸ä¿¡å¯ä»¥é€šè¿‡åœ¨.bash_profileå’Œ.bashrcæ–‡ä»¶çš„å¼€å§‹åœ°æ–¹æ‰“å°å†…å®¹æ¥éªŒè¯ã€‚ä¹‹æ‰€ä»¥å‡ºçŽ°å¦‚æ­¤å¥‡æ€ªçš„é—®é¢˜ï¼ŒåŽŸå› åœ¨äºŽ~/.bash_profileä¸­çš„å‘½ä»¤ã€‚å…¶ä¸­execå‘½ä»¤å’Œlinuxç³»ç»Ÿä¸­çš„execç³»åˆ—å‡½æ•°çš„å«ä¹‰æ˜¯ä¸€è‡´çš„ï¼Œå³åœ¨å½“å‰bashä¸­ç›´æŽ¥æ‰§è¡ŒexecåŽé¢çš„å‘½ä»¤ï¼Œè€Œä¸ç”¨forkä¸€ä¸ªæ–°çš„è¿›ç¨‹æ¥æ‰§è¡Œã€‚envå‘½ä»¤ä¼šé€šè¿‡å½“å‰ç”¨æˆ·çš„HOMEå’ŒTERMçŽ¯å¢ƒå˜é‡åŠè‡ªå®šä¹‰çš„PS1çŽ¯å¢ƒå˜é‡æ¥æ‰§è¡Œæ–°çš„/bin/bashï¼Œè€Œæ–°æ‰§è¡Œçš„bashä¸ºnon-login shellæ–¹å¼ï¼Œå› æ­¤ä¼šæ‰§è¡Œlfsç”¨æˆ·ä¸‹çš„.bahsrcæ–‡ä»¶ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œå°±æ˜¯~/.bash_profileæ–‡ä»¶ä¸­çš„envå‘½ä»¤é€šè¿‡non-login shellæ–¹å¼æ‰§è¡Œäº†æ–°çš„bashï¼Œexecå‘½ä»¤çš„ä½œç”¨æ˜¯ä¸åœ¨å½“å‰bashä¸­æ‰§è¡Œæ–°çš„bashï¼Œè€Œä¸æ˜¯é€šè¿‡äº§ç”Ÿä¸€ä¸ªæ–°è¿›ç¨‹çš„æ–¹å¼æ¥æ‰§è¡Œbashã€‚ POSIX &amp;&amp; FHS &amp;&amp; LSBPOSIX.1-2008ï¼Œé€šè¿‡è¯¥ç½‘ç«™æ¥æŸ¥è¯¢ç³»ç»Ÿå‡½æ•°ç­‰éžå¸¸æ–¹ä¾¿ã€‚Filesystem Hierarchy Standard (FHS)Filesystem Hierarchy Standard (FHS)ï¼Œå¯ä»¥é€šè¿‡æ­¤æ ‡å‡†æ¥å­¦ä¹ Linuxçš„ç›®å½•å«ä¹‰ã€‚Linux Standard Base (LSB) Specifications set +hThe set +h command turns off bashâ€™s hash function. Hashing is ordinarily a useful featureâ€”bash uses a hash table to remember the full path of executable files to avoid searching the PATH time and again to find the same executable. è™šæ‹Ÿç»ˆç«¯PTYsPTY è®¾å¤‡ä¸Žç»ˆç«¯è®¾å¤‡ï¼ˆterminal deviceï¼‰ç›¸ç±»ä¼¼â€”â€”å®ƒæŽ¥å—æ¥è‡ªé”®ç›˜çš„è¾“å…¥ï¼Œå¹¶å°†æ–‡å­—ä¼ é€’ç»™è¿è¡Œåœ¨å…¶ä¸Šçš„ç¨‹åºä»¥å¤‡è¾“å‡ºã€‚PTY è¢«ä¾æ¬¡ç¼–å·ï¼Œä¸”æ¯ä¸ª PTY çš„ç¼–å·å°±æ˜¯å®ƒåœ¨ /dev/pts ç›®å½•ä¸­å¯¹åº”è®¾å¤‡æ–‡ä»¶çš„æ–‡ä»¶åã€‚ devpts file systemè¿œç¨‹ç™»é™†(telnet,sshç­‰)åŽåˆ›å»ºçš„æŽ§åˆ¶å°è®¾å¤‡æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚ specsæ–‡ä»¶gcc æ˜¯ä¸€ä¸ªé©±åŠ¨å¼çš„ç¨‹åº. å®ƒè°ƒç”¨å…¶å®ƒç¨‹åºæ¥ä¾æ¬¡è¿›è¡Œç¼–è¯‘, æ±‡ç¼–å’Œé“¾æŽ¥. GCC åˆ†æžå‘½ä»¤è¡Œå‚æ•°, ç„¶åŽå†³å®šè¯¥è°ƒç”¨å“ªä¸€ä¸ªå­ç¨‹åº, å“ªäº›å‚æ•°åº”è¯¥ä¼ é€’ç»™å­ç¨‹åº. æ‰€æœ‰è¿™äº›è¡Œä¸ºéƒ½æ˜¯ç”± SPEC å­—ç¬¦ä¸²(spec strings)æ¥æŽ§åˆ¶çš„. é€šå¸¸æƒ…å†µä¸‹, æ¯ä¸€ä¸ª GCC å¯ä»¥è°ƒç”¨çš„å­ç¨‹åºéƒ½å¯¹åº”ç€ä¸€ä¸ª SPEC å­—ç¬¦ä¸², ä¸è¿‡æœ‰å°‘æ•°çš„å­ç¨‹åºéœ€è¦å¤šä¸ª SPEC å­—ç¬¦ä¸²æ¥æŽ§åˆ¶ä»–ä»¬çš„è¡Œä¸º. æŸ¥çœ‹å½“å‰shell æŸ¥çœ‹é»˜è®¤shellå¯ä»¥ç”¨å‘½ä»¤ï¼šecho $SHELLã€‚ æŸ¥çœ‹å½“å‰shellï¼šps | grep $$ | awk &#39;{print $4}&#39;ã€‚ é€šè¿‡è¾“å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œå¦‚è¾“å…¥tomï¼Œå¯æ˜¾ç¤ºbash: tom: command not foundï¼Œè¯´æ˜Žå½“å‰çš„shellä¸ºbashã€‚ expectä¸€ç§æä¾›è‡ªåŠ¨äº¤äº’çš„è„šæœ¬è¯­è¨€ã€‚ teeå‘½ä»¤é‡å®šå‘è¾“å‡ºåˆ°å¤šä¸ªæ–‡æœ¬æ–‡ä»¶å‘½ä»¤ã€‚ pkg-configconfigureè„šæœ¬åœ¨æ£€æŸ¥ç›¸åº”ä¾èµ–çŽ¯å¢ƒæ—¶(ä¾‹ï¼šæ‰€ä¾èµ–è½¯ä»¶çš„ç‰ˆæœ¬ã€ç›¸åº”åº“ç‰ˆæœ¬ç­‰)ï¼Œé€šå¸¸ä¼šé€šè¿‡pkg-configçš„å·¥å…·æ¥æ£€æµ‹ç›¸åº”ä¾èµ–çŽ¯å¢ƒã€‚ è¯¦ç»†å†…å®¹è§ï¼šç®€è¿°configureã€pkg-configã€pkg_config_pathä¸‰è€…çš„å…³ç³»]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[2013å¹´æ€»ç»“]]></title>
      <url>%2Fpost%2F2013_summary%2F</url>
      <content type="text"><![CDATA[2013å¹´åœ¨ä¸ç»æ„é—´è¿‡åŽ»äº†ï¼Œæ€»ç»“èµ·æ¥æ”¶èŽ·è¿˜æ˜¯ä¸å°çš„ã€‚æˆ‘çš„å¤§éƒ¨åˆ†ä¸šä½™æ—¶é—´ç”¨åœ¨äº†å­¦ä¹ ä¸Šï¼Œçœ‹ä¹¦çœ‹ä¹¦å†çœ‹ä¹¦ã€‚æ¯ä¸ªå‘¨äº”æˆ–å‘¨å…­æ™šä¸Šä¼šçŽ©ä¸Šä¸€æ™šä¸Šdotaä»¥æ”¾æ¾ï¼Œå‘¨æœ«ä¼šæŠ½ä¸€å¤©æ—¶é—´å‡ºåŽ»æ•£æ•£å¿ƒã€‚ å­¦ä¹ å­¦ä¹ ä¸Šè¿›æ­¥è¿˜ç®—æ¯”è¾ƒå¤§ï¼Œå­¦ä¹ æ–¹å¼ä»¥çœ‹ä¹¦ä¸ºä¸»ï¼Œå°¤å…¶æ˜¯å¯¹Linuxæœ‰äº†è¾ƒæ·±å…¥äº†è§£ã€‚åœ¨å¹´åˆçš„æ—¶å€™åˆ¶å®šäº†æ·±å…¥å­¦ä¹ Linuxçš„è®¡åˆ’ï¼ŒåŒ…æ‹¬Linuxå†…æ ¸ï¼Œå¤§çº¦ä»Žäº”æœˆä¸‹æ—¬å¼€å§‹å­¦ä¹ ã€‚ ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆå½“æ—¶æŠ±ç€è¯¥è€ƒè¯•å¯ä»¥æŒ‚é çš„å¿ƒæ€æ¥å­¦ä¹ PMï¼Œä»Žæ˜¥èŠ‚åŽå¼€å§‹å­¦ä¹ ï¼Œäº”æœˆæœ«è€ƒè¯•ï¼Œå¤§çº¦èŠ±äº†ä¸‰ä¸ªæœˆæ—¶é—´ã€‚å­¦ä¹ æ€è·¯ä¸ºä»Žæ·˜å®ä¸Šä¹°çš„YYè®²è¯¾çš„åŸ¹è®­è§†é¢‘ï¼Œä»·æ ¼è¿˜ç®—ä¾¿å®œï¼Œéš”ä¸€å¤©æ™šä¸Šä¸Šä¸€è¯¾ï¼Œä¸€æ¬¡è®²è¯¾æ—¶é—´åœ¨ä¸€ä¸ªåŠå°æ—¶å·¦å³ã€‚å¬äº†å‡ æ¬¡è¯¾ä¹‹åŽå°±å‘çŽ°è€å¸ˆåºŸè¯æŒºå¤šï¼Œä½†æ˜¯å¦‚æžœè‡ªå·±çœ‹ä¹¦å¤ä¹ åˆæŠ“ä¸ä½é‡ç‚¹ï¼Œå› æ­¤è¿˜æ˜¯ç¡¬ç€å¤´çš®å¬è€å¸ˆè®²è¯¾ï¼Œå°±å½“ä½œä¼‘æ¯äº†ã€‚å‚è€ƒå›¾ä¹¦å…±ä¸‰æœ¬ï¼ŒåŠ èµ·æ¥è¶³å¤Ÿ2000é¡µçš„æ ·å­ï¼Œè¿˜åšäº†åŽ†å¹´çš„éƒ¨åˆ†çœŸé¢˜ã€‚ç”±äºŽè‡ªå·±æ‰‹æ‡’ï¼Œå†™ä½œåœ¨è€ƒè¯•ä¹‹å‰æ²¡æœ‰å†™è¿‡ä¸€ç¯‡ï¼Œåªæ˜¯åœ¨è€ƒè¯•ä¹‹å‰èƒŒäº†ä¸¤ç¯‡èŒƒæ–‡ï¼Œç»“æžœè€ƒè¯•çš„æ—¶å€™å†™ä½œæ²¡æœ‰åŽ‹ä¸­ï¼Œç¦»åˆ†æ•°çº¿å·®äº†ä¸¤åˆ†ã€‚ ä¸‹åŠå¹´è€ƒè¯•æ²¡æœ‰æŠ¥åï¼Œç»è¿‡äº†ä¸€æ¬¡è€ƒè¯•åŽçœ‹æ¸…äº†PMçš„çœŸé¢ç›®ï¼Œçº¯å±žæžç†è®ºï¼Œè·ç¦»å®žé™…å¤ªè¿œã€‚å¦‚æžœä¸ºäº†æŒ‚é åŽ»èŠ±è´¹å®è´µçš„ä¸šä½™æ—¶é—´æ¥å­¦ä¹ å®žåœ¨æœ‰ç‚¹ä¸å¾—ä¸å¿å¤±ã€‚çŽ°åœ¨å›žæƒ³èµ·æ¥å¤šå°‘æœ‰äº›åŽæ‚”ï¼Œä½†æ˜¯ä¸å°è¯•æ€Žä¹ˆèƒ½çŸ¥é“PMåˆ°åº•æ˜¯ä¸ªå•¥ä¸œè¥¿å‘¢ã€‚ LinuxLinuxçš„ç³»ç»ŸçŸ¥è¯†ä»Šå¹´è¿›æ­¥æŒºå¤§çš„ï¼Œæ— è®ºæ˜¯åœ¨ç¼–ç ã€å¯¹ç³»ç»Ÿçš„ç†è§£è¿˜æ˜¯å†…æ ¸æ–¹é¢éƒ½æœ‰éžå¸¸å¤§çš„è¿›æ­¥ã€‚ ã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœâ€“åŸºç¡€å­¦ä¹ ç¯‡ã€‹ä¸¤å¹´å¤šå‰çœ‹è¿‡ä¸€æ¬¡ï¼Œåˆ©ç”¨å·¥ä½œä¸­çš„ç©ºé—²æ—¶é—´é‡æ–°å›žé¡¾äº†ä¸€è¾¹ï¼Œæ”¶èŽ·è¿˜æ˜¯æŒºå¤§çš„ã€‚ ã€Šé¸Ÿå“¥çš„Linuxç§æˆ¿èœâ€“æœåŠ¡å™¨æž¶è®¾ç¯‡ã€‹ä¸¤å¹´å‰ä¹°çš„ä¹¦ï¼Œå½“æ—¶æ²¡æœ‰é€šè¯»ï¼Œæ„Ÿè§‰å«é‡‘é‡è·ŸåŸºç¡€å­¦ä¹ ç¯‡å¤ªå¤§ã€‚åˆ©ç”¨å·¥ä½œä¹‹ä½™é€šè¯»ä¸€éï¼Œæ”¶èŽ·ä¹Ÿè¿˜ç®—å¯ä»¥ã€‚ ã€ŠUnixçŽ¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹Linuxç¼–ç¨‹åœ£ç»ï¼ŒèŠ±äº†æŽ¥è¿‘ä¸¤ä¸ªæœˆæ—¶é—´çœ‹å®Œï¼Œçœ‹å®ŒåŽæ”¶èŽ·å¾ˆå¤§ã€‚ ã€ŠUnixç½‘ç»œç¼–ç¨‹ã€‹Linuxç½‘ç»œç¼–ç¨‹åœ£ç»ï¼ŒèŠ±äº†ä¸€ä¸ªæœˆæ—¶é—´çœ‹å®Œï¼Œçœ‹å®ŒåŽå¯¹å†™TCP/IPé€šä¿¡çš„ç¨‹åºå¾ˆæœ‰å¸®åŠ©ï¼Œä½œä¸ºã€ŠUnixçŽ¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹çš„å¾ˆå¥½è¡¥å……ã€‚ ã€ŠLinuxå†…æ ¸å®Œå…¨å‰–æžã€‹è¯¥ä¹¦èŠ±äº†æˆ‘æŽ¥è¿‘åŠå¹´çš„æ—¶é—´æ¥å­¦ä¹ ï¼ŒçŽ°åœ¨çœ‹å®Œäº†äº”åˆ†ä¹‹å››å·¦å³ï¼Œè¿˜æœ‰æ–‡ä»¶ç³»ç»Ÿç« èŠ‚æ²¡æœ‰å­¦ä¹ ã€‚å­¦ä¹ ä¸‹æ¥æ”¶èŽ·å¾ˆå¤§ï¼ŒåŽç»­ä¼šç»“åˆã€ŠLinuxå†…æ ¸å›¾è§£ã€‹ä¸€ä¹¦æ¥è¡¥å……å­¦ä¹ å’Œå½’çº³ã€‚ ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ã€‹é€šè¿‡å­¦ä¹ å¯¹Linuxçš„elfå’Œwindowsçš„peç»“æž„éƒ½æœ‰äº†è¾ƒæ·±å…¥çš„äº†è§£ï¼Œä¸è¿‡äº‹éš”åŠå¹´ä¹‹åŽå·²ç»å…¨éƒ¨å¿˜è®°äº†ï¼Œéœ€è¦å†æ¸©ä¹ ä¸€éã€‚ å¾®ä¿¡å…¬å…±å¸å·ä»Žå¹´åˆå¼€å§‹ï¼Œæ¯å¤©ä¼šèŠ±ä¸€å®šæ—¶é—´æ¥é˜…è¯»å¾®ä¿¡å…¬å…±å¸å·çš„æ–‡ç« ï¼ŒåˆæœŸè®¢é˜…çš„æ–‡ç« åŸºæœ¬éƒ½ä¼šé˜…è¯»ï¼ŒåŽæœŸè®¢é˜…é‡å¤§äº†æœ‰äº›å°±ä»…æµè§ˆæ ‡é¢˜äº†ã€‚æˆ‘è®¢é˜…çš„å…¬å…±å¸å·é‡Œæ¯”è¾ƒå¥½çš„æœ‰ï¼šé¬¼è„šä¸ƒã€é“å“¥çš„é»‘æ¿æŠ¥ã€å°é“æ¶ˆæ¯ã€Mac Talkç­‰ã€‚é¬¼è„šä¸ƒå†™äººç”Ÿç±»çš„æ–‡ç« æˆ‘æ¯”è¾ƒå–œæ¬¢çœ‹ï¼Œä¹Ÿæ¯”è¾ƒèµžåŒä½œè€…çš„è§‚ç‚¹ã€‚ å…¶ä»–###ã€Š30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿã€‹ä»Ž2012å¹´å¹´åº•å¼€å§‹è¯»çš„å›¾ä¹¦ï¼ŒèŠ±äº†æŽ¥è¿‘ä¸‰ä¸ªæœˆçš„æ—¶é—´é€šè¯»ï¼Œè¯»åˆ°ä¸­é—´éƒ¨åˆ†è¿˜åè¿‡å¤´æ¥é‡è¯»ä¸€éã€‚å­¦ä¹ åˆ°ä¸‰åˆ†ä¹‹äºŒçš„æ—¶å€™æ„Ÿè§‰å¯¹æˆ‘ç”¨å¤„ä¸å¤§ï¼Œå› ä¸ºä¸ä¼šå¯¹æˆ‘ç†è§£Linuxæˆ–Windowsæ“ä½œç³»ç»Ÿæœ‰å¤ªå¤§å¸®åŠ©ï¼Œæ”¾å¼ƒä¹‹ã€‚ ã€ŠHadoopæƒå¨æŒ‡å—ã€‹é¡¹ç›®éœ€è¦ï¼Œå¯¹Hadoopæ²¡æœ‰è¶³å¤Ÿçš„å…´è¶£ï¼Œç†è§£äº†æ˜¯æ€Žä¹ˆå›žäº‹å¯¹æˆ‘å°±è¶³å¤Ÿäº†ã€‚åŒæ—¶è¿˜ç ”ç©¶äº†Solrã€HBaseã€MonogoDBç­‰å¤§æ•°æ®è½¯ä»¶ã€‚ ã€ŠGitæƒå¨æŒ‡å—ã€‹å‘å¯¹Gitæœ‰è¿›ä¸€æ­¥çš„ç†è§£ï¼Œç›®å‰ä»…çœ‹å®Œäº†ä¸€åŠï¼Œåˆ†æ”¯ç®¡ç†éƒ¨åˆ†è¿˜æ²¡æœ‰å­¦ä¹ ã€‚ ###ã€Šæµªæ½®ä¹‹å·…ã€‹å´å†›åšå£«çš„ç»å…¸ï¼Œæˆ‘ä¸»è¦æ‹¿æ¥åœ¨çœ‹ä¹¦çœ‹ç´¯çš„æ—¶å€™æ¶ˆé£ç”¨ï¼Œå’Œã€Šé»‘å®¢ä¸Žç”»å®¶ã€‹çš„æ•ˆæžœç›¸å½“ï¼Œå¾ˆæŠ±æ­‰çœ‹äº†å¤§åŠå¹´äº†åˆ°çŽ°åœ¨ä»ç„¶åœ¨çœ‹ã€‚ ã€Šæ·±åº¦æŽ¢ç´¢C++å¯¹è±¡æ¨¡åž‹ã€‹ä¹‹å‰æ›¾ä¸€åº¦è¦å­¦ä¹ ï¼Œæ— å¥ˆä¸€ç›´æ²¡æœ‰çœ‹è¿›åŽ»ï¼Œlippmanå†™çš„å’Œä¾¯æ·ç¿»è¯‘çš„å®žåœ¨æ˜¯è¯¡å¼‚ã€‚è¿™æ¬¡è¾¹å†™åšå®¢è®°å½•è¾¹çœ‹ï¼Œå±…ç„¶æ•ˆæžœå¾ˆä¸é”™ã€‚æœ€åŽæ—¶é—´æœ‰é™ï¼Œç•™äº†ä¸ªå°å°¾å·´æ²¡æœ‰çœ‹å®Œã€‚ å·¥ä½œç”±äºŽä¹‹å‰çš„å…¬å¸ç»è¥ä¸å–„ï¼ŒåŠ ä¸Šä»Šå¹´å…¨å›½ç»æµŽå½¢å¼ä¸å¥½ï¼Œå…¬å¸æŒç»­å‡ ä¸ªæœˆå‘ä¸ä¸‹å·¥èµ„æ¥ï¼Œè€ƒè™‘åˆ°ä¸ªäººç»æµŽçŠ¶å†µæ¢äº†ä¸€ä»½å·¥ä½œã€‚åœ¨æµŽå—è¿™ç§å°åœ°æ–¹ï¼Œæ‰¾ä¸ªç†æƒ³çš„å·¥ä½œå®žåœ¨æ˜¯ä¸å®¹æ˜“ï¼Œç”šè‡³ä»Šå¹´å¾ˆå¤šå…¬å¸éƒ½ä¸å†æ‹›è˜ã€‚æˆ‘æ‰¾å·¥ä½œä»¥æŠ€æœ¯ä¸ºå¯¼å‘ï¼Œå®¶é™„è¿‘ä¸€å †åšç”µä¿¡BOSSçš„å¤–åŒ…å…¬å¸ï¼Œä¸€æ¦‚ä¸è€ƒè™‘ã€‚æ–°å·¥ä½œè¿˜ç®—å¯ä»¥ï¼Œä¾æ—§åŠ ç­è¾ƒå°‘ï¼Œåªæ˜¯å‘¨å…­æ˜¯é—´æ­‡æ€§ä¸Šç­ï¼Œè¿™ä¸ªå¯ä»¥å¿ï¼Œè¿˜ç®—æœ‰è¾ƒå……è¶³çš„ä¸šä½™æ—¶é—´æ¥å­¦ä¹ ã€‚ å·¥ä½œä¸­ç”¨åˆ°çš„æŠ€æœ¯ä»¥Cã€C++ä¸ºä¸»ï¼Œå…¼æ¶‰åŠåˆ°Androidã€PHPç­‰ã€‚ä»Žå…ƒæ—¦ä¹‹åŽä¸Šç­ç¬¬ä¸€å¤©ï¼Œè‡ªå·±å•æ‰“ç‹¬æ–—ä»Žé›¶å¼€å§‹åšäº†ä¸€ä¸ªçŸ­ä¿¡ç®¡å®¶ç±»é¡¹ç›®ï¼Œåˆ°äº”æœˆä»½åŽç»ˆæ­¢ï¼Œç»“æžœè·Ÿæˆ‘é¢„æƒ³çš„å®Œå…¨ä¸€è‡´ï¼Œä»¥å¤±è´¥è€Œå‘Šç»ˆã€‚å›žæƒ³å½“åˆçœŸè¯¥å°†æˆ‘å½“æ—¶å¯¹é¡¹ç›®çš„çœ‹æ³•è·Ÿé¢†å¯¼æ²Ÿé€šä¸€ä¸‹ï¼Œè€Œä¸æ˜¯ç›²ç›®çš„æŽ¥ä¸‹å…¬å¸å®‰æŽ’çš„ä»»åŠ¡ã€‚å½“æ—¶é¢†å¯¼å¯¹äº’è”ç½‘ã€APPçš„ç†è§£å®Œå…¨æ˜¯å¹¼ç¨šå›­æ°´å¹³ï¼Œä¸€å®¶ä¼ ç»Ÿè¡Œä¸šçš„è½¯ä»¶ä¼ä¸šæƒ³æ¥çŽ©è½¬äº’è”ç½‘è¡Œä¸šå›°éš¾å¯æƒ³è€ŒçŸ¥ï¼Œæˆ‘ä½œä¸ºå”¯ä¸€çš„é¡¹ç›®æˆå‘˜åœ¨é¡¹ç›®çš„å¼€å§‹å·²ç»çœ‹åˆ°äº†æ²¡æœ‰ä»»ä½•æ„å¤–çš„ç»“å±€ã€‚å¦‚æžœå½“åˆå°†è¿™äº”ä¸ªå¤šæœˆçš„æ—¶é—´ç”¨æ¥åšäº›Linuxçš„ä¸œè¥¿ï¼Œå¯¹æˆ‘ä¸ªäººçš„æˆé•¿å°†æ˜¯ç›¸å½“å·¨å¤§çš„ã€‚ ç”Ÿæ´»2013ç»æµŽä¸Šä¸æ˜¯å¾ˆå®½è£•ï¼Œæ²¡æœ‰æ—…æ¸¸ï¼Œä»…æœ‰çš„ä¸€æ¬¡å¸‚å¤–æ—…æ¸¸æ˜¯å—éƒ¨å±±åŒºçš„çº¢å¶è°·ã€‚åœ¨æµŽå—è¿™ç§åœ°æ–¹ï¼Œå·¥èµ„åŽ‹å¾—ä½Žï¼ŒæŠ€æœ¯ç‰›äººåˆå°‘ï¼Œå®žåœ¨æ‚²å‰§ã€‚ç”Ÿæ´»è™½ç„¶å¯¹æˆ‘å°‘äº†äº›è®¸ç²¾å½©ï¼Œä½†è¿‡çš„è¿˜ç®—æ¯”è¾ƒå……å®žã€‚ åšå®¢ä¸ºäº†èƒ½å¤Ÿæ›´å¥½çš„æ€»ç»“å­¦ä¹ ç»éªŒï¼Œå¹´åˆå‡†å¤‡æœ‰å†™åšå®¢çš„è®¡åˆ’ã€‚ä¹‹å‰é›¶é›¶æ•£æ•£çš„ä¹Ÿå†™è¿‡ä¸€äº›ï¼Œæ²¡æœ‰åšæŒä½ï¼ŒçŽ°åœ¨çœ‹æ¥æˆ‘çš„åšå®¢å†™ä½œè®¡åˆ’åšæŒçš„è¿˜ç®—ä¸é”™ï¼Œä»Ž6æœˆä»½åˆ°å¹´åº•å…±å†™äº†40ç¯‡åšå®¢ï¼Œå¤§éƒ½æ˜¯è‡ªå·±çš„å­¦ä¹ ç»éªŒæ€»ç»“ã€‚å‰æœŸåšå®¢å†™äº†ä¸€äº›éžæŠ€æœ¯ç±»åšæ–‡ï¼ŒåŽæœŸè§‰å¾—æ²¡æœ‰è¿™ä¸ªå¿…è¦ä¸å†å†™éžæŠ€æœ¯ç±»åšå®¢ã€‚ ä¸ºäº†æ­å»ºåšå®¢ï¼Œåˆä¸æƒ³èŠ±é’±ä¹°ä¸ªä¸ç¨³å®šçš„ç©ºé—´ã€‚æˆ‘ç ”ç©¶äº†Githubä¸Šçš„jekyllã€åŸºäºŽç½‘ç›˜ï¼ˆDropBoxã€Google Driverï¼‰çš„Farboxç­‰æ­å»ºåšå®¢æŠ€æœ¯ï¼Œå‚ç…§äº†å¤§é‡çš„jekyllä¸»é¢˜ï¼Œå‡ ä¹Žå°†jekyll wikiä¸Šåˆ—å‡ºçš„ä¸»é¢˜éƒ½çœ‹äº†ä¸€ä¸ªéï¼Œä¹Ÿæ²¡æœ‰å‘çŽ°ä¸€ä¸ªä»¤æˆ‘éžå¸¸æ»¡æ„çš„ä¸»é¢˜ï¼ŒåŽæŒ‘é€‰ä¸€ä¸ªä¸»é¢˜åœ¨Githubä¸Šå®žéªŒï¼Œä¸çŸ¥æ˜¯æˆ‘markdownè¯­æ³•å†™çš„é—®é¢˜è¿˜æ˜¯Githubå¯¹markdownçš„è§£æžé—®é¢˜ï¼Œè§£æžæ•ˆæžœä¸å¤Ÿç†æƒ³ï¼Œä½†æ˜¯æˆ‘å†™çš„markdownåœ¨Farboxä¸Šå´æ²¡æœ‰é—®é¢˜ã€‚æœ€åŽé‡‡ç”¨äº†Farboxä½œä¸ºåšå®¢å¹³å°ï¼Œå¹¶å¯¹Farboxçš„é»˜è®¤ä¸»é¢˜è¿›è¡Œäº†å°‘é‡ä¿®æ”¹ã€‚å¹¶ä»ŽGodaddyä¸Šè´­ä¹°äº†kuring.meåŸŸåã€‚ 2014å¹´è®¡åˆ’2014ï¼Œé™¤äº†å·¥ä½œä¹‹å¤–ï¼Œæˆ‘ä¹Ÿä¸šä½™æ—¶é—´ä»ç„¶ä¼šå¤§éƒ¨åˆ†å¥‰çŒ®ç»™é˜…è¯»ä¹¦ç±ï¼Œä»¥Linuxå†…æ ¸æ–¹å‘ä¸ºä¸»ã€‚è¶ç€å¹´è½»ï¼Œå¤šè¯»äº›ä¹¦ï¼Œæ°¸è¿œæ˜¯æ­£ç¡®çš„ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹æ›´æ”¹å±å¹•åˆ†è¾¨çŽ‡]]></title>
      <url>%2Fpost%2Fxrandr%2F</url>
      <content type="text"><![CDATA[åœ¨Virbutal Boxä¸‹å®‰è£…CentOSè™šæ‹Ÿæœºï¼Œåœ¨å®‰è£…å®ŒVirtual Boxå¢žå¼ºåŠŸèƒ½åŽåœ¨åˆ†è¾¨çŽ‡åˆ—è¡¨ä¸­ï¼Œä»ç„¶æ²¡æœ‰é€‚åˆå±å¹•çš„åˆ†è¾¨çŽ‡1600*900ã€‚æœ¬æ–‡å°†é€šè¿‡xrandrå‘½ä»¤æ¥ä¿®æ”¹å½“å‰å±å¹•çš„åˆ†è¾¨çŽ‡ã€‚ ä¸€. æ‰§è¡Œxrand -qåˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­å·²æœ‰çš„åˆ†è¾¨çŽ‡ã€‚æ˜¾ç¤ºå†…å®¹å¦‚ä¸‹ï¼š12345678Screen 0: minimum 64 x 64, current 1024 x 768, maximum 32000 x 32000VBOX0 connected 1024x768+0+0 0mm x 0mm 1024x768 60.0*+ 60.0* 1600x1200 60.0 1440x1050 60.0 1280x960 60.0 800x600 60.0 640x480 60.0 éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯VBOX0ï¼Œä»£è¡¨æ˜¾ç¤ºå™¨çš„åå­—ï¼Œä¸‹é¢ä¼šç”¨åˆ°ã€‚ äºŒ. æ‰§è¡Œcvt 1600 900å‘½ä»¤åˆ—å‡ºåˆ†è¾¨çŽ‡1600*900éœ€è¦çš„å‚æ•°ï¼ŒåŽé¢ä¼šç”¨åˆ°ã€‚æ˜¾ç¤ºå†…å®¹å¦‚ä¸‹:12# 1600x900 59.95 Hz (CVT 1.44M9) hsync: 55.99 kHz; pclk: 118.25 MHzModeline &quot;1600x900_60.00&quot; 118.25 1600 1696 1856 2112 900 903 908 934 -hsync +vsync è¯¥å‘½ä»¤åˆ—å‡ºçš„å†…å®¹ä¸‹æ–‡ä¼šç”¨åˆ°ã€‚ ä¸‰. æ‰§è¡Œxrandr --newmode &quot;1600x900_60.00&quot; 118.25 1600 1696 1856 2112 900 903 908 934 -hsync +vsyncå‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¸­çš„å‚æ•°æ˜¯å‚è€ƒæ­¥éª¤2ä¸­çš„è¾“å‡ºä¿¡æ¯ã€‚ å››. æ‰§è¡Œxrandr --addmode VBOX0 1600x900_60.00æ¥å‘ç³»ç»Ÿåˆ†è¾¨çŽ‡ç»„ä¸­æ·»åŠ åˆ†è¾¨çŽ‡1600*900ã€‚å…¶ä¸­VBOX0ä¸ºæ­¥éª¤1èŽ·å–çš„æ˜¾ç¤ºå™¨åå­—ï¼Œ1600x900_60.00ä¸ºæ­¥éª¤3æ·»åŠ çš„åˆ†è¾¨çŽ‡æ¨¡å¼ã€‚ äº”. æ‰§è¡Œxrandr --output VBOX0 1600x900_60.00æ¥åº”ç”¨åˆšæ‰æ·»åŠ çš„åˆ†è¾¨çŽ‡ã€‚è¿™æ ·å±å¹•å°±å¯ä»¥æ›´æ”¹ä¸ºæ­£ç¡®çš„åˆ†è¾¨çŽ‡äº†ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹æ­å»ºç½‘æ¡¥åŠè„šæœ¬ç¼–å†™]]></title>
      <url>%2Fpost%2Flinux_bridge%2F</url>
      <content type="text"><![CDATA[ç½‘æ¡¥å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œå°†ä¸¤ä¸ªLANè¿žèµ·æ¥ï¼Œæ ¹æ®MACåœ°å€æ¥è½¬å‘å¸§ã€‚Linuxä¸‹è¦é…ç½®ç½‘æ¡¥çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¦å¤–ä¸€ç§æ˜¯é€šè¿‡brctlå·¥å…·ã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼æ˜¯é€šè¿‡ä¿®æ”¹/etc/sysconfig/network-scripts/ifcgg-eth*æ–‡ä»¶æ¥å®Œæˆçš„ï¼Œè¿™ç§æ–¹å¼æ²¡æœ‰ä»”ç»†ç ”ç©¶ã€‚æœ¬æ–‡å°†ç¼–å†™ä¸¤ä¸ªè„šæœ¬æ¥å®Œæˆç½‘æ¡¥çš„åˆ›å»ºå’Œåˆ é™¤ï¼Œè„šæœ¬çš„åŠŸèƒ½ä¸ºå°†æœºå™¨ä¸Šçš„ç½‘å¡eth1å’Œeth2æ¡¥æŽ¥ï¼Œè€Œç½‘æ¡¥æœ¬èº«æœªè®¾ç½®ipã€‚ ç½‘æ¡¥åˆ›å»ºè„šæœ¬æœ¬è„šæœ¬åˆ©ç”¨brctlå‘½ä»¤å°†ç½‘å¡eth1å’Œeth2æ¡¥æŽ¥ï¼Œå¯ä»¥é€šè¿‡brctl showå‘½ä»¤æŸ¥çœ‹ç»“æžœã€‚12345678910111213141516171819202122232425#!/bin/bash# è„šæœ¬ä½œç”¨ä¸ºå°†ä¸¤ä¸ªç½‘å¡æ¡¥æŽ¥# æ£€æµ‹brctlå‘½ä»¤æ˜¯å¦å­˜åœ¨brctl &gt; /dev/nullif [ $? != 1 ]; then echo Command brctl not exist, please setup it. The setup execute command is \&quot;yum install bridge-utils\&quot; exit 0fi# æ£€æµ‹ç½‘æ¡¥br0æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœå­˜åœ¨é¦–å…ˆåˆ é™¤declare -i result=$(brctl show | grep eth0 | wc -l)if [ $result &gt; 0 ]; then echo detect the bridge br0 have already exist, first delete it ifconfig br0 down brctl delbr br0fiifconfig eth1 0.0.0.0ifconfig eth2 0.0.0.0brctl addbr br0brctl addif br0 eth1brctl addif br0 eth2ifconfig br0 upecho create bridge br0 success, you can use command : \&quot;brctl show\&quot; to check ç½‘æ¡¥åˆ é™¤è„šæœ¬æœ¬è„šæœ¬å°†æ¡¥æŽ¥ç½‘å¡br0åˆ é™¤12345678910111213#!/bin/bash# æ£€æµ‹æ˜¯å¦å­˜åœ¨ç½‘æ¡¥br0declare -i result=$(brctl show | grep br0 | wc -l)if [ $result == 0 ]; then echo &quot;bridge br0 not exists, exit immediately&quot; exit 0fi# åˆ é™¤ç½‘æ¡¥br0ifconfig br0 downbrctl delbr br0echo &quot;delete bridge br0 success&quot; æ³¨æ„äº‹é¡¹brctlå‘½ä»¤åˆ›å»ºçš„æ¡¥æŽ¥ç½‘å¡åœ¨æœºå™¨é‡å¯åŽä¼šåˆ é™¤ï¼Œæœ€å¥½å°†åˆ›å»ºæ¡¥æŽ¥ç½‘å¡çš„å‘½ä»¤æ”¾å…¥åˆ°linuxçš„å¼€æœºå¯åŠ¨è„šæœ¬ä¸­ï¼Œè¿™æ ·æ¯æ¬¡å¼€æœºçš„æ—¶å€™éƒ½å¯ä»¥è‡ªåŠ¨åˆ›å»ºæ¡¥æŽ¥ç½‘å¡äº†ã€‚ å‚è€ƒç½‘å€bridgeå‘½ä»¤ä»‹ç»]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨ubuntuä¸­æ›´æ”¹macåœ°å€çš„æ–¹æ³•]]></title>
      <url>%2Fpost%2Fubuntu_change_mac%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡æä¾›ç®€æ˜“shellè„šæœ¬æ¥æ›´æ”¹macåœ°å€ï¼Œåœ¨å…¶ä»–linuxå‘è¡Œç‰ˆä¸­åŽ»æŽ‰sudoå³å¯ã€‚è„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š1234#!/bin/shsudo ifconfig eth0 downsudo ifconfig eth0 hw ether 08:00:27:DF:B3:7Bsudo ifconfig eth0 up]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸‹vncçš„é…ç½®]]></title>
      <url>%2Fpost%2Flinux_vnc%2F</url>
      <content type="text"><![CDATA[[TOC] VNCï¼ˆVirtual Network Computingï¼‰æ˜¯ä¸€å¥—ç”±AT&amp;Tå®žéªŒå®¤æ‰€å¼€å‘çš„å¯æ“æŽ§è¿œç¨‹çš„è®¡ç®—æœºçš„è½¯ä»¶ï¼Œå…¶é‡‡ç”¨äº†GPLæŽˆæƒæ¡æ¬¾ï¼Œä»»ä½•äººéƒ½å¯å…è´¹å–å¾—è¯¥è½¯ä»¶ã€‚VNCè½¯ä»¶ä¸»è¦ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼šVNC serveråŠVNC viewerã€‚ç”¨æˆ·éœ€å…ˆå°†VNC serverå®‰è£…åœ¨è¢«æŽ§ç«¯çš„è®¡ç®—æœºä¸ŠåŽï¼Œæ‰èƒ½åœ¨ä¸»æŽ§ç«¯æ‰§è¡ŒVNC vieweræŽ§åˆ¶è¢«æŽ§ç«¯ã€‚VNCä¸Žæ“ä½œç³»ç»Ÿæ— å…³ï¼Œå› æ­¤å¯è·¨å¹³å°ä½¿ç”¨ï¼Œä¾‹å¦‚å¯ç”¨Windowsè¿žæŽ¥åˆ°æŸLinuxçš„ç”µè„‘ï¼Œåä¹‹äº¦åŒã€‚ è¯¥è½¯ä»¶åœ¨RedHatæˆ–CentOSä¸­é»˜è®¤æ˜¯å®‰è£…çš„ï¼Œä½†æ˜¯æ²¡æœ‰å¯ç”¨ï¼Œä¸€å¯ä»¥é€šè¿‡which vncserverå‘½ä»¤æ¥æŸ¥çœ‹è¯¥å‘½ä»¤æ˜¯å¦å®‰è£…ã€‚æœ¬æ–‡è®²è§£åœ¨Linuxä¸‹çš„æ­å»ºserverï¼Œåœ¨Windowsä¸‹æ­å»ºclientçš„æ­¥éª¤ã€‚ è®¾ç½®vncserverçš„å¯†ç vncserveréœ€è¦è®¾ç½®ä¸€ä¸ªå¯†ç ï¼Œè¯¥å¯†ç å¹¶ä¸ç­‰åŒäºŽç³»ç»Ÿå¸å·çš„å¯†ç ï¼Œè€Œæ˜¯vncå®¢æˆ·ç«¯ç™»å½•çš„æ—¶å€™è¾“å…¥çš„å¯†ç ã€‚æ‰§è¡Œvncpasswdå‘½ä»¤æ¥åˆ›å»ºå¯†ç ã€‚ ä¿®æ”¹vncserveré…ç½®æ–‡ä»¶ä¿®æ”¹æ–‡ä»¶/etc/sysconfig/vncserversï¼Œåœ¨è¯¥æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š12VNCSERVERS=&quot;1:root&quot;VNCSERVERARGS[1]=&quot;-geometry 1024x768 -alwaysshared -depth 24&quot; å¯åŠ¨vncserveræ‰§è¡Œservice vncserver startå‘½ä»¤æ¥å¼€å¯vncserveræœåŠ¡ã€‚ å®¢æˆ·ç«¯è¿žæŽ¥åˆ°æœåŠ¡ç«¯è¿™é‡Œé‡‡ç”¨windowsä¸‹çš„vnc viewerå·¥å…·æ¥è¿žæŽ¥åˆ°vncserverã€‚åœ¨è¾“å…¥IPçš„åœ°æ–¹è¾“å…¥ï¼šIPåœ°å€:1æ¥è¿žæŽ¥åˆ°vncserverç«¯ï¼Œå…¶ä¸­:1è¦è·Ÿ/etc/sysconfig/vncserversæ–‡ä»¶ä¸­çš„å¯¹åº”æ ‡å·ä¸€è‡´ã€‚è¿™æ ·å°±å¯ä»¥è¿žæŽ¥ä¸Švncserverï¼Œä½†æ˜¯è¿žæŽ¥åŽç•Œé¢éžå¸¸ç®€å•ï¼Œè·Ÿå‘½ä»¤è¡Œç•Œé¢ç±»ä¼¼ã€‚è¿˜éœ€è¦å¯¹vncserverè¿›ä¸€æ­¥é…ç½®ã€‚ é…ç½®vncservervncserverçš„é…ç½®æ–‡ä»¶åœ¨~/.vnc/xstartupæ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶é»˜è®¤åˆ›å»ºçš„å†…å®¹å¦‚ä¸‹ï¼š123456789101112#!/bin/sh# Uncomment the following two lines for normal desktop:# unset SESSION_MANAGER# exec /etc/X11/xinit/xinitrc[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresourcesxsetroot -solid greyvncconfig -iconic &amp;xterm -geometry 80x24+10+10 -ls -title &quot;$VNCDESKTOP Desktop&quot; &amp;twm &amp; å°†å…¶ä¸­çš„æ³¨é‡Šæ‰“å¼€ï¼Œå³æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š1234567891011#!/bin/shunset SESSION_MANAGERexec /etc/X11/xinit/xinitrc[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresourcesxsetroot -solid greyvncconfig -iconic &amp;xterm -geometry 80x24+10+10 -ls -title &quot;$VNCDESKTOP Desktop&quot; &amp;twm &amp; ç„¶åŽæ‰§è¡Œservice vncserver restarté‡æ–°å¯åŠ¨vncserveræœåŠ¡ã€‚å®¢æˆ·ç«¯å†é‡æ–°è¿žæŽ¥vncserveræ—¢å¯ä»¥çœ‹åˆ°æ­£å¸¸çš„ç•Œé¢äº†ã€‚ å‚è€ƒæ–‡ç« CentOS Linuxä¸‹VNC Serverè¿œç¨‹æ¡Œé¢é…ç½®è¯¦è§£]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å†è°ˆWindowså’ŒLinuxä¹‹é—´çš„ä¸­æ–‡ç¼–ç é—®é¢˜]]></title>
      <url>%2Fpost%2Fwindows_linux_code_2%2F</url>
      <content type="text"><![CDATA[ä¸Šæ¬¡æ–‡ç« ã€ŠWindowså’ŒLinuxä¹‹é—´çš„ä¸­æ–‡ç¼–ç é—®é¢˜ã€‹ä¸­æåˆ°çš„åœ¨Windowsä¸‹çš„æºä»£ç ç¨‹åºæ”¾åˆ°Linuxä¸‹å‡ºçŽ°ä¸­æ–‡ç¼–ç é—®é¢˜ï¼Œè§£å†³æ–¹æ³•ä¸ºé€šè¿‡iconvå·¥å…·è½¬æ¢æºä»£ç æ–‡ä»¶çš„ç¼–ç ä¸ºUTF8æ ¼å¼ã€‚æœ€è¿‘å¤šå­¦ä¹ äº†äº›å­—ç¬¦ç¼–ç çš„çŸ¥è¯†ï¼Œå‘çŽ°äº†è§£å†³æ­¤é—®é¢˜çš„å¦å¤–ä¸€ç§åŠžæ³•ã€‚ åŸºç¡€çŸ¥è¯†æˆ‘ä»¬åœ¨ç¼–è¯‘ç¨‹åºçš„æ—¶å€™ä¼šæ¶‰åŠåˆ°å‡ ä¸ªç¼–ç é—®é¢˜ï¼ŒåŒ…æ‹¬C++æºæ–‡ä»¶çš„ç¼–ç ã€C++ç¨‹åºçš„å†…ç å’Œè¿è¡ŒçŽ¯å¢ƒç¼–ç ï¼Œå…¶ä¸­C++ç¨‹åºçš„å†…ç è¾ƒéš¾ç†è§£ã€‚ C++ç¨‹åºçš„å†…ç æ˜¯æŒ‡åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­å­—ç¬¦ä¸²å¸¸é‡æ˜¯ä»¥ä»€ä¹ˆç¼–ç å½¢å¼å­˜æ”¾çš„ï¼Œå…¶ä¸­å­—ç¬¦ä¸²å¸¸é‡ä¸ºçª„å­—ç¬¦å½¢å¼ã€‚åœ¨Windowsç³»ç»Ÿä¸­C++çš„å†…ç é€šå¸¸ä¸ºGB18030ï¼Œåœ¨Linuxä¸‹çš„gcc/g++ä½¿ç”¨çš„å†…ç é»˜è®¤ä¸ºutf8ï¼Œå¯ä»¥é€šè¿‡fexec-charsetå‚æ•°æ¥ä¿®æ”¹ã€‚ è¿è¡ŒçŽ¯å¢ƒç¼–ç å³ä¸ºæ“ä½œç³»ç»Ÿçš„ç¼–ç ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œç®€ä½“ä¸­æ–‡Windowsæ“ä½œç³»ç»Ÿç¼–ç ä¸ºGB18030ï¼Œè€ŒLinuxä¸‹é»˜è®¤ä¸ºUTF8ã€‚ gccå‘½ä»¤çš„å‚æ•°gccæœ‰ä¸¤ä¸ªå‚æ•°å¯ä»¥ç”¨æ¥è§£å†³ç¼–ç é—®é¢˜ã€‚-finput-charsetï¼šç”¨æ¥æŒ‡å®šæºæ–‡ä»¶çš„ç¼–ç ã€‚-fexec-charsetï¼šç”¨æ¥æŒ‡å®šç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„ç¼–ç ã€‚ å¦‚æžœè¿™ä¸¤ä¸ªå‚æ•°å‡æœªæŒ‡å®šï¼Œåˆ™GCCä¸ä¼šå¯¹ç¼–ç è¿›è¡Œè½¬æ¢ã€‚ä»¥ä¸Šè¿™ä¸¤ä¸ªå‚æ•°å°±å¯ä»¥ç”¨æ¥åœ¨ä¸ä¿®æ”¹æºæ–‡ä»¶ç¼–ç çš„åŸºç¡€ä¸Šæ¥è¾¾åˆ°æ­£ç¡®çš„æ•ˆæžœï¼Œè¾¾åˆ°å’Œä¸Šç¯‡æ–‡ç« ä¸­è§£å†³é—®é¢˜åŒæ ·çš„æ•ˆæžœã€‚ å…³äºŽUnicodeç¼–ç ä¸€ç›´å¯¹Unicodeç¼–ç æ¯”è¾ƒç³Šæ¶‚ï¼ŒUnicodeåªæ˜¯ç¼–ç æ–¹æ³•è§„èŒƒï¼Œè€Œä¸æ˜¯å…·ä½“çš„å­˜å‚¨æ–¹æ³•ã€‚å¸¸ç”¨çš„Unicodeåˆåˆ†ä¸ºUCS-2å’ŒUCS-ä¸¤ç§ç¼–ç ï¼Œå…¶ä¸­UCS-2é‡‡ç”¨å›ºå®šçš„2ä¸ªå­—èŠ‚å­˜å‚¨ï¼ŒUCS-4é‡‡ç”¨å›ºå®šçš„4ä¸ªå­—èŠ‚å­˜å‚¨ã€‚é€šå¸¸æƒ…å†µä¸‹æåˆ°çš„Unicodeç¼–ç å³ä¸ºUCS-2ç¼–ç ï¼Œæ¯”å¦‚Windowsè®°äº‹æœ¬ä¸­çš„ä¿å­˜ä¸ºUnicodeç¼–ç ï¼Œå…¶å®žå°±æ˜¯ä¿å­˜ä¸ºäº†UCS-2ç¼–ç ï¼Œç”±äºŽæ¯ä¸ªå­—ç¬¦å‡ä¸º2ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥ä¸‹æ¬¡è¯»å–çš„æ—¶å€™ä»ç„¶å¯ä»¥é€šè¿‡å­˜å‚¨æ ¼å¼è¿˜åŽŸå‡ºæ¥ã€‚ å‚è€ƒæ–‡ç« å­—ç¬¦ç¼–ç ç¬”è®°ï¼šASCIIï¼ŒUnicodeå’ŒUTF-8å­—ç¬¦ç¼–ç è¯¦è§£å…³äºŽc++çš„ä¸€äº›ç¼–ç é—®é¢˜]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸Šä¸€ä¸ªç•Œé¢ç¨‹åºçš„å¼€æœºè‡ªå¯åŠ¨è®¾ç½®]]></title>
      <url>%2Fpost%2Flinux_ui_autorun%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘è®¾ç½®ä¸€ä¸ªLinuxä¸‹çš„æˆªå±ç¨‹åºçš„å¼€æœºè‡ªå¯åŠ¨ï¼ŒLinuxçš„XWindowç³»ç»Ÿä¸ºgnomeã€‚ æœ€å…ˆæƒ³åˆ°çš„æ–¹å¼æ˜¯ä¿®æ”¹/etc/inittabæ–‡ä»¶ï¼Œå› ä¸ºLinuxåœ¨å¼€æœºè‡ªå¯åŠ¨çš„æ—¶å€™ä¼šæ‰§è¡Œè¯¥æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶çš„è¯»å–æ—¶æœºæ˜¯åœ¨ç•Œé¢å¯åŠ¨ä¹‹å‰ã€‚æˆ‘å†™äº†ä¸€ä¸ªåœ¨mainå‡½æ•°ä¸­ç¡çœ 10åˆ†é’Ÿçš„å°ç¨‹åºï¼Œç„¶åŽå°†ç¨‹åºæ·»åŠ åˆ°/etc/inittabæ–‡ä»¶ä¸­ï¼Œç»“æžœå¼€ä¸äº†æœºäº†ï¼Œå› ä¸ºéœ€è¦ç¡çœ 10åˆ†é’ŸåŽæ‰èƒ½å¾€ä¸‹æ‰§è¡Œç¨‹åºã€‚å¹¸å¥½æˆ‘ç”¨çš„è™šæ‹Ÿæœºåšçš„æµ‹è¯•ï¼Œå¹¶ä¸”åœ¨åšæµ‹è¯•ä¹‹å‰å¤‡ä»½äº†è™šæ‹Ÿæœºã€‚ ä»”ç»†æƒ³ä¸€ä¸‹åœ¨/etc/rc.d/rc.localæ–‡ä»¶ä¸­å¯åŠ¨æˆªå±ç¨‹åºè‚¯å®šæ˜¯ä¸åˆé€‚çš„ï¼Œå› ä¸ºå¦‚æžœç”¨æˆ·é»˜è®¤æ˜¯ä»¥è¿è¡Œçº§åˆ«éž5å¯åŠ¨ï¼Œåˆ™ç¨‹åºä»ç„¶ä¼šè¢«è°ƒç”¨ï¼Œä½†æ˜¯æ²¡æœ‰XWindowï¼Œè°ˆä½•æˆªå±ã€‚ æŽ¥ä¸‹æ¥è€ƒè™‘å°†ç¨‹åºæ”¾åˆ°/etc/rc5.dç›®å½•ä¸‹ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯ç¨‹åºåœ¨XWindowçŽ¯å¢ƒä¸‹è¿è¡Œäº†ã€‚ä»”ç»†ä¸€æƒ³ä¹Ÿä¸åˆé€‚ï¼Œrc5.dä»…åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è¿è¡Œï¼Œè€ŒLinuxç³»ç»Ÿæ˜¯å¤šç”¨æˆ·ç³»ç»Ÿï¼Œå…è®¸å¤šä¸ªç”¨æˆ·åŒæ—¶ç™»é™†ï¼Œå¤šä¸ªç”¨æˆ·ç™»é™†æ—¶æˆªå±ç¨‹åºä¼šæ€Žæ ·å¤„ç†å‘¢ï¼Ÿè¿™æ ·æ˜¾ç„¶ä¸åˆé€‚ã€‚ ç„¶åŽæƒ³åˆ°ç¨‹åºæ—¢ç„¶ä¸ºæˆªå±ç¨‹åºï¼Œå¤šä¸ªç”¨æˆ·ç™»é™†çš„æ—¶å€™åº”è¯¥æœ‰å‡ ä¸ªç”¨æˆ·å°±è·‘å‡ ä¸ªç¨‹åºï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ¯ä¸ªç”¨æˆ·çš„å±å¹•éƒ½èƒ½æˆªå–åˆ°ã€‚å› æ­¤åº”è¯¥æ”¾åˆ°ç”¨æˆ·ç™»å½•åŽçš„å¯åŠ¨ç¨‹åºåˆ—è¡¨ä¸­ã€‚ç±»ä¼¼äºŽwindowsç³»ç»Ÿä¸­çš„å¼€æœºå¯åŠ¨é¡¹ã€‚æˆ‘ç”¨çš„æ¡Œé¢ä¸ºgnomeï¼Œæ‰¾åˆ°äº†gnome-session-propertieså‘½ä»¤æ¥å¯åŠ¨æ·»åŠ ç¨‹åºå¯åŠ¨çš„ç•Œé¢ï¼Œç„¶åŽå°†æˆ‘çš„ç¨‹åºæ·»åŠ åˆ°ç•Œé¢ä¸­å³å¯ã€‚ å¦‚æžœæ¡Œé¢ç³»ç»Ÿä¸ºKDEï¼Œåˆ™åº”è¯¥ä¹Ÿå¯ä»¥æ‰¾åˆ°ç›¸å…³çš„è®¾ç½®ç•Œé¢ã€‚ é¢˜å¤–ï¼šåˆ©ç”¨/etc/inittabå’Œrc5.dç›®å½•ä¸‹æ·»åŠ è„šæœ¬çš„æ–¹å¼æ¥å¯åŠ¨ç¨‹åºçš„ç”¨æˆ·ä¸ºrootï¼Œå¾ˆå¤šç¨‹åºæœªäº†é¿å…rootæƒé™å¸¦æ¥çš„å®‰å…¨é—®é¢˜ï¼Œç¨‹åºå†…éƒ¨é‡‡ç”¨äº†su - ç”¨æˆ·åçš„æ–¹å¼åˆ‡æ¢åˆ°ä¸€åŠç”¨æˆ·æ‰§è¡Œä»£ç ã€‚ç¨‹åºè¿˜å¯ä»¥é€šè¿‡chrootçš„æ–¹å¼æ›´æ”¹æ ¹ç›®å½•çš„è·¯å¾„è¾¾åˆ°ä¿æŠ¤ç³»ç»Ÿçš„ç›®çš„ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Windowså’ŒLinuxä¹‹é—´çš„ä¸­æ–‡ç¼–ç é—®é¢˜]]></title>
      <url>%2Fpost%2Fwindows_linux_code%2F</url>
      <content type="text"><![CDATA[åœ¨å¼€å‘Linuxç¨‹åºçš„æ—¶å€™é€šå¸¸ä¼šåœ¨Windowsä¸‹ç¼–ç ï¼Œç„¶åŽæ‹¿åˆ°Linuxä¸‹ç¼–è¯‘è°ƒè¯•ã€‚è€Œä¸¤ä¸ªæ“ä½œç³»ç»Ÿä¹‹é—´çš„é»˜è®¤ç¼–ç å¾€å¾€æœ‰å·®åˆ«ã€‚ æ–‡ä»¶ç¼–ç é—®é¢˜åœ¨Windowsä¸‹æŸ¥çœ‹æ–‡ä»¶ç¼–ç å¯ä»¥ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€æ–‡ä»¶ï¼Œç„¶åŽç‚¹å‡»â€œå¦å­˜ä¸ºâ€åœ¨å³ä¸‹è§’å³å¯çœ‹åˆ°å½“å‰æ–‡ä»¶çš„ç¼–ç æ–¹å¼ã€‚å¦‚æžœæ˜¾ç¤ºä¸ºANSIç¼–ç ï¼Œåœ¨ç®€ä½“ä¸­æ–‡ç³»ç»Ÿä¸‹ï¼ŒANSI ç¼–ç ä»£è¡¨ GB2312 ç¼–ç ã€‚ä¸åŒ ANSI ç¼–ç ä¹‹é—´äº’ä¸å…¼å®¹ï¼ŒANSIæ˜¯American National Standards Instituteçš„ç¼©å†™ï¼Œ è®°äº‹æœ¬é»˜è®¤æ˜¯ä»¥ANSIç¼–ç ä¿å­˜æ–‡æœ¬æ–‡æ¡£çš„ã€‚ åœ¨Linuxå¯ä»¥é€šè¿‡viå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶ç¼–ç ï¼Œç”¨viæ‰“å¼€æ–‡ä»¶ï¼Œç„¶åŽè¾“å…¥:set encodingå³å¯æ˜¾ç¤ºæ–‡ä»¶ç¼–ç ã€‚ åœ¨VS2008ä¸­åˆ›å»ºæ–‡ä»¶çš„é»˜è®¤ç¼–ç æ˜¯æ ¹æ®å½“å‰ç³»ç»Ÿçš„ç¼–ç æ ¼å¼ç¡®å®šçš„ã€‚VS2008ç¼–è¯‘å™¨å¯ä»¥åŒæ—¶æ”¯æŒGB2312å’ŒUTF-8ä¸¤ç§ç¼–ç ã€‚ ä¸ºäº†è§£å†³åœ¨Linuxä¸‹çš„ä¹±ç é—®é¢˜ï¼ŒLinuxä¸‹çš„ç¼–ç æ ¼å¼ä¸ºutf8ç¼–ç ï¼Œè¿™é‡Œé‡‡ç”¨åœ¨Windowsä¸‹å°†gb2312ç¼–ç æ›´æ”¹ä¸ºutf8çš„æ–¹å¼æ¥è§£å†³ã€‚iconvæ˜¯ä¸€ä¸ªå¯ä»¥è½¬æ¢æ–‡ä»¶ç¼–ç çš„å·¥å…·ï¼Œç¼–å†™ä¸€ä¸ªæ‰¹å¤„ç†è„šæœ¬æ¥å®žçŽ°æ‰¹é‡è½¬æ¢æ–‡ä»¶ç¼–ç çš„åŠŸèƒ½ã€‚æ‰¹å¤„ç†æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š1234567@ECHO OFFFOR /R %%F IN (*.h,*.cpp) DO (echo %%~nxFiconv.exe -f GB2312 -t UTF-8 %%F &gt; %%F.utf8move %%F.utf8 %%F &gt;nul)PAUSE æœ¬è„šæœ¬æ¥è‡ªç½‘ç»œï¼Œä¸æ˜¯æˆ‘è‡ªå·±å†™çš„ã€‚æ³¨æ„ï¼šåœ¨ä½¿ç”¨æ–‡ä»¶ç¼–ç ä¹‹å‰ä¸€å®šè¦å¤‡ä»½æ–‡ä»¶ï¼Œé˜²æ­¢æ„å¤–å‘ç”Ÿï¼Œå¦åˆ™åŽæžœè‡ªè´Ÿã€‚ æ–‡ä»¶åç¼–ç é—®é¢˜Windowsçš„ä¸­æ–‡ç³»ç»Ÿä¸‹æ–‡ä»¶åçš„ç¼–ç é»˜è®¤ä¸ºgbkï¼Œåœ¨Linuxé»˜è®¤ç¼–ç ä¸ºUTF-8ã€‚å¦‚æžœå°†Windowsä¸‹çš„ä¸­æ–‡æ–‡ä»¶åçš„æ–‡ä»¶å¤åˆ¶åˆ°Linuxä¸‹è‚¯å®šä¼šå‡ºçŽ°ä¹±ç çš„é—®é¢˜ã€‚å¯ä»¥åˆ©ç”¨convmvå·¥å…·æ¥è§£å†³ç¼–ç çš„é—®é¢˜ã€‚ å…·ä½“æ‰§è¡Œæ“ä½œä¸ºï¼šåœ¨Linuxç³»ç»Ÿä¸‹çš„è¦è½¬æ¢ç¼–ç çš„ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼šconvmv -f GBk -t UTF-8 --notest -r *ï¼Œè¿™æ ·å°±ä¼šå°†è¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶é€’å½’çš„è½¬æ¢ç¼–ç ä¸ºUTF-8ã€‚ convmvçš„å¸®åŠ©æ–‡æ¡£ç‚¹è¿™é‡Œã€‚ ç›¸å…³ä¸‹è½½è„šæœ¬å’Œiconvç¨‹åºä¸‹è½½é“¾æŽ¥]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ·±åº¦æŽ¢ç´¢C++å¯¹è±¡æ¨¡åž‹è¯»ä¹¦ç¬”è®°_ç¬¬äº”ç« ï¼šæž„é€ ã€æžæž„ã€å¤åˆ¶è¯­æ„å­¦]]></title>
      <url>%2Fpost%2Finside_the_c%2B%2B_object_model_chapter_5%2F</url>
      <content type="text"><![CDATA[æ— ç»§æ‰¿æƒ…å†µä¸‹çš„å¯¹è±¡æž„é€ åœ¨ã€ŠUnixçŽ¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹çš„7.6èŠ‚ä¸­æåˆ°Cç¨‹åºçš„å†…å­˜ç©ºé—´å¯ä»¥åˆ†ä¸ºæ­£æ–‡æ®µã€åˆå§‹åŒ–æ•°æ®æ®µã€éžåˆå§‹åŒ–æ•°æ®æ®µã€æ ˆã€å †ã€‚å…¶ä¸­åˆå§‹åŒ–æ•°æ®æ®µåŒ…å«ç¨‹åºä¸­éœ€æ˜Žç¡®èµ‹åˆå€¼çš„å˜é‡ï¼Œå¦‚Cè¯­è¨€ä¸­çš„å…¨å±€å˜é‡int maxcount = 99;ã€‚éžåˆå§‹åŒ–æ•°æ®æ®µåˆç§°ä¸ºbssï¼ˆblock started by symbolï¼‰æ®µï¼Œåœ¨ç¨‹åºå¼€å§‹ä¹‹å‰ï¼Œå†…æ ¸å°†æ­¤æ®µåˆå§‹åŒ–ä¸º0æˆ–ç©ºæŒ‡é’ˆï¼Œå¦‚å‡ºçŽ°åœ¨å‡½æ•°å¤–é¢çš„long sum[1000];ï¼Œè¯¥å˜é‡æ²¡æœ‰æ˜Žç¡®èµ‹åˆå€¼ï¼Œå› æ­¤æ”¾åˆ°äº†bssæ®µä¸­ã€‚è€Œåœ¨C++è¯­è¨€ä¸­ï¼Œå°†æ‰€æœ‰çš„å…¨å±€å¯¹è±¡å½“åšåˆå§‹åŒ–è¿‡çš„æ•°æ®æ¥å¯¹å¾…ï¼Œå› æ­¤ä¸ä¼šå°†å…¨å±€å˜é‡æ”¾åˆ°bssæ®µä¸­ã€‚ PODæ•°æ®ç±»åž‹ä¹¦ä¸­æåˆ°Plain olâ€™ dataï¼ŒæŸ¥äº†ä¸‹åº”è¯¥å«Plain Old Data,ç®€ç§°PODï¼ŒæŒ‡Cé£Žæ ¼çš„structç»“æž„ä½“å®šä¹‰çš„æ•°æ®ç»“æž„ï¼Œå…¶ä¸­structç»“æž„ä½“ä¸­åªèƒ½å®šä¹‰å¸¸è§„æ•°æ®ç±»åž‹ï¼Œä¸å¯ä»¥å«æœ‰è‡ªå®šä¹‰æ•°æ®ç±»åž‹ã€‚ 123456789101112131415typedef struct Point&#123; float x, y, z;&#125; Point;Point global;Point foobar()&#123; Point local; Point *heap = new Point(); *heap = local; delete heap; return local;&#125; é¦–å…ˆçœ‹å…¨å±€å˜é‡globalï¼ŒæŒ‰ç…§å¸¸è§„çš„ç†è§£ï¼Œåœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™ç¼–è¯‘å™¨ä¼šè°ƒç”¨Pointçš„åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°æ¥åˆå§‹åŒ–globalå˜é‡ï¼Œåœ¨ç¨‹åºé€€å‡ºæ—¶ä¼šè°ƒç”¨Pointçš„åˆæˆçš„æžæž„å‡½æ•°æ¥é”€æ¯globalå˜é‡ã€‚å®žé™…ä¸Šï¼ŒC++ç¼–è¯‘å™¨ä¼šå°†Pointçœ‹æˆæ˜¯ä¸€ä¸ªPODå¯¹è±¡ï¼Œæ—¢ä¸ä¼šè°ƒç”¨åˆæˆçš„æž„é€ å‡½æ•°ä¹Ÿä¸ä¼šè°ƒç”¨åˆæˆçš„æžæž„å‡½æ•°ï¼Œä½†C++ç¼–è¯‘å™¨ä¼šå°†globalå½“æˆåˆå§‹åŒ–è¿‡çš„æ•°æ®æ¥å¯¹å¾…ï¼Œä¸æ”¾å…¥BSSæ®µã€‚ foobarå‡½æ•°ä¸­çš„localå±€éƒ¨å˜é‡ä¸ä¼šè‡ªåŠ¨åˆå§‹åŒ–ï¼Œæ„å‘³ç€local.xä¸­çš„å€¼æ˜¯ä¸å¯æŽ§çš„ï¼Œä½†æ˜¯localå˜é‡åˆ†é…äº†æ ˆç©ºé—´ã€‚ *heap = local;æ‰§è¡Œæ—¶ä»…ç®€å•æ‰§è¡ŒæŒ‰å­—èŠ‚å¤åˆ¶æ“ä½œï¼Œä¸ä¼šäº§ç”Ÿèµ‹å€¼æ“ä½œç¬¦ï¼Œå› ä¸ºPointæ˜¯ä¸€ä¸ªPODç±»åž‹ã€‚ return local;åŒæ ·ä»…é€šè¿‡å­—èŠ‚å¤åˆ¶æ“ä½œäº§ç”Ÿä¸€ä¸ªä¸´æ—¶å¯¹è±¡ã€‚ æŠ½è±¡æ•°æ®ç±»åž‹è¿™æ¬¡å°†ä¸Šé¢çš„Pointç±»åž‹ä»Žstructå˜æ¢ä¸ºclass12345678class Point&#123;public: Point(float x=0.0, float y=0.0, float z=0.0) : _x(x), _y(y), _z(z)&#123;&#125;private: float _x, _y, _z;&#125;; åœ¨ä¸ŠèŠ‚ä¸­çš„foobarå‡½æ•°ä¸­ï¼Œå„ä¸ªå¯¹è±¡çš„é»˜è®¤å¤åˆ¶æž„é€ å‡½æ•°ã€èµ‹å€¼æ“ä½œç¬¦å’Œæžæž„å‡½æ•°ä»ç„¶ä¸ä¼šè°ƒç”¨ï¼Œå› ä¸ºè°ƒç”¨æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤ç¼–è¯‘å™¨å¹²è„†å°±ä¸äº§ç”Ÿã€‚ ä¸ºç»§æ‰¿åšå‡†å¤‡å†æ¬¡æ›´æ”¹Pointç±»ï¼Œå¼•å…¥è™šå‡½æ•°ã€‚12345678class Point&#123;public: Point(float x=0.0, float y=0.0) : _x(x), _y(y) &#123;&#125; virtual float z();private: float _x, _y;&#125;; å¼•å…¥è™šå‡½æ•°åŽï¼Œç±»å¯¹è±¡å°±éœ€è¦ä¸€ä¸ªvtblæ¥å­˜æ”¾è™šå‡½æ•°çš„åœ°å€ï¼Œç±»å¯¹è±¡ä¸­éœ€è¦æ·»åŠ vptræŒ‡é’ˆã€‚è€Œvptrçš„åˆå§‹åŒ–æ˜¯åœ¨å¯¹è±¡æž„é€ çš„æ—¶å€™ï¼Œå› æ­¤å¯¹è±¡åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦è°ƒç”¨æž„é€ å‡½æ•°ï¼ŒåŒæ—¶é»˜è®¤æž„é€ å‡½æ•°å’Œèµ‹å€¼æž„é€ å‡½æ•°ä¼šè‡ªåŠ¨åœ¨æž„é€ å‡½æ•°çš„æœ€å‰é¢æ’å…¥åˆå§‹åŒ–vptrçš„ä»£ç ã€‚ ç»§æ‰¿ä½“ç³»ä¸‹çš„å¯¹è±¡æž„é€ C++æ—¶ä¼šè‡ªåŠ¨æ‰©å……ç±»çš„æ¯ä¸€ä¸ªæž„é€ å‡½æ•°ã€‚æ‰©å……æ­¥éª¤å¦‚ä¸‹ï¼š å¦‚æžœç±»å«æœ‰è™šåŸºç±»ï¼Œåˆ™æ‰€æœ‰è™šåŸºç±»çš„æž„é€ å‡½æ•°è¢«è°ƒç”¨ï¼Œè°ƒç”¨é¡ºåºä¸ºä»Žå·¦åˆ°å³ï¼Œä»Žæœ€æ·±åˆ°æœ€æµ…ã€‚ å¦‚æžœç±»å«æœ‰åŸºç±»ï¼Œåˆ™åŸºç±»æž„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œä»¥åŸºç±»çš„å£°æ˜Žé¡ºåºä¸ºé¡ºåºã€‚ å¦‚æžœç±»å¯¹è±¡ä¸­å«æœ‰vptrï¼Œå¿…é¡»åœ¨åˆå§‹åŒ–ç±»çš„æˆå‘˜å˜é‡ä¹‹å‰ä¸ºvptræŒ‡å®šåˆå€¼ï¼Œä½¿å…¶æŒ‡å‘vtblã€‚ å°†æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–æ“ä½œæ”¾å…¥æž„é€ å‡½æ•°å†…éƒ¨ï¼Œå¹¶ä¸”æŒ‰ç…§æˆå‘˜åœ¨ç±»ä¸­çš„å£°æ˜Žé¡ºåºã€‚ å¦‚æžœç±»æˆå‘˜å˜é‡ä¸åœ¨æž„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œä½†æ˜¯æˆå‘˜å˜é‡å«æœ‰é»˜è®¤æž„é€ å‡½æ•°ï¼Œåˆ™é»˜è®¤æž„é€ å‡½æ•°å¿…é¡»è¢«è°ƒç”¨ã€‚ è™šæ‹Ÿç»§æ‰¿æœ¬å°èŠ‚å°†å­¦ä¹ ä¸€ä¸‹å¼•å…¥äº†è™šç»§æ‰¿æœºåˆ¶ä¹‹åŽæž„é€ å‡½æ•°çš„ç”Ÿæˆæ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚1234567891011121314151617181920212223242526272829303132333435class Point&#123;public: Point(float x=0.0, float y=0.0) : _x(x), _y(y) &#123;&#125; virtual float z();private: float _x, _y;&#125;;class Point3d : public virtual Point&#123;public: Point3d(float x=0.0, float y=0.0, float z=0.0) : Point(x, y), _z(z) &#123;&#125; ~Point3d(); virtual float z() &#123;return _z;&#125;protected: float _z;&#125;;class Vertex : virtual public Point &#123; // ä¸æ˜¯é‡ç‚¹å¿½ç•¥&#125;;class Vertex3d : public Point3d, public Vertex&#123; // ä¸æ˜¯é‡ç‚¹å¿½ç•¥&#125;;class PVertex : public Vertex3d&#123; // ä¸æ˜¯é‡ç‚¹å¿½ç•¥&#125;; ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå·²ç»å±žäºŽæœ€å¤æ‚çš„ç»§æ‰¿æ¨¡åž‹äº†ã€‚å¦‚æžœè¦æž„é€ Vertex3dçš„å®žä¾‹ï¼Œåœ¨å†…å­˜ä¸­å¿…é¡»ä»…èƒ½æœ‰ä¸€ä¸ªPointç±»åž‹çš„å¯¹è±¡ï¼Œè€Œå¦‚æžœåœ¨Point3då’ŒVertexåŸºç±»ä¸­éƒ½æž„é€ ä¸€ä¸ªPointå®žä¾‹æ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ã€‚ç­”æ¡ˆæ˜¯ç¼–è¯‘å™¨ä¼šåœ¨Vertex3dçš„æž„é€ å‡½æ•°ä¸­ç”ŸæˆPointçš„å¯¹è±¡ï¼Œåœ¨Point3då’ŒVertexçš„æž„é€ å‡½æ•°ä¸­å‡ä¸ä¼šç”ŸæˆPointçš„å¯¹è±¡ã€‚Vertex3då’ŒPoint3dçš„æž„é€ å‡½æ•°ä¼ªç å¦‚ä¸‹é¢æ‰€ç¤ºï¼ŒVertexæž„é€ å‡½æ•°çš„ä¼ªç å’ŒPoint3dç±»ä¼¼ï¼Œè¿™é‡Œå°±ä¸å†åˆ—å‡ºã€‚12345678910111213141516171819202122232425Point3d* Point3d::Point3d(Point3d *this, bool __most_derived, float x, float y, float z)&#123; // å¦‚æžœå­ç±»åˆå§‹åŒ–åŸºç±»åˆ™æœ¬æž„é€ å‡½æ•°ä¸éœ€è¦åˆå§‹åŒ–åŸºç±» if (__most_derived != false) &#123; this-&gt;Point::Point(x, y); &#125; this-&gt;__vptr_Point3d = __vtbl_Point3d; // åˆå§‹åŒ–æŒ‡å‘æœ¬ç±»çš„vptr this-&gt;__vptr_Point3d_Point = __vtbl_Point3d_Point; // åˆå§‹åŒ–æŒ‡å‘åŸºç±»çš„vptr this-&gt;_z = z; return *this;&#125;Vertex3d* Vertex3d::Vertex3d(Vertex3d *this, bool __most_derived, float x, float y, float z)&#123; if (__most_derived != false) &#123; this-&gt;Point::Point(x, y); &#125; this-&gt;Point3d::Point3d(false, x, y, z); this-&gt;Vertex::Vertex(false, x, y); // åˆå§‹åŒ–vptr // ç”¨æˆ·ä»£ç  return this;&#125; ç¼–è¯‘å™¨åœ¨ç±»çš„æž„é€ å‡½æ•°ä¸­å¢žåŠ äº†ä¸€ä¸ªboolå˜é‡æ¥åˆ¤æ–­æœ¬ç±»æ˜¯å¦éœ€è¦åˆå§‹åŒ–åŸºç±»ï¼Œè™šåŸºç±»çš„åˆå§‹åŒ–å§‹ç»ˆåœ¨ç»§æ‰¿æœ€åº•å±‚çš„ç±»æž„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ã€‚å¯¹äºŽPVertexç±»æ¥è¯´ï¼ŒPointç±»çš„æž„é€ å‡½æ•°åœ¨è¯¥ç±»çš„æž„é€ å‡½æ•°ä¸­è°ƒç”¨ã€‚ vptråˆå§‹åŒ–è¯­æ„å­¦vptrçš„åœ¨æž„é€ å‡½æ•°ä¸­çš„åˆå§‹åŒ–æ—¶æœºä¸ºï¼šåœ¨åŸºç±»æž„é€ å‡½æ•°è°ƒç”¨æ“ä½œä¹‹åŽï¼Œåœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å’Œæž„é€ å‡½æ•°ä¸­æ˜¾å¼ä»£ç ä¹‹å‰ã€‚æž„é€ å‡½æ•°çš„æ‰§è¡Œå…ˆåŽé¡ºåºä¸ºï¼š æ‰€æœ‰è™šåŸºç±»ã€åŸºç±»çš„æž„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚ å¯¹è±¡çš„vptråˆå§‹åŒ–ï¼ŒæŒ‡å‘ç›¸å…³çš„vtblã€‚ åœ¨æž„é€ å‡½æ•°å†…å±•å¼€æˆå‘˜çš„åˆå§‹åŒ–åˆ—è¡¨ã€‚ æ‰§è¡Œæ˜¾å¼ä»£ç ã€‚å¯¹è±¡å¤åˆ¶è¯­æ„å­¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æˆ‘çš„ä¸ªäººæ•°æ®å¤‡ä»½æ–¹æ¡ˆ]]></title>
      <url>%2Fpost%2Fmy_data_bak%2F</url>
      <content type="text"><![CDATA[æ²¡æœ‰ä¸€æˆä¸åçš„ç¡¬ä»¶ï¼Œå°¤å…¶æ˜¯æ•°æ®æ”¾åˆ°ç‰©ç†ç¡¬ç›˜ä¸­ï¼Œè¯´ä¸å®šå“ªå¤©ç¡¬ç›˜é—¹è„¾æ°”å°±å´©æŽ‰äº†ï¼Œç¡¬ç›˜ä¸å€¼é’±ï¼Œå¯æ˜¯é‡Œé¢çš„æ•°æ®å€¼é’±ã€‚ä¸‹é¢åˆ†äº«ä¸‹æˆ‘çš„æ•°æ®å¤‡ä»½æ–¹æ¡ˆï¼Œæˆ‘çš„åŽŸåˆ™æ˜¯æ•°æ®æ— è®ºä½•æ—¶éƒ½è‡³å°‘ç•™æœ‰ä¸€ä¸ªå¤‡ä»½ã€‚ åšå®¢æˆ‘çš„åšå®¢æ˜¯æ”¾åˆ°Dropboxä¸­çš„ï¼Œåœ¨äº‘ç«¯å’Œæœ¬åœ°å‡æœ‰å¤‡ä»½ï¼Œç¡®ä¿äº†åšå®¢æ•°æ®çš„ç»å¯¹å®‰å…¨ï¼Œå³ä½¿äº‘ç«¯åæŽ‰è¿˜æœ‰æœ¬åœ°ï¼Œæœ¬åœ°ä¸¢äº†è¿˜æœ‰äº‘ç«¯ã€‚ ä¸ªäººç…§ç‰‡ç”±äºŽç…§ç‰‡éƒ½è¾ƒå¤§ï¼Œæ”¾åˆ°æœ¬åœ°ç¡¬ç›˜å¾ˆå®¹æ˜“å æ»¡ç©ºé—´ï¼Œè€Œä¸”è¿˜ä¸ç»å¸¸ç”¨ã€‚é™¤äº†åœ¨è‡ªå·±ç”µè„‘ä¸Šç•™æœ‰ç…§ç‰‡ä¹‹å¤–ï¼Œé€‰æ‹©å°†ç…§ç‰‡åŽ‹ç¼©å¹¶åŠ å¯†åŽæŒ‰ç…§å¹´ä»½æ”¾åˆ°ç™¾åº¦äº‘ä¸Šã€‚ ä»£ç å·¥ä½œå‡ å¹´äº†ï¼Œå·²ç»ç§¯æ”’äº†ä¸€äº›ä»£ç ï¼Œæœ‰äº›ä»£ç æ—¶ä¸æ—¶çš„ä¼šæŸ¥çœ‹åˆ°ã€‚å¯¹äºŽå¯ä»¥å…¬å¼€çš„è‡ªå·±å†™çš„ä»£ç æˆ‘ä»¥åŽæ‰“ç®—æ”¾åˆ°æˆ‘çš„Githubä¸Šï¼Œä¸€æ–¹é¢æ˜¯ç”±äºŽGithubä¸Šå¯ä»¥åœ¨çº¿æµè§ˆä»£ç ï¼Œå¦ä¸€æ–¹é¢å¯ä»¥å‘åˆ«äººåˆ†äº«æˆ‘çš„ä»£ç ã€‚å¯¹äºŽç§æœ‰çš„ä»£ç ï¼Œæš‚æ—¶æ”¾åˆ°äº†é‡‘å±±å¿«ç›˜ä¸Šï¼Œæ²¡æœ‰æ‰¾åˆ°å¯ä»¥æ–¹ä¾¿æµè§ˆä»£ç çš„äº‘ç«¯ã€‚ æ–‡æ¡£ç”±äºŽæ–‡æ¡£ä¹‹ç±»çš„èµ„æ–™ä¹Ÿæ˜¯ç»å¸¸ç”¨åˆ°ï¼Œæˆ‘é€‰æ‹©äº†é‡‘å±±å¿«ç›˜ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxå’ŒWindowså¹³å°ä¸‹çš„ç½‘ç»œé€šä¿¡é—®é¢˜]]></title>
      <url>%2Fpost%2Flinux_windows_network%2F</url>
      <content type="text"><![CDATA[å¤§å°ç«¯é—®é¢˜è·ŸCPUçš„æž¶æž„ç›´æŽ¥ç›¸å…³ï¼Œæˆ‘ä»¬å¸¸è§çš„80x86ç³»åˆ—CPUé‡‡ç”¨å°ç«¯å­—èŠ‚åºæ¨¡å¼ã€‚Windowså¹³å°å°±é‡‡ç”¨çš„80x86ç³»åˆ—CPUï¼Œå› æ­¤ä¸ºå°ç«¯å­—èŠ‚åºã€‚è€Œä¸»æœºä¹‹é—´è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶å¾€å¾€é‡‡ç”¨å¤§ç«¯å­—èŠ‚åºï¼Œå› æ­¤å°ç«¯å­—èŠ‚åºæœºå™¨åœ¨å‘é€æ•°æ®å‰éœ€è¦è¿›è¡Œå­—èŠ‚åºè½¬æ¢ï¼Œåœ¨æŽ¥æ”¶åˆ°æ•°æ®å¤„ç†å¤„ç†æ•°æ®ä¹‹å‰è¦å°†ç½‘ç»œå­—èŠ‚åºè½¬æ¢æˆæœ¬åœ°å­—èŠ‚åºã€‚ åœ¨Linuxå¹³å°ä¸‹æä¾›äº†å››ä¸ªå‡½æ•°ç”¨æ¥å­—èŠ‚åºè½¬æ¢ï¼š12345#include &lt;arpa/inet.h&gt;uint32_t htonl(uint32_t hostlong);uint16_t htons(uint16_t hostshort);uint32_t ntohl(uint32_t netlong);uint16_t ntohs(uint16_t netshort); Windowså¹³å°ä¸‹ä¹Ÿæä¾›äº†ç›¸å…³çš„è‡ªå·±åºè½¬æ¢å‡½æ•°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;WinSock2.h&gt;unsigned __int64 __inline htond( double value);unsigned __int32 __inline htonf( float value);u_long WSAAPI htonl( _In_ u_long hostlong);unsigned __int64 __inline htonll( unsigned __int64 value);u_short WSAAPI htons( _In_ u_short hostshort);double __inline ntohd( unsigned __int64 value);float __inline ntohf( unsigned __int32 value);u_long WSAAPI ntohl( _In_ u_long netlong);u_long __inline ntohll( unsigned __int64 value);u_short WSAAPI ntohs( _In_ u_short netshort); è¿™é‡Œæœ‰ä¸ªæŠ€å·§éœ€è¦è¯´æ˜Žä»¥ä¸‹ï¼Œæ¯”å¦‚è¦å‘é€å¦‚ä¸‹çš„ç»“æž„ä½“ï¼š12345struct foo&#123; int a; long b;&#125;; ä¸ºäº†é¿å…æ¯ä¸ªæˆå‘˜éƒ½è°ƒç”¨å­—èŠ‚åºè½¬æ¢å‡½æ•°ï¼Œå¯ä»¥åœ¨ç»“æž„ä½“çš„å†…éƒ¨å®šä¹‰ä¸¤ä¸ªæ–¹æ³•ç”¨äºŽè½¬æ¢å­—èŠ‚åºï¼Œæ·»åŠ å­—èŠ‚åºåŽçš„fooå¦‚ä¸‹ï¼š123456789101112131415struct foo&#123; int a; long b; void ntoh() &#123; a = ntohl(a); b = ntohl(b); &#125; void hton() &#123; a = htonl(a); b = htonl(b); &#125;&#125;; éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œåœ¨å‘é€ç»“æž„ä½“ç±»åž‹çš„æ•°æ®æ—¶è¦æ³¨æ„å­—èŠ‚å¯¹é½çš„é—®é¢˜ï¼Œè¿™é‡Œä¸å†å±•å¼€è®¨è®ºï¼Œä¸åŒçš„å¹³å°æœ‰ä¸åŒçš„è§£å†³åŠžæ³•ã€‚å¤§ä½“åˆ†ä¸ºWinodwså¹³å°ã€AIXå¹³å°å’ŒGNUç±»å¹³å°ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸¤ä¸ªé€šè¿‡httpèŽ·å–æŒ‡å®šç½‘é¡µå†…å®¹å¹¶è§£æžçš„ç®€å•ç¨‹åº]]></title>
      <url>%2Fpost%2Fparse_http%2F</url>
      <content type="text"><![CDATA[è¿‘æ®µæ—¶é—´å†™äº†ä¸¤ä¸ªé€šè¿‡httpåè®®æ¥èŽ·å–æŒ‡å®šç½‘é¡µçš„å†…å®¹å¹¶å°†å†…å®¹è§£æžå‡ºæ¥çš„ç¨‹åºã€‚ç¨‹åºä¸€å¯ä»¥è§£æžå‡ºç›®å‰æœ¬åšå®¢çš„å†…å®¹é¡µé¢çš„å†…å®¹ã€æ—¶é—´ã€è®¿é—®æ¬¡æ•°å‚æ•°ï¼Œé‡‡ç”¨Qtç±»åº“å®žçŽ°ï¼›ç¨‹åºäºŒå¯ä»¥è§£æžå‡ºæ–°æµªåšå®¢é¡µé¢çš„å†…å®¹ã€æ—¶é—´ç­‰å‚æ•°ï¼Œé‡‡ç”¨Linuxä¸‹çš„tcpç›¸å…³APIå®žçŽ°ã€‚å‡é‡‡ç”¨C++è¯­è¨€å®žçŽ°ã€‚ ç¨‹åºä¸€è¯¥ç¨‹åºé‡‡ç”¨Qtç±»åº“å®žçŽ°ï¼Œå…¶ä¸­Httpåè®®çš„å‘é€å’ŒæŽ¥æ”¶é‡‡ç”¨Qtç±»åº“å°è£…çš„ç±»ï¼Œç½‘é¡µå†…å®¹çš„è§£æžé‡‡ç”¨Qtå°è£…çš„è§£æžXMLçš„ç›¸å…³ç±»ã€‚è¯¥ç¨‹åºä»…èƒ½è§£æžæ ‡å‡†çš„Htmlè¯­è¨€ï¼Œå¯¹äºŽç½‘é¡µä¸­çš„æ‰€æœ‰â€&lt;&gt;â€æ ‡ç­¾å¿…é¡»æœ‰ç»“å°¾æ‰è¡Œã€‚ä¾‹å¦‚æœ¬é¡µé¢æºç ä¸­çš„1&lt;meta content=&quot;black&quot; name=&quot;apple-mobile-web-app-status-bar-style&quot; /&gt; å¿…é¡»æ˜¯é—­åˆçš„ã€‚å¦‚æžœæ˜¯ä¸‹é¢è¿™æ ·åˆ™æ— æ³•æ­£ç¡®è§£æžç½‘é¡µå†…å®¹ï¼Œè¿™æ˜¯ç”±äºŽé‡‡ç”¨çš„Qtç±»åº“å†³å®šçš„ã€‚1&lt;meta content=&quot;black&quot; name=&quot;apple-mobile-web-app-status-bar-style&quot;&gt; ç¨‹åºäºŒè¯¥ç¨‹åºçš„Httpåè®®éƒ¨åˆ†é‡‡ç”¨Linuxçš„tcpåè®®apiå®žçŽ°ï¼Œè§£æžç½‘é¡µç›´æŽ¥é‡‡ç”¨æœç´¢å­—ç¬¦ä¸²çš„æ–¹å¼å®žçŽ°ï¼Œè¾ƒä¸Šä¸€ç§æ–¹å¼è¦åº•å±‚ï¼Œä»…èƒ½è¿è¡Œåœ¨Linuxç³»ç»Ÿä¸‹è¿è¡Œã€‚ ç›¸å…³ä¸‹è½½ç¨‹åºä¸€å’ŒäºŒçš„ä¸‹è½½é“¾æŽ¥]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[vimæ’ä»¶å®‰è£…]]></title>
      <url>%2Fpost%2Fvim_plugin%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡çš„å®‰è£…çŽ¯å¢ƒä¸ºubuntu13.04ã€‚ä¸ºäº†ä»¥åŽä¾¿äºŽæŸ¥é˜…ï¼Œæœ¬æ–‡å°†ç›¸å…³æ’ä»¶çš„ä½¿ç”¨æ”¾åˆ°äº†æ–‡ç« çš„å¼€å§‹éƒ¨åˆ†ã€‚è¿™é‡Œä¸ä½œæ’ä»¶çš„ç›¸å…³ä»‹ç»ï¼Œç›¸å…³ä»‹ç»çœ‹æ–‡ç« åº•éƒ¨çš„å‚è€ƒæ–‡ç« ã€‚ æ’ä»¶ä½¿ç”¨æœ¬æ’ä»¶å¿«æ·é”®ä¼šè·Ÿéšä¸‹æ–‡å®‰è£…å†…å®¹ä¸€å—åŒæ­¥ã€‚ ctagsåœ¨æºç ç›®å½•æ‰§è¡Œctags -Rå¯ç”Ÿæˆctagsæ–‡ä»¶ã€‚è¯¥æ–‡ä»¶åœ¨æºç ä¿®æ”¹åŽå¹¶ä¸ä¼šæ”¹å˜ï¼Œéœ€è¦é‡æ–°ç”Ÿæˆctagsæ–‡ä»¶ã€‚ctrl+]ï¼šè½¬åˆ°å‡½æ•°å®šä¹‰å¤„ã€‚ctrl+Tï¼šå›žåˆ°æ‰§è¡Œctrl+]çš„åœ°æ–¹ã€‚ taglist:TlistOpenï¼šæ‰“å¼€taglistçª—å£:TlistCloseï¼šå…³é—­taglistçª—å£ã€‚:TlistToggleï¼šåœ¨æ‰“å¼€å’Œå…³é—­é—´åˆ‡æ¢ã€‚ NERD tree:NERDTreeï¼šæ‰“å¼€çª—å£ã€‚ winmanagerwmï¼šæ‰“å¼€å’Œå…³é—­taglistå’ŒNERD treeçª—å£ã€‚ a.vim:Aï¼šåœ¨æ–°Bufferä¸­åˆ‡æ¢åˆ°c/hæ–‡ä»¶:ASï¼šæ¨ªå‘åˆ†å‰²çª—å£å¹¶æ‰“å¼€c/hæ–‡ä»¶:AVï¼šçºµå‘åˆ†å‰²çª—å£å¹¶æ‰“å¼€c/hæ–‡ä»¶:ATï¼šæ–°å»ºä¸€ä¸ªæ ‡ç­¾é¡µå¹¶æ‰“å¼€c/hæ–‡ä»¶F12ï¼šä»£æ›¿:Aå‘½ä»¤ MiniBufExplorer&lt;Tab&gt;ï¼šå‘å‰å¾ªçŽ¯åˆ‡æ¢åˆ°æ¯ä¸ªbufferåä¸Š&lt;S-Tab&gt;ï¼šå‘åŽå¾ªçŽ¯åˆ‡æ¢åˆ°æ¯ä¸ªbufferåä¸Š&lt;Enter&gt;ï¼šåœ¨æ‰“å¼€å…‰æ ‡æ‰€åœ¨çš„bufferdï¼šåˆ é™¤å…‰æ ‡æ‰€åœ¨çš„buffer æ’ä»¶å®‰è£…å®‰è£…ctagsæ‰§è¡Œï¼š sudo apt-get install ctagsã€‚ å®‰è£…taglist ä¸‹è½½é¡µé¢ï¼šhttp://www.vim.org/scripts/script.php?script_id=273ã€‚ä¸‹è½½åŽå¾—åˆ°taglist_46.zipæ–‡ä»¶ã€‚ æ‰§è¡Œunzip taglist_46.zipè§£åŽ‹æ–‡ä»¶ã€‚ å°†è§£åŽ‹å‡ºçš„æ–‡ä»¶å¤åˆ¶åˆ°~/.vimç›®å½•ä¸‹ã€‚sudo cp ~/tmp/ ~/.vim/ã€‚ åœ¨~/.vimrcæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ï¼š123let Tlist_Show_One_File = 1 &quot;ä¸åŒæ—¶æ˜¾ç¤ºå¤šä¸ªæ–‡ä»¶çš„tagï¼Œåªæ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„let Tlist_Exit_OnlyWindow = 1 &quot;å¦‚æžœtaglistçª—å£æ˜¯æœ€åŽä¸€ä¸ªçª—å£ï¼Œåˆ™é€€å‡ºvimlet Tlist_Use_Right_Window = 1 &quot;åœ¨å³ä¾§çª—å£ä¸­æ˜¾ç¤º å‚è€ƒç½‘å€ï¼šhttp://www.cnblogs.com/mo-beifeng/archive/2011/11/22/2259356.html å®‰è£…æ–‡ä»¶æµè§ˆå™¨NERD tree ä¸‹è½½é¡µé¢ï¼šhttp://www.vim.org/scripts/script.php?script_id=1658ã€‚ å°†ä¸‹è½½åŽçš„nerdtree.zipæ–‡ä»¶è§£åŽ‹åˆ°~/.vimç›®å½•ä¸‹ã€‚ å®‰è£…winmanager ä¸‹è½½é¡µé¢ï¼šhttp://www.vim.org/scripts/script.php?script_id=95 å°†ä¸‹è½½åŽçš„winmanager.zipæ–‡ä»¶è§£åŽ‹åˆ°~/.vimç›®å½•ä¸‹ ä¿®æ”¹.vimrcæ–‡ä»¶ï¼Œæ·»åŠ ï¼š12let g:winManagerWindowLayout=&apos;FileExplorer|TagList&apos;nmap wm :WMToggle&lt;cr&gt; è¿™æ ·åˆ©ç”¨winmanagerå·¥å…·å°†taglistå’ŒNERD treeå·¥å…·æ•´åˆåˆ°äº†ä¸€ä¸ªå—ï¼Œè¾“å…¥wmå¯ä»¥æ‰“å¼€å’Œå…³é—­çª—å£ã€‚ å®‰è£…cscope ä¸‹è½½é¡µé¢ï¼šhttp://cscope.sourceforge.netï¼Œä¸‹è½½åŽå¾—åˆ°æ–‡ä»¶cscope-15.8a.tar.gzã€‚ ./configure makeã€‚å¯èƒ½ä¼šå‡ºçŽ°é”™è¯¯ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š123apt-get install libncurses-devsudo apt-get install flexsudo apt-get install byacc ç„¶åŽæ‰§è¡Œmake cleanåŽé‡æ–°makeã€‚ sudo make install å®‰è£…åœ¨h/cæ–‡ä»¶ä¹‹é—´åˆ‡æ¢æ’ä»¶a.vim ä¸‹è½½é¡µé¢ï¼šhttp://www.vim.org/scripts/script.php?script_id=31ã€‚ å°†ä¸‹è½½çš„a.vimæ–‡ä»¶å¤åˆ¶åˆ°~/.vim/pluginæ–‡ä»¶å¤¹ä¸‹ã€‚ åœ¨~/.vimrcæ–‡ä»¶ä¸­æ·»åŠ nnoremap &lt;silent&gt; &lt;F12&gt; :A&lt;CR&gt; ä¸‹é¢å†…å®¹ä¸ºå¿«æ·é”®åˆ—è¡¨ï¼š:A switches to the header file corresponding to the current file being edited (or vise versa):AS splits and switches:AV vertical splits and switches:AT new tab and switches:AN cycles through matches:IH switches to file under cursor:IHS splits and switches:IHV vertical splits and switches:IHT new tab and switches:IHN cycles through matchesih switches to file under cursoris switches to the alternate file of file under cursor (e.g. on &lt;foo.h&gt; switches to foo.cpp)ihn cycles through matches å®‰è£…å¿«é€Ÿæµè§ˆå’Œæ“ä½œBuffer ä¸‹è½½é¡µé¢ï¼šhttp://www.vim.org/scripts/script.php?script_id=159 å°†ä¸‹è½½çš„ minibufexpl.vimæ–‡ä»¶ä¸¢åˆ° ~/.vim/plugin æ–‡ä»¶å¤¹ä¸­å³å¯ åœ¨~/.vimrcæ–‡ä»¶ä¸­å¢žåŠ å¦‚ä¸‹è¡Œï¼š 123let g:miniBufExplMapCTabSwitchBufs = 1let g:miniBufExplMapWindowNavVim = 1let g:miniBufExplMapWindowNavArrows = 1 å¿«æ·é”®ï¼š å‘å‰å¾ªçŽ¯åˆ‡æ¢åˆ°æ¯ä¸ªbufferåä¸Š å‘åŽå¾ªçŽ¯åˆ‡æ¢åˆ°æ¯ä¸ªbufferåä¸Š åœ¨æ‰“å¼€å…‰æ ‡æ‰€åœ¨çš„bufferd åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„buffer å‚è€ƒæ–‡ç«  ç»å…¸vimæ’ä»¶åŠŸèƒ½è¯´æ˜Žã€å®‰è£…æ–¹æ³•å’Œä½¿ç”¨æ–¹æ³•ä»‹ç» æ‰‹æŠŠæ‰‹æ•™ä½ æŠŠVimæ”¹è£…æˆä¸€ä¸ªIDEç¼–ç¨‹çŽ¯å¢ƒ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¸‚é•¿çƒ­çº¿12345]]></title>
      <url>%2Fpost%2Fmayor_hotline%2F</url>
      <content type="text"><![CDATA[å‰æ®µæ—¶é—´åœ¨å®¶çœ‹ä¹¦å­¦ä¹ ï¼Œéš¾å¾—çš„å­¦ä¹ çš„å¥½æ—¶æœºã€‚ æ¥¼ä¸‹æœ‰ä¸€ä¸ªå–é¥­çš„å°æ‘ŠåŠå…¶çŒ–ç‹‚ï¼Œä¸ä»…å ç”¨äº†äººè¡Œé“æ¥ç‚’èœï¼Œè€Œä¸”è¿˜åœ¨é©¬è·¯ä¸Šæ‘†äº†ä¸€æºœæ¡Œå­ä¾›å®¢äººåƒé¥­ï¼Œä¸ä»…å ç”¨äº†äººè¡Œé“ï¼Œè¿žè½¦è¡Œé“éƒ½ç»™å ç”¨äº†ã€‚è¿™äº›ä¹Ÿå°±ç½¢äº†ï¼Œå¯¹æˆ‘å½±å“éƒ½ä¸ç®—å¤ªå¤§ï¼Œæ›´å¯æ°”çš„æ˜¯æ¯å¤©ä¸­åˆå’Œæ™šä¸Šåƒé¥­çš„æ—¶å€™ä¼šå¼€ç€å¤§éŸ³å“æ”¾ç€æ¼äººçš„éŸ³ä¹ï¼Œæˆ‘ä¸æƒ³æƒ¹éº»çƒ¦ï¼Œæˆ‘å¿ã€‚ ä»Šå¤©ä¸­åˆæˆ‘åˆšå¼€å§‹çœ‹ä¹¦ï¼Œçœ‹åˆ°éš¾å¤„éœ€è¦ç²¾å¿ƒæ€è€ƒï¼Œæ¼äººçš„éŸ³ä¹åˆå¼€å§‹äº†ï¼Œæˆ‘å®žåœ¨å¿ä¸ä½äº†ï¼ŒTMDï¼Œç»´æƒã€‚æ‰“å¸‚é•¿çƒ­çº¿12345æŠ•è¯‰ï¼Œå¸‚é•¿çƒ­çº¿è®©æˆ‘æ‰“110æŠ•è¯‰ã€‚ç»§ç»­æ‰“110æŠ•è¯‰ï¼Œç„¶åŽè·Ÿ110è¯´äº†ä¸‹å…·ä½“æƒ…å†µåŽï¼Œè¯´ç»™ç›¸åº”çš„æ´¾å‡ºæ‰€åŽ»å¤„ç†ã€‚æ´¾å‡ºæ‰€çš„å°ç‰‡è­¦ç«‹åˆ»å°±ç»™æˆ‘å›žç”µè¯äº†ï¼Œè¯´å¤–æ”¾éŸ³ä¹æ­£å¸¸ç»è¥èŒƒå›´ï¼Œåªè¦ä¸åœ¨æ™šä¸Šæˆ–æ¸…æ™¨æ”¾éŸ³ä¹å°±ä¸ç®—è¿è§„ï¼Œä»–ä»¬ç®¡ä¸ç€ï¼Œå»ºè®®æˆ‘åŽ»ä¸‹é¢è·Ÿå–é¥­çš„å•†é‡ï¼Œå¥½ä¸€ä¸ªå•†é‡ã€‚ç„¶åŽæˆ‘åˆè¯´ï¼Œä»–ä»¬éžæ³•å é“ç»è¥ï¼Œå°ç‰‡è­¦åˆè¯´è¿™ä¸ªå½’åŸŽç®¡ç®¡ï¼Œè®©æˆ‘ç»™åŸŽç®¡æ‰“ç”µè¯ï¼Œå¥½ä¸€ä¸ªç»™åŸŽç®¡æ‰“ç”µè¯ã€‚å¥½ä¸€ä¸ªæŽ¨å¸è´£ä»»ï¼Œè¿™äº›æŠŠæˆ‘ç»™æƒ¹æ¯›äº†ã€‚ æŒ‚æ–­ç”µè¯åŽï¼Œå¯»æ€è¿™ä¸ªç†ä¸å¤ªå¯¹ï¼Œç„¶åŽç»§ç»­ç»™å¸‚é•¿çƒ­çº¿12345æ‰“ç”µè¯ï¼Œå‘Šè¯‰æƒ…å†µåŽï¼Œå¸‚é•¿çƒ­çº¿çš„å¦¹å­å‘Šè¯‰æˆ‘è¯´è¿™ä¸ªäº‹æƒ…æˆ‘ç»™ä½ å¤„ç†ï¼Œå¥½ä¸€ä¸ªæˆ‘ç»™ä½ å¤„ç†ï¼Œè¿™æ‰æ˜¯ä¸ºäººæ°‘æœåŠ¡çš„æ€åº¦ï¼Œé¼“æŽŒã€‚ è¿™æ˜¯ç¬¬äºŒæ¬¡æœºä¼šæŽ¥è§¦å°ç‰‡è­¦ï¼Œæ¯æ¬¡éƒ½æ˜¯è®©æˆ‘å¤±æœ›ï¼Œç»æœ›ï¼Œæ¨ä¹‹å…¥éª¨ã€‚ç¬¬ä¸€æ¬¡æŽ¥è§¦å°ç‰‡è­¦æˆ‘ç”šè‡³kill himçš„å¿ƒéƒ½æœ‰äº†ã€‚ä¸ä¸€å¿ƒæƒ³ç€ä¸ºäººæ°‘æœåŠ¡ï¼Œå´æ˜¯ä¸€å¿ƒæƒ³ç€æŽ¨å¸è´£ä»»ï¼Œå¤„å¤„åˆéš¾å¸‚æ°‘å¹¶ä»Žä¸­è°‹å–ç§åˆ©ï¼Œå¯¹å¸‚æ°‘çˆ±ç†ä¸ç†ï¼Œè¿™å°±æ˜¯å°ç‰‡è­¦åœ¨æˆ‘å¿ƒä¸­çš„å½¢è±¡ï¼Œå¾ˆéš¾æ”¹å˜ã€‚è¶Šæ˜¯æƒåˆ©å°çš„å°å…µï¼Œæž¶å­è¶Šå¤§ï¼Œè¿™ä¹Ÿå°±å†³å®šäº†æ°¸è¿œæ˜¯ä¸ªå°å…µçš„èº«ä»½ã€‚ å¦‚æžœæ²¡æœ‰å¸‚é•¿çƒ­çº¿é‚£è¿™ä»¶æ‰°æ°‘çš„äº‹æƒ…ä¹Ÿå°±ä¸äº†äº†ä¹‹äº†ï¼Œå› ä¸ºæŠ•è¯‰110éƒ½ä¸ç®¡ç”¨äº†ï¼Œä½œä¸ºå¸‚æ°‘å·²ç»æ²¡æœ‰å¯ä»¥ç»´æƒçš„æœºæž„äº†ã€‚è¿˜å¥½æœ‰å¸‚é•¿çƒ­çº¿çš„å­˜åœ¨ç»™å¸‚æ°‘å¤šäº†ä¸€ä¸ªç»´æƒçš„é€”å¾„ã€‚ ä¸Šå‘¨äº”æ‰“çš„ç”µè¯ï¼Œè¿™ä¸ªå‘¨ä¸€ç»™æˆ‘å›žå¤ç”µè¯é—®æˆ‘é¥­é¦†åœ¨å“ªä¸€æ¬¡ï¼Œå‘¨äºŒåˆæ‰“ç”µè¯é—®æˆ‘é¥­é¦†åœ¨å“ªï¼Œç„¶åŽå‘¨ä¸‰ç»ˆäºŽç»™å¤„ç†äº†ï¼Œä¸‹ç­é€”ä¸­æ´¾å‡ºæ‰€ç»™æˆ‘ç”µè¯å›žå¤è¯´ï¼šâ€œå·²ç»å¤„ç†å¥½äº†ï¼Œè®©å°é¥­é¦†çš„éŸ³å“å£°éŸ³è°ƒå°äº†ï¼Œä»¥åŽå¦‚æžœå†æœ‰è¿™ç§æƒ…å†µå¯ä»¥ç»§ç»­æ‰“ç”µè¯â€ã€‚ç­‰æˆ‘å›žå®¶ä¸€çœ‹ï¼Œæžœç„¶éŸ³å“ä¸è§äº†ï¼Œä¸–ç•Œä¸€ä¸‹å­æ¸…å‡€äº†ï¼Œzfç»ˆäºŽæ›¿æˆ‘åŠžäº‹äº†ã€‚ ä¹Ÿè®¸æ˜¯å› ä¸ºæˆ‘çš„äº‹æƒ…ä¸æ˜¯å¾ˆç´§æ€¥çš„åŽŸå› ï¼Œæ•´ä¸ªå¤„ç†æµç¨‹è¿‡äºŽæ…¢äº†ï¼Œç­‰äº†è¶³è¶³äº”å¤©çš„æ—¶é—´æ‰å¤„ç†å¥½ã€‚ å½“å¤§å®¶çš„æƒç›Šå—åˆ°æŸå®³æ—¶ï¼Œè¯·å¤§å®¶å¤šç»™å¸‚é•¿çƒ­çº¿æ‰“ç”µè¯ç»´æŠ¤è‡ªå·±çš„æƒç›Šã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è„†å¼±çš„ç”Ÿå‘½]]></title>
      <url>%2Fpost%2Fweak_life%2F</url>
      <content type="text"><![CDATA[å¾—çŸ¥è€å®¶ä¸‰è€çˆ·å®¶çš„ä¸‰å”åŽ»ä¸–äº†ï¼ŒåŽŸæœ¬è¿˜åœ¨çœ‹ä»£ç çš„æˆ‘æ”¶åˆ°æ¶ˆæ¯ä¹‹åŽç«‹åˆ»æ— æ³•å¹³é™äº†ï¼Œåªå¥½å‡ºåŽ»èµ°èµ°æ•£æ•£å¿ƒï¼Œå›žå®¶ä¹‹åŽä¾ç„¶æ„Ÿè§‰èŽ«åçš„èƒ¸é—·ï¼ŒçŽ©æ¸¸æˆåˆ†æ•£åˆ†æ•£ç²¾åŠ›ï¼Œæ¸¸æˆè¿‡åŽä¾ç„¶èƒ¸é—·ã€‚æ„æ–™ä¹‹ä¸­çš„å¤±çœ ï¼Œä¸­é€”é†’äº†å¥½å‡ æ¬¡ã€‚æ€»æ„Ÿè§‰æ¶ˆæ¯ä¸æ˜¯çœŸå®žçš„ï¼Œæ€»æ„Ÿè§‰æ˜¨æ™šåœ¨æ¢¦ä¸­ï¼ŒçœŸå¸Œæœ›ä¸€è§‰é†’æ¥ä¹‹åŽä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿã€‚ ä¸‰å”42å²ï¼Œæ­£å€¼å£®å¹´ï¼Œåœ¨å®¶é™„è¿‘çš„å·ç§°æœ‰ä¸€ä¸‡å‘˜å·¥çš„ç‚¼é’¢åŽ‚æ‰“å·¥ï¼Œåœ¨æ•´ä¸ªå¸‚ä¹Ÿç®—æ˜¯å¾ˆå¤§çš„ä¼ä¸šäº†ã€‚å·¥ä½œä¸­æ„å¤–ä¸§å‘½ã€‚æ€»è§‰å¾—è¿™æ ·çš„äº‹æƒ…ä¸ä¼šå‘ç”Ÿåœ¨æˆ‘èº«è¾¹ï¼Œå®¢è§‚äº‹å®žæ˜¯å‘ç”Ÿäº†ã€‚ å¬å®¶äººè¯´ï¼Œä¸‰å”å°æ—¶å€™è°ƒçš®çˆ¬åˆ°æ ‘ä¸ŠæŽé¸Ÿçªä»Žæ ‘ä¸ŠæŽ‰ä¸‹æ¥æŠŠä¸€ä¸ªè‚©è†€éƒ½ç£•åˆ°èº«ä½“é‡Œäº†ï¼Œå¤§å®¶éƒ½è§‰å¾—è‚¯å®šå¥½ä¸äº†ï¼Œåœ¨é•‡ä¸ŠåŒ»é™¢ä½é™¢æ‰“åŠç“¶æ‰“å¤Ÿäº†è‡ªå·±å·å·è·‘å›žå­¦æ ¡ï¼ŒåŽæ¥å±…ç„¶å¥‡è¿¹èˆ¬çš„å¥½äº†ï¼Œè€Œä¸”è¿˜æ²¡ç•™ä¸‹ä»»ä½•ç—•è¿¹ã€‚å¤§å®¶éƒ½è¯´ä¸‰å”å‘½å¤§ï¼Œè°çŸ¥ä¸‰å”å°æ—¶å€™èº²è¿‡äº†ä¸€åŠ«å´æ²¡æœ‰èº²è¿‡è¿™ä¸€åŠ«ï¼Œè¿™éš¾é“å°±æ˜¯å¤©å‘½ï¼Ÿä¸‰å”ä¸€ç”Ÿå‹¤ä¿­èŠ‚çº¦ï¼Œäººå¿ åŽšè€å®žï¼Œåˆ°å¤´æ¥å´è½å¾—å¦‚æ­¤ä¸‹åœºï¼Œè°è¯´ä¸Šå¸æ˜¯å…¬å¹³çš„ï¼Œè°è¯´å¥½äººæœ‰å¥½æŠ¥ï¼Œè¿™éƒ½æ˜¯èƒ¡æ‰¯ã€‚ ä¸´è¿‘ä¸‰å”å‡ºäº‹çš„å‰å¤©ï¼Œæˆ‘åšäº†ä¸€ä¸ªå¾ˆä¸å¥½çš„æ¢¦ï¼Œæ¢¦çš„å†…å®¹æˆ‘å·²ç»è®°ä¸èµ·æ¥äº†ã€‚å›žå®¶åŽå¬å®¶é‡Œäººè¯´å¾ˆå¤šäººéƒ½åšäº†ä¸å¥½çš„æ¢¦ï¼Œç”šè‡³è¿žå¹³å¸¸ä¸æ€Žä¹ˆåšæ¢¦çš„éƒ½ä¼šè¢«æ¢¦æƒŠé†’ã€‚è¿™ç»å¯¹ä¸æ˜¯å·§åˆï¼Œå¾ˆæ˜Žæ˜¾å·²ç»è¶…å‡ºäº†å½“å‰ç§‘å­¦çš„èŒƒç•´ã€‚ è®°å¾—æœ€åŽä¸€æ¬¡è·Ÿä¸‰å”æŽ¥è§¦è¿˜æ˜¯åœ¨è¿‡å¹´çš„æ—¶å€™ï¼Œä¸‰å”åˆ°æˆ‘å®¶æ¥è½¬è½¬ï¼ŒèŠäº†å‡ å¥ï¼ŒçŽ°åœ¨è¿˜è®°å¿†çŠ¹æ–°ã€‚å†ä¸Šä¸€æ¬¡è§é¢å°±æ˜¯åœ¨åŽ»å¹´å¤å¤©çš„ä¸€ä¸ªä¸‹åˆï¼Œçº¦ç€ä¸‰å©¶åŽ»ç«è½¦ç«™æŽ¥ä¸‰å”å®¶çš„å¼Ÿå¼Ÿå’Œæˆ‘çˆ¸ï¼Œæ­£å·§åœ¨ä¸‰å”å®¶çš„é—¨å£ç¢°åˆ°ä¸‰å”ï¼Œä¼°è®¡æ˜¯è¦åŽ»ä¸Šå¤œç­ã€‚ æ¯å¹´è¿‡å¹´æˆ‘ä»¬ä¸€å¤§å®¶20å¤šäººå°±ä¼šå›¢èšåœ¨ä¸€èµ·ï¼Œç”·äººä¸€æ¡Œï¼Œå¥³äººä¸€æ¡Œï¼Œè¿˜æœ‰æˆ‘ä»¬å°å­©ä¸€æ¡Œï¼Œå…¶ä¹èžèžã€‚æœ€è¿‘ä¸¤å¹´è¿‡å¹´ä¸‰å”æ˜¯å”¯ä¸€ç¼ºå¸­çš„ï¼Œç”±äºŽå·¥ä½œçš„åŽŸå› ï¼Œä¸‰å”æ­£å·§åœ¨è¿‡å¹´çš„æ—¶å€™ä¸Šå¤œç­ã€‚æ€»è§‰å¾—å°‘äº†ä¸‰å”è¿‡å¹´çš„æ—¶å€™æ˜¯ä¸ªé—æ†¾ï¼ŒçŽ°åœ¨çœ‹æ¥ä»¥åŽè¿‡å¹´è¦æ°¸è¿œé—æ†¾ä¸‹åŽ»äº†ã€‚ ä¼ä¸šåœ¨è¿½æ±‚ç»æµŽæ•ˆç›Šçš„åŒæ—¶ï¼Œå¾€å¾€ä¼šå¿½ç•¥å‘˜å·¥çš„å®‰å…¨ã€‚å‘˜å·¥ä¼¤äº¡äº‹ä»¶å±¡è§ä¸é²œï¼Œå´å¾ˆéš¾å¾—åˆ°ä¼ä¸šçš„é‡è§†ã€‚ç›¸æ¯”äººç±»çš„ä¼¤äº¡ï¼Œä¼ä¸šçš„ç»æµŽæ•ˆç›Šæ˜¾å¾—é‚£ä¹ˆè‹ç™½æ— åŠ›ã€‚å¬è¯´é’¢åŽ‚æ¯å¹´æ€»ä¼šå‡ºäº›äº‹æ•…ï¼Œä½†æ˜¯äº‹æ•…çš„èµ”å¿æ˜¯ä»Žæ‰€æœ‰å‘˜å·¥çš„å·¥èµ„ä¸­æ‰£é™¤çš„ï¼Œè€Œä¸æ˜¯å·¥åŽ‚æ‰¿æ‹…ï¼Œè¿™ä¹Ÿæ˜¯å·¥åŽ‚å¯¹å®‰å…¨é—®é¢˜ä¸å¤Ÿé‡è§†çš„åŽŸå› ï¼Œåæ­£å‡ºäº†äº‹æŽ‰è¡€çš„æ˜¯å‘˜å·¥ã€‚ çŽ°åœ¨æ‘ä¸­çš„äººå¤§éƒ¨åˆ†å‡ºåŽ»åœ¨å¤–é¢æ‰“å·¥ï¼Œå†œå¿™æ—¶å›žå®¶å¿™å‡ å¤©ã€‚åœ¨æ­¤æé†’ç›¸äº²ä»¬ä¸€å®šè¦æ³¨æ„äººèº«å®‰å…¨ï¼Œæ²¡æœ‰äº†å®‰å…¨ä¿éšœèµšå†å¤šçš„é’±éƒ½ç™½æ­ã€‚ è°¨ä»¥æ­¤æ–‡çŒ®ç»™ä¸ºå·¥ä½œè€ŒçŒ®èº«çš„ä¸‰å”ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ°çƒå®¶å›­]]></title>
      <url>%2Fpost%2Fthe_earth%2F</url>
      <content type="text"><![CDATA[è¿™æ®µæ—¶é—´ï¼Œä¸­å›½å¤§éƒ¨åˆ†çš„åœ°åŒºéƒ½æ˜¯é«˜æ¸©ä¸é™ï¼Œæœ‰äº›åœ°åŒºç”šè‡³å‡ºçŽ°äº†é¸¡è›‹è‡ªç„¶å­µåŒ–çš„çŽ°è±¡ã€‚åª’ä½“æŠ¥é“é«˜æ¸©çƒ­æ­»äººçš„çŽ°è±¡ä¹Ÿæ˜¯æ—¶æœ‰å‘ç”Ÿï¼Œè™½è¯´åª’ä½“çš„è¯ä¸å¯ä¿¡ï¼Œä½†è‡³å°‘ä»Žä¸€ä¸ªä¾§é¢åæ˜ äº†å¤©æ°”çš„ç¡®æ˜¯è¾ƒå¾€å¹´åŒæœŸé«˜å‡ºä¸€äº›ï¼Œå¼€å§‹æ¸æ¸è¶…å‡ºäººç±»èº«ä½“å¯ä»¥æ‰¿å—çš„æ¸©åº¦ï¼Œå¼€å§‹æ‚„æ‚„çš„æ‰“ç ´å¾€å¹´åŒæœŸçš„é«˜æ¸©çºªå½•ã€‚ æœ€è¿‘å‡ å¹´æ°”å€™å˜åŒ–æ— å¸¸ï¼Œè·Ÿäººç±»çš„æ´»åŠ¨ç»å¯¹è„±ä¸äº†å¹²ç³»ã€‚å†¬å¤©é›¾éœ¾å¯ä»¥æŒç»­ä¸€å‘¨ä¸æ•£ï¼Œæ˜¥å¤©ä¸€ä¸ªæœˆå¹²æ—±ï¼Œå¤å­£é›¨å¤©å¯ä»¥æŒç»­ä¸€ä¸ªæœˆä¸å˜ï¼Œç§‹å­£å¦‚è‰çš„ç”Ÿå‘½èˆ¬çŸ­æš‚ã€‚åœ¨åŒ—æ–¹å·²ç»ç”Ÿæ´»äº†äºŒåå¤šå¹´çš„æˆ‘ï¼Œè¿™äº›çŽ°è±¡åœ¨å°æ—¶å€™æ˜¯æžå°‘ç¢°åˆ°çš„ï¼ŒçŽ°åœ¨å´æ˜¯æžå…¶é¢‘ç¹ã€‚è®°å¾—å°æ—¶å€™é›¨å¤©è¿‡åŽæ—¶å¸¸ä¼šåœ¨å¤©è¾¹æŒ‚ä¸Šä¸€é“å¼¯å¼¯çš„å½©è™¹ï¼Œè®°å¾—æœ€åŽä¸€æ¬¡è§å½©è™¹æ˜¯åœ¨å°å­¦ä¸€äºŒå¹´çºªçš„æ—¶å€™ï¼Œè‡ªæ­¤ä¹‹åŽå½©è™¹ä»…å­˜åœ¨äº†æˆ‘çš„è„‘æµ·é‡Œã€‚å¯¹äºŽçŽ°åœ¨çš„å¤§éƒ¨åˆ†ä¸­å›½äººè€Œè¨€ï¼Œå½©è™¹ä»…å­˜åœ¨äºŽæ°¸æ’çš„è®°å¿†ä¸­å’Œå­©å­ä»¬çš„ç”»ä¸­ã€‚ äººç±»è¿‘å‡ ç™¾å¹´æ¥æ­£åœ¨è‚†æ— å¿Œæƒ®çš„å‘åœ°çƒæ¯äº²ç´¢è¦ä¸è¯¥å±žäºŽäººç±»è‡ªå·±çš„ä¸œè¥¿ï¼Œäººç±»å·²ç»å æœ‰äº†è¿„ä»Šä¸ºæ­¢åœ°çƒä¸Šå¯¹äººç±»æœ‰ä»·å€¼çš„ä¸”å¯ä»¥å æœ‰çš„æ‰€æœ‰èµ„æºï¼Œäººç±»ä»ç„¶åœ¨å¿˜å½¢çš„å¼€å‘å¹¶ç ´åç€åœ°çƒä¸Šç”Ÿç‰©èµ–ä»¥ç”Ÿå­˜çš„å®¶å›­ã€‚ æ‹¿ä¸­å›½çš„ä¸‰å³¡å¤§åä¸¾ä¾‹ï¼Œä»Žèƒ½æºçš„è§’åº¦è€ƒè™‘çš„ç¡®æ˜¯æœ‰åˆ©çš„ã€‚ä½†æ˜¯ä»Žåœ°çƒç”Ÿæ€çš„è§’åº¦è€ƒè™‘è‚¯å®šæ˜¯æœ‰å®³çš„ã€‚äººç±»çš„å­˜åœ¨æ—¶é—´ç›¸å¯¹åœ°çƒæ˜¯çŸ­æš‚çš„ï¼Œåœ°çƒæ¯ä¸€å¤„åœ°å½¢å­˜åœ¨å°±æœ‰å®ƒå­˜åœ¨çš„ç†ç”±ï¼Œå·²ç»ç»è¿‡äº†æ— æ•°å¹´çš„å®žè·µéªŒè¯è¯´æ˜Žåœ°å½¢å­˜åœ¨çš„æ­£ç¡®æ€§ã€‚å¯æ¶çš„ä¸­å›½ZFï¼Œå¯æ¨çš„è„‘æ®‹ç –å®¶å±…ç„¶èƒ½å¤Ÿåˆ©ç”¨ç†è®ºæ¥è®ºè¯ä¿®å»ºä¸‰å³¡çš„å¿…è¦åŠæ­£ç¡®æ€§ï¼ŒTMDæ²¡å­¦è¿‡å®žè·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†ã€‚åœ¨æ²¡æœ‰å¯¹åœ°çƒæœ‰å……è¶³çš„äº†è§£ä¹‹å‰ä¸è¦åˆ©ç”¨æœ‰é™çš„ç†è®ºæ¥æŽ¨æ–­å¹¶æŒ‡å¯¼å®žè·µï¼Œå› ä¸ºå¾€å¾€å®žè·µä¹‹åŽå°±å†ä¹Ÿå›žä¸äº†å¤´ï¼Œå°±æ¯”å¦‚ä¸‰å³¡å¤§åã€‚è°æ•¢è¯´è¿‘å‡ å¹´çš„è¥¿å—å¤§æ—±ã€ç‰¹å¤§åœ°éœ‡è·Ÿä¸‰å³¡æ‹–å¾—äº†å¹²ç³»ï¼Œå¯ä»¥ç¾éš¾å‘ç”Ÿäº†åˆæœ‰å“ªä¸ªç –å®¶å¯ä»¥ç«™å‡ºæ¥å£°ç§°æˆ‘å¯ä»¥å¯¹è¿™ä¸ªç¾éš¾è´Ÿè´£å‘¢ï¼Ÿ æˆ‘ä»Žå°å°±ä¸€ç›´åœ¨æ‹…å¿§ä¸€ä¸ªé—®é¢˜å¦‚æžœå†è¿‡å‡ åå¹´åŽå‡ ç™¾å¹´åŽåœ°çƒä¸Šçš„ç…¤ç‚­ã€çŸ³æ²¹ç­‰ä¸å¯å†ç”Ÿèµ„æºè¢«äººç±»ç”¨è¿‡äº†äººç±»è¯¥ä½•åŽ»ä½•ä»Žï¼Œæˆ‘æ—¶é•¿ä¸ºæ­¤è€Œå¿§è™‘ä¸å·²ã€‚ä¹Ÿè®¸è¿™æœ‰ç‚¹æžäººå¿§å¤©ï¼Œè‚¯å®šæœ‰äººä¼šç«™å‡ºæ¥è¯´åˆ°é‚£æ—¶å€™éšç€äººç±»ç§‘æŠ€çš„å‘å±•æ—©å°±å‘çŽ°äº†æ–°èƒ½æºäº†ï¼Œè¿™æ˜¯è°ç»™çš„è‡ªä¿¡ï¼Ÿè°è¿™ä¹ˆå¤§èƒ†æ•¢é¢„è¨€äººç±»å‡ åå¹´åŽä¸€å®šå¯ä»¥å‘çŽ°æ–°èƒ½æºï¼Ÿä½•å†µä¸å¯å†ç”Ÿèµ„æºä¸­è•´è—ç€çš„ä»·å€¼è‚¯å®šä¸ä»…æ˜¯ç‡ƒçƒ§å¸¦æ¥çš„èƒ½é‡è¿™ç‚¹ä»·å€¼ï¼Œå‡å¦‚å‡ åå¹´åŽäººç±»å·²ç»å°†çŸ³æ²¹èµ„æºæ¶ˆè€—æ®†å°½äº†ï¼Œå´å‘çŽ°çŸ³æ²¹ä¸­è•´è—ç€å·¨å¤§çš„èƒ½é‡ï¼Œä¼°è®¡é‚£æ—¶å€™æˆ‘ä»¬åªæœ‰å“­çš„ä»½äº†ï¼Œæ¥šäººä¸€ç‚¬ï¼Œå¯æ€œç„¦åœŸã€‚ äººç±»ä¸è¿‡æ˜¯åœ°çƒä¸Šå‡ ç™¾ä¸‡ç§ç”Ÿç‰©ä¸­çš„ä¸€ç§ï¼Œå¦‚æžœç¡¬è¦ä»Žå¹¿ä¹‰å…¬å¹³çš„è§’åº¦æ¥è€ƒè™‘ï¼Œäººç±»åœ¨ç”Ÿç‰©ç•Œå æœ‰çš„å¤ªå¤šäº†ï¼Œäººç±»å·²ç»æŠŠè¯¥å æœ‰çš„ä¸è¯¥å æœ‰çš„å…¨éƒ¨å ä¸ºå·±æœ‰ï¼Œè´ªå©ªçš„æœ¬æ€§æš´éœ²æ— é—ã€‚å¾ˆéš¾æƒ³è±¡å‡ åå¹´è¿‡åŽæˆ‘ä»¬äººç±»çš„å®¶å›­å·²ç»æˆä¸ºäº†ä»€ä¹ˆæ ·å­ï¼Œå››å¤„å¯è§çš„æ˜¯æ‹”åœ°è€Œèµ·çš„é«˜æ¥¼ï¼ŒæŸæ²¹è·¯æ¨ªä¸€æ¡ç«–ä¸€æ¡ï¼Œæ— è®ºåœ¨åœ°çƒçš„å“ªä¸ªè§’è½éƒ½èƒ½æ‰¾åˆ°äººç±»ç•™ä¸‹çš„ç—•è¿¹ã€‚åœ°çƒè¯¥éšç€äººç±»çš„å‘å±•ä½•åŽ»ä½•ä»Žï¼Œæˆ‘ä¸æ•¢æƒ³è±¡ï¼Œæˆ‘èƒ½åšåˆ°çš„ä»…ä»…æ˜¯èŠ‚çº¦ç‚¹åŠ›æ‰€èƒ½åŠçš„èµ„æºï¼Œä»…æ­¤è€Œå·²ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ·±åº¦æŽ¢ç´¢C++å¯¹è±¡æ¨¡åž‹è¯»ä¹¦ç¬”è®°_ç¬¬å››ç« ï¼šå‡½æ•°è¯­æ„å­¦]]></title>
      <url>%2Fpost%2Finside_the_c%2B%2B_object_model_chapter_4%2F</url>
      <content type="text"><![CDATA[æˆå‘˜å‡½æ•°çš„å„ç§è°ƒç”¨æ–¹å¼éžé™æ€æˆå‘˜å‡½æ•°çš„è°ƒç”¨æ–¹å¼åœ¨C++ä¸­å¿…é¡»è¦ä¿è¯ç±»çš„éžé™æ€æˆå‘˜å‡½æ•°å¿…é¡»å’Œéžæˆå‘˜å‡½æ•°çš„æ‰§è¡Œæ•ˆçŽ‡ä¸€è‡´ï¼Œåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘æœŸå·²ç»å°†ç±»çš„éžé™æ€æˆå‘˜å‡½æ•°ç¼–è¯‘ä¸ºäº†éžæˆå‘˜å‡½æ•°ã€‚ 123456789101112131415161718192021class Test&#123;public: int sum() const &#123; return a + b; &#125; int add() &#123; return a; &#125; int add(int size) &#123; return a + size; &#125;public: int a; int b;&#125;; åœ¨ä¸Šè¿°Testç±»ä¸­ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå¯¹ç±»ä¸­çš„æˆå‘˜å‡½æ•°åšä¸€äº›è½¬æ¢ã€‚ä¸‹é¢åˆ—å‡ºäº†ç¼–è¯‘å™¨å¯èƒ½ä¼šåšå‡ºçš„å˜æ¢ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å®žçŽ°ä¸å¤ªä¸€è‡´ã€‚ 1234567891011121314int sum_TestFv(const Test * const this)&#123; return this-&gt;a + this-&gt;b;&#125;int add_TestFv(Test * const this)&#123; return this-&gt;a;&#125;int add_Testi(int size, Test * const this)&#123; return this-&gt;a + size;&#125; é€šè¿‡ä¸Šé¢çš„å˜æ¢å¯ä»¥æ€»ç»“å‡ºå¦‚ä¸‹è§„å¾‹ï¼š å°†æˆå‘˜å‡½æ•°é‡æ–°æ”¹å†™ä¸ºä¸€ä¸ªå¤–éƒ¨å‡½æ•°ï¼Œå¹¶ä¸”å¯¹å‡½æ•°çš„åå­—è¿›è¡Œå¤„ç†ï¼Œä½¿åœ¨ç¨‹åºä¸­å”¯ä¸€ã€‚ä¸€ç§å¯èƒ½çš„å¤„ç†åŠžæ³•å°±æ˜¯å°†å‡½æ•°åæ›´æ”¹ä¸ºï¼šå‡½æ•°å_ç±»å_å‡½æ•°å‚æ•°ã€‚è¿™æ ·å³è§£å†³äº†ç±»ä¹‹é—´å‡½æ•°åç›¸åŒçš„é—®é¢˜ï¼Œåˆè§£å†³äº†ç±»ä¹‹é—´å‡½æ•°é‡è½½çš„é—®é¢˜ã€‚ åœ¨å‡½æ•°çš„å‚æ•°æœ«å°¾æ·»åŠ é¢å¤–çš„thisæŒ‡é’ˆå‚æ•°ã€‚å¯¹äºŽconstå‡½æ•°æ·»åŠ çš„thisæŒ‡é’ˆä¸ºåŒconstç±»åž‹ï¼Œå¯¹äºŽéžconstå‡½æ•°åˆ™æ·»åŠ çš„thisæŒ‡é’ˆä¸ºæŒ‡å‘çš„å†…å®¹å¯å˜çš„constæŒ‡é’ˆã€‚ åœ¨å‡½æ•°å†…å¯¹æˆå‘˜å‡½æ•°çš„å­˜å–é‡‡ç”¨thisæŒ‡é’ˆæ¥å®žçŽ°ã€‚ è™šæˆå‘˜å‡½æ•°è™šå‡½æ•°å¦‚æžœæ˜¯é€šè¿‡æŒ‡é’ˆç±»åž‹è®¿é—®ï¼Œéœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€å†³å®šæŒ‡é’ˆæŒ‡å‘çš„ç±»åž‹ï¼Œå› æ­¤éœ€è¦è®¿é—®è™šå‡½æ•°è¡¨æ‰èƒ½å¤ŸèŽ·å–æ­£ç¡®çš„è™šå‡½æ•°åœ°å€ã€‚è®¿é—®è™šå‡½æ•°çš„æ–¹å¼ä¸º(*ptr-&gt;vptr[i])(ptr)ï¼Œå…¶ä¸­iä»£è¡¨è¦è°ƒç”¨çš„è™šå‡½æ•°åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ç´¢å¼•ï¼Œæœ€åŽä¸€ä¸ªpträ»£è¡¨è¦è°ƒç”¨è™šå‡½æ•°çš„ç¼–è¯‘å™¨æ·»åŠ çš„thisæŒ‡é’ˆå‚æ•°ã€‚ å…³äºŽè™šæˆå‘˜å‡½æ•°çš„æ›´è¯¦ç»†é—®é¢˜ä¼šåœ¨ä¸‹ä¸€ä¸ªèŠ‚ä¸­è¿›è¡Œè®¨è®ºã€‚ é™æ€æˆå‘˜å‡½æ•°é™æ€æˆå‘˜å‡½æ•°ä¸­æ²¡æœ‰thisæŒ‡é’ˆï¼Œå¯ä»¥ç†è§£æˆå¸¦ç±»ä½œç”¨åŸŸçš„å…¨å±€å‡½æ•°ï¼Œæ‰§è¡Œæ•ˆçŽ‡è·Ÿå…¨å±€å‡½æ•°ä¸€è‡´ã€‚ è™šæˆå‘˜å‡½æ•°è¿™éƒ¨åˆ†å†…å®¹æ˜¯æœ¬ä¹¦çš„æ ¸å¿ƒå†…å®¹ï¼Œå¯ä»¥å‚è€ƒé™ˆçš“çš„åšå®¢ç›¸å…³æ–‡ç« ï¼Œå·²ç»å¯¹C++ä¸­çš„è™šæˆå‘˜å‡½æ•°å’Œè™šæˆå‘˜å˜é‡è¿›è¡Œäº†è¯´æ˜Žã€‚ C++ è™šå‡½æ•°è¡¨è§£æž C++ å¯¹è±¡çš„å†…å­˜å¸ƒå±€(ä¸Š) C++ å¯¹è±¡çš„å†…å­˜å¸ƒå±€(ä¸‹) å•ä¸€ç»§æ‰¿ä¸‹çš„è™šå‡½æ•°123456789101112131415161718192021222324252627282930313233343536class Point&#123;public: virtual ~Point()&#123;&#125; virtual Point&amp; mult(float) = 0; float x() const &#123;return _x;&#125; virtual float y() const &#123;return 0;&#125; virtual float z() const &#123;return 0;&#125;protected: Point(float x=0.0) &#123;_x = x;&#125; float _x;&#125;;class Point2d : public Point&#123;public: Point2d(float x=0.0, float y=0.0) : Point(x), _y(y) &#123;&#125; ~Point2d()&#123;&#125; Point2d&amp; mult(float)&#123;return *this;&#125; float y() const &#123;return _y;&#125;protected: float _y;&#125;;class Point3d : public Point2d&#123;public: Point3d(float x=0.0, float y=0.0, float z=0.0) : Point2d(x, y), _z(z) &#123;&#125; ~Point3d()&#123;&#125; Point3d &amp; mult(float) &#123;return *this;&#125; float z() const &#123;return _z;&#125;protected: float _z;&#125;; ä¸‰ä¸ªç±»å¯¹åº”çš„è™šå‡½æ•°è¡¨ä¼šè½¬åŒ–æˆä¸‹å›¾ é€šè¿‡å›¾ä¸­å¯ä»¥çœ‹å‡ºæ¯ä¸ªå‡½æ•°åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ä½ç½®æ— è®ºåœ¨åŸºç±»è¿˜æ˜¯åœ¨å­ç±»ä¸­ä½ç½®æ€»æ˜¯å›ºå®šçš„ã€‚å›¾ä¸­çš„Pointçš„å®žä¾‹åº”è¯¥æ˜¯ä¸å­˜åœ¨çš„ï¼Œå› ä¸ºç±»ä¸­å«æœ‰çº¯è™šå‡½æ•°multã€‚ è¦æƒ³è°ƒç”¨ptr-&gt;z()å°±å˜å¾—éžå¸¸å®¹æ˜“ï¼Œå¯ä»¥åœ¨ç¼–è¯‘å™¨å°±å¯ä»¥ç¡®å®šè™šå‡½æ•°çš„è°ƒç”¨ã€‚è™½ç„¶ptræ‰€æŒ‡å‘çš„å¯¹è±¡åœ¨ç¼–è¯‘å™¨å¹¶ä¸èƒ½ç¡®å®šï¼Œä½†æ˜¯ç¼–è¯‘å™¨å¯ä»¥å°†å…¶è½¬åŒ–æˆä¸º(*ptr-&gt;vptr[4])(ptr)ã€‚å› ä¸ºz()å‡½æ•°æ€»æ˜¯åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ç¬¬å››ä¸ªä½ç½®ï¼Œå”¯ä¸€éœ€è¦åœ¨æ‰§è¡ŒæœŸç¡®å®šçš„å°±æ˜¯ptræ‰€æŒ‡çš„å¯¹è±¡çš„å®žé™…ç±»åž‹ã€‚ å¤šé‡ç»§æ‰¿ä¸‹çš„è™šå‡½æ•°é¿å…é‡å¤é€ è½®å­ï¼Œå‚è€ƒä¸Šé¢åšæ–‡ã€‚ è™šæ‹Ÿç»§æ‰¿ä¸‹çš„è™šå‡½æ•°é¿å…é‡å¤é€ è½®å­ï¼Œå‚è€ƒä¸Šé¢åšæ–‡ã€‚ å‡½æ•°çš„æ•ˆçŽ‡éžæˆå‘˜å‡½æ•°ã€é™æ€æˆå‘˜å‡½æ•°ã€éžé™æ€æˆå‘˜å‡½æ•°éƒ½è¢«è½¬æ¢æˆä¸ºäº†å®Œå…¨ç›¸åŒçš„å½¢å¼ã€‚inlineå‡½æ•°çš„æ‰§è¡Œæ•ˆçŽ‡æœ€é«˜ã€‚è™šå‡½æ•°çš„æ•ˆçŽ‡æœ€ä½Žã€‚ æŒ‡å‘æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆè¿™é‡Œå­¦ä¹ åˆ°ä¸€ä¸ªæ–°çš„è¯­æ³•ï¼Œä¹‹å‰æ²¡æœ‰æŽ¥è§¦è¿‡ã€‚å³æŒ‡å‘ç±»æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆåŠä½¿ç”¨æ–¹æ³•ã€‚1234567891011121314151617181920212223#include &lt;iostream&gt;using namespace std;class Point&#123;public: virtual ~Point() &#123;&#125; float x() &#123;return _x;&#125;public: Point(float x=0.0) &#123; _x = x; &#125; float _x;&#125;;int main()&#123; Point point(1.0); float (Point::*p)(); // å®šä¹‰æŒ‡å‘æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆ p = &amp;Point::x; // ä¸ºæŒ‡å‘æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆèµ‹å€¼ cout &lt;&lt; (point.*p)(); // è°ƒç”¨æŒ‡å‘ç±»æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆ return 1;&#125; å¦‚æžœæˆå‘˜å‡½æ•°çš„æŒ‡é’ˆå¹¶ä¸ç”¨äºŽè™šå‡½æ•°ã€å¤šé‡ç»§æ‰¿ã€è™šåŸºç±»ç­‰æƒ…å†µï¼Œåˆ™æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆæ•ˆçŽ‡è·Ÿéžæˆå‘˜å‡½æ•°æŒ‡é’ˆçš„æ•ˆçŽ‡ä¸€è‡´ã€‚ æŒ‡å‘è™šæˆå‘˜å‡½æ•°çš„æŒ‡é’ˆä¹¦ä¸­å¯¹äºŽå‡½æ•°å–åœ°å€çš„è¯­æ³•åœ¨gccå’Œvs2008ä¸‹æˆ‘è¯•éªŒä¸æˆåŠŸï¼Œè¯­æ³•é”™è¯¯ã€‚ å¤šé‡ç»§æ‰¿ä¸‹æŒ‡å‘æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆä¾èµ–äºŽç¼–è¯‘å™¨çš„å®žçŽ°ï¼Œç”¨åˆ°çš„æƒ…å†µæ¯”è¾ƒå°‘ï¼Œæ²¡ä»”ç»†çœ‹ã€‚ æŒ‡å‘æˆå‘˜å‡½æ•°æŒ‡é’ˆçš„æ•ˆçŽ‡åœ¨å¼•å…¥äº†è™šå‡½æ•°ã€å¤šé‡ç»§æ‰¿ã€è™šåŸºç±»ç­‰æƒ…å†µåŽï¼ŒæŒ‡å‘æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆæ•ˆçŽ‡æœ‰æ‰€ä¸‹é™ã€‚ å†…è”å‡½æ•°å†…è”åªæ˜¯ä¸€ä¸ªè¯·æ±‚ï¼Œç¼–è¯‘å™¨å¹¶ä¸ä¸€å®šä¼šå°†å‡½æ•°å†…è”çš„å±•å¼€ã€‚ å½¢å¼å‚æ•°å†…è”æ—¶æ¯ä¸€ä¸ªå½¢å‚éƒ½ä¼šè¢«å¯¹åº”çš„å®žå‚å–ä»£ã€‚ 1234567891011121314inline int min(int i, int j)&#123; return i &lt; j ? i : j;&#125;inline int bar()&#123; int minval; int val1 = 1024; int val2 = 2048; minval = min(val1, val2); minval = min(1024, 2048); minval = min(foo(), bar() + 1);&#125; minval=min(val1, val2)ä¼šè¢«å†…è”å±•å¼€æˆminval = val1 &lt; val2 ? val1 : val2ã€‚minval = min(1024, 2048)ä¼šè¢«æ‰©å±•ä¸ºminval = 1024ã€‚minval = min(foo(), bar() + 1)éœ€è¦å¼•å…¥ä¸´æ—¶å¯¹è±¡ï¼Œè¢«æ‰©å±•ä¸º123int t1;int t2;minval = (t1 = foo()) , (t2 = bar() + 1), t1 &lt; t2 ? t1 : t2; å±€éƒ¨å˜é‡12345678910111213inline int min(int i, int j)&#123; int minval = i &lt; j ? i : j; return minval;&#125;inline int bar()&#123; int minval; int val1 = 1024; int val2 = 2048; minval = min(val1, val2);&#125; åœ¨å†…è”å‡½æ•°ä¸­å¼•å…¥å±€éƒ¨å˜é‡ï¼Œå†…è”å‡½æ•°åœ¨å†…è”çš„æ—¶å€™å±€éƒ¨å˜é‡ä¼šæ‹¥æœ‰ä¸€ä¸ªå”¯ä¸€çš„åç§°ã€‚ä»£ç ä¸­çš„minval = min(val1, val2)ä¼šè¢«å†…è”ä¸ºï¼š 12int _min_lv_minval;minval = (_min_lv_minval = val1 &lt; val2 ? val1 : val2), _min_lv_minval; å†…è”å‡½æ•°å¯ä»¥ä»£æ›¿Cè¯­è¨€ä¸­çš„#defineå®å®šä¹‰ï¼Œä½†æ˜¯å½“å†…è”å‡½æ•°è°ƒç”¨æ¬¡æ•°è¿‡å¤šï¼Œä¼šäº§ç”Ÿå¤§é‡çš„æ‰©å±•ä»£ç ï¼Œä½¿ç¨‹åºçš„å¤§å°å˜å¤§ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ·±åº¦æŽ¢ç´¢C++å¯¹è±¡æ¨¡åž‹è¯»ä¹¦ç¬”è®°_ç¬¬ä¸‰ç« ï¼šæ•°æ®è¯­æ„å­¦]]></title>
      <url>%2Fpost%2Finside_the_c%2B%2B_object_model_chapter_3%2F</url>
      <content type="text"><![CDATA[1234class X &#123;&#125;;class Y : public virtual X &#123;&#125;;class Z : public virtual X &#123;&#125;;class A : public Y, public Z &#123;&#125;; å¯¹äºŽä¸Šè¿°ä»£ç æˆ‘åœ¨vs2008ä¸­çš„å®žéªŒç»“æžœï¼ŒXçš„å¤§å°ä¸º1ï¼ŒYå’ŒZçš„å¤§å°ä¸º4ï¼ŒAçš„å¤§å°ä¸º8ã€‚Xçš„å¤§å°ä¸º1æ˜¯å› ä¸ºç¼–è¯‘å™¨ç»™ç©ºç±»äº†1å­—èŠ‚çš„ç©ºé—´ã€‚Yå’ŒZçš„å¤§å°ä¸º4æ˜¯å› ä¸ºå†…éƒ¨åŒ…å«ä¸€ä¸ªvbptrï¼ˆæŒ‡å‘è™šåŸºç±»çš„æŒ‡é’ˆï¼‰å ç”¨äº†4ä¸ªå­—èŠ‚ã€‚Açš„å¤§å°åŒ…å«äº†ä¸¤ä¸ªvbptrï¼Œåˆ†åˆ«æŒ‡å‘è™šåŸºç±»çš„æŒ‡é’ˆXã€‚åˆ©ç”¨cl main.cpp /d1reportSingleClassLayoutAå‘½ä»¤å¯ä»¥æŸ¥çœ‹å¯¹è±¡çš„å†…å­˜å¸ƒå±€ï¼Œåˆ©ç”¨vs2008è°ƒè¯•ç•Œé¢æŸ¥çœ‹å¯¹è±¡çš„å†…å­˜å¸ƒå±€å¾€å¾€æ˜¯ä¸å…¨çš„ï¼Œä¸æŽ¨èé‡‡ç”¨æ­¤ç§æ–¹å¼ã€‚ä¸‹é¢ä¸ºAçš„ç±»å¸ƒå±€ã€‚ åœ¨64ä½çš„linuxçš„g++ä¸‹æµ‹è¯•Xã€Yã€Zã€Açš„å¤§å°åˆ†åˆ«ä¸º1ã€8ã€8ã€16ï¼Œè¿™æ˜¯å› ä¸ºæŒ‡é’ˆçš„å¤§å°ä¸º8ä¸ªå­—èŠ‚ã€‚ ä¸€ä¸ªç±»å ç”¨çš„ç©ºé—´æ¯”ç±»æœ¬èº«éžé™æ€æ•°æ®æˆå‘˜ç©ºé—´å¤§çš„åŽŸå› æœ‰å¦‚ä¸‹ä¸¤ç‚¹ï¼š ç¼–è¯‘å™¨è‡ªåŠ¨åŠ ä¸Šé¢å¤–çš„æ•°æ®æˆå‘˜ï¼Œç”¨æ¥æ”¯æŒæŸäº›è¯­è¨€ç‰¹æ€§ï¼Œä¾‹å¦‚virtualç‰¹æ€§ã€‚ å†…å­˜è¾¹ç•Œè°ƒæ•´çš„éœ€è¦ 3.1 æ•°æ®æˆå‘˜çš„ç»‘å®šå‘³åŒåš¼èœ¡çš„ç« èŠ‚ã€‚ 3.2 æ•°æ®æˆå‘˜çš„å¸ƒå±€æ•°æ®æˆå‘˜åœ¨å†…å­˜ä¸­çš„å¸ƒå±€é¡ºåºè·Ÿæ•°æ®æˆå‘˜åœ¨ç±»ä¸­çš„å£°æ˜Žé¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”çŽ°åœ¨çš„ç¼–è¯‘å™¨éƒ½ä¸å…³å¿ƒæ•°æ®æˆå‘˜åœ¨ç±»ä¸­æ˜¯publicã€protectedè¿˜æ˜¯privateçš„ã€‚ ä¸ºäº†å†…å­˜å¯¹é½ï¼Œç¼–è¯‘å™¨åœ¨å˜é‡ä¹‹é—´æ’å…¥äº†ç©ºç™½å­—èŠ‚ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å†…å­˜å¯¹é½çš„åŽŸåˆ™å¹¶ä¸ä¸€è‡´ã€‚ ä¸ºäº†å®žçŽ°è™šå‡½æ•°æœºåˆ¶ï¼Œç¼–è¯‘å™¨æ’å…¥äº†vptræˆå‘˜å˜é‡ã€‚ ä»¥ä¸Šè¿™äº›å†…å®¹ï¼Œæœ¬ç« èŠ‚å¹¶æ²¡æœ‰å±•å¼€è¯¦è§£ã€‚ 3.3 æ•°æ®æˆå‘˜å˜é‡çš„å­˜å–æ•°æ®æˆå‘˜åŒ…æ‹¬é™æ€æ•°æ®æˆå‘˜å’Œéžé™æ€æ•°æ®æˆå‘˜ã€‚ é™æ€æ•°æ®æˆå‘˜å˜é‡æ”¾åœ¨é™æ€å­˜å‚¨åŒºï¼Œä¸ä¼šé€ æˆä»»ä½•ç©ºé—´æˆ–æ‰§è¡Œæ—¶é—´ä¸Šçš„æµªè´¹ã€‚ å¯¹äºŽéžé™æ€æ•°æ®æˆå‘˜ï¼Œæ— è®ºæˆå‘˜å˜é‡æ˜¯structæ•°æ®æˆå‘˜ã€ç±»æ•°æ®æˆå‘˜ã€å•ä¸€ç»§æ‰¿ã€å¤šé‡ç»§æ‰¿æƒ…å†µä¸‹æ‰§è¡Œæ•ˆçŽ‡å®Œå…¨ä¸€æ ·ã€‚æ‰§è¡Œæ•ˆçŽ‡è¾ƒé™æ€æ•°æ®æˆå‘˜å˜é‡ç¨ä½Žã€‚ 12345678class Test&#123;public: int a; int b; int c;&#125;;Test test; åœ¨ä¸Šè¿°ä¾‹å­ä¸­è¦æƒ³è¯»å–test.cçš„ä½ç½®ï¼Œç¼–è¯‘å™¨éœ€è¦æ‰§è¡Œç±»ä¼¼è¿™æ ·çš„æ“ä½œï¼š&amp;test + &amp;Test::cï¼Œå¯ä»¥çœ‹å‡ºå¯¹ç±»ä¸­å˜é‡çš„å­˜å–æˆæœ¬å¤šäº†ä¸€ä¸ªç®—æ•°è¿ç®—ã€‚ å¯¹äºŽè™šæ‹Ÿç»§æ‰¿çš„æƒ…å†µç”±äºŽéœ€è¦åœ¨è¿è¡ŒæœŸæ‰èƒ½å†³å®šå­˜å–æ“ä½œï¼Œéœ€è¦ä¸€äº›é¢å¤–çš„æˆæœ¬ï¼Œåœ¨ä¸‹æ–‡è®¨è®ºã€‚ 3.4 ç»§æ‰¿ä¸Žæ•°æ®æˆå‘˜å¦‚æžœç±»ä¸­ä¸åŒ…å«ç»§æ‰¿æœºåˆ¶ï¼Œåˆ™æ•°æ®æˆå‘˜çš„å¸ƒå±€å’Œstructä¸­æ•°æ®æˆå‘˜çš„å¸ƒå±€æ˜¯ä¸€è‡´çš„ã€‚ æœ¬èŠ‚å°†ä»Žå•ä¸€ç»§æ‰¿ä½†ä¸åŒ…å«è™šå‡½æ•°ã€å•ä¸€ç»§æ‰¿åŒ…å«è™šå‡½æ•°ã€å¤šé‡ç»§æ‰¿ã€è™šæ‹Ÿç»§æ‰¿å››ä¸ªæ–¹é¢è®¨è®ºæ•°æ®æˆå‘˜å˜é‡ã€‚é™ˆæµ©æœ‰å‡ ç¯‡åšæ–‡å¯¹æ­¤è¿›è¡Œäº†è¯¦ç»†çš„è§£é‡Šï¼Œæ¯”ä¹¦ä¸Šå†…å®¹è¦æ˜“æ‡‚å’Œå…¨é¢ï¼Œè¿™å‡ ç¯‡æ–‡ç« å¿…çœ‹ã€‚ C++ è™šå‡½æ•°è¡¨è§£æž C++ å¯¹è±¡çš„å†…å­˜å¸ƒå±€(ä¸Š) C++ å¯¹è±¡çš„å†…å­˜å¸ƒå±€(ä¸‹) å•ä¸€ç»§æ‰¿ä¸”ä¸åŒ…å«è™šå‡½æ•°ä¹¦ä¸­ä¸¾ä¾‹è§£é‡Šäº†ä¸ºä»€ä¹ˆç±»ç»§æ‰¿æ—¶ç±»æˆå‘˜ä¹‹é—´çš„å¡«è¡¥ç©ºç™½ä¼šæ¯”å•ä¸ªç±»æ—¶è¦å¤šï¼Œä¸‹å›¾çš„å†…å­˜å¸ƒå±€å›¾ä¸­Concrete3ç»§æ‰¿è‡ªConcrete2ï¼ŒConcrete2ç»§æ‰¿è‡ªConcrete1ã€‚Concrete3ç±»å ç”¨çš„ç©ºé—´å¤§å°ä¸ºï¼šbit1å ç”¨çš„1ä¸ªå­—èŠ‚+3ä¸ªå­—èŠ‚çš„ç©ºç™½ï¼Œbit2å ç”¨çš„1å­—èŠ‚+3å­—èŠ‚çš„ç©ºç™½ï¼Œbit3å ç”¨çš„1å­—èŠ‚+3å­—èŠ‚ç©ºç™½ã€‚å¦‚æžœConcrete3ä¸ç»§æ‰¿è‡ªä»»ä½•å¯¹è±¡ï¼Œè€Œæ˜¯åŒ…å«bit1ã€bit2ã€bit3ä¸‰ä¸ªå˜é‡ï¼Œå ç”¨çš„ç©ºé—´å¤§å°ä¸º1+1+1+1=4ã€‚ ä¹‹æ‰€ä»¥ç¼–è¯‘å™¨åœ¨ç»§æ‰¿æœºåˆ¶ä¸­ä¼šä½œå¦‚æ­¤å¤„ç†ï¼Œæ˜¯ä¸ºäº†åœ¨ç»§æ‰¿æœºåˆ¶ä¸­å¯¹è±¡ä¹‹é—´çš„é»˜è®¤æŒ‰æ¯”ç‰¹å¤åˆ¶æ“ä½œæ›´æ–¹ä¾¿ã€‚ä¾‹å¦‚ï¼š 12Concrete1 *p1 = new Concrete1, *p2 = new Concrete2;*p2 = *p1; // æ­¤æ—¶ç¼–è¯‘å™¨åªéœ€è¦æŒ‰æ¯”ç‰¹å¤åˆ¶å°±å¯ä»¥äº† å•ä¸€ç»§æ‰¿åŒ…å«è™šå‡½æ•°å‡è®¾æœ‰å¦‚ä¸‹ç±»å®šä¹‰ 12345678910111213141516171819202122232425262728293031323334class Base&#123;public: Base() &#123; printf("Base\n"); &#125; virtual ~Base() &#123; printf("~Base\n"); &#125; virtual void foo() &#123;&#125; int base_x;&#125;;class Derived : public Base&#123;public: Derived() &#123; printf("Derived\n"); &#125; ~Derived() &#123; printf("~Derived\n"); &#125; void foo() &#123;&#125; int derived_y;&#125;; åˆ™Derivedç±»çš„å¯¹è±¡æ¨¡åž‹å¦‚ä¸‹ï¼Œé€šè¿‡å›¾å¯ä»¥éžå¸¸æ¸…æ™°çš„ç†è§£å•ä¸€ç»§æ‰¿åŒ…å«è™šå‡½æ•°çš„æƒ…å†µï¼š å¤šé‡ç»§æ‰¿1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950class Base1&#123;public: Base1() &#123; printf("Base1\n"); &#125; virtual ~Base1() &#123; printf("~Base1\n"); &#125; virtual void base1_virtual_func() &#123;&#125; int base1_x;&#125;;class Base2&#123;public: Base2() &#123; printf("Base2\n"); &#125; virtual ~Base2() &#123; printf("~Base2\n"); &#125; void base2_not_virtual_func() &#123;&#125; int base2_x;&#125;;class Derived : public Base1, public Base2&#123;public: Derived() &#123; printf("Derived\n"); &#125; ~Derived() &#123; printf("~Derived\n"); &#125; void derived_func() &#123;&#125; void base1_virtual_func() &#123;&#125; int derived_y;&#125;; åˆ™Vertex3dç±»çš„å¯¹è±¡æ¨¡åž‹å¦‚ä¸‹ï¼ŒåŒæ ·é€šè¿‡å›¾å¯ä»¥éžå¸¸æ¸…æ™°çš„ç†è§£å¤šé‡ç»§æ‰¿çš„æƒ…å†µï¼š é‡å¤ç»§æ‰¿ä¹¦ä¸­å¹¶æ²¡æœ‰æ¶‰åŠåˆ°é‡å¤ç»§æ‰¿ï¼Œé‡å¤ç»§æ‰¿æ˜¯æŒ‡æŸä¸ªåŸºç±»è¢«é—´æŽ¥é‡å¤ç»§æ‰¿äº†å¤šæ¬¡ï¼Œå±žäºŽé‡å¤ç»§æ‰¿å’Œé’»çŸ³çº§å¤šé‡è™šæ‹Ÿç»§æ‰¿çš„è¿‡æ¸¡æƒ…å†µï¼Œæœ‰å¿…è¦è¯´æ˜Žä¸€ä¸‹ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061class Base&#123;public: virtual void base_virtual_func() &#123;&#125; void base_func() &#123;&#125; int base_x;&#125;;class Base1 : public Base&#123;public: Base1() &#123; printf("Base1\n"); &#125; virtual ~Base1() &#123; printf("~Base1\n"); &#125; virtual void base_virtual_func() &#123;&#125; virtual void base1_virtual_func() &#123;&#125; int base1_x;&#125;;class Base2 : public Base&#123;public: Base2() &#123; printf("Base2\n"); &#125; virtual ~Base2() &#123; printf("~Base2\n"); &#125; virtual void base_virtual_func() &#123;&#125; void base2_not_virtual_func() &#123;&#125; int base2_x;&#125;;class Derived : public Base1, public Base2&#123;public: Derived() &#123; printf("Derived\n"); &#125; ~Derived() &#123; printf("~Derived\n"); &#125; void derived_func() &#123;&#125; void base1_virtual_func() &#123;&#125; int derived_y;&#125;; é€šè¿‡ä¸‹å›¾çš„å¯¹è±¡æ¨¡åž‹å¯ä»¥çœ‹å‡ºï¼Œé‡å¤ç»§æ‰¿çš„ç±»Baseåœ¨Derivedçš„å®žä¾‹ä¸­å­˜åœ¨ä¸¤ä»½ï¼Œè¦æƒ³ç›´æŽ¥æ›´æ”¹Baseç±»ä¸­çš„base_xå˜é‡çš„å€¼ï¼Œä¸èƒ½é€šè¿‡derived.base_x = 1ç›´æŽ¥èµ‹å€¼çš„æ–¹å¼ï¼Œéœ€è¦è°ƒç”¨derived.Base1::base_x = 1çš„æ–¹å¼æ¥æ›´æ”¹ï¼Œæ›´æ”¹åŽçš„æ•ˆæžœä»…æ›´æ”¹äº†Base1å¯¹è±¡å¯¹åº”çš„Baseç±»å®žä¾‹ä¸­çš„base_xçš„å€¼ã€‚ é’»çŸ³åž‹å¤šé‡è™šæ‹Ÿç»§æ‰¿è¯¥ç§æ–¹å¼çš„ç»§æ‰¿å·²ç»æ˜¯æ‰€æœ‰ç»§æ‰¿ä¸­æœ€ä¸ºå¤æ‚çš„äº†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061class Base&#123;public: virtual void base_virtual_func() &#123;&#125; // è™šåŸºç±»æœ€å¥½æ˜¯ä¸å†æä¾›è™šå‡½æ•° void base_func() &#123;&#125; int base_x;&#125;;class Base1 : virtual public Base&#123;public: Base1() &#123; printf("Base1\n"); &#125; virtual ~Base1() &#123; printf("~Base1\n"); &#125; virtual void base_virtual_func() &#123;&#125; virtual void base1_virtual_func() &#123;&#125; int base1_x;&#125;;class Base2 : virtual public Base&#123;public: Base2() &#123; printf("Base2\n"); &#125; virtual ~Base2() &#123; printf("~Base2\n"); &#125; //virtual void base_virtual_func() &#123;&#125; // ç”±äºŽæ˜¯è™šæ‹Ÿç»§æ‰¿ï¼Œä¸å†èƒ½é‡å¤é‡è½½çˆ¶ç±»çš„è™šå‡½æ•°äº† void base2_not_virtual_func() &#123;&#125; int base2_x;&#125;;class Derived : public Base1, public Base2&#123;public: Derived() &#123; printf("Derived\n"); &#125; ~Derived() &#123; printf("~Derived\n"); &#125; void derived_func() &#123;&#125; void base1_virtual_func() &#123;&#125; int derived_y;&#125;; åœ¨ä¸‹å›¾æ ‡å‡ºçš„åŒºåŸŸä¸­ï¼Œæˆ‘è®¤ä¸ºBaseåº”è¯¥æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™é‡Œåªæ˜¯vs2013ä¸ºäº†å±•ç¤ºçš„è€ƒè™‘è€Œæ·»åŠ ä¸Šçš„ã€‚è™šæ‹Ÿç»§æ‰¿åŸºç±»Baseä½äºŽDerivedç±»å¯¹è±¡çš„é™¤è¯¥æˆå‘˜å¤–çš„æœ€åŽä½ç½®ã€‚ å¯¹è±¡æˆå‘˜çš„æ•ˆçŽ‡ä½œè€…ç»è¿‡è¯•éªŒæµ‹è¯•ï¼Œç»§æ‰¿ä¸‹çš„ç±»æˆå‘˜è¯»å†™æ•ˆçŽ‡è·Ÿè¯»å†™æ™®é€šå˜é‡æ•ˆçŽ‡ç›¸å·®ä¸å¤§ï¼Œè™šæ‹Ÿç»§æ‰¿å¯¹ç¨‹åºçš„è¯»å†™æ•ˆçŽ‡æœ‰å½±å“ã€‚è¿™è·Ÿç†è®ºä¸Šç›¸å·®ä¸å¤§ã€‚ æŒ‡å‘æ•°æ®æˆå‘˜çš„æŒ‡é’ˆå°æŠ€å·§ï¼šå¯ä»¥é€šè¿‡&amp;ç±»å::å˜é‡åçš„è¯­æ³•æ¥èŽ·å–ç±»æˆå‘˜å˜é‡åœ¨ç±»å¯¹è±¡ä¸­çš„ä½ç½®ï¼Œå³ç›¸å¯¹äºŽç±»å¯¹è±¡èµ·å§‹åœ°å€çš„åç§»é‡ã€‚ ä¹¦ä¸­åŽé¢çš„å†…å®¹ä¸ªäººæ„Ÿè§‰æ²¡æœ‰å¿…è¦çœ‹äº†ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ·±åº¦æŽ¢ç´¢C++å¯¹è±¡æ¨¡åž‹è¯»ä¹¦ç¬”è®°_ç¬¬äºŒç« ï¼šæž„é€ å‡½æ•°è¯­ä¹‰å­¦]]></title>
      <url>%2Fpost%2Finside_the_c%2B%2B_object_model_chapter_2%2F</url>
      <content type="text"><![CDATA[2.1 é»˜è®¤æž„é€ å‡½æ•°çš„ç”Ÿæˆåªæœ‰å½“ç¼–è¯‘å™¨éœ€è¦é»˜è®¤æž„é€ å‡½æ•°çš„æ—¶å€™æ‰ä¼šåˆæˆé»˜è®¤æž„é€ å‡½æ•°ï¼Œå¹¶ä¸æ˜¯ç±»åªè¦æ²¡æœ‰å®šä¹‰é»˜è®¤æž„é€ å‡½æ•°ç¼–è¯‘å™¨å°±ä¼šåˆæˆé»˜è®¤æž„é€ å‡½æ•°ï¼Œè€Œæ˜¯åªæœ‰ä»¥ä¸‹å››ç§æƒ…å†µç¼–è¯‘å™¨ä¼šç”Ÿæˆé»˜è®¤æž„é€ å‡½æ•°ã€‚ç¼–è¯‘å™¨åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°ä»…ä¼šå¤„ç†ç±»çš„åŸºç±»å¯¹è±¡å’Œç±»ä¸­çš„æ•°æ®æˆå‘˜å¯¹è±¡ï¼Œå¯¹äºŽç±»ä¸­çš„æ™®é€šç±»åž‹çš„éžé™æ€æ•°æ®æˆå‘˜å¹¶ä¸ä¼šä½œä»»ä½•å¤„ç†ã€‚æ¯”å¦‚ç±»ä¸­ä¸€ä¸ªæŒ‡é’ˆç±»åž‹çš„æ•°æ®æˆå‘˜ï¼Œç¼–è¯‘å™¨åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°ä¸ä¼šå¯¹è¯¥æŒ‡é’ˆä½œä»»ä½•å¤„ç†ï¼Œè¯¥æŒ‡é’ˆå°±æ˜¯ä¸€ä¸ªé‡ŽæŒ‡é’ˆã€‚ å¸¦æœ‰é»˜è®¤æž„é€ å‡½æ•°çš„ç±»æˆå‘˜å¯¹è±¡ä¸€ä¸ªç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æž„é€ å‡½æ•°ï¼Œè¯¥ç±»ä¸­åŒ…å«äº†ä¸€ä¸ªå¸¦æœ‰é»˜è®¤æž„é€ å‡½æ•°ï¼ˆåŒ…æ‹¬äº†åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°å’Œå®šä¹‰çš„é»˜è®¤æž„é€ å‡½æ•°ï¼‰çš„ç±»æˆå‘˜å¯¹è±¡ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨éœ€è¦ä¸ºæ­¤ç±»åˆæˆä¸€ä¸ªé»˜è®¤æž„é€ å‡½æ•°ï¼Œåˆæˆé»˜è®¤æž„é€ å‡½æ•°çš„æ—¶æœºä¸ºè¯¥æž„é€ å‡½æ•°è¢«è°ƒç”¨æ—¶ã€‚åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°é»˜è®¤ä¸ºå†…è”å‡½æ•°ï¼Œå¦‚æžœä¸é€‚åˆä½¿ç”¨å†…è”å‡½æ•°ï¼Œå°±åˆæˆexplicit staticçš„æž„é€ å‡½æ•°ã€‚ é»˜è®¤æž„é€ å‡½æ•°ã€å¤åˆ¶æž„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œç¬¦çš„ç”Ÿæˆéƒ½æ˜¯inlineã€‚inlineå‡½æ•°æœ‰é™æ€é“¾æŽ¥ï¼Œä¸ä¼šè¢«å½“å‰æ–‡ä»¶ä¹‹å¤–çš„æ–‡ä»¶çœ‹åˆ°ã€‚å¦‚æžœå‡½æ•°è¿‡äºŽå¤æ‚ä¸é€‚åˆç”Ÿæˆinlineå‡½æ•°ï¼Œä¼šç”Ÿæˆä¸€ä¸ªexplicit non_inline staticå®žä½“ã€‚ 12345678910111213141516171819202122232425262728293031323334class Dopey&#123;public: Dopey();&#125;;class Sneezy&#123;public: Sneezy(int); Sneezy();&#125;;class Bashful&#123;public: Bashful();&#125;;class Snow_White&#123;public: Dopey dopey; Sneezy sneezy; Bashful bashful;private: int mumble;&#125;;void foo()&#123; Snow_White snow_white;&#125; åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œfoo()ä¸­éœ€è¦è°ƒç”¨Bashfulçš„æž„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºBarç±»ç”Ÿæˆå†…è”çš„é»˜è®¤æž„é€ å‡½æ•°ã€‚Bashfulç±»ä¼šç”Ÿæˆç±»ä¼¼äºŽä¸‹é¢çš„é»˜è®¤æž„é€ å‡½æ•°ã€‚ 123456inline Bar::Bar()&#123; dopey.Dopey::Dopey(); sneezy.Sneezy::Sneezy(); bashful.Bashful::Bashful();&#125; é»˜è®¤æž„é€ å‡½æ•°çš„ç”ŸæˆåŽŸåˆ™ä¸ºï¼šå¦‚æžœç±»Aä¸­åŒ…å«äº†ä¸€ä¸ªæˆ–ä¸€ä¸ªä»¥ä¸Šçš„ç±»æˆå‘˜å¯¹è±¡ï¼Œé‚£ä¹ˆç±»Açš„é»˜è®¤æž„é€ å‡½æ•°å¿…é¡»è°ƒç”¨æ¯ä¸€ä¸ªç±»æˆå‘˜çš„é»˜è®¤æž„é€ å‡½æ•°ã€‚ä½†æ˜¯ä¸ä¼šåˆå§‹åŒ–æ™®é€šç±»åž‹çš„å˜é‡ï¼Œå› æ­¤åœ¨ä¸Šä¾‹ä¸­å¿…é¡»æ‰‹åŠ¨åˆå§‹åŒ–mumbleå˜é‡ã€‚åœ¨ç¼–è¯‘å™¨åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°ä¸­ç±»æˆå‘˜å˜é‡çš„é»˜è®¤æž„é€ å‡½æ•°çš„è°ƒç”¨æ¬¡åºä¸ºæˆå‘˜å˜é‡åœ¨ç±»ä¸­çš„å£°æ˜Žé¡ºåºï¼Œè¯¥é¡ºåºå’Œç±»æˆå‘˜çš„æž„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨é¡ºåºæ˜¯ä¸€è‡´çš„ã€‚ å¦‚æžœSnow_Whiteç±»å®šä¹‰äº†å¦‚ä¸‹çš„é»˜è®¤æž„é€ å‡½æ•°ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨å®šä¹‰çš„æž„é€ å‡½æ•°ä¸­å¢žåŠ è°ƒç”¨ç±»æˆå‘˜å˜é‡çš„ä»£ç ï¼Œè°ƒç”¨ç±»æˆå‘˜å˜é‡ç›¸åº”æž„é€ å‡½æ•°çš„é¡ºåºä»ç„¶å’Œç±»æˆå‘˜å˜é‡åœ¨ç±»ä¸­çš„å£°æ˜Žé¡ºåºä¸€è‡´ã€‚ ä»Žä¸­å¯ä»¥çœ‹å‡ºç±»æˆå‘˜å˜é‡çš„æž„é€ å‡½æ•°çš„è°ƒç”¨è¦æ—©äºŽç±»æž„é€ å‡½æ•°çš„è°ƒç”¨ï¼Œè¿™ä¸€ç‚¹æ˜¯åœ¨å¾ˆå¤šé¢è¯•é¢˜ä¸­ç»å¸¸ä¼šè§åˆ°çš„ã€‚ 1234567891011121314// å®šä¹‰çš„é»˜è®¤æž„é€ å‡½æ•°ï¼ŒåŒ…å«äº†ç±»æˆå‘˜å˜é‡sneezyçš„åˆå§‹åŒ–åˆ—è¡¨Snow_White::Snow_White() : sneezy(1024)&#123; mumble = 2048;&#125;// ç¼–è¯‘å™¨æ‰©å¼ åŽçš„é»˜è®¤æž„é€ å‡½æ•°Snow_White::Snow_White() : sneezy(1024)&#123; dopey.Dopey::Dopey(); // è°ƒç”¨é»˜è®¤æž„é€ å‡½æ•° sneezy.Sneezy::Sneezy(1024); // è‡ªåŠ¨è°ƒç”¨åˆé€‚çš„æž„é€ å‡½æ•° bashful.Bashful::Bashful(); mumble = 2048;&#125; å¸¦æœ‰é»˜è®¤æž„é€ å‡½æ•°çš„åŸºç±»åœ¨ç»§æ‰¿æœºåˆ¶ä¸­ï¼Œä¸€ä¸ªæ²¡æœ‰æž„é€ å‡½æ•°çš„å­ç±»ç»§æ‰¿è‡ªå¸¦æœ‰é»˜è®¤æž„é€ å‡½æ•°çš„åŸºç±»ï¼Œåˆ™å­ç±»çš„æž„é€ å‡½æ•°ä¼šè¢«åˆæˆï¼Œå¹¶ä¸”ä¼šè°ƒç”¨åŸºç±»çš„é»˜è®¤æž„é€ å‡½æ•°ã€‚è‹¥å­ç±»æ²¡æœ‰å®šä¹‰é»˜è®¤æž„é€ å‡½æ•°ï¼Œå´å®šä¹‰äº†å¤šä¸ªå¸¦å‚æ•°çš„æž„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šæ‰©å¼ æ‰€æœ‰è‡ªå®šä¹‰çš„æž„é€ å‡½æ•°ï¼Œå°†è°ƒç”¨åŸºç±»é»˜è®¤æž„é€ å‡½æ•°çš„ä»£ç æ·»åŠ åˆ°å­ç±»çš„æž„é€ å‡½æ•°çš„æœ€å‰é¢ã€‚ ä»Žè¿™é‡Œå¯ä»¥çœ‹å‡ºç»§æ‰¿æœºåˆ¶ä¸­ï¼Œé¦–å…ˆæž„é€ åŸºç±»ï¼ŒåŽæž„é€ å­ç±»ï¼Œè¿™ç‚¹ä¹Ÿæ˜¯é¢è¯•é¢˜ä¸­ç»å¸¸é‡åˆ°çš„ã€‚ å¸¦æœ‰è™šå‡½æ•°çš„ç±»ä¸ºäº†å®žçŽ°è™šå‡½æ•°æˆ–è™šç»§æ‰¿æœºåˆ¶ï¼Œç¼–è¯‘å™¨éœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»å¯¹è±¡è®¾å®švptrï¼ˆæŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼‰çš„åˆå§‹å€¼ï¼Œä½¿å…¶æŒ‡å‘ä¸€ä¸ªvtblï¼ˆè™šå‡½æ•°è¡¨ï¼‰çš„åœ°å€ã€‚å¦‚æžœç±»åŒ…å«æž„é€ å‡½æ•°åˆ™ç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€äº›ä»£ç æ¥å®Œæˆæ­¤å·¥ä½œï¼›å¦‚æžœç±»æ²¡æœ‰ä»»ä½•æž„é€ å‡½æ•°ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šåœ¨åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°ä¸­æ·»åŠ ä»£ç æ¥å®Œæˆæ­¤å·¥ä½œã€‚ å¸¦æœ‰è™šåŸºç±»çš„ç±»éœ€è¦ç»´æŠ¤å†…éƒ¨æŒ‡é’ˆæ¥å®žçŽ°è™šç»§æ‰¿ã€‚ 2.2 å¤åˆ¶æž„é€ å‡½æ•°çš„ç”Ÿæˆå¤åˆ¶æž„é€ å‡½æ•°è¢«è°ƒç”¨æœ‰ä¸‰ç§æƒ…å†µï¼š æ˜Žç¡®çš„ä¸€ä¸ªå¯¹è±¡çš„å†…å®¹ä½œä¸ºå¦å¤–ä¸€ä¸ªå¯¹è±¡çš„åˆå§‹å€¼ã€‚å¦‚X xx = xæˆ–X xx(x)ã€‚ å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ã€‚ ç±»å¯¹è±¡ä½œä¸ºå‡½æ•°è¿”å›žå€¼æ—¶ã€‚ åˆæˆå¤åˆ¶æž„é€ å‡½æ•°çš„æƒ…å†µå¦‚æžœä¸€ä¸ªç±»æ²¡æœ‰æä¾›æ˜¾å¼çš„å¤åˆ¶æž„é€ å‡½æ•°ï¼ŒåŒé»˜è®¤æž„é€ å‡½æ•°ä¸€æ ·ï¼Œåªæœ‰ç¼–è¯‘å™¨è®¤ä¸ºéœ€è¦åˆæˆå¤åˆ¶æž„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨æ‰ä¼šåˆæˆä¸€ä¸ªã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»€ä¹ˆæ—¶å€™ç¼–è¯‘å™¨æ‰åˆæˆå¤åˆ¶æž„é€ å‡½æ•°å‘¢ï¼Ÿä¹¦ä¸­ç»™å‡ºçš„ç­”æ¡ˆä¸ºå½“ä¸€ä¸ªç±»ä¸å±•çŽ°å‡ºbitwise copy semantics1çš„æ—¶å€™ã€‚å…·ä½“æ¥è¯´æœ‰ä»¥ä¸‹å››ç§æƒ…å†µï¼Œè·Ÿç±»çš„é»˜è®¤æž„é€ å‡½æ•°çš„åˆæˆåŸºæœ¬ä¸€è‡´ã€‚ å½“ç±»å†…åŒ…å«ä¸€ä¸ªç±»æˆå‘˜å˜é‡ä¸”ç±»æˆå‘˜å˜é‡å£°æ˜Žäº†å¤åˆ¶æž„é€ å‡½æ•°ã€‚ å½“ç±»ç»§æ‰¿çš„åŸºç±»æœ‰å¤åˆ¶æž„é€ å‡½æ•°ï¼ˆå¤åˆ¶æž„é€ å‡½æ•°å¯ä»¥æ˜¯æ˜¾ç¤ºå£°æ˜Žæˆ–åˆæˆçš„ï¼‰ ä¸€ä¸ªç±»ä¸­åŒ…å«äº†ä¸€ä¸ªæˆ–å¤šä¸ªè™šå‡½æ•° ç±»ç»§æ‰¿è‡ªä¸€ä¸ªæˆ–å¤šä¸ªè™šåŸºç±» å…¶ä¸­å‰é¢ä¸¤ç§æƒ…å†µå¿…é¡»å°†æˆå‘˜å˜é‡æˆ–åŸºç±»çš„å¤åˆ¶æž„é€ å‡½æ•°çš„è°ƒç”¨æ’å…¥åˆ°åˆæˆçš„å¤åˆ¶æž„é€ å‡½æ•°ä¸­ï¼Œå› æ­¤ä¸æ˜¯æŒ‰ç…§æŒ‰æ¯”ç‰¹å¤åˆ¶çš„ã€‚ç¬¬ä¸‰å’Œç¬¬å››ç‚¹åˆ†åˆ«ç”¨ä¸‹é¢ä¸¤å°èŠ‚æ¥è¯´æ˜Žã€‚ é‡æ–°è®¾å®šè™šå‡½æ•°è¡¨çš„æŒ‡é’ˆå½“ç¼–è¯‘å™¨éœ€è¦åœ¨ç±»å¯¹è±¡ä¸­è®¾å®šä¸€ä¸ªæŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆæ—¶ï¼Œè¯¥ç±»å°±ä¸èƒ½å†ä½¿ç”¨æŒ‰ä½å¤åˆ¶çš„å¤åˆ¶æž„é€ å‡½æ•°äº†ã€‚ 123456789101112131415161718192021222324252627class ZooAnimal&#123;public: ZooAnimal(); virtual ~ZooAnimal(); virtual void animate(); virtual void draw();&#125;;class Bear : public ZooAnimal&#123;public: Bear(); void animate(); void draw(); virtual void dance();&#125;;void foo()&#123; // yogiçš„vptræŒ‡å‘Bearçš„è™šå‡½æ•°è¡¨ Bear yogi; // frannyçš„vptræŒ‡å‘ZooAnimalçš„è™šå‡½æ•°è¡¨ ZooAnimal franny = yogi; draw(yogi); // è°ƒç”¨Bear::draw() draw(franny); // è°ƒç”¨ZooAnimal::draw()&#125; åˆæˆå‡ºæ¥çš„ZooAnimalçš„å¤åˆ¶æž„é€ å‡½æ•°ä¼šæ˜Žç¡®è®¾å®šå¯¹è±¡çš„vptræŒ‡å‘ZooAnimalçš„è™šå‡½æ•°è¡¨ï¼Œè€Œä¸æ˜¯ä»Žå³å€¼ä¸­å¤åˆ¶è¿‡æ¥çš„å€¼ã€‚ å¤„ç†virtual base class subobjectsè™šåŸºç±»çš„å­˜åœ¨éœ€è¦ç‰¹åˆ«å¤„ç†ï¼Œä¸€ä¸ªç±»å¯¹è±¡å¦‚æžœä»¥å¦å¤–ä¸€ä¸ªç±»å¯¹è±¡ä½œä¸ºåˆå§‹å€¼ï¼Œè€ŒåŽè€…æœ‰ä¸€ä¸ªvirtual base class subobjectsï¼Œä¹Ÿä¼šä½¿æŒ‰æ¯”ç‰¹å¤åˆ¶çš„å¤åˆ¶æž„é€ å‡½æ•°å¤±æ•ˆã€‚ æ¯ä¸€ä¸ªç¼–è¯‘å™¨éƒ½å¿…é¡»è®©æ´¾ç”Ÿçš„ç±»å¯¹è±¡çš„virtual base class subobjectsä½ç½®åœ¨æ‰§è¡ŒæœŸå‡†å¤‡å®Œæ¯•ã€‚æŒ‰æ¯”ç‰¹å¤åˆ¶çš„å¤åˆ¶æž„é€ å‡½æ•°å¯èƒ½ä¼šç ´åvirtual base class subobjectsçš„ä½ç½®ï¼Œå› æ­¤ç¼–è¯‘å™¨å¿…é¡»åœ¨è‡ªå·±åˆæˆå‡ºæ¥çš„å¤åˆ¶æž„é€ å‡½æ•°ä¸­ä¿®æ”¹ã€‚ 1234567891011121314151617181920212223class ZooAnimal&#123;public: ZooAnimal(); virtual ~ZooAnimal(); virtual void animate(); virtual void draw();&#125;;class Raccoon : public virtual ZooAnimal&#123;public: Raccoon(); Raccoon(int val);&#125;;class RedPanda : public Raccoon&#123;public: RedPanda(); RedPanda(int val);&#125;; æ–‡ç« çš„å†…å®¹æ²¡æœ‰å®Œå…¨ç†è§£ï¼Œè™šç»§æ‰¿æœºåˆ¶ä½¿ç”¨è¾ƒå°‘ï¼Œå¯ä»¥æš‚æ—¶ä¸ç”¨ç†è§£ã€‚ 2.3 ç¨‹åºè½¬åŒ–è¯­æ„å­¦æœ¬èŠ‚æ¶‰åŠåˆ°äº†ç¼–è¯‘å™¨ä¼˜åŒ–çš„ç›¸å…³ç»†èŠ‚ï¼Œç”±äºŽè¾ƒå®¹æ˜“ç†è§£ï¼Œå¯ä»¥ç›´æŽ¥çœ‹ä¹¦ä¸Šå†…å®¹ï¼Œå¯¹å·¥ä½œå¸®åŠ©ä¸å¤§ã€‚åŒ…æ‹¬ç±»å¯¹è±¡çš„åˆå§‹åŒ–ä¼˜åŒ–ï¼Œå‡½æ•°å‚æ•°çš„åˆå§‹åŒ–ä¼˜åŒ–ï¼Œå‡½æ•°è¿”å›žå€¼çš„åˆå§‹åŒ–ä¼˜åŒ–ï¼Œä½¿ç”¨è€…å±‚é¢çš„ä¼˜åŒ–å’Œç¼–è¯‘å™¨å±‚é¢çš„ä¼˜åŒ–ã€‚ å¦‚æžœä¸æ˜¯ä¸ŠèŠ‚æŒ‡å®šçš„å››ç§æƒ…å†µï¼Œä¸éœ€è¦æ˜¾ç¤ºçš„å£°æ˜Žå¤åˆ¶æž„é€ å‡½æ•°ï¼Œå› ä¸ºæ˜¾ç¤ºçš„å£°æ˜Žçš„å¤åˆ¶æž„é€ å‡½æ•°å¾€å¾€æ•ˆçŽ‡ä¸å¦‚ç¼–è¯‘å™¨åˆæˆçš„å¤åˆ¶æž„é€ å‡½æ•°æ•ˆçŽ‡é«˜ã€‚ç¼–è¯‘å™¨åˆæˆçš„å¤åˆ¶æž„é€ å‡½æ•°åˆ©ç”¨memcpy()æˆ–memset()å‡½æ•°æ¥åˆæˆï¼Œæ•ˆçŽ‡æœ€é«˜ã€‚ 2.4 ç±»æˆå‘˜çš„åˆå§‹åŒ–åˆ—è¡¨è¯´åˆ°ç±»æˆå‘˜çš„åˆå§‹åŒ–åˆ—è¡¨å¿…ç„¶æƒ³èµ·ä¸€ä¸ªç»å¸¸å‡ºçŽ°çš„é¢è¯•é¢˜ï¼šæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„é¡ºåºæ˜¯æŒ‰ç…§æˆå‘˜å˜é‡åœ¨ç±»ä¸­å£°æ˜Žçš„é¡ºåºã€‚å¦‚æžœæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„é¡ºåºå’Œæˆå‘˜å˜é‡åœ¨ç±»ä¸­å£°æ˜Žçš„é¡ºåºä¸ä¸€è‡´æ—¶æŸäº›ç¼–è¯‘å™¨ä¼šæç¤ºè­¦å‘Šã€‚ç¼–è¯‘å™¨å°†æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„ä»£ç æ’å…¥åˆ°æž„é€ å‡½æ•°çš„æœ€å¼€å§‹ä½ç½®ï¼Œä¼˜å…ˆçº§è·Ÿè°ƒç”¨ç±»ç±»åž‹çš„æˆå‘˜å˜é‡çš„é»˜è®¤æž„é€ å‡½æ•°æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯è·Ÿç±»ç±»åž‹æˆå‘˜å˜é‡åœ¨ç±»ä¸­çš„å£°æ˜Žæ¬¡åºç›¸å…³ã€‚ ç±»æˆå‘˜åˆå§‹åŒ–å¿…é¡»ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„å››ç§æ–¹å¼ï¼š åˆå§‹åŒ–ä¸€ä¸ªå¼•ç”¨ç±»åž‹çš„æˆå‘˜å˜é‡ åˆå§‹åŒ–ä¸€ä¸ªconstçš„æˆå‘˜å˜é‡ è°ƒç”¨åŸºç±»çš„æž„é€ å‡½æ•°ï¼Œä¸”åŸºç±»çš„æž„é€ å‡½æ•°é‡‡ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹å¼ è°ƒç”¨ç±»æˆå‘˜çš„æž„é€ å‡½æ•°ï¼Œä¸”ç±»æˆå‘˜çš„æž„é€ å‡½æ•°é‡‡ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹å¼ 12345678910111213class Word&#123;public: Word() &#123; _name = 0; _cnt = 0; &#125;private: String _name; int _cnt;&#125;; æ­¤ä¾‹å­åœ¨æž„é€ å‡½æ•°ä¸­å¯¹æˆå‘˜å˜é‡è¿›è¡Œæµ‹è¯•ï¼Œç¼–è¯‘å™¨å¯¹æž„é€ å‡½æ•°çš„æ‰©å¼ æ–¹å¼å¯èƒ½ä¼šç”Ÿæˆå¦‚ä¸‹çš„ä¼ªç ï¼š 12345678Word::Word()&#123; _name.String::String(); String temp = String(0); _name.String::operator=(temp); temp.String::~String(); _cnt = 0;&#125; æž„é€ å‡½æ•°ä¸­ç”Ÿæˆäº†ä¸€ä¸ªä¸´æ—¶æ€§çš„Stringå¯¹è±¡ï¼Œè¿™æµªè´¹äº†ä¸€éƒ¨åˆ†å¼€é”€ã€‚å¦‚æžœå°†æž„é€ å‡½æ•°è¯¥æˆå¦‚ä¸‹çš„å®šä¹‰æ–¹å¼ï¼š 1234Word() : _name(0) &#123; _cnt = 0; &#125; å³å°†å…¶ä¸­çš„ç±»æˆå‘˜å˜é‡æ›´æ”¹ä¸ºæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹å¼æ¥åˆå§‹åŒ–ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†æž„é€ å‡½æ•°æ‰©å¼ ä¸ºå¦‚ä¸‹æ–¹å¼ï¼Œè¿™æ ·å‡å°‘äº†ä¸´æ—¶å¯¹è±¡ï¼Œæä¾›äº†ç¨‹åºæ•ˆçŽ‡ã€‚ 12345Word::Word()&#123; _name.String::String(0); _cnt = 0;&#125; å¼•ç”³ä¸‹é¢ä¾‹å­æ˜¯å¯¹æœ¬ç« å†…å®¹çš„ä¸€ä¸ªç®€å•æ¦‚å†µï¼Œä¹Ÿæ˜¯é¢è¯•é¢˜ä¸­ç»å¸¸ç¢°åˆ°çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768class A&#123;public: A() &#123; printf("A\n"); &#125; ~A() &#123; printf("~A\n"); &#125; &#125;;class B&#123;public: B(int n) &#123; printf("B_%d\n", n); &#125; ~B() &#123; printf("~B\n"); &#125; &#125;;class Base&#123;public: Base() &#123; printf("Base\n"); &#125; virtual ~Base() &#123; printf("~Base\n"); &#125;&#125;;class Derived : public Base&#123;public: Derived() : _m(1), _b(_m) &#123; printf("Derived\n"); &#125; ~Derived() &#123; printf("~Derived\n"); &#125; int _m; // ä¸‹é¢ä¸¤ä¸ªç±»ç±»åž‹çš„æˆå‘˜éåŽ†çš„æž„é€ å‡½æ•°çš„è°ƒç”¨æ¬¡åºè·Ÿåœ¨ç±»ä¸­çš„å£°æ˜Žæ¬¡åºæ˜¯ç›¸å…³çš„ B _b; // ç±»ç±»åž‹çš„ç±»æˆå‘˜å˜é‡ï¼Œåˆå§‹åŒ–åˆ—è¡¨ä¸­åŒ…å«è¯¥å˜é‡ A _a; // ç±»ç±»åž‹çš„ç±»æˆå‘˜å˜é‡&#125;;int main()&#123; // è°ƒç”¨åŸºç±»çš„æž„é€ å‡½æ•°-&gt;è°ƒç”¨å­ç±»ç±»ç±»åž‹æˆå‘˜å˜é‡çš„æž„é€ å‡½æ•°-&gt;è°ƒç”¨å­ç±»çš„æž„é€ å‡½æ•° Derived derived; return 0; // æ ¹æ®æ ˆçš„ç‰¹ç‚¹ï¼Œç±»æžæž„çš„æ¬¡åºè·Ÿæž„é€ æ˜¯ç›¸åçš„&#125; ä¸Šè¿°ä»£ç æ‰§è¡Œçš„ç»“æžœä¸ºï¼š 12345678BaseB_1ADerived~Derived~A~B~Base æ€»ç»“æœ¬ç« è®²è¿°äº†åˆæˆçš„é»˜è®¤æž„é€ å‡½æ•°ã€åˆæˆçš„å¤åˆ¶æž„é€ å‡½æ•°å’Œæž„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ã€‚å…¶ä¸­å¦‚æžœç±»æ²¡æœ‰å®šä¹‰é»˜è®¤æž„é€ å‡½æ•°ï¼Œåªæœ‰åœ¨æ–‡ä¸­æåˆ°çš„å››ç§æƒ…å†µä¸‹ç¼–è¯‘å™¨æ‰ä¼šåˆæˆé»˜è®¤æž„é€ å‡½æ•°ã€‚åˆæˆçš„å¤åˆ¶æž„é€ å‡½æ•°åœ¨éœ€è¦çš„æ—¶å€™ç¼–è¯‘å™¨å°±ä¼šç”Ÿæˆï¼Œé»˜è®¤æ˜¯æŒ‰å¯¹è±¡æ¯”ç‰¹å¤åˆ¶çš„æ–¹å¼å®žçŽ°ï¼Œæœ‰å››ç§æƒ…å†µä¸‹ç¼–è¯‘å™¨æ˜¯ä¸æŒ‰ç…§æ¯”ç‰¹å¤åˆ¶çš„æ–¹å¼ã€‚ [1] bitwise copy semanticsä¹¦ä¸­ç¿»è¯‘ä¸ºâ€œä½é€æ¬¡æ‹·è´â€ï¼Œå°±æ˜¯æŒ‰ç…§å†…å­˜ä¸­çš„å­—èŠ‚è¿›è¡Œå¤åˆ¶ç±»ï¼Œæ„Ÿè§‰ç¿»è¯‘ä¸å¦‚ä¸ç¿»è¯‘å¥½ç†è§£ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ·±åº¦æŽ¢ç´¢C++å¯¹è±¡æ¨¡åž‹è¯»ä¹¦ç¬”è®°_ç¬¬ä¸€ç« ï¼šå…³äºŽå¯¹è±¡]]></title>
      <url>%2Fpost%2Finside_the_c%2B%2B_object_model_chapter_1%2F</url>
      <content type="text"><![CDATA[C++å¯¹è±¡æ¨¡åž‹æ˜¯æ·±å…¥äº†è§£C++å¿…é¡»æŽŒæ¡çŸ¥è¯†ï¼Œè€Œã€Šæ·±åº¦æŽ¢ç´¢C++å¯¹è±¡æ¨¡åž‹ã€‹ä¸€ä¹¦åŸºæœ¬æ˜¯ç†è§£C++å¯¹è±¡æ¨¡åž‹çš„å¿…é¡»ä¹‹ä½œã€‚å¯æƒœæœ¬ä¹¦çœ‹èµ·æ¥æ›´åƒæ˜¯ä½œè€…Stanley B.Lippmançš„éšç¬”ï¼Œè¯­è¨€è¯™è°ï¼Œè·Ÿä½œè€…çš„å¦å¤–ä¸€æœ¬ç»å…¸ä¹‹ä½œã€ŠC++ Primerã€‹æœ‰ç€å¤©å£¤ä¹‹åˆ«ï¼Œä¾¯æ·çš„ç¿»è¯‘ä¹Ÿæ˜¯æ™¦æ¶©éš¾æ‡‚ï¼Œè·Ÿä¾¯æ·ç¿»è¯‘çš„å…¶ä»–ä½œå“ä¹Ÿæœ‰ä¸€å®šå·®è·ï¼ˆè¿™ä¸¤ä½å¤§å¸ˆè¿˜çœŸæ˜¯å‡‘åˆ°ä¸€å—äº†ï¼‰ï¼Œæ‰€ä»¥è¿™æœ¬ä¹¦çœ‹èµ·æ¥è¿˜æ˜¯å¾ˆåƒåŠ›çš„ã€‚è¿™é‡ŒæŒ‘é€‰æ–‡ä¸­é‡ç‚¹è®°å½•ç¬”è®°ï¼Œå¿½ç•¥æ‰¯æ·¡éƒ¨åˆ†ï¼Œä»¥å¤‡å¿˜ã€‚ C++çš„é¢å¤–å¼€é”€C++ç›¸æ¯”Cè¯­è¨€å¤šå‡ºäº†å°è£…ã€ç»§æ‰¿å’Œå¤šæ€ç­‰ç‰¹æ€§ï¼Œæ–°ç‰¹æ€§çš„å¢žåŠ å¿…ç„¶ä¼šä»¥ç‰ºç‰²ä¸€éƒ¨åˆ†æ€§èƒ½ä¸ºä»£ä»·ã€‚é¢å¤–å¼€é”€ä¸»è¦æ˜¯ç”±virtualå¼•èµ·çš„ï¼ŒåŒ…æ‹¬ï¼š è™šå‡½æ•°æœºåˆ¶ï¼šéœ€è¦åœ¨è¿è¡ŒæœŸé—´åŠ¨æ€ç»‘å®šã€‚ è™šåŸºç±»ï¼šå¤šæ¬¡å‡ºçŽ°åœ¨ç»§æ‰¿ä¸­çš„åŸºç±»æœ‰ä¸€ä¸ªå•ä¸€ä¸”è¢«å…±äº«çš„å®žä½“ã€‚ C++å¯¹è±¡æ¨¡åž‹C++ç±»æˆå‘˜å˜é‡åŒ…æ‹¬ï¼šé™æ€æˆå‘˜å˜é‡å’Œéžé™æ€æˆå‘˜å˜é‡ã€‚æˆå‘˜å‡½æ•°åŒ…æ‹¬ï¼šé™æ€æˆå‘˜å‡½æ•°ã€éžé™æ€æˆå‘˜å‡½æ•°å’Œè™šå‡½æ•°ã€‚ å•ä¸€ç±»çš„å¯¹è±¡æ¨¡åž‹123456789101112class Point &#123; public: Point(float xval); virtual ~Point(); float x() const; /* éžé™æ€æˆå‘˜å‡½æ•° */ static int PointCount(); /* é™æ€æˆå‘˜å‡½æ•° */ protected: virtual ostream&amp; print(ostream &amp;os) const; /* è™šå‡½æ•° */ float _x; /* éžé™æ€æˆå‘˜å˜é‡ */ static int _point_count; /* é™æ€æˆå‘˜å‡½æ•° */ &#125; è¯¥ç±»çš„c++å¯¹è±¡æ¨¡åž‹å¦‚ä¸‹å›¾ï¼š é€šè¿‡å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼š éžé™æ€æ•°æ®æˆå‘˜ç›´æŽ¥æ”¾åˆ°äº†ç±»çš„å¯¹è±¡é‡Œé¢ã€‚ é™æ€æ•°æ®æˆå‘˜æ”¾åˆ°æ‰€æœ‰çš„ç±»å¯¹è±¡çš„å¤–é¢ï¼Œå³é™æ€å­˜å‚¨åŒºã€‚ é™æ€å’Œéžé™æ€çš„æˆå‘˜å‡½æ•°æ”¾åœ¨ç±»å¯¹è±¡ä¹‹å¤–ï¼Œå³ä»£ç åŒºã€‚ å¦‚æžœç±»ä¸­å­˜åœ¨è™šå‡½æ•°ï¼Œåˆ™ä¼šäº§ç”Ÿä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼ˆvtblï¼‰ï¼Œè¡¨ä¸­çš„è¡¨é¡¹å­˜å‚¨äº†æŒ‡å‘è™šå‡½æ•°çš„æŒ‡é’ˆã€‚åœ¨ç±»å¯¹è±¡çš„å¼€å§‹ä½ç½®æ·»åŠ ä¸€ä¸ªæŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼ˆvptrï¼‰ã€‚vptrçš„èµ‹å€¼ç”±ç±»çš„æž„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦è‡ªåŠ¨å®Œæˆã€‚ è™šå‡½æ•°è¡¨çš„ç¬¬ä¸€é¡¹æŒ‡å‘ç”¨æ¥ä½œä¸ºåŠ¨æ€ç±»åž‹è¯†åˆ«ç”¨çš„type_infoå¯¹è±¡ã€‚ C++æ”¯æŒçš„ç¼–ç¨‹èŒƒå¼(programming paradigms) ç¨‹åºæ¨¡åž‹ï¼šé€šä¿—çš„ç†è§£æˆCè¯­è¨€çš„é¢å‘è¿‡ç¨‹ç¼–ç¨‹æ–¹å¼ã€‚ æŠ½è±¡æ•°æ®ç±»åž‹æ¨¡åž‹ï¼šé€šè¿‡ç±»å°è£…æˆä¸ºäº†ä¸€ç§æ–°çš„æ•°æ®ç±»åž‹ï¼Œè¯¥æ•°æ®ç±»åž‹æœ‰åˆ«äºŽåŸºæœ¬æ•°æ®ç±»åž‹ã€‚ é¢å‘å¯¹è±¡æ¨¡åž‹ï¼šåˆ©ç”¨å°è£…ã€ç»§æ‰¿å’Œå¤šæ€çš„ç‰¹æ€§ã€‚ C++æ”¯æŒå¤šæ€çš„æ–¹å¼ éšå«çš„è½¬æ¢æ“ä½œï¼Œä¾‹å¦‚é€šè¿‡çˆ¶ç±»çš„æŒ‡é’ˆæŒ‡å‘å­ç±»çš„å¯¹è±¡ã€‚shape *ps = new circle(); é€šè¿‡è™šå‡½æ•°æœºåˆ¶ã€‚ é€šè¿‡dynamic_castå¼ºåˆ¶ç±»åž‹è½¬æ¢ã€‚å¦‚if (circle *pc = dynamic_cast&lt;circle*&gt;(ps))ã€‚ ç±»å¯¹è±¡çš„å†…å­˜æž„æˆ éžé™æ€æ•°æ®æˆå‘˜ã€‚ ç”±äºŽå†…å­˜å¯¹é½è€Œæ·»åŠ åˆ°éžé™æ€æ•°æ®æˆå‘˜ä¸­çš„ç©ºç™½ã€‚ ä¸ºäº†æ”¯æŒè™šæœºåˆ¶ï¼ˆåŒ…æ‹¬ï¼šè™šå‡½æ•°å’Œè™šç»§æ‰¿ï¼‰è€Œé¢å¤–å ç”¨çš„å†…å­˜ã€‚ åˆ©ç”¨å·¥å…·æŸ¥çœ‹å¯¹è±¡æ¨¡åž‹æŸ¥çœ‹C++ç±»çš„å¯¹è±¡æ¨¡åž‹æœ‰ä¸¤ç§æ¯”è¾ƒç®€ä¾¿çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨Virtual Studioåœ¨è°ƒè¯•æ¨¡å¼ä¸‹æŸ¥çœ‹å¯¹è±¡çš„ç»„æˆï¼Œä½†æ˜¯å¾€å¾€æ˜¾ç¤ºçš„å¯¹è±¡ä¸å…¨;å¦å¤–ä¸€ç§æ˜¯é€šè¿‡Virtual Studioä¸­clå‘½ä»¤æ¥é™æ€æŸ¥çœ‹ã€‚ æœ¬æ–‡é€‰æ‹©ä½¿ç”¨clå·¥å…·çš„æ–¹å¼ï¼Œclå‘½ä»¤ä½äºŽC:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\binç›®å½•ä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨å¯ä»¥å°†è¯¥å˜é‡æ·»åŠ åˆ°PathçŽ¯å¢ƒå˜é‡ä¸­ã€‚åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œclå‘½ä»¤ï¼Œæç¤ºâ€œè®¡ç®—æœºä¸­ä¸¢å¤±mspdb80.dllâ€ï¼Œè¯¥æ–‡ä»¶ä½äºŽC:\Program Files (x86)\Microsoft Visual Studio 9.0\Common7\IDEç›®å½•ä¸‹ï¼Œå°†msobj80.dll,mspdb80.dll,mspdbcore.dll,mspdbsrv.exeå››ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\binç›®å½•ä¸‹å³å¯ã€‚ é€šè¿‡cl xxx.cpp /d1reportSingleClassLayoutXXå‘½ä»¤å³å¯æŸ¥çœ‹æ–‡ä»¶ä¸­ç±»çš„å¯¹è±¡æ¨¡åž‹ï¼Œå…¶ä¸­è¯¥å‘½ä»¤æœ€åŽçš„XXéœ€è¦æ›´æ¢ä¸ºè¦æŸ¥çœ‹çš„ç±»åï¼Œä¸­é—´æ²¡æœ‰ç©ºæ ¼ã€‚ æ‰§è¡Œä¸Šè¿°å‘½ä»¤æ—¶æç¤ºï¼šæ— æ³•æ‰“å¼€æ–‡ä»¶â€œLIBCMT.libâ€ã€‚è¯¥æ–‡ä»¶ä½äºŽC:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\libç›®å½•ä¸‹ï¼Œå°†è¯¥ç›®å½•æ·»åŠ åˆ°çŽ¯å¢ƒå˜é‡libä¸­ã€‚é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œæ‰§è¡Œclæç¤ºï¼šæ— æ³•æ‰“å¼€æ–‡ä»¶â€œkernel32.libâ€ï¼Œå°†C:\Program Files\Microsoft SDKs\Windows\v6.0A\Libæ·»åŠ libçŽ¯å¢ƒå˜é‡ä¸­ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Javaè¯»å–Cè¯­è¨€å†™çš„äºŒè¿›åˆ¶æ–‡ä»¶]]></title>
      <url>%2Fpost%2Fjava_call_c_bit_file%2F</url>
      <content type="text"><![CDATA[æœ¬ç¨‹åºå°†è®²è§£javaè°ƒç”¨Cè¯­è¨€å†™çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å†…å®¹åˆ©ç”¨Javaè¯»å‡ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;union data &#123; int inter; char ch; &#125;;struct Test&#123; int length; char arr[20]; void toBigEndian() &#123; union data c; c.inter = 1; if(c.ch == 1) &#123; // å°ç«¯ unsigned char temp; unsigned char *tempData = (unsigned char *)&amp;length; for (int i=0; i &lt; sizeof(int) / 2; i++) &#123; temp = tempData[i]; tempData[i] = tempData[sizeof(int) - i - 1]; tempData[sizeof(int) - i - 1] = temp; &#125; &#125; &#125; &#125;;int main()&#123; Test test; memset(&amp;test, 0, sizeof(Test)); test.length = 0x12345678; strcpy(test.arr, &quot;hello world&quot;); test.toBigEndian(); FILE *file = fopen(&quot;test.txt&quot;, &quot;w+&quot;); fwrite(&amp;test, sizeof(Test), 1, file); fclose(file); return 1;&#125; æœ¬ä¾‹å­ä¸­çš„Cç¨‹åºå°†ä¸€ä¸ªåŒ…å«intå˜é‡å’Œcharæ•°ç»„çš„ç»“æž„ä½“å†™å…¥æ–‡ä»¶ä¸­ã€‚ å…¶ä¸­éœ€è¦è€ƒè™‘åˆ°æœºå™¨çš„å¤§å°ç«¯é—®é¢˜ï¼Œjavaç¨‹åºé‡‡ç”¨çš„å¤§ç«¯å­—èŠ‚åºï¼Œå› æ­¤è¿™é‡Œå°†Cçš„ç»“æž„ä½“åœ¨å†™å…¥æ–‡ä»¶æ—¶è½¬æ¢æˆå¤§ç«¯å­—èŠ‚åºã€‚åœ¨å°†ç»“æž„ä½“å†™å…¥åˆ°æ–‡ä»¶æ—¶ï¼Œå°†å…¶ä¸­çš„intç±»åž‹å˜é‡è½¬æ¢æˆå¤§ç«¯å­—èŠ‚åºï¼Œå¦‚æžœæœºå™¨æœ¬èº«å³ä¸ºå¤§ç«¯å­—èŠ‚åºåˆ™ä¸éœ€è¦è½¬æ¢å­—èŠ‚åºã€‚ javaç«¯è¯»å–çš„æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import java.io.File;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.IOException;public class Main &#123; public static int byte2int(byte[] res) &#123; int targets = (res[3] &amp; 0xff) | (res[2] &lt;&lt; 8) | (res[1] &lt;&lt; 16) | (res[0] &lt;&lt; 24); return targets; &#125; /** * @param args */ public static void main(String[] args) &#123; File file = new File("test.txt"); if (!file.exists()) &#123; System.out.println("æ–‡ä»¶ä¸å­˜åœ¨"); return; &#125; byte[] data = new byte[50]; try &#123; FileInputStream fis = new FileInputStream(file); int size = fis.read(data); System.out.println("è¯»å–åˆ°" + size + "ä¸ªå­—èŠ‚çš„æ•°æ®"); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; // è½¬æ¢å®Œæˆçš„intå€¼ int value = byte2int(data); System.out.printf("%x\n", value); StringBuffer sb = new StringBuffer(); for (int i=4; i&lt;24; i++) &#123; System.out.print((char)data[i]); &#125; &#125;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è¯ç‰©è¿‡åº¦ä¾èµ–]]></title>
      <url>%2Fpost%2Frely_on_drug_over%2F</url>
      <content type="text"><![CDATA[è¯æ˜¯ä»€ä¹ˆï¼Ÿè¯æ˜¯äººç±»æ–‡æ˜Žçš„å‘å±•è¿‡ç¨‹ä¸­ä¸æ–­å…‹æœè‡ªèº«ç–¾ç—…çš„å¿…ç„¶äº§ç‰©ã€‚è°è®©å¤–æ˜Ÿäººé€ äººçš„æ—¶å€™æ²¡æœ‰æŠŠäººç±»åˆ¶é€ çš„é‚£ä¹ˆå®Œç¾Žï¼Œè¦æ˜¯äººç±»é™¤äº†ç”Ÿè€æ­»ä¹‹å¤–æ²¡æœ‰ç—…è¿™ä¸ªçŠ¶æ€ï¼Œæˆ–è®¸è¯ç‰©å°±ä¸ä¼šäº§ç”Ÿã€‚ çŽ°å®žç”Ÿæ´»ä¸­ï¼Œè¿‡åº¦ä¾èµ–è¯ç‰©çš„äººæ¯”æ¯”çš†æ˜¯ï¼Œå°¤å…¶æ˜¯åœ¨ä¸­å›½ã€‚åœ¨ä¸­å›½ï¼Œè¯ç‰©å·²ç»ç”¨åˆ°äº†æ»¡å¤©é£žçš„ç¨‹åº¦äº†ã€‚å¾—ä¸ªå°æ„Ÿå†’ä¼šåŽ»è¯åº—ä¹°è¯ï¼ŒåŒ»ç”Ÿé™¤äº†æŽ¨èä½ æ„Ÿå†’è¯ä¹‹å¤–ï¼Œè‚¯å®šä¼šæŽ¨èä½ æ¶ˆç‚Žè¯ã€‚ä»¥è‡³äºŽå¤§ä¼—æ™®éè®¤ä¸ºï¼Œæœ‰ç‚Žç—‡å¿…é¡»åƒæ¶ˆç‚Žè¯ã€‚æ„Ÿå†’çƒ§åˆ°38åº¦ï¼ŒåŒ»é™¢åŒ»ç”Ÿä¼šæŽ¨èä½ æ‰“é’ˆã€‚æ„Ÿå†’çƒ§åˆ°38.5åº¦ï¼ŒåŒ»ç”Ÿä¼šæŽ¨èä½ æŒ‚ä¸Šä¸‰å¤©åŠç“¶ï¼Œç¾Žå…¶åæ›°æŒ‚åŠç“¶å¥½çš„å¿«ï¼Œå¦‚æžœæ‚£è€…çš„å¿ƒç†èƒ½èµ·åˆ°æ¢å¤å¿«çš„ä½œç”¨çš„è¯ï¼Œé‚£ä¹ˆæŒ‚åŠç“¶åº”è¯¥æ˜¯ç®¡ç”¨çš„ã€‚ æˆ‘æ²¡åŽ»è¿‡è¥¿æ–¹å›½å®¶ï¼Œä½†æˆ‘çŒœæµ‹åœ¨è¥¿æ–¹å›½å®¶ï¼ŒåŒ»è¯åˆ†ç¦»çš„å å¤šæ•°ã€‚å¾—ç—…äº†æƒ³åƒä¸ªæ¶ˆç‚Žè¯è§£è§£é¦‹å¯æ²¡é‚£ä¹ˆå®¹æ˜“ï¼Œæ¶ˆç‚Žè¯å²‚èƒ½æ˜¯æƒ³åƒå°±åƒï¼Œæ²¡æœ‰åŒ»ç”Ÿçš„å¤„æ–¹è¯åº—æ€Žæ•¢å–ç»™æ‚£è€…ï¼Œåˆä¸æ˜¯å£é¦™ç³–ã€‚æƒ³æ‰“ä¸ªé’ˆè¿‡è¿‡ç˜¾æ›´æ˜¯éš¾äº†ï¼Œå–œæ¬¢èŠ±é’±è®©é’ˆæ‰Žç€å±è‚¡çŽ©çš„æ´»ä¸­å›½äººæ¯”è¾ƒå–œæ¬¢ã€‚è¦æƒ³æŒ‚ä¸ªåŠç“¶æ•°æ»´ç­”çŽ©ï¼Œé™¤éžçƒ§åˆ°äº†40åº¦ä¸€æ˜ŸæœŸé«˜çƒ§ä¸é€€ï¼Œå¦åˆ™è¿˜æ˜¯è‡ªå·±åœ¨å®¶æŒ‚ç“¶è‡ªæ¥æ°´æ•°ç€çŽ©å§ã€‚ä»¥ä¸Šæœ‰æœæ’°çš„æˆåˆ†ï¼Œä½†æ˜¯è¯æ¿€ç†ä¸æ­ªï¼Œä½ æ‡‚å¾—ã€‚ è¦çŸ¥é“ä¸­å›½è¾ƒè¥¿æ–¹çš„æ–‡æ˜Žç¨‹åº¦è¿˜æœ‰å·®è·ã€‚è¥¿æ–¹å‘æ˜Žçš„è¥¿è¯åœ¨è¥¿æ–¹éƒ½è°¨æ…Žä½¿ç”¨äº†ï¼Œåå€’åœ¨ä¸­å›½å¤§è¡Œå…¶é“ã€‚è°å®¶æ²¡ä¸€æŠ½å±‰ç“¶ç“¶ç½ç½ï¼Œè¿™å¯éƒ½æ˜¯æ¯’è¯å•Šã€‚é™¤äº†å¯ä»¥æ‹‰åŠ¨GDPå¤–ï¼Œæœ‰ç†ç”±æ€€ç–‘ä¸­å›½æ‹…å¿ƒæœªæ¥äººå£è€é¾„åŒ–åŠ å‰§ç»™ç»æµŽå‘å±•é€ æˆåŽ‹åŠ›è€Œé‡‡å–çš„æŽªæ–½ã€‚ æ˜¯æ—¶å€™é˜è¿°æœ¬æ–‡çš„è§‚ç‚¹äº†ï¼Œè¯ç‰©ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œèƒ½å°‘ç”¨å°½é‡å°‘ç”¨ã€‚ ä¸­è¯è®²ç©¶æ˜¯è¯ä¸‰åˆ†æ¯’ï¼Œæ¢æˆè¥¿è¯æ˜¯è¯äº”åˆ†æ¯’åº”è¯¥æ¯«ä¸å¤¸å¼ å§ã€‚å½“æ—¶æ²»å¥½äº†æˆ‘ä»¬èº«ä½“çš„ç—…ç—‡ï¼Œæ„Ÿè§‰ä¸€èº«è½»æ¾äº†ï¼Œä½†æ˜¯åŽæ‚£æ— ç©·ã€‚äººç±»æœ¬èº«å°±å…·å¤‡ä¸€å®šçš„ä¿®å¤èƒ½åŠ›ï¼Œè€Œä¸”ä¿®å¤èƒ½åŠ›å¾ˆå¼ºã€‚åœ¨äººç±»è‡ªæˆ‘ä¿®å¤èƒ½åŠ›è®¸å¯çš„èŒƒå›´å†…éžè¦ç¡¬ç”¨è¯ç‰©åŠ é€Ÿæ²»ç–—ï¼Œé‚£é€ æˆçš„å¿…ç„¶ç»“æžœå°±æ˜¯èº«ä½“ä¸‹æ¬¡ä¸å¹²äº†ï¼Œæœ‰è¯ç‰©å¯ä»¥å¯¹æŠ—ç–¾ç—…ï¼Œé‚£ç”¨èº«ä½“çš„ä¿®å¤èƒ½åŠ›å¹²å˜›ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œèº«ä½“å°±å†ä¹Ÿæ‰›ä¸ä½ç–¾ç—…äº†ã€‚ åƒè¥¿è¯å¤šäº†å¾€å¾€æ²»çš„ç—…å¥½äº†ï¼Œå´å¸¦æ¥äº†å…¶ä»–ç–¾ç—…ã€‚æ¯”å¦‚æ„Ÿå†’äº†åƒæ¶ˆç‚Žè¯ï¼Œåƒç€åƒç€æŠŠèƒƒç»™åƒåäº†ã€‚æ²»æ„Ÿå†’çš„åŒ»ç”Ÿæ‰ä¸ä¼šç®¡ä½ çš„å…¶ä»–èº«ä½“éƒ¨ä½æƒ…å†µï¼Œåæ­£èƒƒåƒåäº†æ‰¾ä¸åˆ°ä»–ã€‚è¿™ä¹Ÿæ˜¯åŒ»é™¢åˆ†é‚£ä¹ˆå¤šç§‘å®¤çš„ä¸€ä¸ªå¼Šç«¯ï¼Œåªä»Žå±€éƒ¨çœ‹é—®é¢˜ï¼Œä¸èƒ½ä»Žæ•´ä½“ä¸Šçœ‹é—®é¢˜ï¼Œæ‰€ä»¥çœ‹åˆ°çš„é—®é¢˜æ€»æ˜¯ç‰‡é¢çš„ã€‚ è§£å†³è¯ç‰©ä¾èµ–çš„é—®é¢˜ä»Žä¸‰æ–¹é¢ç€æ‰‹è§£å†³ã€‚ä¸€æ–¹é¢è¦ä»Žå¿ƒç†ä¸Šæˆ˜èƒœè‡ªå·±ï¼Œä¸è¦è¿·ä¿¡è¯ç‰©ï¼Œæ›´ä¸èƒ½ä¾èµ–è¯ç‰©ã€‚å¦ä¸€æ–¹é¢ï¼Œå¤šè¿åŠ¨ï¼Œç”Ÿå‘½åœ¨äºŽè¿åŠ¨ï¼ŒçœŸç†ä¸­çš„çœŸç†ã€‚ç¬¬ä¸‰ï¼Œçœ¼å…‰æ”¾é•¿è¿œï¼Œå¤šçœ‹å…¶ä»–å›½å®¶ï¼Œå¤šäº†è§£é•¿å¯¿çš„äººæ˜¯æ€Žä¹ˆç”Ÿå­˜çš„ã€‚ çœŸå¿ƒå¸Œæœ›è¿‡åº¦ä¾èµ–è¯ç‰©çš„äººå¯ä»¥èµ°å‡ºè¿™ä¸ªè¯¯åŒºã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[C/C++ç¨‹åºå‘˜é¢è¯•å®å…¸è¯»ä¹¦ç¬”è®°]]></title>
      <url>%2Fpost%2FC_C%2B%2B_review%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡æ‘˜å½•ã€ŠC/C++ç¨‹åºå‘˜é¢è¯•å®å…¸ã€‹ä¸€ä¹¦ä¸­æˆ‘è®¤ä¸ºéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚ æ•°ç»„æŒ‡é’ˆä¸ŽæŒ‡é’ˆæ•°ç»„çš„åŒºåˆ«æ•°ç»„æŒ‡é’ˆå³æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œå®šä¹‰æ•°ç»„æŒ‡é’ˆçš„ä»£ç å¦‚int (*ap)[2]ï¼Œå®šä¹‰äº†ä¸€ä¸ªæŒ‡å‘åŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„çš„æ•°ç»„æŒ‡é’ˆã€‚å¦‚æžœæ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œåˆ™è¯¥æ•°ç»„ä¸ºæŒ‡é’ˆæ•°ç»„ã€‚å®žä¾‹ä»£ç å¦‚ä¸‹ï¼š1char *chararr[] = &#123;&quot;C&quot;, &quot;C++&quot;, &quot;Java&quot;&#125;; int (*ap)[2]å’Œint *ap[2]çš„åŒºåˆ«å°±æ˜¯å‰ä¸€ä¸ªæ˜¯æ•°ç»„æŒ‡é’ˆï¼ŒåŽä¸€ä¸ªæ˜¯æŒ‡é’ˆæ•°ç»„ã€‚å› ä¸ºâ€[]â€çš„ä¼˜å…ˆçº§é«˜äºŽâ€*â€ï¼Œå†³å®šäº†è¿™ä¸¤ä¸ªè¡¨è¾¾å¼çš„ä¸åŒã€‚ publicã€protectedã€privateä¿®é¥°æˆå‘˜å˜é‡æˆ–æˆå‘˜å‡½æ•° publicï¼šå¯ä»¥è¢«è¯¥ç±»ä¸­çš„å‡½æ•°ã€å­ç±»çš„å‡½æ•°ã€å‹å…ƒå‡½æ•°å’Œè¯¥ç±»çš„å¯¹è±¡è®¿é—®ã€‚ protectedï¼šå¯ä»¥è¢«è¯¥ç±»ä¸­çš„å‡½æ•°ã€å­ç±»çš„å‡½æ•°å’Œå‹å…ƒå‡½æ•°è®¿é—®ï¼Œä¸èƒ½è¢«è¯¥ç±»çš„å¯¹è±¡è®¿é—®ã€‚ privateï¼šåªèƒ½ç”±è¯¥ç±»ä¸­çš„å‡½æ•°æˆ–å‹å…ƒå‡½æ•°è®¿é—®ã€‚ é»˜è®¤ä¸ºprivateæƒé™ã€‚ç”¨åœ¨ç»§æ‰¿ä¸­ publicï¼šåŸºç±»æˆå‘˜ä¿æŒè‡ªå·±çš„è®¿é—®çº§åˆ«ï¼ŒåŸºç±»çš„publicæˆå‘˜ä¸ºæ´¾ç”Ÿç±»çš„publicæˆå‘˜ï¼ŒåŸºç±»çš„protectedæˆå‘˜ä¸ºæ´¾ç”Ÿç±»çš„protectedæˆå‘˜ã€‚ protectedï¼šåŸºç±»çš„publicå’Œprotectedæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æœªprotectedæˆå‘˜ã€‚ privateï¼šåŸºç±»çš„æ‰€æœ‰æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä¸ºprivateæˆå‘˜ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å¥´éš¶çš„å¿ƒæ€]]></title>
      <url>%2Fpost%2Fslave_mind%2F</url>
      <content type="text"><![CDATA[ä»Šå¤©ä¸‹åˆæ–°åŠžçš„å·¥èµ„é“¶è¡Œå¡åŠžä¸‹æ¥äº†ï¼ŒåŽŸå…ˆå·¥èµ„å¡ç”¨çš„æ‹›å•†é“¶è¡Œçš„é‡‘å¡ï¼ŒçŽ°åœ¨æ–°åŠžäº†ä¸ªå†œæ‘ä¿¡ç”¨ç¤¾çš„æ™®é€šå¡ï¼Œæœ‰ç§ä»ŽåŸŽå¸‚çš„å¤§é©¬è·¯èµ°åˆ°äº†èƒ¡åŒé‡Œçš„åŸŽä¸­æ‘çš„æ„Ÿè§‰ã€‚äºŽæ˜¯å¤§å®¶é«˜é«˜å…´å…´çš„è¹¦è¹¦è·³è·³çš„å±é¢ å±é¢ çš„åŽ»é¢†æ¥çš„æ–°çš„å·¥èµ„å¡ã€‚ä¸ºä»€ä¹ˆå¤§å®¶ä¼šé«˜å…´å‘¢ï¼Ÿè¿™ä¹Ÿæ˜¯æœ¬æ–‡çš„å› å­ï¼Œå› ä¸ºå¤§å®¶éƒ½å·²ç»æœ‰ä¸¤ä¸ªæœˆæ²¡å‘å·¥èµ„äº†ï¼Œæ–°å¡åˆ°è¯´æ˜Žå·¥èµ„åœ¨ä¸ä¹…çš„å°†æ¥ä¹Ÿä¼šåˆ°ï¼Œå¤§å®¶å½“ç„¶é«˜å…´å•¦ã€‚ å¯æ˜¯æ·±å…¥æƒ³ä¸€ä¸‹ï¼Œå¤§å®¶çœŸçš„åº”è¯¥é«˜å…´å—ï¼Ÿå·¥èµ„æœ¬æ¥å°±æ˜¯å…¬å¸å•æ–¹é¢æ‹–æ¬ å¤§å®¶çš„ï¼Œç»™å¤§å®¶é€ æˆçš„æŸå¤±å‘˜å·¥å®½å®å¤§é‡æ²¡æœ‰è·Ÿå…¬å¸è®¡è¾ƒä¹Ÿå°±ç½¢äº†ã€‚å·¥èµ„å…³ç³»åˆ°æ°‘ç”Ÿï¼Œç›´æŽ¥å½±å“äº†å‘˜å·¥æ¯ä¸ªäººçš„ç”Ÿæ´»ã€‚è¦æ˜¯æåˆ°æ³•å›½ä¼°è®¡ä¸€å¤©ä¸å‘å·¥èµ„ï¼Œå‘˜å·¥æ—©å°±é›†ä½“ç½¢å·¥äº†å§ã€‚æ¢å¡åŠ¿å¿…ä¼šé€ æˆå¤§å®¶çš„éº»çƒ¦ï¼ŒåŽŸæ¥çš„é“¶è¡Œå¡å¯èƒ½å°±è¦é”€æˆ·ï¼Œæ–°çš„é“¶è¡Œæ˜¯å¦è¶³å¤Ÿæ–¹ä¾¿ã€‚æˆ‘ä»¬å´æ˜¯å¿ƒå®½ä½“èƒ–ï¼Œå…¬å¸çš„é”™æ—¢å¾€ä¸å’Žï¼Œåªè¦çœ‹åˆ°å‘å·¥èµ„çš„å¸Œæœ›æˆ‘ç…§æ ·åŠªåŠ›ä¸ºå…¬å¸å¥‰çŒ®ã€‚ è¿™å°±å¥½æ¯”æ˜¯åœ¨ä¸­å›½å‡æœŸå‡ å¤©é«˜é€Ÿè·¯ä¸æ”¶è´¹ï¼Œæœ‰è½¦ä¸€æ—å°±å–œå‡ºæœ›å¤–ï¼Œâ€œåœ¨ä¸­å›½çœŸå¹¸ç¦ï¼Œå¯ä»¥èµšåˆ°å›½å®¶ä¾¿å®œäº†â€ã€‚æ®Šä¸çŸ¥ï¼Œä¸–ç•Œå·²å»ºæˆ14ä¸‡å…¬é‡Œæ”¶è´¹å…¬è·¯ï¼Œ10ä¸‡å…¬é‡Œåœ¨æˆ‘å›½ã€‚ä¸çŸ¥é“äº†è§£è¿™ä¸ªä¹‹åŽï¼Œæœ‰è½¦ä¸€æ—è¿˜ç¬‘å¾—å‡ºæ¥å—ï¼Ÿæˆ‘ä¼°è®¡è¿žå“­çš„å¿ƒæ€éƒ½æœ‰äº†ã€‚ é‚£å¤§å®¶åº”è¯¥æ˜¯ä»€ä¹ˆå¿ƒæ€åŽ»é¢†å·¥èµ„å¡å‘¢ï¼Ÿå¹³å¸¸å¿ƒå°±å¥½ã€‚è‡³å°‘ä¸è‡³äºŽè¡¨çŽ°å‡ºå±é¢ å±é¢ çš„å¿ƒæ€å§ã€‚ ä¸­å›½ä¸¤åƒå¤šå¹´çš„å°å»ºç»Ÿæ²»å¯¹äººæ°‘çš„æ€æƒ³å½±å“æ˜¯æ·±è¿œçš„ï¼Œäººä»¬å¿ƒä¸­æ—©å°±å»ºç«‹èµ·äº†äººåˆ†ä¸‰å…­ä¹ç­‰çš„ç­‰çº§è§‚å¿µã€‚è€Œä¸”è¿™ç§ç­‰çº§è§‚å¿µå½±å“æ˜¯æ·±è¿œçš„ï¼Œæ‚„æ— å£°æ¯çš„æ·±å…¥åˆ°æˆ‘ä»¬æ‰€è°“çš„â€œç¤¾ä¼šä¸»ä¹‰å›½å®¶â€å†…éƒ¨çš„å„ä¸ªè§’è½ã€‚ç”µè§†é‡Œæ•´å¤©çš„å®«å»·å‰§ï¼Œæ ¼æ ¼ä¸Žçš‡é˜¿çŽ›é½é£žï¼Œå¤ªç›‘å…±ä¸«é¬Ÿä¸€è‰²ï¼Œè¿™äº›å¯æ˜¯å…¸åž‹çš„æ°‘æƒä¸å…¬ï¼Œæ°‘ç”Ÿä¸å¹³ã€‚æˆ‘ä»¬å¯æ˜¯å°±é è¿™äº›æ–‡åŒ–åžƒåœ¾å…»å¤§çš„ï¼Œå¿ƒé‡Œæ€Žä¹ˆä¼šæ²¡æœ‰äº†å¥´éš¶çš„æ€æƒ³å‘¢ï¼Ÿç™¾å§“å¿ƒä¸­çš„æ€•å®˜ã€å‚å®˜çš„æ€æƒ³åŠè€ƒå®˜çš„è¡Œä¸ºç›´æŽ¥å¤åˆ¶åˆ°äº†çŽ°åœ¨ä¸æ›¾æ”¹å˜ï¼Œå¥´éš¶çš„å¿ƒæ€ä¹Ÿå°±ä¸ä¼šæ”¹å˜ã€‚ å¥½åœ¨çŽ°ä»£æ–‡æ˜Žæ¥äº†ï¼Œäº’è”ç½‘æ—¶ä»£æ¥äº†ã€‚è¥¿æ–¹çš„æ–‡æ˜Žæ¸æ¸æ·±å…¥ï¼Œæˆ‘ä»¬æœ‰çš„æ•‘ã€‚æ‰“å€’xxï¼Œæ‰“å€’xxï¼ŒæœŸå¾…æ¥ä¸€åœºè½°è½°çƒˆçƒˆçš„é©æ–°å§ã€‚ å¦‚æžœè¯´å¥´éš¶çš„å¿ƒæ€ä¸ºâ€œç»™ä½ ç‚¹é˜³å…‰ä½ å°±ç¿çƒ‚ï¼Œç»™ä½ ç‚¹æ´ªæ°´ä½ å°±æ³›æ»¥â€ï¼ŒæœŸå¾…æˆ‘ä»¬çš„å¿ƒæ€å˜æˆâ€œæ²¡æœ‰é˜³å…‰ä¹Ÿè¦æ¯”æ¯”ç¿çƒ‚ï¼Œæ²¡æœ‰æ´ªæ°´ä¹Ÿè¦è¯•å›¾æ³›æ»¥â€ã€‚ é¢˜å›¾ï¼šã€Šè¢«é‡Šæ”¾çš„å§œæˆˆã€‹ç”µå½±æµ·æŠ¥]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸€ä¸ªå‚»Ã—å¯¹è‚¡å¸‚çš„åæ§½]]></title>
      <url>%2Fpost%2Ffoolish_talk_stock%2F</url>
      <content type="text"><![CDATA[è¿™æ˜¯æ¥è‡ªä¸€ä¸ªä¿å®ˆä¸»ä¹‰è€…çš„geekerçš„å‚»Xçš„åæ§½ã€‚ æœ€è¿‘è‚¡å¸‚æš´è·Œï¼Œæˆ‘å´åœ¨æ€è€ƒä¸ºä½•æœ‰è‚¡ç¥¨è¿™ä¸ªä¸œè¥¿ã€‚æˆ‘ä»Žæœªå…¥å¸‚ä¸”å¯¹è‚¡å¸‚ä¸€ç‚¹å…´è¶£éƒ½æ²¡æœ‰ç”šè‡³æ˜¯åæ„Ÿã€‚æˆ‘æ‰€è®¤è¯†çš„è‚¡å¸‚æ¸¸æˆè§„åˆ™å°±æ˜¯ä»·ä½ä½Žçš„æ—¶å€™å¤§è‚¡ä¸œå…¥å¸‚ï¼Œä»·ä½é«˜çš„æ—¶å€™å¤§è‚¡ä¸œæŠ›å”®ï¼Œå¤§è‚¡ä¸œä¸€åä¸€åžé’±åˆ°æ‰‹äº†ï¼Œè‚¡æ°‘è¢«æŽç©ºäº†ã€‚å¾ˆå¤šè‚¡æ°‘å´ç”¨ä¾¥å¹¸å¿ƒç†æ¥å…¥å¸‚ï¼Œæœ‰èµ”æœ‰èµšï¼Œå‡ºå¸‚çš„æ—¶å€™è£¤å­éƒ½èµ”è¿›åŽ»äº†ã€‚ æžä¸æ‡‚é‚£ä¹ˆå¤šç»æµŽå­¦ä¸“å®¶ã€åšå£«ã€ç¡•å£«ã€å­¦å£«ï¼Œå´æžä¸å®šä¸€ä¸ªç»æµŽå­¦ã€‚è‹¥æ˜¯çœŸæžä¸æ‡‚ï¼Œç´¢æ€§å°±ä¸è¦åŽ»ç ”ç©¶ï¼Œåæ­£å­¦äº†ä¹Ÿç™½å­¦ï¼Œæµªè´¹è¿™ä¸ªèµ„æºè¯¯äººæ­§é€”å¹²å•¥ã€‚ä¸€ä¸ªç –å®¶è¯´ç†Šï¼Œå¦ä¸€ä¸ªç –å®¶è¯´ç‰›ï¼Œç›¸äº’å¯¹æŽæœ‰æ„æ€å—ï¼Ÿ ä¸ºä»€ä¹ˆæžè‚¡å¸‚è¿™ä¸ªä¸œè¥¿ï¼Œè¿™æ˜¯å«Œç»æµŽå­¦ä¸å¤Ÿå¤æ‚å—ï¼Ÿè‚¡å¸‚éš¾é“èƒ½æŽ¨åŠ¨äººç±»ç¤¾ä¼šçš„è¿›æ­¥ï¼Ÿè‚¡å¸‚æ˜¯ä¼ä¸šèžèµ„çš„ä¸€ç§æ‰‹æ®µï¼Œè€Œèƒ½ä¸Šå¸‚çš„å…¬å¸å¾€å¾€æ˜¯ç›¸å¯¹ä¸å¤ªç¼ºé’±çš„ï¼Œè€Œæœ€ç¼ºé’±çš„æ˜¯å°åž‹åˆ›ä¸šå…¬å¸ã€‚è¿™ä¹Ÿå°±æ—©å°±äº†å¾ˆå¤šå…¬å¸æŠŠä¸Šå¸‚å¥—çŽ°ä½œä¸ºäº†ä¸€ä¸ªç›®æ ‡ï¼Œè¿™ä¸æ˜Žæ‘†ç€æŠ•æœºå–å·§ï¼Œä¸€å¤œæš´å¯Œã€‚ä¼ é”€æ˜¯é›†åˆäº†åº•å±‚çš„åŠ›é‡èµ„é‡‘è€Œæž„æˆäº†é‡‘å­—å¡”ï¼Œä¼ä¸šé€šè¿‡ä¸Šå¸‚æ‰‹æ®µèŽ·å–åˆ°äº†è‚¡æ°‘çš„èµ„æœ¬æ¥è¿ä½œè€Œå‘å±•è‡ªèº«ï¼Œåªä¸è¿‡é‡‘å­—å¡”åªæœ‰ä¸¤å±‚ç½¢äº†ã€‚ å‡å¦‚æ²¡æœ‰è‚¡å¸‚ï¼Œå¾ˆå¤šä¸Šç­æ—å°±ä¼šååœ¨åŠžå…¬æ¡Œä¸Šå®‰å¿ƒå·¥ä½œï¼Œè€Œä¸ç”¨æ—¶æ—¶åˆ»åˆ»å…³å¿ƒç€åƒè¿‡å±±è½¦ä¸€æ ·çš„æ­»éš¾çœ‹çš„æŠ˜çº¿ï¼Œä¹Ÿä¸ç”¨è®¾ä¸ªè€æ¿é”®æå¿ƒåŠèƒ†çš„æ‹…å¿ƒè‡ªå·±çš„bossæ‚„æ‚„èµ°åˆ°è‡ªå·±çš„é¢å‰ã€‚éš¾é“å®‰å®‰å¿ƒå¿ƒå…¨èº«å¿ƒæŠ•å…¥å·¥ä½œä¸æ˜¯æ›´å¥½ï¼Ÿ å‡å¦‚æ²¡æœ‰è‚¡å¸‚ï¼Œæˆ–è®¸å°±å°‘äº†ä¸€ä¸ªè¡Œä¸šï¼Œä¸€éƒ¨åˆ†äººå°±å¯ä»¥å…¨èº«å¿ƒæŠ•å…¥åˆ°å…¶ä»–è¡Œä¸šï¼Œå¸¦åŠ¨å…¶ä»–è¡Œä¸šçš„å‘å±•ï¼ŒæŽ¨åŠ¨åŽ†å²è¿›æ­¥ï¼Œå²‚ä¸å¿«å“‰ï¼ å‡å¦‚æ²¡æœ‰è‚¡å¸‚ï¼Œå°±ä¸ä¼šæœ‰äººèµšå‘äº†ä¹‹åŽï¼Œåˆ«äººä¹Ÿæ€»æƒ³ç€ä¸åŠ³è€ŒèŽ·ï¼Œé—´æŽ¥åŠ©é•¿äº†äººä»¬æŠ•æœºå–å·§çš„æ°”ç„°ã€‚ å‡å¦‚æ²¡æœ‰è‚¡å¸‚ï¼Œå°±ä¸ä¼šå› æ­¤è€Œå‘å®¶ï¼Œå½“ç„¶è¿™æ˜¯å°‘æ•°ã€‚éƒ­ç¾Žç¾Žçš„æ¯äº²ä¹Ÿä¸ä¼šç”¨4ä¸‡å—é’±èµšåˆ°100ä¸‡ï¼Œä¹Ÿä¸ä¼šæœ‰éƒ­ç¾Žç¾Žçš„ä»Šå¤©ï¼Œä¹Ÿä¸ä¼šæœ‰çº¢åå­—ä¼šçš„ä»Šå¤©ï¼Œå½“ç„¶è¿™åªæ˜¯ä¸ªç¬‘è¯ã€‚æ²¡æœ‰è‚¡å¸‚éƒ­ç…§æ ·å¯ä»¥ç‚«å¯Œï¼Œå› ä¸ºäººå®¶æœ¬æ¥å°±ä¸æ˜¯é çš„è‚¡å¸‚ã€‚æ²¡æœ‰è‚¡å¸‚çº¢åå­—ä¼šç…§æ ·ä¼šæ²¡è½ï¼Œå› ä¸ºä»–ä»¬çš„æœ¬è´¨å°±æ˜¯é‚£æ ·ã€‚ å‡å¦‚æ²¡æœ‰è‚¡å¸‚ï¼Œå°±ä¸ä¼šæœ‰äººå› ä¸ºè‚¡å¸‚è€Œè·³æ¥¼çš„æ–°é—»ï¼Œå°±ä¸ä¼šæœ‰äººå°†å…»è€é’±éƒ½æ­è¿›åŽ»äº†ï¼Œå°±ä¸ä¼šâ€¦ è¯·ä¸è¦èŒè´£æˆ‘ï¼Œå› ä¸ºæˆ‘æ˜¯ä¸€ä¸ªå‚»Xï¼Œæ°¸è¿œä¸è¦å’Œå‚»å­è®²é“ç†ï¼Œå¦åˆ™ä½ ä¹Ÿä¼šå˜æˆä¸€ä¸ªå‚»Xï¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åšè‡ªå·±]]></title>
      <url>%2Fpost%2Fdo_your_self%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘æœ‰åŒäº‹æƒ³ç¦»èŒäº†ï¼Œä¸Šåˆåœ¨è·Ÿé¢†å¯¼ä¸€ç•ªè°ˆè¯ä¹‹åŽåˆæœ‰äº›çŠ¹è±«äº†ã€‚å¤§æ¦‚é¢†å¯¼ä¼šè¯´äº›å…¬å¸çŠ¶å†µåŠä¸ªäººå‘å±•ä¹‹ç±»çš„è¯è¯­æ¥è¯´æœåŒäº‹ä¸è¦ç¦»èŒï¼Œç”¨å¤§è…¿æƒ³æƒ³éƒ½çŸ¥é“çš„äº‹ã€‚åŒäº‹è‚¯å®šä¼šè¯´è‡ªå·±çš„å‡ ä¸ªæŠ±æ€¨ï¼Œé¢†å¯¼è‚¯å®šä¼šä¸€ä¸€è¿˜å‡»ï¼Œåˆ°æœ€åŽé¢†å¯¼é¢†å¯¼ä¸€æ‘Šæ‰‹â€œçœ‹æ²¡ä»€ä¹ˆé¡¾è™‘çš„å§ï¼Œå¹´è½»äººå°±æ˜¯å†²åŠ¨ï¼Œä½ å†æƒ³æƒ³å§ï¼Œå…ˆå›žåŽ»å¥½å¥½å¹²æ´»å§â€ã€‚ æˆ‘åœ¨è¿™é‡Œæƒ³è¯´çš„äº‹ä¸è¦ç®¡åˆ«äººæ€Žä¹ˆæƒ³ï¼Œåšè‡ªå·±ï¼ŒåšæŒè‡ªå·±çš„æƒ³æ³•ã€‚ ä¸€åƒä¸ªäººçœ¼é‡Œæœ‰ä¸€åƒä¸ªéƒ­ç¾Žç¾Žã€‚æœ‰äººè¯´éƒ­ç¾Žç¾Žçš„è‡ªæ‹ç…§çœŸæ¼‚äº®ï¼Œæœ‰äººè¯´éƒ­ç¾Žç¾Žå¸å¦†ä¹‹åŽç›´æŽ¥æ¯ä¸‰è§‚ï¼Œæœ‰äººè¯´æ˜¯éƒ­ç¾Žç¾Žæ¯æŽ‰äº†çº¢åå­—ä¼šï¼Œæœ‰äººè¯´æ²¡æœ‰éƒ­ç¾Žç¾Žçº¢åå­—ä¼šä¸€æ ·çŽ©å®Œï¼Œæœ‰äººè¯´éƒ­ç¾Žç¾Žç‚«å¯Œå°±æ˜¯ä¸ºäº†å‡ºåï¼Œæœ‰äººè¯´éƒ­ç¾Žç¾Žæ˜¯å¶åƒï¼Œæœ‰äººè¯´éƒ­ç¾Žç¾Žæ˜¯å‘•åƒï¼Œæœ‰äººè¯´éƒ­ç¾Žç¾Žä¸ºå’±ä»¬çš„æ¸¸æˆä»£è¨€åº”è¯¥å¾ˆæ£’ï¼Œæœ‰äººè¯´â€¦ åŒä¸€ä»¶äº‹æƒ…åœ¨ä¸åŒäººçœ¼é‡Œå°±ä¼šæœ‰ä¸åŒçš„çœ‹æ³•ã€‚å½“ç„¶æˆ‘çš„è§‚ç‚¹ï¼Œåœ¨åˆ«äººçœ‹æ¥ä¹Ÿè®¸æ˜¯é‚£ä¹ˆçš„åæ„Ÿæˆ–ä¸å±‘ä¸€é¡¾ã€‚ åšæŠ€æœ¯çš„å¤©å¤©è·Ÿæœºå™¨æ‰“äº¤é“ï¼Œå¾€å¾€è¯­è¨€è¡¨è¾¾èƒ½åŠ›è¾ƒå¼±ï¼Œä¸å–„è¾©ï¼Œæ›´åˆ«æå¿½æ‚ åˆ«äººäº†ã€‚ç»è¿‡é¢†å¯¼åªè¨€ç‰‡è¯­çš„è½°ç‚¸ï¼Œè‡ªå·±å·²ç»æ˜¯èŒ«ç„¶ä¸çŸ¥æ‰€æŽªï¼Œè‡ªå·±æœ€åˆçš„åšæŒåœ¨æ¸æ¸é€€åŽ»ï¼Œåˆ«äººçš„æƒ³æ³•æ­£åœ¨å¡«å……ä½ çš„å¤§è„‘ï¼Œæ­å–œä½ è¢«æ´—è„‘äº†ã€‚ä½†æ˜¯è¿™ç§æ´—è„‘å¾€å¾€æ˜¯æš‚æ—¶æ€§çš„ï¼Œå¾€å¾€å½“æ˜¯ç”Ÿæ•ˆï¼Œäº‹åŽç†æ€§åˆ†æžä¸€ä¸‹è§‰å¾—â€œä¸å¯¹å•Šï¼Œæˆ‘å½“æ—¶æ€Žä¹ˆäº†â€ã€‚æ‰€ä»¥æžä¼ é”€çš„ä¸€åŸ¹è®­å°±æ˜¯åœ¨ä¸€ä¸ªé¸Ÿæ‹‰å±Žçš„åœ°æ–¹åŸ¹è®­ä¸Šå‡ ä¸ªæœˆæ¥å½»åº•æ´—è„‘ã€‚ æˆ‘è¿˜å¥½ï¼Œè‡³å°‘æˆ‘ä¼šåšæŒè‡ªå·±çš„è§‚ç‚¹ã€‚è®°å¾—æˆ‘ä¸Šæ¬¡ç¦»èŒæ—¶ï¼Œé¢†å¯¼æ‰¾æˆ‘è°ˆè¯ï¼Œé¢†å¯¼å½é‡Œå‘±å•¦è¯´äº†å¾ˆå¤šï¼Œæˆ‘æ˜ŽçŸ¥é“ä¸å¯¹å¤´ï¼Œä½†å´æ„£æ˜¯æ— åŠ›åé©³ï¼Œé‚£æ—¶å€™å¿ƒé‡Œçš„å°±æƒ³è¯´â€œæ±‚æ±‚ä½ ï¼Œåˆ«è¯´äº†â€ã€‚ ç¦»èŒå¯¹åŒäº‹è‡ªèº«è€Œè¨€æ˜¯å¥½äº‹ã€‚åŒäº‹å·¥ä½œä¸¤å¹´ï¼Œåœ¨å…¬å¸å·¥ä½œä¸€å¹´å¤šäº†ï¼Œç”±äºŽå…¬å¸ä¸šç»©å·®ï¼Œå·¥èµ„éžä½†æ²¡æœ‰æ¶¨è¿‡ï¼Œæœ€è¿‘ç”šè‡³éƒ½æ‹–æ¬ äº†ä¸€ä¸ªæœˆçš„å·¥èµ„äº†ï¼Œè€Œä¸”å¦‚æžœå¾…åœ¨å…¬å¸æœªæ¥ä¸€å¹´å†…éƒ½ä¸æ¶¨å·¥èµ„çš„å¯èƒ½æ€§æžå¤§ã€‚æ¢ä¸ªå·¥ä½œè–ªæ°´å¯ä»¥æé«˜ï¼Œæ›´å¯ä»¥æŽ¥è§¦åˆ°æ–°é²œçš„æŠ€æœ¯ï¼Œå¯¹è‡ªå·±æ— è®ºåœ¨ç‰©è´¨è¿˜æ˜¯åœ¨æŠ€æœ¯ä¸Šéƒ½æ˜¯æœ‰åˆ©æ— å®³ã€‚æˆ‘å¯ä»¥æƒ³åˆ°çš„å”¯ä¸€åå¤„å°±æ˜¯èˆä¸å¾—å…¬å¸ï¼Œèˆä¸å¾—åŒäº‹ï¼Œèˆä¸å¾—é‚£ä¸ªé çª—çš„å°åŠžå…¬æ¡Œã€‚å¯æ˜¯è¿™äº›ç®—ä¸ªå±ï¼Œå…¬å¸çš„å‘å±•è·Ÿæ™®é€šå‘˜å·¥æ¯›å…³ç³»éƒ½æ²¡æœ‰ï¼Œå…¬å¸å¥½åå‘˜å·¥æ‹¿åˆ°çš„éƒ½æ˜¯ç¨€è–„çš„å·¥èµ„ï¼Œä½•å†µå…¬å¸å·²ç»å‘ä¸ä¸‹å·¥èµ„æ¥äº†ï¼Œæ˜¯å…¬å¸å¾…ä½ ä¸åŽšé“ã€‚æ„Ÿæƒ…åœ¨æ¶‰åŠåˆ°é‡‘é’±åŽå¾€å¾€å˜å¾—ä¸€æ–‡ä¸å€¼ã€‚ å°±å…¬å¸è€Œè¨€æ˜¯åäº‹ã€‚å…¬å¸æ¨ä¸å¾—ä¸å‘ä½ å·¥èµ„å…‰ç»™å…¬å¸å¹²æ´»ã€‚é¢†å¯¼ä¹‹æ‰€ä»¥ç•™ä½ æ˜¯å› ä¸ºä½ å¯¹å…¬å¸çš„ä¸šåŠ¡ç†Ÿæ‚‰ï¼Œå…¬å¸å¦‚æžœå†é‡æ–°æ‹›äººæ²¡ä¸ªä¸€ä¸ªæœˆçš„æ—¶é—´å¾ˆéš¾ä¸Šæ‰‹ã€‚å‡å¦‚æ¢æˆäº†åœ¨å…¬å¸é‡Œå¤©å¤©é—²çš„è›‹ç–¼çš„äººæç¦»èŒï¼Œå…¬å¸å¯èƒ½å°±å·´ä¸å¾—ç«‹é©¬å·é“ºç›–èµ°äººã€‚é¢†å¯¼ç•™äººåªèƒ½è¯´æ˜Žé¢†å¯¼å¯¹ä½ çš„è‚¯å®šï¼Œå…¶ä»–çš„è¯´æ˜Žä¸äº†ä»€ä¹ˆã€‚å…¬å¸çš„å‰é€”æœªåœï¼Œé¢†å¯¼å‡­ä»€ä¹ˆå¿½æ‚ å‘˜å·¥ç•™ä¸‹æ¥ï¼Ÿ è¿™æ˜¯ä¸€ä¸ªç›¸äº’ç‚’é±¿é±¼çš„æ—¶ä»£ã€‚å‘˜å·¥è·Ÿå…¬å¸ä¹‹é—´æ˜¯å¯¹ç­‰çš„å…³ç³»ï¼Œå…¬å¸å¯¹å‘˜å·¥ä¸æ»¡æ„å¯ä»¥è§£é™¤åˆåŒï¼Œå‘˜å·¥å¯¹å…¬å¸ä¸æ»¡æ„ç…§æ ·å¯ä»¥å°†å…¬å¸ç‚’æŽ‰æ¢ä¸ªæ–°é²œçš„å·¥ä½œã€‚ åšè‡ªå·±ï¼ŒåšæŒè‡ªå·±çš„è§‚ç‚¹ï¼Œé€‚å½“è†å¬åˆ«äººçš„å»ºè®®ï¼Œæ‰ä¼šèµ¢ï¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[SolrCloudå®˜æ–¹æ–‡æ¡£ç¿»è¯‘]]></title>
      <url>%2Fpost%2Fsolrcloud_translate%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡æ˜¯ç¿»è¯‘çš„solrcloudçš„å®˜æ–¹è‹±æ–‡æ–‡æ¡£ï¼Œæœ¬æ–‡ä»…å°†æ–‡ä¸­é‡ç‚¹ç¿»è¯‘ï¼ŒåŽŸæ–‡åœ°å€ç‚¹è¿™é‡Œã€‚è‹±æ–‡æ°´å¹³ä¸å’‹åœ°ï¼Œç¿»è¯‘ç¯‡æ–‡ç« ä¹Ÿç®—ç»ƒç»ƒæ‰‹ã€‚ SolrCloudSolrCloudæ˜¯Solrçš„åˆ†å¸ƒå¼é›†ç¾¤ã€‚å¯ä»¥é€šè¿‡é›†ç¾¤æ¥æ­å»ºä¸€ä¸ªé«˜å¯ç”¨æ€§ï¼Œå®¹é”™æ€§çš„SolræœåŠ¡ã€‚å½“æƒ³æ­å»ºä¸€ä¸ªå¤§è§„æ¨¡ï¼Œå®¹é”™æ€§ï¼Œåˆ†å¸ƒå¼ç´¢å¼•ï¼ŒæŸ¥è¯¢æ€§èƒ½å¥½çš„SolræœåŠ¡æ—¶å¯ä»¥é‡‡ç”¨SolrCloudã€‚ å…³äºŽSolrCoreså’ŒCollectionsçš„ä¸€ç‚¹å°çŸ¥è¯†åœ¨å•æœºè¿è¡Œæ—¶ï¼Œå•ç‹¬çš„ç´¢å¼•å«åšSolrCoreã€‚å¦‚æžœæƒ³è¦åˆ›å»ºå¤šä¸ªç´¢å¼•ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªSolrCoreã€‚åˆ©ç”¨SolrCloudï¼Œä¸€ä¸ªç´¢å¼•å¯ä»¥å­˜æ”¾åœ¨ä¸åŒçš„SolræœåŠ¡ä¸Šã€‚æ„å‘³ç€ä¸€ä¸ªå•ç‹¬çš„ç´¢å¼•å¯ä»¥ç”±ä¸åŒçš„æœºå™¨ä¸Šçš„SolrCoreç»„æˆã€‚ä¸åŒæœºå™¨ä¸Šçš„SolrCoreç»„æˆäº†é€»è¾‘ä¸Šçš„ç´¢å¼•ï¼Œè¿™äº›SolrCoreå«åšcollectionã€‚ç»„æˆcollectionçš„SolrCoreåŒ…æ‹¬äº†æ•°æ®ç´¢å¼•å’Œå¤‡ä»½ã€‚ ä¾‹å­Aï¼š ç®€å•ä¸¤ä¸ªshardé›†ç¾¤è¿™ä¸ªä¾‹å­ç®€å•åˆ›å»ºäº†åŒ…å«ä¸¤ä¸ªsolræœåŠ¡çš„é›†ç¾¤ï¼Œä¸€ä¸ªcollectionçš„æ•°æ®åˆ†å¸ƒåˆ°ä¸¤ä¸ªä¸åŒçš„shardä¸Šã€‚å› ä¸ºåœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæœåŠ¡å™¨ï¼Œè¿™é‡Œä»…ç®€å•çš„å¤åˆ¶exampleçš„æ•°æ®ä½œä¸ºç¬¬äºŒä¸ªæœåŠ¡å™¨ï¼Œå¤åˆ¶exampleç›®å½•ä¹‹å‰éœ€è¦ç¡®ä¿é‡Œé¢æ²¡æœ‰ç´¢å¼•æ•°æ®ã€‚12rm -r example/solr/collection1/data/*cp -r example example2 ä¸‹é¢çš„å‘½ä»¤ä¼šå¯åŠ¨ä¸€ä¸ªsolræœåŠ¡å¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„solré›†ç¾¤ã€‚12cd examplejava -Dbootstrap_confdir=./solr/collection1/conf -Dcollection.configName=myconf -DzkRun -DnumShards=2 -jar start.jar -DzkRun å‚æ•°ä¼šåœ¨solræœåŠ¡ä¸­å¯åŠ¨ä¸€ä¸ªå†…ç½®çš„zookeeperæœåŠ¡ã€‚ -Dbootstrap_confdir=./solr/collection1/conf å› ä¸ºåœ¨zookeeperä¸­æ²¡æœ‰solré…ç½®ä¿¡æ¯ï¼Œè¿™ä¸€å‚æ•°ä¼šå°†æœ¬åœ°çš„./solr/confç›®å½•ä¸‹çš„é…ç½®ä¿¡æ¯ä¸Šä¼ åˆ°zookeeperä¸­ä½œä¸ºmyconfé…ç½®å‚æ•°ã€‚myconfæ˜¯åœ¨ä¸‹é¢çš„collection.configNameå‚æ•°ä¸­æŒ‡å®šçš„ã€‚ -Dcollection.configName=myconf ä¸ºæ–°çš„collectionè®¾ç½®é…ç½®åç§°ã€‚å¦‚æžœä¸åŠ è¿™ä¸ªå‚æ•°é…ç½®é»˜è®¤åç§°ä¸ºconfiguration1ã€‚ -DnumShards=2 åˆ’åˆ†ç´¢å¼•åˆ°é€»è¾‘åˆ†åŒºçš„ä¸ªæ•°ã€‚ æµè§ˆhttp://localhost(æœ¬åœ°ä¸»æœº):8983/solr/#/~cloudå¯ä»¥çœ‹åˆ°é›†ç¾¤çš„çŠ¶æ€ã€‚ é€šè¿‡ç›®å½•æ ‘å¯ä»¥çœ‹åˆ°é…ç½®æ–‡ä»¶å·²ç»ä¸Šä¼ åˆ°äº†/configs/myconf/ç›®å½•ä¸‹ï¼Œä¸€ä¸ªå«collection1çš„collectionå·²ç»åˆ›å»ºï¼Œåœ¨collection1ä¸‹æ˜¯shardçš„åˆ—è¡¨ï¼Œè¿™äº›shardç»„æˆäº†å®Œæ•´çš„collectionã€‚ æŽ¥ä¸‹æ¥å‡†å¤‡å¯åŠ¨ç¬¬äºŒä¸ªæœåŠ¡å™¨ï¼Œå› ä¸ºæ²¡æœ‰æ˜Žç¡®çš„è®¾ç½®shardçš„idï¼Œè¯¥æœåŠ¡ä¼šè‡ªåŠ¨åˆ†é…åˆ°shard2ã€‚ å¯åŠ¨ç¬¬äºŒä¸ªæœåŠ¡ï¼Œå¹¶å°†å…¶æŒ‡å‘é›†ç¾¤ã€‚ 12cd example2java -Djetty.port=7574 -DzkHost=localhost:9983 -jar start.jar -Djetty.port=7574æ¥æŒ‡å®šJettyçš„ç«¯å£å·ã€‚ -DzkHost=localhost:9983ç”¨æ¥æŒ‡å®šZookeeperé›†ç¾¤ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œåœ¨ç¬¬ä¸€ä¸ªSolræœåŠ¡ä¸­è¿è¡Œäº†ä¸€ä¸ªå•ç‹¬çš„ZookeeperæœåŠ¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒZookeeperçš„ç«¯å£å·ä¸ºSolræœåŠ¡çš„ç«¯å£å·åŠ ä¸Š1000ï¼Œå³9983ã€‚ é€šè¿‡è®¿é—®http://localhost(æœ¬åœ°ä¸»æœº):8983/solr/#/~cloudï¼Œåœ¨collection1ä¸­å°±å¯ä»¥çœ‹åˆ°shard1å’Œshard2ã€‚ ä¸‹é¢å¯¹ä¸€äº›æ–‡æ¡£å»ºç«‹ç´¢å¼•ã€‚1234567cd exampledocsjava -Durl=http://localhost:8983/solr/collection1/update -jar post.jar ipod_video.xmljava -Durl=http://localhost:8983/solr/collection1/update -jar post.jar monitor.xmljava -Durl=http://localhost:8983/solr/collection1/update -jar post.jar mem.xml æ— è®ºæ˜¯å‘é›†ç¾¤ä¸­çš„ä»»ä½•ä¸€å°æœåŠ¡å™¨è¯·æ±‚éƒ½ä¼šå¾—åˆ°å…¨éƒ¨çš„collectionï¼šhttp://localhost:8983/solr/collection1/select?q=*:*ã€‚ å‡å¦‚æƒ³æ›´æ”¹é…ç½®ï¼Œå¯ä»¥åœ¨å…³é—­æ‰€æœ‰æœåŠ¡ä¹‹åŽåˆ é™¤solr/zoo_dataç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ã€‚ å®žé™…æµ‹è¯•æ’å…¥é€Ÿåº¦è¦æ¯”å•ä¸ªæœåŠ¡æ…¢ã€‚ ä¾‹å­Bï¼šç®€å•çš„ä¸¤ä¸ªshardé‡å¤çš„shardé›†ç¾¤æœ¬ä¾‹å­ä¼šé€šè¿‡å¤åˆ¶shard1å’Œshard2æ¥åˆ›å»ºä¸Šä¸€ä¸ªä¾‹å­ã€‚é¢å¤–çš„shardå¤‡ä»½å¯ä»¥æœ‰é«˜å¯ç”¨æ€§å’Œå®¹é”™æ€§ï¼Œç®€å•æå‡ç´¢å¼•çš„æŸ¥è¯¢èƒ½åŠ›ã€‚ é¦–å…ˆï¼Œåœ¨è¿è¡Œå…ˆå‰çš„ä¾‹å­ä¸­æˆ‘ä»¬å·²ç»æœ‰äº†ä¸¤ä¸ªshardå’Œä¸€äº›ç´¢å¼•æ–‡æ¡£ã€‚ç„¶åŽç®€å•çš„å¤åˆ¶è¿™ä¸¤ä¸ªæœåŠ¡ï¼š12cp -r example exampleBcp -r example2 example2B ç„¶åŽï¼Œåœ¨ä¸åŒçš„ç«¯å£ä¸Šå¯åŠ¨ä¸¤ä¸ªæ–°çš„æœåŠ¡ï¼š12cd exampleBjava -Djetty.port=8900 -DzkHost=localhost:9983 -jar start.jar 12cd example2Bjava -Djetty.port=7500 -DzkHost=localhost:9983 -jar start.jar é‡æ–°æµè§ˆç½‘å€http://localhost(æœ¬åœ°ä¸»æœº):8983/solr/#/~cloudï¼Œæ£€æŸ¥å››ä¸ªsolrèŠ‚ç‚¹æ˜¯å¦å·²ç»éƒ½å¯åŠ¨ã€‚å› ä¸ºæˆ‘ä»¬å·²ç»å‘Šè¯‰Solræˆ‘ä»¬éœ€è¦ä¸¤ä¸ªé€»è¾‘ä¸Šçš„shardï¼Œå¯åŠ¨åŽçš„å®žä¾‹3å’Œ4ä¼šè‡ªåŠ¨çš„æˆä¸ºåŽŸæ¥shardçš„å¤‡ä»½ã€‚ å‘é›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªæœåŠ¡å‘èµ·æŸ¥è¯¢ï¼šhttp://localhost:7500/solr/collection1/select?q=*:*ã€‚å¤šæ¬¡å‘èµ·è¿™ä¸ªæŸ¥è¯¢å¹¶æŸ¥çœ‹solræœåŠ¡çš„æ—¥å¿—ã€‚å¯ä»¥è§‚å¯Ÿåˆ°Solré€šè¿‡å¤‡ä»½å¯¹è¯·æ±‚åšäº†å¹³è¡¡ï¼Œé€šè¿‡ä¸åŒçš„æœåŠ¡æ¥å¤„ç†è¯·æ±‚ã€‚ ä¸ºäº†è¯æ˜Žé«˜å¯ç”¨æ€§ï¼Œåœ¨é™¤äº†è¿è¡ŒZookeeperçš„æœåŠ¡ä¸ŠæŒ‰ä¸‹CTRL-Cã€‚ï¼ˆåœ¨ä¾‹å­Cä¸­å°†ä¼šè®¨è®ºZookeeperçš„å†—ä½™ï¼‰å½“æœåŠ¡ç»ˆæ­¢åŽï¼Œå‘é€å¦å¤–ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚åˆ°å…¶ä»–æœåŠ¡ï¼Œä»ç„¶èƒ½å¤Ÿçœ‹åˆ°æ‰€æœ‰çš„ç»“æžœã€‚ åœ¨æ²¡ä¸€ä¸ªshardè‡³å°‘è¿˜æœ‰ä¸€ä¸ªæœåŠ¡æ—¶ï¼ŒSolrCloudä»ç„¶å¯ä»¥æä¾›æœåŠ¡ã€‚å¯ä»¥é€šè¿‡å…³é—­æ¯ä¸€ä¸ªå®žä¾‹æ¥æŸ¥çœ‹ç»“æžœã€‚å‡å¦‚å…³é—­äº†ä¸€ä¸ªshardçš„æ‰€æœ‰çš„æœåŠ¡ï¼Œåˆ°å…¶ä»–æœåŠ¡çš„è¯·æ±‚å°±ä¼šæ”¶åˆ°503é”™è¯¯ã€‚ä¸ºäº†èƒ½å¤Ÿè¿”å›žå…¶ä»–å¯ç”¨çš„shardä¸­çš„æ–‡æ¡£ï¼Œå¯ä»¥åœ¨è¯·æ±‚ä¸­å¢žåŠ å‚æ•°ï¼šshards.tolerant=trueã€‚ SolrCloudç”¨leaderså’Œoverseeræ¥ä½œä¸ºå…·ä½“çš„å®žçŽ°ã€‚ä¸€äº›èŠ‚ç‚¹æˆ–å¤‡ä»½å°†ä¼šæ‰®æ¼”ç‰¹æ®Šçš„è§’è‰²ã€‚ä¸éœ€è¦æ‹…å¿ƒæ€æ­»äº†leaderæˆ–overseerï¼Œå‡å¦‚æ€æ­»äº†å…¶ä¸­çš„ä¸€ä¸ªï¼Œé›†ç¾¤ä¼šè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªæ–°çš„leaderæˆ–overseerï¼Œå¹¶è‡ªåŠ¨æŽ¥ç®¡å·¥ä½œã€‚ä»»ä½•çš„Solrå®žä¾‹éƒ½å¯ä»¥æˆä¸ºè¿™ç§è§’è‰²ã€‚ ä¾‹å­Cï¼šä¸¤ä¸ªshardé›†ç¾¤ï¼Œshardå¸¦å¤‡ä»½å’Œzookeeperé›†ç¾¤ åœ¨ä¾‹å­Bä¸­é—®é¢˜æ˜¯è™½ç„¶æœ‰è¶³å¤Ÿçš„SolræœåŠ¡å™¨å¯ä»¥é¿å…é›†ç¾¤æŒ‚æŽ‰ï¼Œä½†æ˜¯ä»…æœ‰ä¸€ä¸ªzookeeperæœåŠ¡æ¥ç»´æŒé›†ç¾¤çš„çŠ¶æ€ã€‚å‡å¦‚zookeeperæœåŠ¡æŒ‚æŽ‰äº†ï¼Œåˆ†å¸ƒå¼çš„æŸ¥è¯¢è¿˜æ˜¯å¯ä»¥å·¥ä½œçš„ï¼Œå› ä¸ºsolræœåŠ¡è®°å½•äº†zookeeperæœ€åŽä¸€æ¬¡æŠ¥å‘Šçš„çŠ¶æ€ã€‚é—®é¢˜æ˜¯æ²¡æœ‰æ–°çš„æœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯èƒ½å‘çŽ°é›†ç¾¤çš„çŠ¶æ€ï¼Œé›†ç¾¤çš„çŠ¶æ€ä¹Ÿä¸ä¼šæ”¹å˜ã€‚ è¿è¡Œå¤šä¸ªzookeeperæœåŠ¡å¯ä»¥ä¿è¯zookeeperæœåŠ¡å…·æœ‰é«˜å¯ç”¨æ€§ã€‚æ¯ä¸€ä¸ªzookeeperæœåŠ¡éœ€è¦çŸ¥é“é›†ç¾¤ä¸­çš„å…¶ä»–æœåŠ¡ï¼Œå¤§éƒ¨åˆ†æœåŠ¡éœ€è¦æä¾›æœåŠ¡ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå«æœ‰ä¸‰ä¸ªzookeeperæœåŠ¡çš„é›†ç¾¤å…è®¸å…¶ä¸­ä¸€ä¸ªå¤±è´¥å‰©ä½™çš„ä¸¤ä¸ªä»ç„¶å¯ä»¥æä¾›æœåŠ¡ã€‚äº”ä¸ªzookeeperæœåŠ¡çš„é›†ç¾¤å¯ä»¥å…è®¸ä¸€æ¬¡å¤±è´¥ä¸¤ä¸ªã€‚ ä»Žäº§å“è§’åº¦è€ƒè™‘ï¼ŒæŽ¨èä½¿ç”¨å•ç‹¬çš„zookeeperæœåŠ¡è€Œä¸æ˜¯solræœåŠ¡ä¸­é›†æˆçš„zookeeperæœåŠ¡ã€‚ä½ å¯ä»¥ä»Žè¿™é‡Œè¯»å–åˆ°æ›´å¤šçš„zookeeperé›†ç¾¤ã€‚åœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»…ç®€å•çš„ä½¿ç”¨äº†é›†æˆçš„zookeeperã€‚ é¦–å…ˆï¼Œåœæ­¢å››ä¸ªæœåŠ¡ï¼Œå¹¶æ¸…ç©ºzookeeperä¸­çš„æ•°æ®ä½œä¸ºä¸€ä¸ªæ–°çš„å¼€å§‹ã€‚1rm -r example*/solr/zoo_data æˆ‘ä»¬ä»ç„¶å°†æœåŠ¡åˆ†åˆ«è¿è¡Œåœ¨8983,7574,8900,7500ç«¯å£ã€‚é»˜è®¤æ˜¯åœ¨ç«¯å£å·+1000çš„ç«¯å£ä¸Šå¯åŠ¨ä¸€ä¸ªzookeeperæœåŠ¡ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œçš„æ—¶å€™åœ¨å¦å¤–ä¸‰å°æœåŠ¡å™¨ä¸Šzookeeperçš„åœ°å€åˆ†åˆ«ä¸ºï¼šlocalhost:9983,localhost:8574,localhost:9900ã€‚ ä¸ºäº†æ–¹ä¾¿é€šè¿‡ç¬¬ä¸€ä¸ªæœåŠ¡ä¸Šä¼ solrçš„é…ç½®åˆ°zookeeperé›†ç¾¤ä¸­ã€‚åœ¨ç¬¬äºŒä¸ªzookeeperæœåŠ¡å¯åŠ¨ä¹‹å‰ç¨‹åºä¼šé˜»å¡žã€‚è¿™æ˜¯å› ä¸ºzookeeperåœ¨å·¥ä½œçš„æ—¶å€™éœ€è¦å…¶ä»–æœåŠ¡ã€‚123cd examplejava -Dbootstrap_confdir=./solr/collection1/conf -Dcollection.configName=myconf -DzkRun -DzkHost=localhost:9983,localhost:8574,localhost:9900 -DnumShards=2 -jar start.jar 12cd example2java -Djetty.port=7574 -DzkRun -DzkHost=localhost:9983,localhost:8574,localhost:9900 -jar start.jar 12cd exampleBjava -Djetty.port=8900 -DzkRun -DzkHost=localhost:9983,localhost:8574,localhost:9900 -jar start.jar 12cd example2Bjava -Djetty.port=7500 -DzkHost=localhost:9983,localhost:8574,localhost:9900 -jar start.jar çŽ°åœ¨æˆ‘ä»¬è¿è¡Œäº†ä¸‰ä¸ªå†…ç½®çš„zookeeperæœåŠ¡ï¼Œå¦‚æžœä¸€ä¸ªæœåŠ¡æŒ‚æŽ‰ä¹‹åŽå…¶ä»–ä¸€åˆ‡æ­£å¸¸ã€‚ä¸ºäº†è¯æ˜Žï¼Œåœ¨exampleBä¸ŠæŒ‰ä¸‹CTRL+Cæ€æŽ‰æœåŠ¡ï¼Œç„¶åŽæµè§ˆhttp://localhost:8983/solr/#/~cloudæ¥æ ¸å®žzookeeperæœåŠ¡ä»ç„¶å¯ä»¥å·¥ä½œã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“è¿è¡Œåœ¨å¤šä¸ªæœºå™¨ä¸Šï¼Œéœ€è¦åœ¨æ¯ä¸€å°æœºå™¨ä¸Šè®¾ç½®-DzkRun=hostname:portå±žæ€§ã€‚ ZooKeeperå¤šä¸ªzookeeperæœåŠ¡åŒæ—¶è¿è¡Œæ¥é¿å…é”™è¯¯å’Œé«˜å¯ç”¨æ€§å«åšensembleã€‚ä»Žäº§å“è§’åº¦ï¼ŒæŽ¨èè¿è¡Œå¤–éƒ¨çš„zookeeper ensembleæ¥ä»£æ›¿solré›†æˆçš„zookeeperã€‚æµè§ˆzookeeperå®˜æ–¹ç½‘ç«™ä¸‹è½½å’Œè¿è¡Œä¸€ä¸ªzookeeper ensembleã€‚å¯ä»¥å‚è€ƒGetting Startedå’ŒZooKeeper Adminã€‚éžå¸¸ç®€å•å°±å¯ä»¥è¿è¡Œã€‚å¯ä»¥åšæŒä½¿ç”¨solræ¥è¿è¡Œzookeeperé›†ç¾¤ï¼Œä½†æ˜¯å¿…é¡»çŸ¥é“zookeeperé›†ç¾¤ä¸æ˜¯éžå¸¸å®¹æ˜“åŠ¨æ€æ”¹å˜çš„ã€‚é™¤éžsolrå¢žåŠ å¯¹zookeeperæ›´å¥½çš„æ”¯æŒï¼Œé‡æ–°å¼€å§‹æ˜¯æœ€å¥½çš„æ”¹å˜æ–¹å¼ã€‚zookeeperå’Œsolræ˜¯ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹æ˜¯æœ€å¥½çš„æ–¹å¼ã€‚ å½“solrè¿è¡Œå†…ç½®çš„zookeeperæœåŠ¡æ—¶ï¼Œé»˜è®¤ä¼šä½¿ç”¨solræœåŠ¡çš„ç«¯å£å·åŠ ä¸Š1000ä½œä¸ºzookeeperçš„å®¢æˆ·ç«¯ç«¯å£å·ã€‚å¦å¤–ï¼Œé»˜è®¤ä¼šå¢žåŠ ä¸€ä¸ªzookeeperçš„å®¢æˆ·ç«¯ç«¯å£å·å’Œä¸¤ä¸ªzookeeperçš„é€‰ä¸¾ç«¯å£å·ã€‚æ‰€ä»¥åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œsolrè¿è¡Œåœ¨8983ç«¯å£ï¼Œå†…ç½®çš„zookeeperæœåŠ¡è¿è¡Œåœ¨9983ç«¯å£ä½œä¸ºå®¢æˆ·ç«¯ç«¯å£ï¼Œ9984å’Œ9985ä½œä¸ºæœåŠ¡ç«¯ç«¯å£ã€‚ å½“å¢žåŠ äº†æ›´å¤šzookeeperèŠ‚ç‚¹å¯ä»¥æé«˜è¯»æ€§èƒ½ï¼Œä½†æ˜¯ä¼šç¨å¾®é™ä½Žå†™æ€§èƒ½ã€‚å½“é›†ç¾¤çŠ¶æ€ç¨³å®šçš„æ—¶å€™ï¼ŒSolrç”¨çš„Zookeeperéžå¸¸å°‘ã€‚ä¸‹é¢æœ‰ä¸€äº›ä¼˜åŒ–zookeeperçš„å»ºè®®ï¼š æœ€å¥½çš„æƒ…å†µæ˜¯zookeeperæœ‰ä¸€ä¸ªä¸“ç”¨çš„æœºå™¨ã€‚zookeeperæ˜¯ä¸€ä¸ªå‡†æ—¶çš„æœåŠ¡ï¼Œä¸“ç”¨çš„æœºå™¨å¯ä»¥ç¡®ä¿åŠæ—¶å“åº”ã€‚å½“ç„¶ä¸“ç”¨çš„æœºå™¨ä¸æ˜¯å¿…é¡»çš„ã€‚ å½“æŠŠäº‹åŠ¡æ—¥å¿—å’Œsnap-shotsæ”¾åˆ°ä¸åŒçš„ç£ç›˜ä¸Šå¯ä»¥æé«˜æ€§èƒ½ã€‚ å‡å¦‚zookeeperå’Œsolrè¿è¡Œåœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œåˆ©ç”¨ä¸åŒçš„ç£ç›˜å¯ä»¥æé«˜æ€§èƒ½ã€‚ å‚è€ƒæ–‡æ¡£https://wiki.apache.org/solr/SolrCloud]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨tomcat7.0.41ä¸Šæ­å»ºsolr4.3.1]]></title>
      <url>%2Fpost%2Fsolr4.3.1_setup%2F</url>
      <content type="text"><![CDATA[å‰å‡ å¤©å†™äº†ç¯‡ã€Šåœ¨Linuxä¸Šæ­å»ºsolrçŽ¯å¢ƒã€‹çš„åšæ–‡ï¼Œæ˜¯åŸºäºŽsolr3.6.2çš„å®‰è£…ã€‚æœ¬æ–‡ä»…è®°å½•åœ¨tomcat7.0.41ä¸Šæ­å»ºsolr4.3.1æ­å»ºè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå…¶ä»–åœ°æ–¹å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡åšæ–‡ã€‚ é…ç½®å®Œæˆä¹‹åŽå‘çŽ°http://192.168.20.38:8090/solræ— æ³•è®¿é—®ï¼Œä½†æ˜¯http://192.168.20.38:8090/å´å¯ä»¥è®¿é—®ï¼Œé€šè¿‡æŸ¥çœ‹tomcatçš„æ—¥å¿—æ–‡ä»¶localhost.2013-07-03.logï¼Œå‘çŽ°é‡Œé¢æœ‰å¦‚ä¸‹é”™è¯¯æç¤ºã€‚12ä¸¥é‡: Exception starting filter SolrRequestFilterorg.apache.solr.common.SolrException: Could not find necessary SLF4j logging jars. If using Jetty, the SLF4j logging jars need to go in the jetty lib/ext directory. For other containers, the corresponding directory should be used. For more information, see: http://wiki.apache.org/solr/SolrLogging è§£å†³åŠžæ³•ï¼šå°†~/solr-4.3.1/example/lib/extç›®å½•ä¸‹çš„æ‰€æœ‰jaræ–‡ä»¶å¤åˆ¶åˆ°~/apache-tomcat-7.0.41/libç›®å½•ä¸‹ï¼Œç„¶åŽé‡å¯tomcatå³å¯ã€‚ ç›¸å…³ä¸‹è½½ç”¨åˆ°çš„æ–‡ä»¶]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ­å»ºåˆ†å¸ƒå¼çš„solrçŽ¯å¢ƒ]]></title>
      <url>%2Fpost%2Fsolr_setup_distribute%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡ä»¥ã€Šåœ¨Linuxä¸Šæ­å»ºsolrçŽ¯å¢ƒã€‹ä¸ºåŸºç¡€ï¼Œå‡è®¾å·²ç»åœ¨192.168.20.6å’Œ192.168.20.38ä¸Šæ­å»ºäº†å•æœºç‰ˆsolrçŽ¯å¢ƒã€‚ ä¸»æœåŠ¡å™¨é…ç½®æ‰¾åˆ°solrçš„çŽ¯å¢ƒç›®å½•ä¸‹çš„confæ–‡ä»¶å¤¹ä¸‹çš„solrconfig.xmlæ–‡ä»¶ï¼Œæˆ‘çš„æ˜¯åœ¨/hadoop/solr/conf/solrconfig.xmlç›®å½•ä¸‹ï¼Œæ‰“å¼€åŽæ‰¾åˆ°å¦‚ä¸‹è¡Œ1&lt;requestHandler name=&quot;/replication&quot; class=&quot;solr.ReplicationHandler&quot; &gt; é»˜è®¤æ˜¯è¢«æ³¨é‡Šçš„ï¼Œå°†å…¶ä¿®æ”¹ä¸º1234567&lt;requestHandler name=&quot;/replication&quot; class=&quot;solr.ReplicationHandler&quot; &gt; &lt;lst name=&quot;master&quot;&gt; &lt;str name=&quot;replicateAfter&quot;&gt;commit&lt;/str&gt; &lt;str name=&quot;replicateAfter&quot;&gt;startup&lt;/str&gt; &lt;str name=&quot;confFiles&quot;&gt;schema.xml,stopwords.txt&lt;/str&gt; &lt;/lst&gt;&lt;/requestHandler&gt; replicateAfterè¡¨ç¤ºsolrä¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹å¤åˆ¶ï¼Œå¯é€‰é¡¹åŒ…æ‹¬ï¼šcommitã€startupã€optimizeï¼Œè¿™é‡Œä¿æŒé»˜è®¤ã€‚confFilesè¡¨ç¤ºè¦åˆ†å‘çš„é…ç½®æ–‡ä»¶ã€‚ ä»ŽæœåŠ¡å™¨é…ç½®åœ¨ä»ŽæœåŠ¡å™¨ä¸Šï¼Œå°†/hadoop/solr/conf/solrconfig.xmlæ–‡ä»¶ç›¸åº”çš„ä¿®æ”¹ä¸º123456&lt;requestHandler name=&quot;/replication&quot; class=&quot;solr.ReplicationHandler&quot; &gt; &lt;lst name=&quot;slave&quot;&gt; &lt;str name=&quot;masterUrl&quot;&gt;http://192.168.20.6:8080/solr/replication&lt;/str&gt; &lt;str name=&quot;pollInterval&quot;&gt;00:00:60&lt;/str&gt; &lt;/lst&gt;&lt;/requestHandler&gt; masterUrlä¸ºæœåŠ¡å™¨çš„urlåœ°å€ã€‚pollIntervalä¸ºä»ŽæœåŠ¡å™¨çš„åŒæ­¥æ—¶é—´é—´éš”ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨Linuxä¸Šæ­å»ºsolrçŽ¯å¢ƒ]]></title>
      <url>%2Fpost%2Fsolr_setup%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡é‡‡ç”¨Linuxæ“ä½œç³»ç»Ÿåœ¨hadoopç”¨æˆ·ä¸‹å®‰è£…ï¼Œsolré‡‡ç”¨3.xä¸­çš„æœ€æ–°ç‰ˆæœ¬3.6.2ï¼Œtomcaté‡‡ç”¨6.0.37ç‰ˆæœ¬ï¼Œå®‰è£…åŒ…å¯ä»¥ä»Žæœ¬æ–‡ä¸‹æ–¹é“¾æŽ¥ä¸‹è½½ã€‚è¿™é‡Œæœ‰ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œä¸€ç§æ–¹å¼ä¸ºåˆ©ç”¨solrè‡ªå¸¦çš„jettyæ¥å¯åŠ¨solrï¼Œé»˜è®¤ç«¯å£ä¸º8983ã€‚å¦å¤–ä¸€ç§æ–¹å¼ä¸ºå°†solré›†æˆåˆ°tomcatä¸­ã€‚å…¶ä¸­ç¬¬ä¸€ç§æ–¹å¼è¾ƒä¸ºç®€å•ï¼ŒæŽ¨èæ–°æ‰‹é‡‡ç”¨ã€‚ ç‹¬ç«‹å¯åŠ¨ å°†sorlçš„å®‰è£…åŒ…è§£åŽ‹åˆ°ç”¨æˆ·çš„æ ¹ç›®å½•ä¸‹ï¼Œè§£åŽ‹åŽæ–‡ä»¶å¤¹ä¸ºapache-solr-3.6.2ã€‚ è¿›å…¥åˆ°exampleç›®å½•ä¸‹ï¼Œæ‰§è¡Œjava -jar start.jarå‘½ä»¤ï¼ŒsolræœåŠ¡å¯åŠ¨ï¼Œç«¯å£ä¸º8983ã€‚ é€šè¿‡http://IPåœ°å€:8983/solr/æ¥è®¿é—®solrçš„webé¡µé¢ï¼Œè¿›å…¥adminé¡µé¢åŽå¯ä»¥é€šè¿‡è¾“å…¥å­—ç¬¦ä¸²æ¥æŸ¥æ‰¾ç´¢å¼•ã€‚æŸ¥æ‰¾ç´¢å¼•é»˜è®¤æ˜¾ç¤ºçš„æ ¼å¼ä¸ºxmlæ ¼å¼ï¼Œå¯ä»¥é€šè¿‡åœ¨urlçš„åŽé¢åŠ ä¸Šå‚æ•°wt=jsonæ¥æ˜¾ç¤ºjsonæ ¼å¼çš„ç»“æžœã€‚ åˆ©ç”¨tomcatå®‰è£…tomcat1. å°†apache-tomcat-6.0.37.tar.gzè§£åŽ‹åˆ°hadoopçš„è·Ÿç›®å½•ä¸‹ã€‚2. ä¿®æ”¹hadoopç”¨æˆ·çš„çŽ¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œvi ~/.bash_profileå‘½ä»¤ï¼Œæ·»åŠ å¦‚ä¸‹ï¼š123export CATALINA_HOME=/home/hadoop/apache-tomcat-6.0.37export CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/libexport PATH=$PATH:$CATALINA_HOME/bin 3. æ‰§è¡Œsource ~/.bash_profileä½¿ä¿®æ”¹çš„çŽ¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚4. æ‰§è¡Œtomcatçš„binç›®å½•ä¸‹çš„startup.batè„šæœ¬æ¥å¯åŠ¨tomcatã€‚5. é€šè¿‡netstat -anp | grep 8080å‘½ä»¤æŸ¥çœ‹tomcatæ˜¯å¦å¯åŠ¨ã€‚ å®‰è£…solr1. å°†solrçš„dist/apache-solr-3.6.2.waræ–‡ä»¶å¤åˆ¶åˆ°tomcatçš„webappsç›®å½•ä¸‹ï¼Œå¹¶å°†æ–‡ä»¶å‘½åä¸ºsolr.warã€‚æ‰§è¡Œcp ~/apache-solr-3.6.2/dist/apache-solr-3.6.2.war ~/apache-tomcat-6.0.37/webapps/solr.warå‘½ä»¤ã€‚WARæ˜¯ä¸€ä¸ªå®Œæ•´çš„webåº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬äº†Solrçš„jaræ–‡ä»¶å’Œæ‰€æœ‰è¿è¡ŒSolræ‰€ä¾èµ–çš„Jaræ–‡ä»¶ï¼ŒJspå’Œå¾ˆå¤šçš„é…ç½®æ–‡ä»¶ä¸Žèµ„æºæ–‡ä»¶ã€‚ 2. ä¿®æ”¹~/apache-tomcat-6.0.37/conf/server.xmlæ–‡ä»¶ç›¸åº”è¡Œçš„å†…å®¹å¦‚ä¸‹ï¼š1234&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; URIEncoding=&quot;UTF-8&quot; redirectPort=&quot;8443&quot; /&gt; å¢žåŠ URIEncoding=&quot;UTF-8&quot;æ¥æ”¯æŒä¸­æ–‡ã€‚è¿™æ˜¯å› ä¸ºsolråŸºäºŽxmlï¼Œjsonï¼Œjavabinï¼Œphpï¼Œpythonç­‰å¤šç§æ ¼å¼ä¼ è¾“è¯·æ±‚å’Œè¿”å›žç»“æžœã€‚ 3.å¤åˆ¶~/apache-solr-3.6.2/example/solrç›®å½•åˆ°/home/hadoop/solrä½ç½®ã€‚è¯¥ä½ç½®ä¸ºsolrçš„åº”ç”¨çŽ¯å¢ƒç›®å½•ã€‚ 4. ä¿®æ”¹/home/hadoop/solr/conf/solrconfig.xmlæ–‡ä»¶ä¸­çš„dataDirä¸€è¡Œå†…å®¹ä¸ºï¼š1&lt;dataDir&gt;$&#123;solr.data.dir:/home/hadoop/solr/data&#125;&lt;/dataDir&gt; ç›®çš„æ˜¯ä¸ºäº†æŒ‡å®šå­˜æ”¾ç´¢å¼•æ•°æ®çš„è·¯å¾„ã€‚ 5. åœ¨~/apache-tomcat-6.0.37/conf/Catalina/localhostç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶solr.xmlã€‚å¢žåŠ å†…å®¹å¦‚ä¸‹ï¼š123&lt;Context docBase=&quot;/home/hadoop/apache-tomcat-6.0.37/webapps/solr.war&quot; debug=&quot;0&quot; crossContext=&quot;true&quot; &gt; &lt;Environment name=&quot;solr/home&quot; type=&quot;java.lang.String&quot; value=&quot;/home/hadoop/solr&quot; override=&quot;true&quot; /&gt;&lt;/Context&gt; å…¶ä¸­docBaseä¸ºtomcatçš„webappsä¸‹çš„solr.warå®Œæ•´è·¯å¾„ã€‚Environmentçš„valueå±žæ€§çš„å€¼ä¸ºå­˜æ”¾solrç´¢å¼•çš„æ–‡ä»¶å¤¹ï¼Œå³ç¬¬ä¸‰æ­¥ä¸­å¤åˆ¶çš„æ–‡ä»¶å¤¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šCatalinaç›®å½•åœ¨é¦–æ¬¡å¯åŠ¨tomcatæ—¶åˆ›å»ºï¼Œå› æ­¤åœ¨æ­¤æ­¥éª¤å‰éœ€è¦å¯åŠ¨è¿‡tomcatã€‚ 6. åœ¨tomcatçš„binç›®å½•ä¸‹é€šè¿‡startup.shå¯åŠ¨tomcatã€‚ 7. é€šè¿‡http://IPåœ°å€:8080/solr/æ¥è®¿é—®solrçš„webé¡µé¢ã€‚ ç›¸å…³å‘½ä»¤æ”¾å…¥æ•°æ®åˆ°solrä¸­åœ¨apache-solr-3.6.2/example/exampledocsç›®å½•ä¸‹ï¼Œæ‰§è¡Œjava -jar post.jar è¦å­˜æ”¾çš„æ–‡ä»¶åã€‚è¿™é‡Œè‡ªå·±æ–°å»ºä¸€ä¸ªæ–‡ä»¶test.xmlæ”¾å…¥åˆ°solrä¸­ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š123456&lt;add&gt; &lt;doc&gt; &lt;field name=&quot;id&quot;&gt;company&lt;/field&gt; &lt;field name=&quot;text&quot;&gt;kaitone&lt;/field&gt; &lt;/doc&gt;&lt;/add&gt; æ‰§è¡Œjava -jar post.jar test.xmlå°†æ•°æ®æ”¾å…¥solrä¸­ã€‚ åˆ é™¤æ•°æ®æ–°å»ºæ–‡æœ¬æ–‡ä»¶test_delete.xmlï¼Œå†…å®¹å¦‚ä¸‹123&lt;delete&gt; &lt;id&gt;company&lt;/id&gt;&lt;/delete&gt; æ‰§è¡Œjava -jar post.jar test_delete.xmlå°†æ•°æ®ä»Žsolrä¸­åˆ é™¤ã€‚å¦å¤–è¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼æ¥åˆ é™¤ï¼Œå‘½ä»¤ä¸ºjava -Ddate=args -jar post.jar &#39;&lt;delete&gt;&lt;id&gt;company&lt;/id&gt;&lt;/delete&gt;&#39;ã€‚ åœ¨Eclipseä¸­æ­å»ºçŽ¯å¢ƒæ“ä½œSolr api1. æ–°å»ºä¸€ä¸ªjavaå·¥ç¨‹2. åœ¨å·¥ç¨‹ä¸­å¼•å…¥å¦‚ä¸‹åŒ…ï¼š commons-httpclient-3.1.jar commons-codec-1.6.jar apache-solr-solrj-3.6.2.jar slf4j-api-1.6.1.jar slf4j-log4j12-1.6.1.jar commons-logging-1.1.3.jar log4j-1.2.12.jar httpclient-4.2.5.jar httpcore-4.2.4.jar httpmime-4.2.5.jar å…¶ä¸­commons-httpclient-3.1.jarã€commons-codec-1.6.jarã€apache-solr-solrj-3.6.2.jarã€slf4j-api-1.6.1.jarå¯ä»¥ä»Žsolrçš„ç›®å½•apache-solr-3.6.2ä¸­çš„distç›®å½•ä¸‹æ‰¾åˆ°ã€‚ slf4j-log4j12-1.6.1.jarå¯ä»¥ä»Žslf4jçš„åŽ‹ç¼©åŒ…ä¸­slf4j-1.6.1.tar.gzæ‰¾åˆ°ã€‚ commons-logging-1.1.3.jarå¯ä»¥ä»Žslf4jçš„åŽ‹ç¼©åŒ…ä¸­commons-logging-1.1.3-bin.zipæ‰¾åˆ°ã€‚ log4j-1.2.12.jarå¯ä»¥ä»Žlog4jçš„åŽ‹ç¼©åŒ…ä¸­logging-log4j-1.2.12.tar.gzæ‰¾åˆ°ã€‚ httpclient-4.2.5.jarã€httpcore-4.2.4.jarã€httpmime-4.2.5.jaråœ¨httpcomponents-client-4.2.5-bin.tar.gzæ–‡ä»¶ä¸­ã€‚ å…·ä½“çš„APIç¼–ç¨‹å¯ä»¥å‚è€ƒSolrå¼€å‘æ–‡æ¡£ã€‚ åœ¨linuxä¸Šç¼–è¯‘å¹¶æ‰§è¡Œç¨‹åº1. å°†å·¥ç¨‹ä¸­ç”¨åˆ°çš„jaråŒ…å¤åˆ¶åˆ°Linuxæœºå™¨ä¸Šï¼Œè¿™é‡Œå¤åˆ¶åˆ°/home/hadoop/test_solr/libç›®å½•ä¸‹ã€‚ 2. å°†æµ‹è¯•ç¨‹åºçš„æºç æ”¾åˆ°Linuxæœºå™¨ä¸Šï¼Œè¿™é‡Œå¤åˆ¶åˆ°/home/hadoop/test_solrç›®å½•ä¸‹ã€‚å…¶ä¸­æºç åŒ…æ‹¬ä¸‰ä¸ªæ–‡ä»¶ï¼šSolrTest.javaã€SolrClient.javaã€Index.javaã€‚è¯¥ä¸‰ä¸ªæ–‡ä»¶å°†ä¼šåŒ…å«åœ¨ä¸‹é¢ç›¸å…³ä¸‹è½½ä¸­çš„Eclipseå·¥ç¨‹ä¸­ã€‚ 3. åœ¨/home/hadoop/test_solrç›®å½•ä¸‹æ‰§è¡Œ1javac -cp lib/apache-solr-solrj-3.6.2.jar:lib/commons-httpclient-3.1.jar:lib/log4j-1.2.12.jar:lib/commons-codec-1.6.jar:lib/commons-logging-1.1.3.jar:lib/slf4j-api-1.6.1.jar:lib/httpclient-4.2.5.jar:lib/httpcore-4.2.4.jar:lib/httpmime-4.2.5.jar:. SolrTest.java å…¶ä¸­-cpç­‰åŒäºŽ-classpathå‚æ•°ï¼ŒæŒ‡å®šç¼–è¯‘SolrTest.javaæ–‡ä»¶éœ€è¦çš„ClassPathè·¯å¾„ï¼Œä¸è¦å¿˜è®°è·¯å¾„åŽé¢çš„.è¡¨ç¤ºå½“å‰è·¯å¾„ï¼Œå¦åˆ™æ‰¾ä¸åˆ°å½“å‰ç›®å½•ä¸‹çš„å…¶ä»–javaæ–‡ä»¶ã€‚å‘½ä»¤æ‰§è¡ŒåŽä¼šåœ¨/home/hadoop/test_solrç›®å½•ä¸‹ç”ŸæˆIndex.classã€SolrClient.classã€SolrTest.classä¸‰ä¸ªclassæ–‡ä»¶ã€‚ 4. åœ¨/home/hadoop/test_solrç›®å½•ä¸‹æ‰§è¡Œ1java -cp lib/apache-solr-solrj-3.6.2.jar:lib/commons-httpclient-3.1.jar:lib/log4j-1.2.12.jar:lib/commons-codec-1.6.jar:lib/commons-logging-1.1.3.jar:lib/slf4j-api-1.6.1.jar:lib/httpclient-4.2.5.jar:lib/httpcore-4.2.4.jar:lib/:httpmime-4.2.5.jar:. SolrTest æ¥è¿è¡Œç¨‹åºã€‚ åœ¨Linuxä¸Šæ‰“åŒ…å¹¶æ‰§è¡Œ1. åœ¨ä¸Šé¢æ­¥éª¤åŸºç¡€ä¸Šï¼Œä¸ºäº†æ–¹ä¾¿æ‰§è¡Œï¼Œå¯ä»¥å°†classæ–‡ä»¶æ‰“æˆjaråŒ…æ¥æ‰§è¡Œï¼Œè¿™æ ·åœ¨ä½¿ç”¨javaå‘½ä»¤æ‰§è¡Œçš„æ—¶å€™å°±ä¸ç”¨æŒ‡å®šclasspathè·¯å¾„äº†ï¼Œåªéœ€è¦åœ¨jaråŒ…çš„MANIFEST.MFæ–‡ä»¶ä¸­æŒ‡å®šclasspathã€‚ 2. åœ¨/home/hadoop/test_solrä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åå¯ä»¥éšä¾¿ï¼Œè¿™é‡Œå–åä¸ºMANIFEST.MFï¼Œä¸Žç”Ÿæˆçš„jaråŒ…ä¸­çš„æ–‡ä»¶åä¸€è‡´ï¼Œæ–‡ä»¶å†…å®¹ä¸º1234567Manifest-Version: 1.0Created-By: 1.6.0_10 (Sun Microsystems Inc.)Main-Class: SolrTestClass-Path: /home/hadoop/test_solr/lib/apache-solr-solrj-3.6.2.jar /home/hadoop/test_solr/lib/commons-httpclient-3.1.jar /home/hadoop/test_solr/lib/log4j-1.2.12.jar /home/hadoop/test_solr/lib/commons-codec-1.6.jar /home/hadoop/test_solr/lib/commons-logging-1.1.3.jar /home/hadoop/test_solr/lib/slf4j-api-1.6.1.jar/home/hadoop/test_solr/lib/httpclient-4.2.5.jar/home/hadoop/test_solr/lib/httpcore-4.2.4.jar/home/hadoop/test_solr/lib/httpmime-4.2.5.jar å…¶ä¸­Main-ClassæŒ‡å®šmainå‡½æ•°æ‰€åœ¨çš„ç±»ã€‚Class-PathæŒ‡å®šç”¨åˆ°çš„jaræ‰€åœ¨çš„è·¯å¾„ã€‚å…¶ä¸­Class-Pathçš„å„ä¸ªjaræ–‡ä»¶ä¹‹é—´é€šè¿‡ç©ºæ ¼åˆ†éš”è€Œä¸æ˜¯é€šè¿‡:åˆ†éš”ã€‚ 3. å°†classæ–‡ä»¶æ‰“åŒ…æˆjaræ–‡ä»¶ã€‚æ‰§è¡Œ1jar -cfm solrtest.jar MANIFEST.MF Index.class SolrClient.class SolrTest.class ä¼šåœ¨æ­¤ç›®å½•ä¸‹ç”Ÿæˆsolrtest.jaræ–‡ä»¶ã€‚jarå‘½ä»¤ä¼šæ ¹æ®æŒ‡å®šçš„MANIFEST.MFæ–‡ä»¶æ¥äº§ç”ŸjaråŒ…ä¸­çš„META-INF/MANIFEST.MFæ–‡ä»¶ã€‚ä¸¤ä¸ªæ–‡ä»¶å†…å®¹å¹¶ä¸å®Œå…¨ä¸€è‡´ï¼Œjarå‘½ä»¤ä¼šæ ¹æ®æ ¼å¼å¯¹å†…å®¹è¿›è¡Œè°ƒæ•´ã€‚ 4. è¿è¡Œjaræ–‡ä»¶ã€‚é€šè¿‡java -jar solrtest.jaræ¥æ‰§è¡Œã€‚ ç›¸å…³ä¸‹è½½æœ¬æ–‡ä¸­ç”¨åˆ°çš„å®‰è£…åŒ… å‚è€ƒæ–‡æ¡£ç®€å•çš„Solrå®‰è£…é…ç½®å®˜æ–¹å®‰è£…æ•™ç¨‹Solråˆä½“éªŒç³»åˆ—è®²çš„éžå¸¸è¯¦ç»†ï¼Œé€‚åˆåˆå­¦è€…Solrå¼€å‘æ–‡æ¡£]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[é€šè¿‡å‘½ä»¤ç¼–è¯‘javaç¨‹åº]]></title>
      <url>%2Fpost%2Fcompile_java_code%2F</url>
      <content type="text"><![CDATA[é€šè¿‡Eclipseç¼–å†™javaç¨‹åºä¹…äº†ï¼Œå‘çŽ°å·²ç»ä¸ä¼šç”¨å‘½ä»¤æ¥ç¼–è¯‘javaç¨‹åºäº†ã€‚ä»Šå¤©åœ¨windowsä¸‹æ­å»ºäº†ä¸€ä¸ªsolrçŽ¯å¢ƒï¼Œæƒ³æ”¾åˆ°linuxä¸‹åŽ»è·‘ä¸€ä¸‹ï¼Œåœ¨windowsä¸Šæ‰“æˆjaråŒ…åŽæ”¾åœ¨linuxä¸‹ä¸èƒ½è¿è¡Œï¼Œæ˜¯æ—¶å€™å›žé¡¾ä¸€ä¸‹javaçš„ç¼–è¯‘å‘½ä»¤äº†ã€‚è€Œä¸”ç½‘ä¸Šçš„èµ„æ–™æ¯”è¾ƒé›¶æ•£ï¼Œæ²¡æœ‰ç‰¹åˆ«ç³»ç»Ÿçš„èµ„æ–™ã€‚ æœ¬æ–‡åœ¨linuxæµ‹è¯•ï¼ŒåŒwindowsä¸‹çš„å‘½ä»¤è¡Œå·¥å…·å·®åˆ«ä¸å¤§ã€‚ ç¼–è¯‘å¹¶æ‰§è¡Œå•ä¸ªæ–‡ä»¶1. åœ¨ç›®å½•ä¸‹~/test_java/com/kuringä¸‹æ–°å»ºHelloWorld.javaçš„æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸º1234567package com.kuring;public class HellowWorld &#123; public static void main(String[] args) &#123; System.out.println("hello world"); &#125;&#125; 2. åœ¨ç›®å½•~/test_javaä¸‹æ‰§è¡Œjavac com/kuring/HelloWorld.javaå‘½ä»¤æ¥ç¼–è¯‘æ–‡ä»¶ã€‚æ­¤æ—¶ä¼šåœ¨HelloWorld.javaæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹ç”ŸæˆHelloWorld.classçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ 3. åœ¨ç›®å½•~/test_javaä¸‹æ‰§è¡Œjava com.kuring.HelloWorldæ¥æ‰§è¡ŒHelloWorld.classã€‚å±å¹•ä¼šè¾“å‡ºhello worldï¼Œè¯´æ˜Žæ–‡ä»¶æ‰§è¡ŒæˆåŠŸã€‚ä¹Ÿå¯ä»¥åœ¨ä»»æ„è·¯å¾„ä¸‹æŒ‡å®šclasspathè·¯å¾„æ¥æ‰§è¡Œï¼Œå‘½ä»¤ä¸ºjava -classpath ~/test_java com.kuring.HelloWorldï¼Œå…¶ä¸­classpathæŒ‡å®šäº†ç±»çš„æœç´¢è·¯å¾„ã€‚ ç¼–è¯‘å¹¶æ‰§è¡Œå¤šä¸ªæ–‡ä»¶1. åœ¨ç›®å½•ä¸‹~/test_java/com/kuringä¸‹æ–°å»ºHelloWorld2.javaå’ŒMain.javaçš„æ–‡ä»¶ï¼ŒHelloWorld2.javaæ–‡ä»¶å†…å®¹ä¸º1234567package com.kuring;public class HellowWorld2 &#123; public void print() &#123; System.out.println("hello world too"); &#125;&#125; Main.javaçš„æ–‡ä»¶å†…å®¹ä¸º12345678package com.kuring;public class Main &#123; public static void main(String[] args) &#123; HelloWorld2 hello = new HelloWorld2(); hello.print(); &#125;&#125; 2. åœ¨ç›®å½•~/test_javaä¸‹æ‰§è¡Œjavac com/kuring/Main.javaå‘½ä»¤æ¥ç¼–è¯‘æ–‡ä»¶ã€‚æ­¤æ—¶ä¼šåœ¨Main.javaæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹ç”ŸæˆMain.classå’ŒHelloWorld2.classä¸¤ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥çœ‹å‡ºjavacæœ‰è‡ªåŠ¨æŽ¨å¯¼ç¼–è¯‘çš„åŠŸèƒ½ã€‚ 3. åœ¨ç›®å½•~/test_javaä¸‹æ‰§è¡Œjava com.kuring.Mainã€‚å±å¹•ä¼šè¾“å‡ºhello world tooï¼Œè¯´æ˜Žæ–‡ä»¶æ‰§è¡ŒæˆåŠŸã€‚ æ‰“åŒ…å°†ä¸Šè¿°ä¾‹å­ä¸­çš„ç¨‹åºæ‰“æˆjaråŒ…ï¼Œå¯ä»¥åœ¨~/test_javaç›®å½•ä¸‹é€šè¿‡æ‰§è¡Œå‘½ä»¤jar cvf my.jar comæ¥ç”Ÿæˆjaræ–‡ä»¶ã€‚å…¶ä¸­my.jarä¸ºè¦ç”Ÿæˆçš„jaræ–‡ä»¶çš„åå­—ã€‚é€šè¿‡java -classpath my.jar com.kuring.Mainæ¥æ‰§è¡Œjaræ–‡ä»¶ã€‚ä¸Šè¿°å‘½ä»¤éœ€è¦æŒ‡å®šè¦æ‰§è¡Œçš„ç±»åMainï¼Œå¦‚æžœæƒ³é€šè¿‡java -jar my.jarå‘½ä»¤å³å¯æ‰§è¡Œç¨‹åºéœ€è¦åœ¨jaråŒ…çš„META-INF/MANIFEST.MFæ–‡ä»¶ä¸­å¢žåŠ ä¸€è¡Œ1Main-Class: SolrTest æ¥æ‰§è¡Œå«æœ‰mainå‡½æ•°çš„ç±»ã€‚ç„¶åŽé€šè¿‡jar -cfm my.jar MANIFEST.MFè·¯å¾„ è¦æ‰“åŒ…çš„ç›®å½•æˆ–æ–‡ä»¶æ¥é‡æ–°ç”ŸæˆjaråŒ…ã€‚è¿™æ ·å°±å¯ä»¥é€šè¿‡java -jar my.jaræ¥æ‰§è¡ŒjaråŒ…äº†ã€‚ å…³äºŽå¦‚ä½•åˆ›å»ºå¹¶æ‰§è¡Œå¼•ç”¨äº†å…¶ä»–jaråŒ…çš„jaråŒ…ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„å¦å¤–ä¸€ç¯‡åšå®¢ã€Šåœ¨Linuxä¸Šæ­å»ºsolrçŽ¯å¢ƒã€‹ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ å¸¸ç”¨jarå‘½ä»¤ åŠŸèƒ½ å‘½ä»¤ ç”¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ª JAR æ–‡ä»¶ jar cf jar-file input-fileâ€¦ ç”¨ä¸€ä¸ªç›®å½•åˆ›å»ºä¸€ä¸ª JAR æ–‡ä»¶ jar cf jar-file dir-name åˆ›å»ºä¸€ä¸ªæœªåŽ‹ç¼©çš„ JAR æ–‡ä»¶ jar cf0 jar-file dir-name æ›´æ–°ä¸€ä¸ª JAR æ–‡ä»¶ jar uf jar-file input-fileâ€¦ æŸ¥çœ‹ä¸€ä¸ª JAR æ–‡ä»¶çš„å†…å®¹ jar tf jar-file æå–ä¸€ä¸ª JAR æ–‡ä»¶çš„å†…å®¹ jar xf jar-file ä»Žä¸€ä¸ª JAR æ–‡ä»¶ä¸­æå–ç‰¹å®šçš„æ–‡ä»¶ jar xf jar-file archived-fileâ€¦ è¿è¡Œä¸€ä¸ªæ‰“åŒ…ä¸ºå¯æ‰§è¡Œ JAR æ–‡ä»¶çš„åº”ç”¨ç¨‹åº java -jar app.jar å‚è€ƒæ–‡æ¡£JAR æ–‡ä»¶æ­å¯†Javaç¨‹åºçš„ç¼–è¯‘ã€æ‰§è¡Œå’Œæ‰“åŒ…]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[HBaseæ€§èƒ½æµ‹è¯•]]></title>
      <url>%2Fpost%2Fhbase_test%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡é€‰æ‹©å››å°æœºå™¨ä½œä¸ºé›†ç¾¤çŽ¯å¢ƒï¼Œhadoopé‡‡ç”¨0.20.2ï¼ŒHBaseé‡‡ç”¨0.90.2ï¼Œzookeeperé‡‡ç”¨ç‹¬ç«‹å®‰è£…çš„3.3.2ç¨³å®šç‰ˆã€‚æœ¬æ–‡æ‰€é‡‡ç”¨çš„æ•°æ®å‡ä¸ºç®€å•çš„æµ‹è¯•æ•°æ®ï¼Œå¦‚æžœæ’å…¥çš„æ•°æ®é‡å¤§å¯èƒ½ä¼šå¯¹ç»“æžœäº§ç”Ÿå½±å“ã€‚é›†ç¾¤çŽ¯å¢ƒéƒ¨ç½²æƒ…å†µå¦‚ä¸‹ï¼š æœºå™¨å IPåœ°å€ ç”¨é€” Hadoopæ¨¡å— HBaseæ¨¡å— ZooKeeperæ¨¡å— server206 192.168.20.6 Master NameNodeã€JobTrackerã€SecondaryNameNode HMaster QuorumPeerMain ap1 192.168.20.36 Slave DataNodeã€TaskTracker HRegionServer QuorumPeerMain ap2 192.168.20.38 Slave DataNodeã€TaskTracker HRegionServer QuorumPeerMain ap2 192.168.20.8 Slave DataNodeã€TaskTracker HRegionServer QuorumPeerMain å•çº¿ç¨‹æ’å…¥100ä¸‡è¡Œ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128import java.io.IOException;import java.util.ArrayList;import java.util.List;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.hbase.HBaseConfiguration;import org.apache.hadoop.hbase.HColumnDescriptor;import org.apache.hadoop.hbase.HTableDescriptor;import org.apache.hadoop.hbase.client.HBaseAdmin;import org.apache.hadoop.hbase.client.HTable;import org.apache.hadoop.hbase.client.Put;import org.apache.hadoop.hbase.util.Bytes;public class InsertRowThreadTest &#123; private static Configuration conf = null; private static String tableName = &quot;blog&quot;; static &#123; Configuration conf1 = new Configuration(); conf1.set(&quot;hbase.zookeeper.quorum&quot;, &quot;server206,ap1,ap2&quot;); conf1.set(&quot;hbase.zookeeper.property.clientPort&quot;, &quot;2181&quot;); conf = HBaseConfiguration.create(conf1); &#125; /** * @param args * @throws Exception */ public static void main(String[] args) throws Exception &#123; // åˆ—æ— String[] familys = &#123;&quot;article&quot;, &quot;author&quot;&#125;; // åˆ›å»ºè¡¨ try &#123; HBaseAdmin admin = new HBaseAdmin(conf); if (admin.tableExists(tableName)) &#123; System.out.println(&quot;è¡¨å·²ç»å­˜åœ¨ï¼Œé¦–å…ˆåˆ é™¤è¡¨&quot;); admin.disableTable(tableName); admin.deleteTable(tableName); &#125; HTableDescriptor tableDesc = new HTableDescriptor(tableName); for(int i=0; i&lt;familys.length; i++)&#123; HColumnDescriptor columnDescriptor = new HColumnDescriptor(familys[i]); tableDesc.addFamily(columnDescriptor); &#125; admin.createTable(tableDesc); System.out.println(&quot;åˆ›å»ºè¡¨æˆåŠŸ&quot;); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; // å‘è¡¨ä¸­æ’å…¥æ•°æ® long time1 = System.currentTimeMillis(); System.out.println(&quot;å¼€å§‹å‘è¡¨ä¸­æ’å…¥æ•°æ®ï¼Œå½“å‰æ—¶é—´ä¸º:&quot; + time1); for (int i=0; i&lt;1; i++) &#123; InsertThread thread = new InsertThread(i * 1000000, 1000000, &quot;thread&quot; + i, time1); thread.start(); &#125; &#125; public static class InsertThread extends Thread &#123; private int beginSite; private int insertCount; private String name; private long beginTime; public InsertThread(int beginSite, int insertCount, String name, long beginTime) &#123; this.beginSite = beginSite; this.insertCount = insertCount; this.name = name; this.beginTime = beginTime; &#125; @Override public void run() &#123; HTable table = null; try &#123; table = new HTable(conf, Bytes.toBytes(tableName)); table.setAutoFlush(false); table.setWriteBufferSize(1 * 1024 * 1024); &#125; catch (IOException e1) &#123; e1.printStackTrace(); &#125; System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;ä»Ž&quot; + beginSite + &quot;å¼€å§‹æ’å…¥&quot;); List&lt;Put&gt; putList = new ArrayList&lt;Put&gt;(); for (int i=beginSite; i&lt;beginSite + insertCount; i++) &#123; Put put = new Put(Bytes.toBytes(&quot;&quot; + i)); put.add(Bytes.toBytes(&quot;article&quot;), Bytes.toBytes(&quot;tag&quot;), Bytes.toBytes(&quot;hadoop&quot;)); putList.add(put); if (putList.size() &gt; 10000) &#123; try &#123; table.put(putList); table.flushCommits(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; putList.clear(); try &#123; Thread.sleep(5); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; try &#123; table.put(putList); table.flushCommits(); table.close(); &#125; catch (IOException e) &#123; System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;å¤±è´¥&quot;); e.printStackTrace(); &#125; long currentTime = System.currentTimeMillis(); System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;ç»“æŸï¼Œç”¨æ—¶&quot; + (currentTime - beginTime)); &#125; &#125;&#125; æµ‹è¯•5æ¬¡çš„ç»“æžœåˆ†å¸ƒå›¾å¦‚ä¸‹ï¼šå…¶ä¸­Yè½´å•ä½ä¸ºæ¯«ç§’ã€‚å¹³å‡é€Ÿåº¦åœ¨1ç§’æ’å…¥3ä¸‡è¡Œè®°å½•ã€‚ 10ä¸ªçº¿ç¨‹æ¯ä¸ªçº¿ç¨‹æ’å…¥10ä¸‡è¡Œ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128import java.io.IOException;import java.util.ArrayList;import java.util.List;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.hbase.HBaseConfiguration;import org.apache.hadoop.hbase.HColumnDescriptor;import org.apache.hadoop.hbase.HTableDescriptor;import org.apache.hadoop.hbase.client.HBaseAdmin;import org.apache.hadoop.hbase.client.HTable;import org.apache.hadoop.hbase.client.Put;import org.apache.hadoop.hbase.util.Bytes;public class InsertRowThreadTest &#123; private static Configuration conf = null; private static String tableName = &quot;blog&quot;; static &#123; Configuration conf1 = new Configuration(); conf1.set(&quot;hbase.zookeeper.quorum&quot;, &quot;server206,ap1,ap2&quot;); conf1.set(&quot;hbase.zookeeper.property.clientPort&quot;, &quot;2181&quot;); conf = HBaseConfiguration.create(conf1); &#125; /** * @param args * @throws Exception */ public static void main(String[] args) throws Exception &#123; // åˆ—æ— String[] familys = &#123;&quot;article&quot;, &quot;author&quot;&#125;; // åˆ›å»ºè¡¨ try &#123; HBaseAdmin admin = new HBaseAdmin(conf); if (admin.tableExists(tableName)) &#123; System.out.println(&quot;è¡¨å·²ç»å­˜åœ¨ï¼Œé¦–å…ˆåˆ é™¤è¡¨&quot;); admin.disableTable(tableName); admin.deleteTable(tableName); &#125; HTableDescriptor tableDesc = new HTableDescriptor(tableName); for(int i=0; i&lt;familys.length; i++)&#123; HColumnDescriptor columnDescriptor = new HColumnDescriptor(familys[i]); tableDesc.addFamily(columnDescriptor); &#125; admin.createTable(tableDesc); System.out.println(&quot;åˆ›å»ºè¡¨æˆåŠŸ&quot;); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; // å‘è¡¨ä¸­æ’å…¥æ•°æ® long time1 = System.currentTimeMillis(); System.out.println(&quot;å¼€å§‹å‘è¡¨ä¸­æ’å…¥æ•°æ®ï¼Œå½“å‰æ—¶é—´ä¸º:&quot; + time1); for (int i=0; i&lt;10; i++) &#123; InsertThread thread = new InsertThread(i * 100000, 100000, &quot;thread&quot; + i, time1); thread.start(); &#125; &#125; public static class InsertThread extends Thread &#123; private int beginSite; private int insertCount; private String name; private long beginTime; public InsertThread(int beginSite, int insertCount, String name, long beginTime) &#123; this.beginSite = beginSite; this.insertCount = insertCount; this.name = name; this.beginTime = beginTime; &#125; @Override public void run() &#123; HTable table = null; try &#123; table = new HTable(conf, Bytes.toBytes(tableName)); table.setAutoFlush(false); table.setWriteBufferSize(1 * 1024 * 1024); &#125; catch (IOException e1) &#123; e1.printStackTrace(); &#125; System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;ä»Ž&quot; + beginSite + &quot;å¼€å§‹æ’å…¥&quot;); List&lt;Put&gt; putList = new ArrayList&lt;Put&gt;(); for (int i=beginSite; i&lt;beginSite + insertCount; i++) &#123; Put put = new Put(Bytes.toBytes(&quot;&quot; + i)); put.add(Bytes.toBytes(&quot;article&quot;), Bytes.toBytes(&quot;tag&quot;), Bytes.toBytes(&quot;hadoop&quot;)); putList.add(put); if (putList.size() &gt; 10000) &#123; try &#123; table.put(putList); table.flushCommits(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; putList.clear(); try &#123; Thread.sleep(5); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; try &#123; table.put(putList); table.flushCommits(); table.close(); &#125; catch (IOException e) &#123; System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;å¤±è´¥&quot;); e.printStackTrace(); &#125; long currentTime = System.currentTimeMillis(); System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;ç»“æŸï¼Œç”¨æ—¶&quot; + (currentTime - beginTime)); &#125; &#125;&#125; è€—æ—¶åˆ†å¸ƒå›¾ä¸ºï¼šç»“æžœæ¯”å•çº¿ç¨‹æ’å…¥æœ‰æå‡ã€‚ 20ä¸ªçº¿ç¨‹æ¯ä¸ªçº¿ç¨‹æ’å…¥5ä¸‡è¡Œ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128import java.io.IOException;import java.util.ArrayList;import java.util.List;import org.apache.hadoop.conf.Configuration;import org.apache.hadoop.hbase.HBaseConfiguration;import org.apache.hadoop.hbase.HColumnDescriptor;import org.apache.hadoop.hbase.HTableDescriptor;import org.apache.hadoop.hbase.client.HBaseAdmin;import org.apache.hadoop.hbase.client.HTable;import org.apache.hadoop.hbase.client.Put;import org.apache.hadoop.hbase.util.Bytes;public class InsertRowThreadTest &#123; private static Configuration conf = null; private static String tableName = &quot;blog&quot;; static &#123; Configuration conf1 = new Configuration(); conf1.set(&quot;hbase.zookeeper.quorum&quot;, &quot;server206,ap1,ap2&quot;); conf1.set(&quot;hbase.zookeeper.property.clientPort&quot;, &quot;2181&quot;); conf = HBaseConfiguration.create(conf1); &#125; /** * @param args * @throws Exception */ public static void main(String[] args) throws Exception &#123; // åˆ—æ— String[] familys = &#123;&quot;article&quot;, &quot;author&quot;&#125;; // åˆ›å»ºè¡¨ try &#123; HBaseAdmin admin = new HBaseAdmin(conf); if (admin.tableExists(tableName)) &#123; System.out.println(&quot;è¡¨å·²ç»å­˜åœ¨ï¼Œé¦–å…ˆåˆ é™¤è¡¨&quot;); admin.disableTable(tableName); admin.deleteTable(tableName); &#125; HTableDescriptor tableDesc = new HTableDescriptor(tableName); for(int i=0; i&lt;familys.length; i++)&#123; HColumnDescriptor columnDescriptor = new HColumnDescriptor(familys[i]); tableDesc.addFamily(columnDescriptor); &#125; admin.createTable(tableDesc); System.out.println(&quot;åˆ›å»ºè¡¨æˆåŠŸ&quot;); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; // å‘è¡¨ä¸­æ’å…¥æ•°æ® long time1 = System.currentTimeMillis(); System.out.println(&quot;å¼€å§‹å‘è¡¨ä¸­æ’å…¥æ•°æ®ï¼Œå½“å‰æ—¶é—´ä¸º:&quot; + time1); for (int i=0; i&lt;20; i++) &#123; InsertThread thread = new InsertThread(i * 50000, 50000, &quot;thread&quot; + i, time1); thread.start(); &#125; &#125; public static class InsertThread extends Thread &#123; private int beginSite; private int insertCount; private String name; private long beginTime; public InsertThread(int beginSite, int insertCount, String name, long beginTime) &#123; this.beginSite = beginSite; this.insertCount = insertCount; this.name = name; this.beginTime = beginTime; &#125; @Override public void run() &#123; HTable table = null; try &#123; table = new HTable(conf, Bytes.toBytes(tableName)); table.setAutoFlush(false); table.setWriteBufferSize(1 * 1024 * 1024); &#125; catch (IOException e1) &#123; e1.printStackTrace(); &#125; System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;ä»Ž&quot; + beginSite + &quot;å¼€å§‹æ’å…¥&quot;); List&lt;Put&gt; putList = new ArrayList&lt;Put&gt;(); for (int i=beginSite; i&lt;beginSite + insertCount; i++) &#123; Put put = new Put(Bytes.toBytes(&quot;&quot; + i)); put.add(Bytes.toBytes(&quot;article&quot;), Bytes.toBytes(&quot;tag&quot;), Bytes.toBytes(&quot;hadoop&quot;)); putList.add(put); if (putList.size() &gt; 10000) &#123; try &#123; table.put(putList); table.flushCommits(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; putList.clear(); try &#123; Thread.sleep(5); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; try &#123; table.put(putList); table.flushCommits(); table.close(); &#125; catch (IOException e) &#123; System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;å¤±è´¥&quot;); e.printStackTrace(); &#125; long currentTime = System.currentTimeMillis(); System.out.println(&quot;çº¿ç¨‹&quot; + name + &quot;ç»“æŸï¼Œç”¨æ—¶&quot; + (currentTime - beginTime)); &#125; &#125;&#125; ç»“æžœå¦‚ä¸‹ï¼šæ‰§è¡Œç»“æžœè·Ÿ10ä¸ªçº¿ç¨‹æ•ˆæžœå·®ä¸å¤šã€‚ 10ä¸ªçº¿ç¨‹æ¯ä¸ªçº¿ç¨‹æ’å…¥100ä¸‡è¡Œä»£ç è·Ÿå‰é¢ä¾‹å­é›·åŒï¼Œä¸ºèŠ‚çº¦ç¯‡å¹…æœªåˆ—å‡ºã€‚æ‰§è¡Œç»“æžœå¦‚ä¸‹ï¼š 20ä¸ªçº¿ç¨‹æ¯ä¸ªçº¿ç¨‹æ’å…¥50ä¸‡è¡Œæ‰§è¡Œç»“æžœå¦‚ä¸‹ï¼š æ€»ç»“ å¤šçº¿ç¨‹æ¯”å•çº¿ç¨‹çš„æ’å…¥æ•ˆçŽ‡æœ‰æ‰€æé«˜ï¼Œå¼€10ä¸ªçº¿ç¨‹ä¸Žå¼€20ä¸ªçº¿ç¨‹çš„æ’å…¥è¡Œæ•ˆçŽ‡å·®ä¸å¤šã€‚ æ’å…¥æ•ˆçŽ‡å­˜åœ¨ä¸ç¨³å®šæƒ…å†µï¼Œé€šè¿‡æŠ˜çº¿å›¾å¯ä»¥çœ‹å‡ºã€‚ ç›¸å…³æ–‡ç« åœ¨Linuxä¸Šæ­å»ºHadoopé›†ç¾¤çŽ¯å¢ƒåœ¨Linuxä¸Šæ­å»ºHBaseé›†ç¾¤çŽ¯å¢ƒ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨Linuxä¸Šæ­å»ºHadoopé›†ç¾¤çŽ¯å¢ƒ]]></title>
      <url>%2Fpost%2Fhadoop_setup%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡é€‰æ‹©å®‰è£…çš„hadoopç‰ˆæœ¬ä¸ºç½‘ä¸Šèµ„æ–™è¾ƒå¤šçš„0.20.2ï¼Œå¯¹äºŽä¸æ‡‚çš„æ–°æŠ€æœ¯è¦æŒä¿å®ˆæ€åº¦ã€‚é‡åˆ°é—®é¢˜è§£å†³é—®é¢˜çš„ç—›è‹¦è¿œæ¯”ä½“ä¼šç”¨ä¸ç€åŠŸèƒ½çš„æ–°ç‰ˆæœ¬çš„å¿«æ„Ÿæ¥çš„æ›´çŒ›çƒˆã€‚ å®‰è£…çŽ¯å¢ƒæœ¬æ–‡é€‰æ‹©äº†ä¸‰å°æœºå™¨æ¥æ­å»ºhadoopé›†ç¾¤ï¼Œ1ä¸ªMasterå’Œ2ä¸ªSlaveã€‚æœ¬æ–‡ä¸­çš„masterä¸»æœºå³namenodeæ‰€åœ¨çš„æœºå™¨ï¼Œslaveå³datanodeæ‰€åœ¨çš„æœºå™¨ã€‚èŠ‚ç‚¹çš„æœºå™¨åå’ŒIPåœ°å€å¦‚ä¸‹ æœºå™¨å IPåœ°å€ ç”¨é€” è¿è¡Œæ¨¡å— server206 192.168.20.6 Master NameNodeã€JobTrackerã€SecondaryNameNode ap1 192.168.20.36 Slave DataNodeã€TaskTracker ap2 192.168.20.38 Slave DataNodeã€TaskTracker å®‰è£…Java æ£€æŸ¥æœ¬æœºæ˜¯å¦å·²å®‰è£…Javaåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥java -versionåˆ¤æ–­æ˜¯å¦å·²ç»å®‰è£…ã€‚å¦‚æžœå·²ç»å®‰è£…æ£€æŸ¥Javaçš„ç‰ˆæœ¬ï¼ŒæŸäº›æ“ä½œç³»ç»Ÿåœ¨å®‰è£…çš„æ—¶å€™ä¼šå®‰è£…Jdkï¼Œä½†å¯èƒ½ç‰ˆæœ¬ä¼šå¤ªä½Žã€‚å¦‚æžœç‰ˆæœ¬è¿‡ä½Žï¼Œéœ€è¦å°†æ—§çš„ç‰ˆæœ¬åˆ é™¤ã€‚åœ¨Redhatæ“ä½œç³»ç»Ÿä¸­å¯ä»¥é€šè¿‡rpmå‘½ä»¤æ¥åˆ é™¤ç³»ç»Ÿè‡ªå¸¦çš„Jdkã€‚ å®‰è£…javaæœ¬æ–‡é€‰æ‹©jdk1.6å®‰è£…ï¼Œå°†è§£åŽ‹å‡ºçš„æ–‡ä»¶å¤¹jdk1.6.0_10å¤åˆ¶åˆ°/usr/javaç›®å½•ä¸‹ã€‚ è®¾ç½®javaçš„çŽ¯å¢ƒå˜é‡æ·»åŠ ç³»ç»ŸçŽ¯å¢ƒå˜é‡ï¼Œä¿®æ”¹/etc/profileæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š export JAVA_HOME=/usr/java/jdk1.6.0_10export CLASSPATH=.:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jarexport PATH=$JAVA_HOME/bin:$PATHexport JRE_HOME=$JAVA_HOME/jre ä¿®æ”¹å®Œprofileæ–‡ä»¶åŽè¦æ‰§è¡Œsource /etc/profileå‘½ä»¤æ‰èƒ½ä½¿åˆšæ‰çš„ä¿®æ”¹åœ¨è¯¥å‘½ä»¤è¡ŒçŽ¯å¢ƒä¸‹ç”Ÿæ•ˆã€‚ æ£€æŸ¥javaæ˜¯å¦å®‰è£…æˆåŠŸåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥java -versionã€javacå‘½ä»¤æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸåŠå®‰è£…ç‰ˆæœ¬ã€‚ é…ç½®hostsæ–‡ä»¶æœ¬æ­¥éª¤å¿…é¡»æ“ä½œï¼Œéœ€è¦rootç”¨æˆ·æ¥æ“ä½œï¼Œä¿®æ”¹å®Œæˆä¹‹åŽç«‹å³ç”Ÿæ•ˆã€‚åœ¨ä¸‰å°æœºå™¨çš„/etc/hostsæ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 192.168.20.6 server206192.168.20.36 ap1192.168.20.38 ap2 ä¿®æ”¹å®Œæˆä¹‹åŽå¯ä»¥é€šè¿‡ping ä¸»æœºåçš„æ–¹å¼æ¥æµ‹è¯•hostsæ–‡ä»¶æ˜¯å¦æ­£ç¡®ã€‚ æ–°å»ºhadoopç”¨æˆ·åœ¨ä¸‰å°æœºå™¨ä¸Šåˆ†åˆ«æ–°å»ºhadoopç”¨æˆ·ï¼Œè¯¥ç”¨æˆ·çš„ç›®å½•ä¸º/home/hadoopã€‚åˆ©ç”¨useraddå‘½ä»¤æ¥æ·»åŠ ç”¨æˆ·ï¼Œåˆ©ç”¨passwdå‘½ä»¤ç»™ç”¨æˆ·æ·»åŠ å¯†ç ã€‚ é…ç½®SSHå…ç™»å½•è¯¥æ­¥éª¤éžå¿…é¡»ï¼ŒæŽ¨èé…ç½®ï¼Œå¦åˆ™åœ¨Masterä¸Šæ‰§è¡Œstart-all.shå‘½ä»¤æ¥å¯åŠ¨hadoopé›†ç¾¤çš„æ—¶å€™éœ€è¦æ‰‹åŠ¨è¾“å…¥sshå¯†ç ï¼Œéžå¸¸éº»çƒ¦ã€‚åŽŸç†ï¼šç”¨æˆ·å°†è‡ªå·±çš„å…¬é’¥å‚¨å­˜åœ¨è¿œç¨‹ä¸»æœºä¸Šã€‚ç™»å½•çš„æ—¶å€™ï¼Œè¿œç¨‹ä¸»æœºä¼šå‘ç”¨æˆ·å‘é€ä¸€æ®µéšæœºå­—ç¬¦ä¸²ï¼Œç”¨æˆ·ç”¨è‡ªå·±çš„ç§é’¥åŠ å¯†åŽï¼Œå†å‘å›žæ¥ã€‚è¿œç¨‹ä¸»æœºç”¨äº‹å…ˆå‚¨å­˜çš„å…¬é’¥è¿›è¡Œè§£å¯†ï¼Œå¦‚æžœæˆåŠŸï¼Œå°±è¯æ˜Žç”¨æˆ·æ˜¯å¯ä¿¡çš„ï¼Œç›´æŽ¥å…è®¸ç™»å½•shellï¼Œä¸å†è¦æ±‚è¾“å…¥å¯†ç ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œéœ€è¦å®žçŽ°çš„æ˜¯192.168.20.6ä¸Šçš„hadoopç”¨æˆ·å¯ä»¥æ— å¯†ç ç™»å½•è‡ªå·±ã€192.168.20.36å’Œ192.168.20.38çš„hadoopç”¨æˆ·ã€‚éœ€è¦å°†192.168.20.6ä¸Šçš„sshå…¬é’¥å¤åˆ¶åˆ°192.168.20.36å’Œ192.168.20.38æœºå™¨ä¸Šã€‚ åœ¨192.168.20.6ä¸Šæ‰§è¡Œssh-keygen â€“t rsaå‘½ä»¤æ¥ç”Ÿæˆsshå¯†é’¥å¯¹ã€‚ä¼šåœ¨/home/hadoop/.sshç›®å½•ä¸‹ç”Ÿæˆid_rsa.pubå’Œid_rsaä¸¤ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­id_rsa.pubä¸ºå…¬é’¥æ–‡ä»¶ï¼Œid_rsaä¸ºç§é’¥æ–‡ä»¶ã€‚ åœ¨192.168.20.6ä¸Šæ‰§è¡Œcat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keyså‘½ä»¤å°†å…¬é’¥æ·»åŠ åˆ°æŽˆæƒçš„keyé‡Œã€‚ æƒé™è®¾ç½®ã€‚åœ¨192.168.20.6ä¸Šæ‰§è¡Œchmod 600 ~/.ssh/authorized_keysæ¥ä¿®æ”¹authorized_keysæ–‡ä»¶çš„æƒé™ï¼Œæ‰§è¡Œchmod 700 ~/.sshå‘½ä»¤å°†.sshæ–‡ä»¶å¤¹çš„æƒé™è®¾ç½®ä¸º700ã€‚å¦‚æžœæƒé™ä¸å¯¹æ— å¯†ç ç™»å½•å°±é…ç½®ä¸æˆåŠŸï¼Œè€Œä¸”æ²¡æœ‰é”™è¯¯æç¤ºï¼Œè¿™ä¸€æ­¥ç‰¹åˆ«æ³¨æ„ã€‚ åœ¨æœ¬æœºä¸Šæµ‹è¯•æ˜¯å¦è®¾ç½®æ— å¯†ç ç™»å½•æˆåŠŸã€‚åœ¨192.168.20.6ä¸Šæ‰§è¡Œssh -p æœ¬æœºSSHæœåŠ¡ç«¯å£å· localhostï¼Œå¦‚æžœä¸éœ€è¦è¾“å…¥å¯†ç åˆ™ç™»å½•æˆåŠŸã€‚ åˆ©ç”¨scpå‘½ä»¤å°†192.168.20.6ä¸Šçš„å…¬é’¥æ–‡ä»¶id_rsa.pubè¿½åŠ åˆ°192.168.20.36å’Œ192.168.20.38æœºå™¨ä¸Šçš„~/.ssh/authorized_keysæ–‡ä»¶ä¸­ã€‚scpå‘½ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š1scp -P sshç«¯å£å· ~/.ssh/id_rsa.pub hadoop@192.168.20.36:~/id_rsa.pub åœ¨192.168.20.36å’Œ192.168.20.38æœºå™¨ä¸Šåˆ†åˆ«æ‰§è¡Œcat ~/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keyså‘½ä»¤å°†192.168.20.6æœºå™¨ä¸Šçš„å…¬é’¥æ·»åŠ åˆ°authorized_keysæ–‡ä»¶çš„å°¾éƒ¨ã€‚ é…ç½®æ— å¯†ç ç™»å½•å®Œæˆï¼Œåœ¨Masteræœºå™¨ä¸Šæ‰§è¡Œssh -P æœ¬æœºSSHæœåŠ¡ç«¯å£å· è¦è¿žæŽ¥çš„æœåŠ¡å™¨IPåœ°å€å‘½ä»¤è¿›è¡Œæµ‹è¯•ã€‚ æ­å»ºå•æœºç‰ˆhadoopåœ¨192.168.20.6ä¸Šé¦–å…ˆæ­å»ºå•æœºç‰ˆhadoopè¿›è¡Œæµ‹è¯•ã€‚ å°†hadoop-0.20.2.tar.gzæ–‡ä»¶è§£åŽ‹åˆ°hadoopç”¨æˆ·çš„ç›®å½•ä¸‹ã€‚ é…ç½®hadoopçš„çŽ¯å¢ƒå˜é‡ã€‚ä¿®æ”¹/etc/profileæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶çš„ä¸‹é¢åŠ å…¥å¦‚ä¸‹ï¼š HADOOP_HOME=/home/hadoop/hadoop-0.20.2export HADOOP_HOMEexport HADOOP=$HADOOP_HOME/binexport PATH=$HADOOP:$PATH ä¿®æ”¹å®Œæˆä¹‹åŽæ‰§è¡Œsource /etc/profileä½¿ä¿®æ”¹çš„çŽ¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚ é…ç½®hadoopç”¨åˆ°çš„javaçŽ¯å¢ƒå˜é‡ä¿®æ”¹conf/hadoop-env.shæ–‡ä»¶ï¼Œæ·»åŠ export JAVA_HOME=/usr/java/jdk1.6.0_10ã€‚ ä¿®æ”¹conf/core-site.xmlçš„å†…å®¹å¦‚ä¸‹ï¼š 12345678910111213141516&lt;configuration&gt; &lt;property&gt; &lt;name&gt;fs.default.name&lt;/name&gt; &lt;value&gt;hdfs://localhost:9000&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;1&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;/home/hadoop/hadoop-0.20.2/tmp&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; ä¿®æ”¹/conf/mapred-site.xmlçš„å†…å®¹å¦‚ä¸‹ï¼š 123456&lt;configuration&gt; &lt;property&gt; &lt;name&gt;mapred.job.tracker&lt;/name&gt; &lt;value&gt;localhost:9001&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; è‡³æ­¤å•å‡»ç‰ˆæ­å»ºå®Œæ¯•ã€‚å¯ä»¥é€šè¿‡hadoopè‡ªå¸¦çš„wordcountç¨‹åºæµ‹è¯•æ˜¯å¦è¿è¡Œæ­£å¸¸ã€‚ä¸‹é¢ä¸ºè¿è¡Œwordcountä¾‹å­çš„æ­¥éª¤ã€‚ åœ¨hadoopç›®å½•ä¸‹æ–°å»ºinputæ–‡ä»¶å¤¹ã€‚ å°†confç›®å½•ä¸‹çš„å†…å®¹æ‹·è´åˆ°inputæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œcp conf/* inputã€‚ é€šè¿‡start-all.shè„šæœ¬æ¥å¯åŠ¨å•æœºç‰ˆhadoopã€‚ æ‰§è¡Œwordcountç¨‹åºï¼šhadoop jar hadoop-0.20.2-examples.jar wordcount input outputã€‚ é€šè¿‡stop-all.shè„šæœ¬æ¥åœæ­¢å•æœºç‰ˆhadoopã€‚ æ­å»ºåˆ†å¸ƒå¼hadoopåœ¨ä¸Šè¿°åŸºç¡€ä¹‹ä¸Šï¼Œåœ¨192.168.20.6ä¸Šæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚1. ä¿®æ”¹/home/hadoop/hadoop-0.20.2/confç›®å½•ä¸‹çš„core-site.xmlæ–‡ä»¶ã€‚12345678910&lt;configuration&gt; &lt;property&gt; &lt;name&gt;fs.default.name&lt;/name&gt; &lt;value&gt;hdfs://192.168.20.6:9000&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;/home/hadoop/hadoop-0.20.2/tmp&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; å¦‚æ²¡æœ‰é…ç½®hadoop.tmp.dirå‚æ•°ï¼Œæ­¤æ—¶ç³»ç»Ÿé»˜è®¤çš„ä¸´æ—¶ç›®å½•ä¸ºï¼š/tmp/hadoo-hadoopã€‚è€Œè¿™ä¸ªç›®å½•åœ¨æ¯æ¬¡é‡å¯åŽéƒ½ä¼šè¢«å¹²æŽ‰ï¼Œå¿…é¡»é‡æ–°æ‰§è¡Œformatæ‰è¡Œï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚2. ä¿®æ”¹/home/hadoop/hadoop-0.20.2/confç›®å½•ä¸‹çš„hdfs-site.xmlæ–‡ä»¶ã€‚12345678910&lt;configuration&gt; &lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;1&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.support.append&lt;/name&gt; &lt;value&gt;true&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; 3. ä¿®æ”¹/home/hadoop/hadoop-0.20.2/confç›®å½•ä¸‹çš„mapred-site.xmlæ–‡ä»¶ã€‚123456&lt;configuration&gt; &lt;property&gt; &lt;name&gt;mapred.job.tracker&lt;/name&gt; &lt;value&gt;http://192.168.20.6:9001&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; 4. ä¿®æ”¹/home/hadoop/hadoop-0.20.2/confç›®å½•ä¸‹çš„mastersæ–‡ä»¶ã€‚å°†Masteræœºå™¨çš„IPåœ°å€æˆ–ä¸»æœºåæ·»åŠ è¿›æ–‡ä»¶ï¼Œå¦‚192.168.20.6ã€‚5. ä¿®æ”¹/home/hadoop/hadoop-0.20.2/confç›®å½•ä¸‹çš„slavesæ–‡ä»¶ã€‚Masterä¸»æœºç‰¹æœ‰åœ¨å…¶ä¸­å°†slaveèŠ‚ç‚¹çš„Ipåœ°å€æˆ–ä¸»æœºåæ·»åŠ è¿›æ–‡ä»¶ä¸­ï¼Œæœ¬ä¾‹ä¸­åŠ å…¥12192.168.20.36192.168.20.38 6. hadoopä¸»æœºçš„masterä¸»æœºå·²ç»é…ç½®å®Œæ¯•ï¼Œåˆ©ç”¨scpå‘½ä»¤å°†hadoop-0.20.2ç›®å½•å¤åˆ¶åˆ°ä¸¤å°slaveæœºå™¨çš„hadoopç›®å½•ä¸‹ã€‚å‘½ä»¤ä¸ºï¼šscp -r /home/hadoop hadoop@æœåŠ¡å™¨IP:/home/hadoop/ã€‚æ³¨æ„slavesæ–‡ä»¶åœ¨masterå’Œslaveæœºå™¨ä¸Šæ˜¯ä¸åŒçš„ã€‚ å¸¸ç”¨å‘½ä»¤ hadoop dfsadmin -report æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ http://192.168.20.6:50070/dfshealth.jsp æŸ¥çœ‹NameNodeçŠ¶æ€ http://192.168.20.6:50030/jobtracker.jsp Map/Reduceç®¡ç† hadoop fs -mkdir input åœ¨HDFSä¸Šåˆ›å»ºæ–‡ä»¶å¤¹ hadoop fs -put ~/file/file*.txt input å°†æ–‡ä»¶æ”¾å…¥HDFSæ–‡ä»¶ç³»ç»Ÿä¸­ å‚è€ƒæ–‡æ¡£ ç»†ç»†å“å‘³Hadoopç³»åˆ—ã€‚è¶…è¯¦ç»†çš„hadoopæ•™ç¨‹ï¼Œä½œè€…éžå¸¸ç”¨å¿ƒã€‚ ä¸‹è½½é“¾æŽ¥http://pan.baidu.com/share/link?shareid=1235031445&amp;uk=3506813023 æå–ç ï¼šv8ok]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linuxä¸­ä¿¡å·å¤„ç†ä¸¾ä¾‹]]></title>
      <url>%2Fpost%2Flinux_signal_deal_example%2F</url>
      <content type="text"><![CDATA[Linuxå¤„ç†ctrl+cä¿¡å·çš„ä¾‹å­å½“æŒ‰ä¸‹ctrl+cæ—¶å¦‚æžœä»£ç æ­£åœ¨æ‰§è¡Œsleepåˆ™ä¼šåœæ­¢ç¡çœ ï¼Œè°ƒç”¨ä¿¡å·å¤„ç†å‡½æ•°ã€‚ä¸­æ–­ä½ç½®å¯èƒ½ä½äºŽforå¾ªçŽ¯ä»£ç æ®µçš„ä»»æ„ä½ç½®ï¼Œä¸­æ–­ä½ç½®ä¸å¯æŽ§ã€‚123456789101112131415161718192021#include &lt;stdio.h&gt;#include &lt;signal.h&gt;void h(int s)&#123; printf("æŠ½ç©ºå¤„ç†intä¿¡å·\n");&#125;main()&#123; int sum=0; int i; signal(SIGINT,h); sigset_t sigs; for(i=1;i&lt;=10;i++) &#123; sum+=i; sleep(1); &#125; printf("sum=%d\n",sum); printf("Over!\n");&#125; ä¿¡å·å±è”½çš„ä¾‹å­1å½“æŒ‰ä¸‹ctrl+cæ—¶ä¸ä¼šè°ƒç”¨ä¿¡å·å¤„ç†å‡½æ•°ï¼Œå½“å¾ªçŽ¯æ‰§è¡Œå®Œæ¯•åŽä¼šè°ƒç”¨ä¿¡å·å¤„ç†å‡½æ•°ï¼Œå¹¶ä¸”printf(â€œOver!\nâ€)ä¼šè¢«æ‰§è¡Œã€‚1234567891011121314151617181920212223242526272829303132#include &lt;stdio.h&gt;#include &lt;signal.h&gt;void h(int s)&#123; printf("æŠ½ç©ºå¤„ç†intä¿¡å·\n");&#125;main()&#123; int sum=0; int i; // å£°æ˜Žä¿¡å·é›†åˆ sigset_t sigs; signal(SIGINT,h); // æ¸…ç©ºé›†åˆ sigemptyset(&amp;sigs); // åŠ å…¥å±è”½ä¿¡å· sigaddset(&amp;sigs,SIGINT); // å±è”½ä¿¡å· sigprocmask(SIG_BLOCK,&amp;sigs,0); for(i=1;i&lt;=10;i++) &#123; sum+=i; sleep(1); &#125; printf("sum=%d\n",sum); // æ¶ˆé™¤å±è”½ä¿¡å· sigprocmask(SIG_UNBLOCK,&amp;sigs,0); // å¦‚æžœåœ¨ä¸Šé¢æŒ‰ä¸‹ctrl+cï¼Œåœ¨æ­¤å¥ä¸æ‰§è¡Œ printf("Over!\n");&#125; å½“åœ¨å¾ªçŽ¯ä¸­æŒ‰ä¸‹ctrl+cåŽï¼Œè¯¥å‡½æ•°è¾“å‡ºç»“æžœä¸ºï¼š123sum=55æŠ½ç©ºå¤„ç†intä¿¡å·Over! ä¿¡å·å±è”½çš„ä¾‹å­212345678910111213141516171819202122232425262728293031323334353637#include &lt;stdio.h&gt;#include &lt;signal.h&gt;// ä¿¡å·å¤„ç†å‡½æ•°void h(int s)&#123; printf("æŠ½ç©ºå¤„ç†intä¿¡å·\n");&#125;main()&#123; int sum=0; int i; signal(SIGINT,h); sigset_t sigs,sigp,sigq; sigemptyset(&amp;sigs); sigemptyset(&amp;sigp); sigemptyset(&amp;sigq); sigaddset(&amp;sigs,SIGINT); sigprocmask(SIG_BLOCK,&amp;sigs,0); for(i=1;i&lt;=10;i++) &#123; sum+=i; sigpending(&amp;sigp); if(sigismember(&amp;sigp,SIGINT)) &#123; printf("SIGINTåœ¨æŽ’é˜Ÿ!\n"); // æ˜¯ä¿¡å·SIGINTæœ‰æ•ˆ sigsuspend(&amp;sigq); // å‡½æ•°è°ƒç”¨å®Œæ¯•åŽä¿¡å·SIGINTæ— æ•ˆ &#125; sleep(1); &#125; printf("sum=%d\n",sum); // æ¶ˆé™¤å±è”½ä¿¡å· sigprocmask(SIG_UNBLOCK,&amp;sigs,0); printf("Over!\n");&#125; è¯¥ä¾‹å­å¯ä»¥å®žçŽ°åœ¨æŒ‡å®šçš„ä»£ç å¤„å¤„ç†ä¿¡å·ã€‚å…¶ä¸­sigsuspendå‡½æ•°åŽŸå…ˆå¦‚ä¸‹ï¼š1int sigsuspend(const sigset_t *mask); å‡½æ•°è§£é‡Šï¼šå±è”½æ–°çš„ä¿¡å·ï¼ŒåŽŸæ¥çš„å±è”½ä¿¡å·å¤±æ•ˆã€‚æ˜¯ä¸€ä¸ªé˜»å¡žå‡½æ•°ï¼Œè¯¥å‡½æ•°å±è”½maskä¿¡å·ï¼›å¯¹éžmaskä¿¡å·ä¸å±è”½ï¼Œä¿¡å·å¤„ç†å‡½æ•°è°ƒç”¨å®Œæ¯•è¯¥å‡½æ•°è¿”å›žï¼›å¦‚æžœéžmaskä¿¡å·æ²¡æœ‰ä¿¡å·å¤„ç†å‡½æ•°ï¼Œåˆ™æ­¤å‡½æ•°ä¸è¿”å›žã€‚å³è¿”å›žæ¡ä»¶ï¼šä¿¡å·å‘ç”Ÿä¸”ä¿¡å·ä¸ºéžå±è”½ä¿¡å·ä¸”ä¿¡å·å¿…é¡»è¦è°ƒç”¨ä¿¡å·å¤„ç†å‡½æ•°å®Œæ¯•ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æˆ‘å¹»æƒ³æ‹¥æœ‰ä¸€åªå¬è¯çš„è¢‹é¼ ä½œä¸ºå® ç‰©]]></title>
      <url>%2Fpost%2FI_want_to_have_one_kangaroos%2F</url>
      <content type="text"><![CDATA[æˆ‘æƒ³æ‹¥æœ‰ä¸€åªé›Œæ€§è¢‹é¼ ä½œä¸ºå® ç‰©ï¼Œæˆ‘ä¼šå°†å…¶å–åä¸ºâ€ç‚¹ç‚¹â€ã€‚ä¹‹æ‰€ä»¥æ˜¯é›Œæ€§æ˜¯çœ‹ä¸­äº†è¢‹é¼ çš„æ¸©æš–èˆ’é€‚çš„è‚²å„¿è¢‹ã€‚ å¦‚æžœå¯ä»¥æˆ‘ä¼šç»™è‚²å„¿è¢‹ä¸Šé¢ç¼ä¸Šä¸ªæ‹‰é“¾ï¼Œè¿™æ ·æˆ‘å°±ä¸ä¼šæ‹…å¿ƒæ”¾åœ¨è¢‹è¢‹é‡Œé¢çš„ä¸œè¥¿ä¼šæŽ‰å‡ºæ¥äº†ã€‚ æˆ‘å¯ä»¥é¢†ç€æˆ‘çš„ç‚¹ç‚¹åŽ»è¶…å¸‚è´­ç‰©ï¼Œå°†è´­ä¹°çš„ä¸œè¥¿æ”¾åˆ°è¢‹è¢‹é‡Œé¢ï¼Œæ‹‰é“¾ä¸€æ‹‰ï¼Œç„¶åŽè¹¦è¹¦è·³è·³çš„å°±å›žå®¶äº†ã€‚ æ™šä¸Šåƒå®Œé¥­ï¼Œæˆ‘å¯ä»¥é¢†ç€ç‚¹ç‚¹åŽ»å¤§è¡—ä¸Šèµ°èµ°ï¼Œæˆ‘å¯ä»¥å°†æˆ‘çš„é’±åŒ…ã€æ‰‹æœºæ”¾åˆ°ç‚¹ç‚¹çš„è¢‹è¢‹é‡Œï¼Œæ‹‰é“¾ä¸€æ‹‰ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒæ‰‹æœºä¼šæ‘”åã€‚ å¦‚æžœä¸‹èµ·äº†é›¨æˆ–é‡åˆ°äº†å¯’é£Žï¼Œæˆ‘å¯ä»¥é’»åˆ°è¢‹è¢‹é‡Œï¼Œéœ²ä¸ªå¤´åœ¨å¤–é¢ï¼Œä¸€è·³10ç±³è¿œï¼Œç„¶åŽè¹¦è¹¦è·³è·³çš„å°±å›žå®¶äº†ã€‚ å½“ç„¶ï¼Œè¿™æ˜¯ä¸çŽ°å®žçš„ï¼Œæˆ‘åœ¨åšæ¢¦ï¼Œåšä¸€ä¸ªå¥½ç¬‘çš„æ¢¦ã€‚ã€‚ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å‚åŠ å®Œå§å§çš„å©šç¤¼ä¹‹åŽ]]></title>
      <url>%2Fpost%2Fmy_cousin_wedding%2F</url>
      <content type="text"><![CDATA[å‚åŠ å®Œå§å§çš„å©šç¤¼å›žåˆ°å®¶åŽï¼Œé™ä¸‹å¿ƒæ¥ä¹‹åŽå†…å¿ƒèŽ«åçš„æ„Ÿä¼¤ã€‚ä¹Ÿè®¸æ˜¯æ—©æ™¨ä¸‰ç‚¹é†’å››ç‚¹èµ·åºŠå¯¼è‡´èº«ä½“åœ¨ä¸‹åˆå·²ç»å‡ºçŽ°äº†ç–²æƒ«ã€‚ä¹Ÿè®¸æ˜¯ç”Ÿæ´»æœ¬æ¥å°±åº”è¯¥æ˜¯å¹³æ·¡çš„ï¼Œå…´å¥‹çš„å¤šäº†ï¼Œä¹Ÿè‡ªç„¶ç–²æƒ«çš„å¤šï¼Œæ€»ä¹‹è¦ä¿æŒä¸€ä¸ªç¬¦åˆæ¯ä¸ªäººæ€§æ ¼çš„å¹³è¡¡ã€‚ä¹Ÿè®¸æ˜¯å› ä¸ºå¦‚å¥³æœ‹å‹åŒäº‹çš„ä¾‹å­ä¸­ä¸€æ ·ï¼Œå½“ä¸ˆå¤«å¨¶å¦»è¿‡é—¨çš„æ—¶å€™ï¼Œä¸ˆå¤«çš„å¦¹å¦¹æ˜¯å“­çš„ï¼Œå› ä¸ºå¦¹å¦¹æœ‰æ‹å“¥æƒ…èŠ‚ï¼Œéš¾ä¸æˆæˆ‘ä¹Ÿæœ‰æ‹å§æƒ…èŠ‚çš„å­˜åœ¨ï¼Œè¿˜å¥½æˆ‘ä»…æ˜¯æœ‰ç‚¹ä¼¤æ„Ÿè€Œå·²ï¼Œä¸ä¸¥é‡ã€‚ä¹Ÿè®¸æ˜¯å› ä¸ºå¯¹æ—¶é—´æµé€çš„æ— å¥ˆï¼Œæ€»ä»¥ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰é•¿å¤§ï¼Œè½¬çœ¼é—´å§å§å·²ç»æ­¥å…¥äº†å©šå§»çš„æ®¿å ‚ï¼Œæˆç«‹äº†è‡ªå·±çš„æ–°å®¶åº­ï¼Œé€è€…å¦‚æ–¯ã€‚è¶ç€è‡ªå·±è¿˜æœ‰ç‚¹æ–‡è‰ºèŒƒçš„ç²¾ç¥žçŠ¶æ€ï¼Œå†™å†™è¿™ä¸¤å¤©çš„ä¸€äº›æ„Ÿæƒ³ï¼Œè¦ä¸ç„¶æ˜Žå¤©ä¸€æŽ¥è§¦éœ€è¦ç†æ€§æ€è€ƒçš„è®¡ç®—æœºè¯­è¨€ï¼Œè¿™ç§æ„Ÿæ€§ç‚¹çš„çŠ¶æ€åˆä¼šå½’äºŽå¹³æ·¡ï¼Œåˆä¼šåœ¨æˆ‘é²œæœ‰çš„å¿ƒè·¯åŽ†ç¨‹æ–‡ç« é‡Œå°‘äº†ä¸€ç¯‡ã€‚ å°çš„æ—¶å€™æ€»æ˜¯ç¾¡æ…•å§å§åœ¨åŸŽé‡Œçš„ç”Ÿæ´»ï¼Œæ¯å¹´åœ¨ä»…æœ‰çš„å‡ æ¬¡è§é¢ä¸­æ€»èƒ½æ„Ÿå—åˆ°ä¸€ä¸ªä¸ä¸€æ ·çš„å§å§ã€‚é‚£æ—¶çš„æˆ‘å¯¹äºŽåŸŽå¸‚çš„å¤§å°ã€åŸŽå¸‚çš„å¥½åè¿˜æ²¡æœ‰æ¦‚å¿µï¼Œä»…ä»…çŸ¥é“åŸŽå¸‚è¦æ¯”å†œæ‘å¥½ä¸å°‘å€ï¼Œä»…ä»…çŸ¥é“å§å§æ˜¯åŸŽé‡Œçš„ï¼Œæ˜¯åŸŽå¸‚å°æœ‹å‹çš„ä»£è¨€äººï¼Œæ˜¯å¼•ä»¥ä¸ºè£çš„å°æ¦œæ ·ã€‚ä¹Ÿè®¸ä¸‹é¢è¿™å¼ å°æ—¶å€™çš„çè´µç…§ç‰‡æœ€èƒ½ååº”å‡ºåŸŽå¸‚å­©å­å’Œå†œæ‘å­©å­ä¹‹é—´çš„åŒºåˆ«ã€‚è®°å¾—å¤§çº¦ä¸Šå…«å¹´çº§å¯’å‡çš„æ—¶å€™è§è¿‡å§å§å†™çš„å­—ï¼Œå­—è¿¹é“¿é”µæœ‰åŠ›ä¸”ç‹¬ç‰¹ï¼Œä¸æ˜¯å¸¸è§çš„æ¥·ä½“å­—ï¼Œç”±ç‰¹å®šçš„å­—ä½“åŠ ä¸Šè‡ªå·±çš„ç‹¬åˆ°ä¹‹å¤„æŸ”å’Œè€Œæˆã€‚åˆ†æ˜Žæ˜¯ç»è¿‡è®­ç»ƒæ–¹èƒ½é€ å°±ï¼Œæˆ‘ä»Žæœªåœ¨æˆ‘è®¤è¯†çš„åŒå­¦ä¸­è§è¿‡èƒ½å¤Ÿå†™å‡ºå¦‚æ­¤åŽä¸½çš„å­—ä½“ï¼Œå³ä½¿æœ‰ä¹¦æ³•å¤©èµ‹çš„åŒå­¦ç”±äºŽæ²¡æœ‰ç»è¿‡ç‰¹å®šçš„ç»ƒä¹ ï¼Œå­—ä½“å¾€å¾€éƒ½æ˜¯è¯¾æœ¬ä¸Šå¸¸è§çš„æ¥·ä½“å­—ã€‚å› ä¸ºä»Žä¸Šé«˜ä¸­èµ·ï¼Œæˆ‘å·²ç»å¼€å§‹æ¸æ¸åœ°èžå…¥æ›¾ç»å‘å¾€çš„åŸŽå¸‚ç”Ÿæ´»ï¼Œç›´åˆ°å¦‚ä»Šæˆ‘ä¹Ÿç®—åŠä¸ªåŸŽå¸‚äººã€‚æˆ‘å’Œå§å§ä¹‹é—´çš„å·®è·åœ¨ä¸æ–­çš„ç¼©çŸ­ã€‚å½“ç„¶ä¼šå‘çŽ°åŽŸæ¥åŸŽå¸‚ç”Ÿæ´»ä¹Ÿæœ‰åŸŽå¸‚ç”Ÿæ´»çš„å¼Šç«¯ï¼Œå¦‚æžœè®©æˆ‘é€‰æ‹©ä¸€æ¬¡æˆ‘è¿˜ä¼šé€‰æ‹©åœ¨å†œæ‘åº¦è¿‡æˆ‘çš„ç«¥å¹´ï¼Œé‚£ç§å„ç§çŽ©å„ç§è´´è¿‘å¤§è‡ªç„¶çš„ç”Ÿæ´»æ˜¯åœ¨é«˜æ¥¼é—´æ— æ³•ä½“ä¼šåˆ°çš„ã€‚ å§å§ç»ˆäºŽæ‰¾åˆ°äº†å¯ä»¥å¯„æ‰˜çš„å½’å®¿ï¼Œå§å¤«æ˜¯å¾ˆä¼˜ç§€çš„ã€‚å§å§å±žäºŽç¦»ä¸å¼€çˆ±æƒ…çš„ç±»åž‹ï¼Œä½†èº«ä½“å´ä¸æ˜¯å¾ˆå¥½ï¼Œä¹Ÿè®¸æ˜¯å§å¤«å–Šå§å§çŽ‰å¦¹çš„ç¼˜ç”±ã€‚æœŸæœ›åœ¨å¤–æ¥å§å¤«èƒ½å¤Ÿå¥½å¥½ç…§é¡¾å§å§ï¼ŒåŒæ—¶å§å§åº”è¯¥å¤šæ³¨æ„èº«ä½“ï¼Œå¤šåƒç²—ç²®ã€‚ ä¸€ä¸ªæˆ‘æƒ³è±¡ä¸åˆ°çš„åœ°æ–¹æ˜¯éšç€çŽ°åœ¨äººæ°‘æ–‡åŒ–æ°´å¹³çš„æé«˜ï¼Œå©šç¤¼çš„ä¸¾åŠžæ–¹å¼æ­£åœ¨æœç€å¤æ‚åŒ–çš„æ–¹å‘å‘å±•ã€‚çŽ°åœ¨çš„å©šç¤¼å·²ç»å°†æ—§æœ‰çš„å½“åœ°é£Žä¿—å’ŒçŽ°ä»£çš„é£Žä¿—ç»“åˆåœ¨äº†ä¸€èµ·ï¼Œè€Œä¸”è¿™ä¸¤è€…æ˜¯å åŠ çš„å…³ç³»ï¼Œæ„å‘³ç€é£Žä¿—è¶Šæ¥è¶Šå¤šï¼Œéœ€è¦å¤„ç†çš„äº‹æƒ…è¶Šæ¥è¶Šå¤æ‚ã€‚å…¶å®žå©šç¤¼çš„ä½œç”¨æ— éžå°±æ˜¯çƒ­é—¹ã€å–œåº†ï¼Œ æˆ‘å®žåœ¨æ˜¯æžä¸å¤ªæ˜Žç™½å¤æ‚å’Œçƒ­é—¹ä¹‹é—´æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„å…³ç³»ã€‚æˆ‘æœŸæœ›æˆ‘å©šç¤¼æ˜¯ç®€å•çš„ï¼Œç®€å•çš„ä¸èƒ½å†ç®€å•ï¼Œæˆ‘ç”šè‡³æœŸæœ›ä¸éœ€è¦äº²æœ‹å¥½å‹çš„è¿‡å¤šå‚ä¸Žï¼Œæˆ‘ç”šè‡³ä¸æœŸæœ›ä¸¾åŠžå¤æ‚çš„å©šç¤¼ä»ªå¼ï¼Œçƒ­é—¹çš„èƒŒåŽæ˜¯å®¶äººçš„æ“åŠ³ï¼Œæ˜¯é•¿è¾¾æ•°æœˆçš„å‡†å¤‡ã€‚æˆ‘åªå¸Œæœ›èƒ½æœ‰ä¸€æ¬¡éš¾å¿˜çš„æ—…è¡Œï¼Œä¸¤ä¸ªäººçš„æ—…è¡Œå°±è¶³å¤Ÿå¹¸ç¦ã€‚ ç¥ç¦çš„å«ä¹‰æˆ‘æ˜¯ä¸ç†è§£çš„ï¼Œç¥ç¦åŽŸæœ¬æ˜¯ä¸€ä¸ªäººå‘å¦å¤–ä¸€ä¸ªäººçš„æœªæ¥çš„ç¾Žå¥½ç¥æ„¿ï¼Œå°±æ˜¯è¯´äº›å®¢å¥—è¯ï¼Œè¯´äº›ä¸åˆ‡å®žé™…çš„è¯ã€‚å…¶å®žä¸€ä¸ªäººå¾ˆéš¾å¯¹å¦å¤–ä¸€ä¸ªäººçš„å¤–æ¥å‘å¥½çš„æ–¹é¢å‘å±•åšå‡ºè´¡çŒ®ï¼Œå°±å¦‚åŒå¤§è‡£ä»¬å¤©å¤©å–Šç€ä¸‡å²ä¸‡å²ä¸‡ä¸‡å²ï¼Œå´æœªè§è¿‡å“ªä¸ªçš‡å¸è¶…è¿‡ç™¾å²ä¸€èˆ¬ã€‚å¾ˆå¤šäººéƒ½ä¼šå‘å§å§çš„å©šç¤¼è¯´å‡ºç¥ç¦ï¼Œä½†æœ‰å¤šå°‘æ˜¯è¿‡åŽè¿˜è®°å¾—è‡ªå·±æ›¾ç»è¯´è¿‡çš„ã€‚æˆ‘åœ¨è¿™é‡ŒåŒæ ·ç¥ç¦å§å§å’Œå§å¤«æ–°å©šå¿«ä¹ï¼Œç”Ÿæ´»å¹¸ç¦ï¼Œå’Œç¦ç›¸å¤„ï¼Œæ©æ©çˆ±çˆ±ï¼Œå½“ç„¶æˆ‘æ˜¯å‘è‡ªå†…å¿ƒçš„ï¼Œè€Œä¸”æˆ‘çš„è¯æ˜¯æœ‰æ–‡å­—å¯è€ƒç©¶çš„ã€‚åŒæ ·åœ¨ç»™å§å§çš„çº¢åŒ…é‡Œæˆ‘å†™ä¸‹äº†â€œåŽŸå¯»å¯»è§…è§…ï¼ŒçŽ°å¿å¿æˆ‘æˆ‘ï¼Œå¹´å¹´å²å²æƒ…çˆ±æ·±ï¼Œå²å²å¹´å¹´æ— ä¸åŒâ€çš„ç¥ç¦ï¼Œè¿™é‡ŒåŒæ ·åšä¸€ä¸ªå¤‡å¿˜ã€‚ ç›®å‰çš„å©šåº†å·²ç»å®Œå…¨å¸‚åœºåŒ–ï¼Œåªè¦æ˜¯æœåŠ¡é¡¹æ²¡æœ‰ä¸æ”¶è´¹çš„å¯èƒ½æ€§ï¼Œè€Œä¸”å¾€æ­»é‡Œè¦ã€‚æ²¡æœ‰ä¿¡ä»°çš„æ°‘æ—æ˜¯ä¸ªå¯æ€•çš„æ°‘æ—ï¼Œå¦‚æžœé©¬å…‹æ€ä¸»ä¹‰ä¸èƒ½æ‰€è°“ä¸€ç§ä¿¡ä»°ï¼Œé‚£ä¹ˆä¸­å›½äººä¸­çš„ç»å¤§å¤šæ•°æ˜¯æ²¡æœ‰ä¿¡ä»°çš„ã€‚å³ä½¿å¤§å®¶ä¸Šåˆä¸­ã€é«˜ä¸­ã€å¤§å­¦ã€ç ”ç©¶ç”Ÿé˜¶æ®µéƒ½åœ¨é©¬å…‹æ€çš„ç†è®ºï¼Œåœ¨å½“å‰çš„å›½æƒ…ä¸‹ä¼°è®¡ä¹Ÿæ²¡æœ‰å¤šå°‘äººèƒ½è§†é©¬å…‹æ€å¦‚çå®ã€‚å¦‚æžœåœ¨å›½å¤–æˆ‘ä¼°è®¡ä¼šå‡ºçŽ°åœ¨æ•™å ‚ä¸¾åŠžå©šç¤¼éžå¸¸å»‰ä»·ï¼Œç”šè‡³å…è´¹çš„å¯èƒ½æ€§ï¼Œå› ä¸ºèƒ½å¤Ÿä¸ºæ–°éƒŽæ–°å¨˜ä¸»æŒå©šç¤¼æœ¬èº«å°±æ˜¯ä¸€ä»¶éžå¸¸è£å¹¸çš„äº‹æƒ…ï¼Œé‡‘é’±ä¸æ˜¯æœ€é‡è¦çš„ï¼Œå½“ç„¶æˆ‘ä¸äº†è§£æµ·å¤–çš„çœŸå®žæƒ…å†µã€‚æ€»æ„Ÿè§‰ä¸€ä»¶æœ¬æ¥å¯ä»¥å…è´¹çš„äº‹æƒ…åªè¦è·Ÿé‡‘é’±æ²¾è¾¹æ€»ä¼šå˜å‘³ã€‚ ä¸­å›½çˆ¶æ¯çš„å…¸åž‹å½¢è±¡æ˜¯ç¢Žç¢Žå¿µï¼Œå¯¹äºŽå­å¥³æ€»ä¼šçµ®çµ®å¨å¨é‚£ä¹ˆä¸€ç®©ç­ã€‚åœ¨ä¸ç»æ„é—´ï¼Œå­å¥³å·²ç»é•¿å¤§æˆäººï¼Œå¯åœ¨çˆ¶æ¯çš„çœ¼ä¸­å­å¥³æ°¸è¿œæ˜¯æœªé•¿å¤§çš„å­©å­ã€‚ä¸­å›½çš„çˆ¶æ¯åœ¨å­å¥³èº«ä¸ŠèŠ±è´¹äº†å¤ªå¤šçš„å¿ƒè¡€ï¼Œä»¥è‡³äºŽå­å¥³æ¯”è‡ªå·±æ›´é‡è¦ã€‚ ä¸€ä¸ªæ´»åŠ¨çš„ç¼ºç‚¹æ˜¯éžå¸¸å®¹æ˜“è¢«äººå¯Ÿè§‰çš„ï¼Œè€Œæ´»åŠ¨çš„ä¼˜ç‚¹å¾€å¾€ä¸å®¹æ˜“è¢«äººå‘è§‰ã€‚å› æ­¤ï¼Œè¦æƒ³é¡ºåˆ©å®Œæˆä¸€ä¸ªæ´»åŠ¨æ˜¯ä¸å®¹æ˜“çš„ã€‚ä¸¾åŠžå©šç¤¼çš„æ—¶å€™æˆ‘å‘çŽ°æœ‰å¾ˆå¤šäº‹å…ˆæœªå‡†å¤‡å¦¥å½“çš„åœ°æ–¹ï¼Œè€Œè¿™äº›æ°æ°æ˜¯æœ€å®¹æ˜“è¢«å‘çŽ°çš„ï¼Œè€Œåšå¾—ç‰¹åˆ«å¥½çš„åœ°æ–¹å´æ˜¯è¾ƒéš¾è¢«äººä»¬å‘çŽ°ã€‚ å¹´é¾„ä¹‹é—´çš„ä»£æ²Ÿè¿˜æ˜¯æ¯”è¾ƒæ˜Žæ˜¾çš„ï¼Œè¿™ä¸€ç‚¹åœ¨é…’æ¡Œä¸Šç‰¹åˆ«èƒ½å¤Ÿä½“çŽ°ï¼Œåœ¨é…’æ¡Œä¸Šè¯è¯­æœ€å¤šçš„æ°¸è¿œæ˜¯ä¸Šä¸€è¾ˆäººï¼Œå› ä¸ºå¹´è½»äººè·Ÿä¸Šä¸€è¾ˆäººåœ¨æ€æƒ³ä¸Šè¿˜æ˜¯æœ‰è¾ƒå¤§çš„å·®è·ï¼Œè¿™æ˜¯å¥½äº‹ã€‚å¦‚æžœä¸¤ä»£äººä¹‹é—´å·®è·è¿‡å°ï¼Œè¯´æ˜Žè¿™ä¸ªç¤¾ä¼šå˜åŒ–å¤ªæ…¢ã€‚å¹´è½»äººåº”è¯¥å¸å–ä¸Šä¸€ä»£äººçš„é•¿å¤„ï¼ŒåŽ»å…¶æ§½ç²•ï¼Œå–å…¶ç²¾åŽã€‚æˆ‘æƒ³æœªæ¥çš„é…’æ¡Œæ–‡åŒ–ä¼šå¤§å˜æ ·ã€‚ æˆ‘ç›®å‰çš„ç†æƒ³ç”Ÿæ´»çŠ¶æ€æ˜¯å¹³æ·¡å……å®žçš„ï¼Œæˆ‘å–œæ¬¢é™ä¸‹å¿ƒæ¥å­¦ä¹ ï¼Œæˆ‘å–œæ¬¢é‚£ç§å­¦ä¹ çš„å……å®žæ„Ÿï¼Œæˆ‘å–œæ¬¢è·ŸåŒé¾„äººäººå¿ƒè´´å¿ƒçš„äº¤è°ˆï¼Œè€Œä¸æ˜¯åœ¨å™ªæ‚çš„çŽ¯å¢ƒä¸­å¤§å®¶æ³›æ³›è€Œè°ˆã€‚æˆ‘çš„æ€§æ ¼ä¸­è…¼è…†çš„ä¸€é¢è¡¨çŽ°åœ¨æˆ‘åœ¨ä¸Žäººæ²Ÿé€šæ—¶å†…å¿ƒçš„æƒ³æ³•æ€»ä¼šç¾žäºŽè¡¨è¾¾ï¼Œæ¯”å¦‚å¾ˆéš¾ä»Žæˆ‘çš„å˜´é‡Œå‘çˆ¶æ¯è¯´å‡ºç”Ÿæ—¥å¿«ä¹ä¹‹ç±»çš„è¯è¯­ï¼Œå‘å§å§å½“é¢è¯´å‡ºæ–°å©šå¿«ä¹ï¼Œç™½å¤´å•è€ã€‚ä¸€æ–¹é¢æƒ³ç€è·Ÿäººæ²Ÿé€šï¼Œå¦ä¸€æ–¹é¢å´ç¾žä¸Žåéœ²è‡ªå·±çš„å†…å¿ƒæƒ³æ³•ï¼Œè²Œä¼¼æœ‰ç‚¹çŸ›ç›¾çš„æ ·å­ã€‚ äººç±»æœ¬è¯¥æ˜¯æ„Ÿæ€§çš„ï¼ŒæŽ¥è§¦çš„å¤–éƒ¨çŽ¯å¢ƒå¤šäº†ä¹‹åŽä¼šæ¸æ¸è¶‹äºŽç†æ€§ï¼Œå½“ç„¶äººç±»çš„ç§‘æŠ€è¿›æ­¥éœ€è¦ç†æ€§ã€‚ç†æ€§å¤šäº†ï¼Œè‡ªç„¶æ„Ÿæ€§å°±ä¼šå°‘ä¸€äº›ã€‚è¿™å‡ å¹´è·Ÿè®¡ç®—æœºæ‰“äº¤é“çš„æ—¶é—´æˆäº†ç”Ÿæ´»ã€å·¥ä½œçš„æœ€é‡è¦éƒ¨åˆ†ï¼Œæˆ‘å¤§éƒ¨åˆ†ç”Ÿæ´»çŠ¶æ€å¤„äºŽç†æ€§çŠ¶æ€ï¼Œå¿ƒæƒ…ä»¥å¹³æ·¡å±…å¤šã€‚åŒ…æ‹¬æˆ‘çŽ°åœ¨å†™è¿™ç¯‡æ–‡ç« ï¼Œä¹Ÿæ˜¯åœ¨ç”¨ç†æ€§çš„æ€ç»´æ–¹å¼æ¥å†™æ„Ÿæ€§çš„æ–‡ç« ï¼Œæ¢æˆåœ¨é«˜ä¸­æ—¶æœŸå†™çš„æ–‡ç« å´æ˜¯ç”¨æ„Ÿæ€§çš„æ€ç»´æ–¹å¼æ¥å†™æ„Ÿæ€§çš„æ–‡ç« ã€‚ æˆ‘çš„æ€§æ ¼æœªæ›¾è¢«å·¥ä½œæ”¹å˜ï¼Œç”šè‡³æ˜¯ç›¸è²Œåœ¨å·¥ä½œä¸‰å¹´çš„æ—¶é—´é‡Œä¹Ÿæœªæ›¾æœ‰å¤§çš„å˜åŠ¨ã€‚æˆ‘çŽ°åœ¨ä»ç„¶çœ‹ä¸ŠåŽ»åƒä¸ªå­¦ç”Ÿï¼Œè·¯äººä¹Ÿç»å¸¸ä¼šå°†æˆ‘å½“æˆä¸€åå­¦ç”Ÿã€‚å¥³æœ‹å‹è¯´è¿™æ˜¯æˆ‘ä¸æˆç†Ÿçš„è¡¨çŽ°ï¼Œæˆ‘ä¸çŸ¥é“æˆç†Ÿå¦‚ä½•åŽ»ç•Œå®šï¼Œæˆ‘è®¤ä¸ºæˆ‘æ¯å¤©å­¦åˆ°çš„ä¸œè¥¿éƒ½åœ¨åŠ©æˆ‘å‘æˆç†Ÿè¿ˆè¿›ï¼Œç›´åˆ°æˆ‘è€åŽ»çš„é‚£ä¸€åˆ»æˆ‘ä¹Ÿä¸å¯èƒ½æˆç†Ÿï¼Œå› ä¸ºåªè¦æˆ‘è¿˜æœ‰è¿›æ­¥æˆ‘å°±ä¸ä¼šæˆç†Ÿã€‚æˆ‘å¯¹äºŽä¸‰å¹´æ¥çš„æœªæ”¹å˜æˆ‘å¼•ä»¥ä¸ºè±ªï¼Œè‡³å°‘æˆ‘æ²¡æœ‰è¢«è¿™ä¸ªæ®‹ç¼ºçš„ç¤¾ä¼šç»™åŒåŒ–æŽ‰ï¼Œè‡³å°‘æˆ‘è¿˜æ‹¥æœ‰è‡ªå·±çš„æ€æƒ³ï¼ŒåŒæ—¶ä¹Ÿè¯æ˜Žäº†ä¸€ç‚¹æˆ‘åœ¨å¤§å­¦æœŸé—´æ€æƒ³å°±å·²ç»åœ¨ä¿æŒäº†ä¸€ç§ç›¸å¯¹ç¨³å®šçš„çŠ¶æ€ã€‚æˆ‘ä¸è®¤ä¸ºå·¥ä½œåŽåœ¨å®˜åœºä¸Šæ··çš„å¦‚é±¼å¾—æ°´ï¼Œåœ¨é…’æ¡Œä¸Šçš„æœºæ™ºå¤šå˜æ˜¯ä¸€ç§æˆç†Ÿçš„è¡¨çŽ°ï¼Œæˆ‘å¯¹æ­¤æŒæ‚²è§‚æ€åº¦ã€‚ è¡Œè¡Œå‡ºçŠ¶å…ƒã€‚ä»Šå¤©çœ‹åˆ°æˆ‘å§‘åœ¨çŽ©QQå†œåœºã€QQç‰§åœºçš„æ¸¸æˆï¼Œç†Ÿç»ƒç¨‹åº¦ç›¸å½“é«˜ã€‚ç”±äºŽæˆ‘å§‘ç©ºé—²æ—¶é—´è¾ƒå¤šï¼Œå¸¸å¸¸ä¸€ä¸ªäººåœ¨å®¶ï¼Œå·²ç»çŽ©äº†å¤šå¹´çš„æ¸¸æˆã€‚æˆ‘å§‘å¯¹ç”µè„‘çš„ä½¿ç”¨è¿˜å¤„åœ¨åˆçº§é˜¶æ®µï¼Œå¹³å¸¸ç”µè„‘çš„ä½œç”¨è¿˜å®šä½åœ¨çŽ©å†œåœºçš„é˜¶æ®µã€‚åªè¦åšçš„æ¬¡æ•°å¤šäº†ï¼Œè¡Œè¡Œéƒ½å¯ä»¥å‡ºçŠ¶å…ƒã€‚ æœ¬æ¥æƒ³ç€æŠŠè‡ªå·±å‚åŠ å®Œå§å§å©šç¤¼ä¹‹åŽçš„æ„Ÿæƒ³è®°å½•ä¸‹æ¥ï¼Œç»“æžœå†™ç€å†™ç€å¼€å§‹æœ‰äº›æ€€æ—§ï¼Œå†™è‡ªå·±çš„å±…å¤šï¼Œå›°çš„ä¸çŸ¥æ‰€äº‘ï¼Œåˆ°æ­¤ä¸ºæ­¢ã€‚ä¸çŸ¥ç­‰æˆ‘è€åŽ»çš„é‚£å¤©å½“æˆ‘è¯»åˆ°æ­¤æ–‡ç« æ—¶ä¼šæ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„å¿ƒæƒ…ï¼Œéš¾ä¸æˆè¿˜ä¼šè·ŸçŽ°åœ¨ä¸€æ ·æœ‰ç‚¹åŽ‹æŠ‘çš„æ„Ÿè§‰ï¼Ÿ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[linuxä¸­åˆ›å»ºæ–°è¿›ç¨‹çš„æ–¹å¼]]></title>
      <url>%2Fpost%2Flinux_create_process_methods%2F</url>
      <content type="text"><![CDATA[systemå‡½æ•°å‡½æ•°åŒ…å«åœ¨Cè¯­è¨€çš„æ ‡å‡†åº“ä¸­ï¼Œåœ¨å¤´æ–‡ä»¶stdlib.hä¸­å£°æ˜Žå¦‚ä¸‹ï¼š1int system(const char *command); è¯¥å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„è¿›ç¨‹ç©ºé—´ï¼Œä¸ºé˜»å¡žå‡½æ•°ï¼Œåªæœ‰å½“æ–°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•è¯¥å‡½æ•°æ‰è¿”å›žã€‚ è¿”å›žå€¼ï¼šå¯ä»¥é€šè¿‡è¿”å›žå€¼æ¥èŽ·å–æ–°è¿›ç¨‹çš„mainå‡½æ•°çš„è¿”å›žå€¼ï¼Œè¿”å›žå€¼ä¿å­˜åœ¨intç±»åž‹çš„ç¬¬äºŒä¸ªå­—èŠ‚å³8-15æ¯”ç‰¹ï¼Œå¯ä»¥é€šè¿‡å‘å³ç§»ä½æˆ–è€…åˆ©ç”¨å®WEXITSTATUS(status)æ¥èŽ·å–æ–°è¿›ç¨‹çš„è¿”å›žå€¼ã€‚å…¶ä¸­WEXITSTATUS(status)å®åŒ…å«åœ¨å¤´æ–‡ä»¶&lt;sys/wait.h&gt;ä¸­ã€‚ è¿™é‡Œä»¥è°ƒç”¨lså‘½ä»¤ä¸ºä¾‹æ¥å±•ç¤ºç”¨æ³•ï¼š123456789101112#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;stdlib.h&gt;#include &lt;sys/wait.h&gt;int main()&#123; int r=system("ls"); // ç”¨å³ç§»ä½çš„æ–¹å¼æ¥èŽ·å–æ–°è¿›ç¨‹çš„è¿”å›žå€¼ //printf("%d\n",r&gt;&gt;8&amp;255); // ç”¨WEXITSTATUS(status)å®çš„æ–¹å¼æ¥èŽ·å–æ–°è¿›ç¨‹çš„è¿”å›žå€¼ printf("%d\n",WEXITSTATUS(r));&#125; popenå‡½æ•°å‡½æ•°åŒ…å«åœ¨å¤´æ–‡ä»¶stdio.hä¸­ï¼Œç›¸å…³å‡½æ•°å¦‚ä¸‹ï¼š12FILE *popen(const char *command, const char *type);int pclose(FILE *stream); popenå‡½æ•°åœ¨çˆ¶å­è¿›ç¨‹ä¹‹é—´å»ºç«‹ä¸€ä¸ªç®¡é“ï¼Œå…¶ä¸­typeæŒ‡å®šç®¡é“çš„ç±»åž‹ï¼Œå¯ä»¥ä¸ºâ€râ€æˆ–â€wâ€å³åªè¯»æˆ–å¯å†™ã€‚åœ¨shellä¸­çš„ç®¡é“ç¬¦â€|â€å³é‡‡ç”¨æ­¤å‡½æ•°æ¥å®žçŽ°ã€‚popenå‡½æ•°ä¸ºé˜»å¡žå‡½æ•°ï¼Œå‡½æ•°çš„å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š1234567891011121314151617181920#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;stdlib.h&gt;#include &lt;sys/wait.h&gt;main()&#123; char buf[1024]; FILE *f=popen("ls","r"); // æ ¹æ®ç®¡é“èŽ·å–æ–‡ä»¶æè¿°ç¬¦ int fd=fileno(f); int r; while((r=read(fd,buf,1024))&gt;0) &#123; buf[r]=0; printf("%s\n",buf); &#125; close(fd); // å…³é—­ç®¡é“ pclose(f); &#125; execç³»åˆ—å‡½æ•°è¯¥ç³»åˆ—å‡½æ•°å¹¶ä¸åˆ›å»ºæ–°çš„è¿›ç¨‹ï¼Œè€Œæ˜¯å°†ç¨‹åºåŠ è½½åˆ°å½“å‰è¿›ç¨‹çš„ä»£ç ç©ºé—´æ¥æ‰§è¡Œå¹¶æ›¿æ¢å½“å‰è¿›ç¨‹çš„ä»£ç ç©ºé—´ï¼Œåœ¨exec*å‡½æ•°åŽé¢çš„ä»£ç å°†æ— æ³•æ‰§è¡Œã€‚12345int execl(const char *path, const char *arg, ...);int execlp(const char *file, const char *arg, ...);int execle(const char *path, const char *arg, ..., char * const envp[]);int execv(const char *path, char *const argv[]);int execvp(const char *file, char *const argv[]); forkå‡½æ•°è¯¥å‡½æ•°éžå¸¸å¸¸ç”¨ã€‚å‡½æ•°åŽŸåž‹å¦‚ä¸‹ï¼š1pid_t fork(void); è°ƒç”¨è¯¥å‡½æ•°ä¼šäº§ç”Ÿä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¯¥å­è¿›ç¨‹ä¸ä»…å¤åˆ¶äº†çˆ¶è¿›ç¨‹çš„ä»£ç ç©ºé—´ã€å †ã€æ ˆï¼Œè€Œä¸”è¿˜å¤åˆ¶äº†çˆ¶è¿›ç¨‹çš„æ‰§è¡Œä½ç½®ã€‚ä¹‹åŽçˆ¶å­è¿›ç¨‹åŒæ—¶æ‰§è¡Œï¼Œé€šå¸¸ç”±äºŽæ“ä½œç³»ç»Ÿä»»åŠ¡è°ƒåº¦çš„åŽŸå› ï¼Œå­è¿›ç¨‹ä¼šå…ˆæ‰§è¡Œã€‚çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¹‹é—´çš„å¹¶ä¸ä¼šå…±äº«å †ã€æ ˆä¸Šçš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡æ–‡ä»¶æˆ–å…±äº«å†…å­˜çš„æ–¹å¼æ¥é€šè®¯ã€‚ è¿”å›žå€¼ï¼šè¯¥å‡½æ•°çˆ¶è¿›ç¨‹è¿”å›žå­è¿›ç¨‹çš„idï¼Œå­è¿›ç¨‹è¿”å›ž0ã€‚é€šå¸¸åœ¨ä»£ç ä¸­é€šè¿‡è¿”å›žå€¼æ¥åˆ¤æ–­æ˜¯å­è¿›ç¨‹è¿˜æ˜¯çˆ¶è¿›ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œä¸åŒçš„ä»£ç ã€‚ å¦‚æžœçˆ¶è¿›ç¨‹å…ˆç»“æŸï¼Œåˆ™å­è¿›ç¨‹ä¼šæˆä¸ºå­¤å„¿è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä»ç„¶å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚è¿›ç¨‹æ•°ä¸­çš„æ ¹è¿›ç¨‹initä¼šæˆä¸ºè¯¥å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ã€‚ å¦‚æžœå­è¿›ç¨‹å…ˆç»“æŸï¼Œåˆ™å­è¿›ç¨‹ä¼šæˆä¸ºåƒµå°¸è¿›ç¨‹ã€‚åƒµå°¸è¿›ç¨‹å¹¶ä¸å†å ç”¨å†…å­˜å’ŒCPUèµ„æºï¼Œä½†æ˜¯ä¼šåœ¨è¿›ç¨‹æ•°ä¸­çœ‹åˆ°åƒµå°¸è¿›ç¨‹ã€‚å› æ­¤ä»£ç ä¸­å¿…é¡»å¯¹åƒµå°¸è¿›ç¨‹çš„æƒ…å†µåšå¤„ç†ï¼Œé€šå¸¸çš„å¤„ç†åŠžæ³•ä¸ºé‡‡ç”¨waitå‡½æ•°å’Œä¿¡å·æœºåˆ¶ã€‚å­è¿›ç¨‹åœ¨ç»“æŸçš„æ—¶å€™ä¼šå‘çˆ¶è¿›ç¨‹å‘é€ä¸€ä¸ªä¿¡å·SIGCHLDï¼Œæ•´æ•°å€¼ä¸º17ã€‚çˆ¶è¿›ç¨‹æ‰‘æ‰åˆ°è¯¥ä¿¡å·åŽé€šè¿‡è°ƒç”¨waitå‡½æ•°æ¥å›žæ”¶å­è¿›ç¨‹çš„èµ„æºã€‚å…¶ä¸­waitå‡½æ•°ä¸ºé˜»å¡žå‡½æ•°ï¼Œä¼šä¸€ç›´ç­‰å¾…å­è¿›ç¨‹ç»“æŸã€‚waitå‡½æ•°è¿”å›žå­è¿›ç¨‹é€€å‡ºæ—¶çš„çŠ¶æ€ç ã€‚ä¸‹é¢é€šè¿‡å®žä¾‹æ¼”ç¤ºä¸€ä¸‹å½“å­è¿›ç¨‹å…ˆç»“æŸæ—¶çˆ¶è¿›ç¨‹æ€Žæ ·å›žæ”¶å­è¿›ç¨‹ã€‚123456789101112131415161718192021222324252627282930#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;signal.h&gt;void processChildProcess()&#123; printf("receive the child process end\n"); wait();&#125;int main()&#123; int pid; pid = fork(); if (pid &gt; 0) &#123; // çˆ¶è¿›ç¨‹ signal(SIGCHLD, processChildProcess); while(1) &#123; sleep(1); &#125; &#125; else &#123; // å­è¿›ç¨‹ sleep(1); printf("child process end\n"); &#125; &#125; å…³äºŽforkçš„è¯¦ç»†ç†è§£å¯ä»¥çœ‹è¿™é‡Œï¼šä¸€ä¸ªforkçš„é¢è¯•é¢˜ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä»Žé¡¹ç›®ç®¡ç†çš„è§’åº¦åˆ†æžä¸€ä¸ªå¤±è´¥çš„è½¯ä»¶é¡¹ç›®]]></title>
      <url>%2Fpost%2Fone_failed_project_in_pm%2F</url>
      <content type="text"><![CDATA[å‰æ®µæ—¶é—´å…¬å¸é¢†å¯¼å®‰æŽ’æˆ‘å®Œæˆä¸€ä¸ªandroidçš„å°é¡¹ç›®ï¼ŒåŠŸèƒ½ä¸ºå®Œæˆæ‰‹æœºçŸ­ä¿¡çš„åˆ†ç±»åŠŸèƒ½ã€‚ç”±äºŽè€ƒè™‘åˆ°å¯èƒ½ä¼šå’ŒæŸè¿è¥å•†åˆä½œï¼Œé¡¹ç›®éœ€æ±‚å¤šå˜ï¼Œé¡¹ç›®ååˆ°é¡¹ç›®æ­»æŽ‰çš„é‚£ä¸€åˆ»ä¹Ÿæ²¡æœ‰æƒ³å¥½ï¼Œæš‚å®šå«çŸ­ä¿¡ç®¡å®¶ã€‚å‰æ®µæ—¶é—´å‚åŠ äº†ä»Šå¹´è½¯è€ƒä¸­çš„é«˜çº§é¡¹ç›®ç®¡ç†å¸ˆè€ƒè¯•ï¼Œå¯¹é¡¹ç›®ç®¡ç†æœ‰ä¸€å®šçš„äº†è§£ï¼Œç”±äºŽåœ¨å®žé™…çš„å·¥ä½œä¸­æ²¡æœ‰å‚ä¸Žé¡¹ç›®ç»ç†çš„è§’è‰²ï¼Œå¯¹é¡¹ç›®ç®¡ç†çš„çŸ¥è¯†ç†è®ºå’Œå®žé™…ç»“åˆè¿˜æœ‰ä¸€å®šå·®è·ã€‚æˆ‘ä¸€å‘æ˜¯å–œæ¬¢æŒ‘äººæ¯›ç—…çš„ï¼Œæœ¬æ–‡ä¹Ÿä¸ä¾‹å¤–ï¼Œå°†ç»“åˆé¡¹ç›®ç®¡ç†çš„çŸ¥è¯†é¢†åŸŸæ¥åˆ†æžé¡¹ç›®ä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œå¹¶ç»™å‡ºçº æ­£çš„æŽªæ–½ã€‚æœ¬æ–‡å¹¶ä¸æƒ³æŒ‰ç…§é¡¹ç›®ç®¡ç†çš„44ä¸ªè¿‡ç¨‹ç»„æ¥å†™ï¼Œä¸æƒ³å—é¡¹ç›®ç®¡ç†ç†è®ºçŸ¥è¯†æ¡æ¡æ¡†æ¡†çš„çº¦æŸã€‚ é¡¹ç›®ç®€ä»‹åœ¨2013å¹´å…ƒæ—¦åŽä¸Šç­ç¬¬ä¸€å¤©ï¼Œç»è¿‡é¢†å¯¼ç®€å•ä»‹ç»é¡¹ç›®åŽï¼Œé¡¹ç›®æ­£å¼å¼€å§‹å¯åŠ¨ã€‚é¡¹ç›®å‚ä¸Žäººå‘˜åŒ…æ‹¬æˆ‘å’Œä¸€åç¾Žå·¥ã€‚ç”±äºŽå…¬å¸æ²¡æœ‰åšandroidé¡¹ç›®çš„ç»éªŒï¼Œæˆ‘æ˜¯å…¬å¸å”¯ä¸€æ‡‚ç‚¹androidé¡¹ç›®çš„æŠ€æœ¯äººå‘˜ï¼Œæˆ‘ä¹‹å‰ä¹Ÿä»…ä»…æ˜¯è‡ªå­¦è¿‡ä¸€ç‚¹ã€‚ç»è¿‡ä¸¤ä¸ªæ˜ŸæœŸçš„å­¦ä¹ ä¹‹åŽå¼€å§‹äº†androidé¡¹ç›®çš„å¼€å‘ï¼Œæ˜¥èŠ‚å‰é¢†å¯¼å¸Œæœ›çœ‹åˆ°ä¸€ä¸ªç‰ˆæœ¬å‡ºæ¥ã€‚ç¦»æ˜¥èŠ‚æ”¾å‡è¿˜æœ‰ä¸‰å¤©ï¼Œç¾Žå·¥æžå‡ºä¸€ä¸ªé¦–ç•Œé¢æ¥ï¼Œæˆ‘ä»¿ç…§é¦–ç•Œé¢åŸºæœ¬æžå®šã€‚åŽæ¥é¢†å¯¼ä¸€çœ‹ä¸ç¬¦åˆéœ€æ±‚ï¼Œå…¶å®žé¢†å¯¼ä¹‹å‰å°±çœ‹è¿‡é¦–ç•Œé¢æ•ˆæžœå›¾ï¼Œåªæ˜¯æ²¡æœ‰ä»”ç»†çœ‹ã€‚å½“ç„¶é¢†å¯¼ä¹Ÿä¸çŸ¥é“è¦åšå‡ºä¸ªä»€ä¹ˆæ ·çš„ä¸œè¥¿ï¼Œä¼°è®¡å¿ƒæƒ³ç€æŠ€æœ¯äººå‘˜å¼„å‡ºä¸ªä»€ä¹ˆæ ·çš„ä¸œè¥¿æ¥å†ä¿®æ”¹ã€‚å¹´åŽï¼Œå¯¹éœ€æ±‚å¼€ä¼šè¿›è¡Œäº†é‡æ–°æ•´ç†ï¼Œé€šè¿‡æ€ç»´å¯¼å›¾çš„æ–¹å¼è·Ÿé¢†å¯¼ç¡®å®šéœ€æ±‚ï¼Œå°±éœ€æ±‚ä¸­å­˜åœ¨çš„ç–‘é—®è¿›è¡Œç¡®è®¤ã€‚ä¸è¿‡åŽæ¥äº‹å®žè¯æ˜Žç»è¿‡é¢†å¯¼ç¡®è®¤çš„éœ€æ±‚ä¹Ÿæ˜¯åœ¨ä¸æ–­å˜æ›´ã€‚è¿™æ¬¡çš„éœ€æ±‚è¦è¿œæ¯”ä¸Šæ¬¡å¤æ‚ï¼Œå°†åŽŸæ¥çš„çŸ­ä¿¡åˆ†ç±»ä»Žä¸€çº§çŸ­ä¿¡åˆ†ç±»æ›´æ”¹ä¸ºäº†äºŒçº§çŸ­ä¿¡åˆ†ç±»ã€‚å…¬å¸æ²¡æœ‰äº’è”ç½‘è¡Œä¸šäº§å“çš„ç»éªŒï¼Œç¾Žå·¥ç»™å‡ºçš„æ•ˆæžœå›¾ä¹Ÿä»…æ˜¯ä»Žæ¡Œé¢ç«¯æ¥è€ƒè™‘ç§»åŠ¨äº§å“çš„è®¾è®¡ã€‚æˆ‘æœ€ç»ˆå†³å®šè‡ªå·±å¼€å§‹é‡æ–°è®¾è®¡è½¯ä»¶çš„ç•Œé¢ï¼Œå‚è€ƒäº†ä¼—å¤šåŒç±»è½¯ä»¶ï¼ŒèŠ±è´¹çš„æ—¶é—´æ¯”è¾ƒå¤šã€‚å¤§çº¦åˆ°2013å¹´4æœˆåº•äº§å“å·²ç»åŸºæœ¬å¯ç”¨ï¼Œç»è¿‡æˆ‘è‡ªå·±çš„æµ‹è¯•å’Œé¢†å¯¼çš„ä½¿ç”¨æ•ˆæžœè¿˜ç®—å¯ä»¥ã€‚åŽæ¥å‘çŽ°ä¸æ”¯æŒå½©ä¿¡ï¼Œç»è¿‡æˆ‘çš„ä¸€ç•ªç ”ç©¶åŽå‘çŽ°çŽ°æœ‰çš„äº§å“åŠŸèƒ½è¦å¯¹å½©ä¿¡æ”¯æŒéœ€è¦è€—è´¹éžå¸¸å¤§çš„å·¥ä½œé‡ï¼Œå› ä¸ºè½¯ä»¶æœ¬èº«çš„åŠŸèƒ½æ‰“ç ´äº†androidç³»ç»ŸçŸ­ä¿¡çš„è®¾è®¡ï¼Œä¹Ÿéš¾æ€ªäº†androidçš„åº”ç”¨ä¸­æ²¡æœ‰åŠŸèƒ½ç›¸ä¼¼çš„äº§å“å‡ºçŽ°ã€‚è¿™ä¹Ÿæˆä¸ºäº†è¯¥é¡¹ç›®å¤±è´¥çš„ç›´æŽ¥åŽŸå› ã€‚ å¯è¡Œæ€§ç ”ç©¶æŠ€æœ¯å¯è¡Œæ€§é¡¹ç›®çš„èµ·æºæ¥è‡ªé¢†å¯¼çš„çŸ­ä¿¡æ³›æ»¥ï¼Œé¢†å¯¼æƒ³ç€èƒ½å¤Ÿæžä¸€ä¸ªæ‹¦æˆªåžƒåœ¾çŸ­ä¿¡å¹¶å¯¹çŸ­ä¿¡è¿›è¡Œç®¡ç†çš„è½¯ä»¶å°†æ˜¯é…·çš„ä¸€ä»¶äº‹æƒ…ã€‚é¢†å¯¼æŽ¥è§¦è¿‡ä¸€äº›androidï¼Œç‰‡é¢çš„è®¤ä¸ºè¿™ç§æ–¹æ¡ˆåœ¨æŠ€æœ¯ä¸Šå¯è¡Œã€‚æˆ‘ä¹Ÿåšäº†ä¸€ä¸ªè°ƒç ”ï¼Œå‘çŽ°çŽ°æœ‰çš„androidè½¯ä»¶é¡¹ç›®ä¸­æ²¡æœ‰æ­¤åŠŸèƒ½çš„äº§å“ã€‚ ç»æµŽå¯è¡Œæ€§æ”¯å‡ºåˆ†æžï¼šç”±äºŽé¡¹ç›®ä¸»è¦å‚ä¸Žäººå‘˜ä»…æœ‰æˆ‘ä¸€äººï¼Œæ”¯å‡ºçš„æˆæœ¬è¾ƒå°ã€‚æ”¶ç›Šåˆ†æžï¼šçŽ°åœ¨çš„äº’è”ç½‘äº§å“éƒ½æ˜¯å…ˆåœˆç”¨æˆ·å†è€ƒè™‘ç›ˆåˆ©ï¼Œæˆ‘ä»¬è¿™ä¸ªè½¯ä»¶äº§å“ä¹Ÿä¸ä¾‹å¤–ã€‚ è¿è¡ŒçŽ¯å¢ƒå¯è¡Œæ€§å¯¹äºŽäº§å“çš„è¿è¥å­˜åœ¨ä¸¤ç§æ–¹å¼ï¼š1ã€è·ŸæŸåœ°æ–¹è¿è¥å•†åˆä½œï¼›2ã€è‡ªå·±å•ç‹¬å‘å¸ƒã€‚ æ€»ä½“è€Œè¨€ï¼Œç”±äºŽé¡¹ç›®è¾ƒå°ï¼Œå¯¹å¯è¡Œæ€§ç ”ç©¶åŸºæœ¬å¿½ç•¥ï¼Œæ²¡æœ‰ç§‘å­¦ã€å¯è§‚ã€å…¬è¯çš„å¯¹é¡¹ç›®è¿›è¡Œå¯è¡Œæ€§åˆ†æžã€‚ èŒƒå›´ç®¡ç†åœ¨é¡¹ç›®ç«‹é¡¹çš„æ—¶å€™ä»…æœ‰ä¸€ä¸ªäº§å“çš„å¤§è‡´æ–¹å‘ï¼Œåšä¸€æ¬¾androidç³»ç»Ÿä¸­çš„çŸ­ä¿¡åˆ†ç±»ç®¡ç†ç±»åº”ç”¨ã€‚ä»Žå§‹è‡³ç»ˆé¢†å¯¼å¯¹äºŽäº§å“çš„ç†è§£åœ¨ä¸æ–­å˜åŒ–ï¼Œæ¯æ¬¡å˜åŒ–éƒ½éœ€è¦ä¿®æ”¹å¾ˆå¤šä»£ç ï¼Œè·Ÿé¢†å¯¼å¯¹äºŽå¯¼è‡´äº§å“ç ”å‘è¿‡ç¨‹åšäº†å¾ˆå¤šæ— ç”¨åŠŸã€‚åœ¨é¡¹ç›®è¿›è¡Œåˆ°ä¸€ä¸ªæœˆåŽï¼Œæˆ‘è®¤è¯†åˆ°äº†é¡¹ç›®è¿™æ ·ä¸‹åŽ»åå¤ä¿®æ”¹ä¸å¯èƒ½æœ‰å¥½çš„ç»“æžœï¼Œå› æ­¤è·Ÿé¢†å¯¼å¬å¼€äº†éœ€æ±‚å®šä¹‰çš„ä¼šè®®ï¼Œå°±äº§å“çš„éœ€æ±‚ç”¨æ€ç»´å¯¼å›¾çš„æ–¹å¼å°±é¡¹ç›®çš„èŒƒå›´è¿›è¡Œäº†å®šä¹‰ï¼Œä¼šåŽå°±éœ€æ±‚ä¸­æ²¡æœ‰è€ƒè™‘åˆ°çš„é—®é¢˜è·Ÿé¢†å¯¼è¿›è¡Œäº†æ²Ÿé€šç¡®è®¤ã€‚æ­¤æ¬¡ä¼šè®®ä¹‹åŽé¡¹ç›®çš„éœ€æ±‚åŸºæœ¬æ•²å®šï¼Œè™½ç„¶ä¹‹åŽé¢†å¯¼æœ‰éœ€æ±‚å˜æ›´çš„æƒ…å†µï¼Œä½†æ˜¯ç›¸å¯¹è¾ƒå°‘ã€‚ è¿›åº¦ç®¡ç†ç”±äºŽå…¬å¸åˆæ¬¡å¼€å±•androidç±»é¡¹ç›®ï¼Œå¯¹é¡¹ç›®çš„è¿›åº¦å¾ˆéš¾æŽŒæŽ§ã€‚é¡¹ç›®å¼€å§‹æ—¶è´Ÿè´£å¸‚åœºéƒ¨çš„é¢†å¯¼ç»™å‡ºäº†ä¸€ä¸ªæœˆä¹‹å†…å®Œæˆçš„è®¡åˆ’ï¼Œæˆ‘å¿ƒæƒ³æˆ‘è‡ªå·±åŠ æŠŠåŠ²åº”è¯¥èƒ½æžå®šå§ï¼Œå› ä¸ºæœ€åˆçš„é¡¹ç›®éœ€æ±‚è¿˜æ¯”è¾ƒç®€å•ã€‚æˆ‘ç”¨äº†ä¸¤ä¸ªæ˜ŸæœŸçš„æ—¶é—´æ¥å­¦ä¹ androidçŸ¥è¯†ï¼Œç”¨ä¸¤ä¸ªæ˜ŸæœŸçš„æ—¶é—´æ¥å¼€å‘ï¼Œç»“æžœåˆ°æœ€åŽæˆ‘æ‰åˆšæ ¹æ®ç¾Žå·¥æä¾›çš„æ•ˆæžœå›¾å®Œæˆäº†é¦–é¡µï¼Œæˆ‘æ€»æ˜¯ä¸èƒ½å¾ˆå¥½çš„ä¼°ç®—è‡ªå·±çš„å·¥ä½œè¿›åº¦ã€‚è¿™ç¯‡ã€Šä¸ºä»€ä¹ˆç¨‹åºå‘˜æ€»æ˜¯ä¸èƒ½å‡†ç¡®é¢„ä¼°å·¥ä½œé‡ã€‹çš„æ–‡ç« æˆ–è®¸èƒ½æ›¿æˆ‘è§£é‡Šäº›ä»€ä¹ˆã€‚åœ¨é¡¹ç›®èŒƒå›´ç¡®å®šä¹‹åŽæˆ‘å¯¹è‡ªå·±å·¥ä½œçš„è¿›åº¦ç®¡ç†ä¹Ÿä¸å¤Ÿå¥½ï¼Œç¬¬ä¸€æ¬¡å°è¯•åšandroidé¡¹ç›®ï¼ŒæœªçŸ¥å› ç´ å¤ªå¤šï¼Œç¼–ç ä¸­æ€»èƒ½é‡åˆ°è¿™æ ·é‚£æ ·çš„é—®é¢˜ã€‚ æˆæœ¬ç®¡ç†é¡¹ç›®çš„æ•´ä¸ªæˆæœ¬åº”è¯¥æˆ‘çš„äººåŠ›æˆæœ¬å äº†ç»å¤§éƒ¨åˆ†ï¼Œæœ¬æ¥è½¯ä»¶é¡¹ç›®ä¸­çš„äººåŠ›æˆæœ¬å°±æ˜¯å çš„æ¯”é‡è¾ƒå¤šçš„ï¼Œä½•å†µä¸»è¦æ˜¯æˆ‘ä¸€ä¸ªäººå‚ä¸Žçš„é¡¹ç›®ï¼Œè‡ªç„¶æˆ‘é‚£å¾®è–„çš„äººåŠ›å äº†é¡¹ç›®æˆæœ¬çš„å¤§éƒ¨åˆ†ã€‚è‡³äºŽåŽæœŸé¡¹ç›®çš„ç›ˆåˆ©å¹¶æ²¡æœ‰è¿‡å¤šè€ƒè™‘ï¼ŒçŽ°åœ¨çš„äº’è”ç½‘è¡Œä¸šæœ¬æ¥å°±æ˜¯å…ˆåœˆç”¨æˆ·åŽç›ˆåˆ©ã€‚ è´¨é‡ç®¡ç†æˆ‘åœ¨é¡¹ç›®çš„ç¼–ç è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬ä¸€ä¸ªå°åŠŸèƒ½å®Œæˆä¹‹åŽéƒ½ä¼šè¿›è¡Œè¯¦å°½çš„åŠŸèƒ½æµ‹è¯•ã€‚ç”±äºŽåŠŸèƒ½ä¸è´Ÿè´£ï¼Œäº§å“çš„è´¨é‡åªè¦å¤šæµ‹è¯•ä¸€èˆ¬é—®é¢˜å°±ä¸å¤§äº†ã€‚ äººåŠ›èµ„æºç®¡ç†é¡¹ç›®çš„åˆæœŸæˆ‘å°±æ„Ÿè§‰é¡¹ç›®ä¸å¯èƒ½æˆåŠŸï¼Œä½†æ˜¯é¢†å¯¼åšæŒè¦åšï¼Œè€Œä¸”æˆ‘ä¸€ä¸ªåšC++çš„ç¨‹åºå‘˜æ¥å†™androidçš„ä»£ç ï¼Œæˆ‘å½“æ—¶å±…ç„¶ä»…æœ‰å¬ä»Žé¢†å¯¼çš„æ„è¯†ï¼Œæ²¡æœ‰é€‚å½“çš„è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ã€‚å½“æ—¶æ€€ç€ä¸€å·±ä¹‹å¿ƒè®¤ä¸ºå¯èƒ½ä¸€ä¸ªæœˆé¡¹ç›®å°±å®Œæˆäº†ï¼Œå®Œæˆä¹‹åŽå·¥ä½œä¾æ—§ï¼Œè¿˜å¯ä»¥ç†Ÿç»ƒç†Ÿç»ƒandroidçš„å¼€å‘ï¼Œè°çŸ¥ä¸€ç»ƒæ‰‹å°±æ˜¯åšäº†äº”ä¸ªæœˆï¼Œè€Œåˆ°æœ€åŽé¡¹ç›®ä»ç„¶æ²¡æœ‰æˆåž‹ã€‚ç”±äºŽä¸€ç›´å¯¹é¡¹ç›®æŒæ‚²è§‚æ€åº¦ï¼Œå§‹ç»ˆè®¤ä¸ºæˆ‘è‡ªå·±å¼€å‘å‡ºæ¥çš„äº§å“æˆ‘éƒ½ä¸æƒ³åŽ»ç”¨ï¼Œç”¨æˆ·æ€Žä¹ˆå¯èƒ½åŽ»ç”¨ã€‚é•¿æœŸè‡ªå·±ç‹¬è‡ªåšï¼Œå…¼ä»»äº†äº§å“ç»ç†ã€ç¾Žå·¥ã€ç å†œçš„å·¥ä½œï¼Œåšçš„è¿‡ç¨‹ä¸­è¿˜è¦æ‹…å¿ƒç€éœ€æ±‚çš„å˜æ›´ï¼Œåœ¨é¡¹ç›®è¿›è¡Œåˆ°ä¸­åŽæœŸçš„æ—¶å€™ï¼Œ ç¼ºå°‘æ¿€åŠ±å› ç´ ï¼Œå¯¹å·¥ä½œæ¿€æƒ…ä¸å¤Ÿï¼Œè¿™ä¹Ÿå½±å“äº†é¡¹ç›®çš„è¿›åº¦ã€‚ æ²Ÿé€šç®¡ç†åœ¨é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸­åŸºæœ¬èƒ½ä¿æŒæ²¡å®Œæˆä¸€ä¸ªå…³é”®åŠŸèƒ½è·Ÿé¢†å¯¼æ±‡æŠ¥ä¸€æ¬¡é¡¹ç›®è¿›å±•ã€‚åœ¨é¡¹ç›®ä¸­æ²Ÿé€šæ–¹é¢å­˜åœ¨ä¸å°‘çš„é—®é¢˜ï¼Œå°¤å…¶ä»¥å‰æœŸä¸¥é‡ã€‚å‰æœŸç”±äºŽè·Ÿé¢†å¯¼çš„éœ€æ±‚ä¸ä¸€è‡´ï¼Œå¯¼è‡´åšäº†å¾ˆå¤šçš„é‡å¤æ€§åŠ³åŠ¨ã€‚é¢†å¯¼å¯¹é¡¹ç›®çš„éœ€æ±‚æœ¬æ¥å°±ä¸å¤Ÿæ˜Žç¡®ï¼Œä¸€æ—¦æœ‰å¥½çš„æƒ³æ³•å°±åŠ åˆ°é¡¹ç›®ä¸­ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†è·Ÿé¢†å¯¼çš„æ²Ÿé€šå›°éš¾ï¼Œå› ä¸ºè¿™æ ·çš„æ²Ÿé€šæ•ˆçŽ‡å¤ªä½Žã€‚ é£Žé™©ç®¡ç†é¡¹ç›®å¯ç ”é˜¶æ®µå¯¹æŠ€æœ¯å¯è¡Œæ€§åˆ†æžç ”ç©¶ä¸å¤Ÿï¼Œå¯¼è‡´äº†åŽæœŸåœ¨å¯¹å½©ä¿¡è¿›è¡Œåˆ†ç±»å¤„ç†çš„æ—¶å€™é‡åˆ°äº†æŠ€æœ¯ä¸Šçš„éš¾é¢˜ã€‚å½“ç„¶å‰æœŸçš„å¯ç ”é˜¶æ®µåšå……åˆ†çš„æŠ€æœ¯å¯è¡Œæ€§ç ”ç©¶ä¹Ÿæ˜¯ä¸å¤ªçŽ°å®žäº†ï¼Œå› ä¸ºæœ¬æ¥æŠ€æœ¯å¯¹å…¬å¸è€Œè¨€å°±æ˜¯æœªçŸ¥çš„ã€‚æœ€å¥½çš„åŠžæ³•å°±æ˜¯å¯¹è‡ªå·±ä¸ç†Ÿæ‚‰è€Œä¸”çŸ­æœŸå†…ä¸èƒ½å®žçŽ°ç›ˆåˆ©çš„é¡¹ç›®ä¸å‚ä¸Žã€‚ æ–‡æ¡£ç®¡ç†ç”±äºŽé¡¹ç›®ç®¡ç†ä¸­è¦æ±‚æ¯ä¸ªé˜¶æ®µéƒ½æœ‰è¾“å‡ºçš„æ–‡æ¡£ï¼Œè¿™ä¹ˆç¹ççš„æ–‡æ¡£æˆ‘ç›¸ä¿¡ä¸­å›½æ‰¾ä¸å‡ºå‡ å®¶è½¯ä»¶å…¬å¸èƒ½å¤ŸåŠžåˆ°ï¼Œèƒ½åŠžåˆ°çš„ä¼°è®¡éƒ½å·²ç»æ­»æŽ‰äº†ã€‚æ­¤é¡¹ç›®ä¸­ä»…æœ‰èŒƒå›´å®šä¹‰çš„æ€ç»´å¯¼å›¾ã€æˆ‘åœ¨ç¼–å†™æŸä¸ªå…·ä½“çš„åŠŸèƒ½ä»£ç å‰ç»˜åˆ¶çš„æµç¨‹å›¾ï¼Œåº”è¯¥è¯´æ–‡æ¡£åŠå…¶å°‘ã€‚ä½†æˆ‘ç›®å‰ä¸è®¤ä¸ºè¿™æœ‰ä»€ä¹ˆä¸å¯¹ï¼Œæˆ‘è¿˜æ˜¯åšä¿¡æŸäº›æƒ…å†µä¸‹çœ‹ä»£ç æ¯”çœ‹æ–‡æ¡£è¦æ¥çš„æ›´å¿«ï¼Œç‰¹åˆ«æ˜¯çœ‹æˆ‘è¿™ç§androidèœé¸Ÿå†™çš„ä»£ç ã€‚æ›´ä½•å†µæ­¤é¡¹ç›®çš„éœ€æ±‚åœ¨ä¸æ–­éšç€é¢†å¯¼çš„æƒ³æ³•è€Œå˜åŒ–ï¼Œæ–‡æ¡£éƒ½æ²¡æ³•å†™ï¼Œå†™æ–‡æ¡£çš„æˆæœ¬å¤ªé«˜ã€‚ æˆ‘çš„ä¸€äº›åæ€ï¼šåœ¨é¡¹ç›®ä¸­æˆ‘ä¹Ÿå­˜åœ¨ä¸å°‘é—®é¢˜ã€‚ é¡¹ç›®å¼€å§‹é˜¶æ®µåº”è¯¥å‘é¢†å¯¼è¡¨è¾¾æ¸…æ¥šè‡ªå·±çš„æƒ³æ³•ï¼Œé˜æ˜Žè‡ªå·±å¯¹é¡¹ç›®çš„çœ‹æ³•ã€‚ å¯¹é¡¹ç›®çš„è¿›åº¦æ²¡æœ‰å¾ˆå¥½çš„æŠŠæ¡ã€‚ å¯¹æŠ€æœ¯è¾ƒä¸ºç†Ÿæ‚‰ä¹‹åŽå¯ä»¥é€‚å½“çš„å­¦ä¹ åŽæœŸå¼€å‘åŠŸèƒ½éœ€è¦æŠ€æœ¯ï¼Œæ¯”å¦‚ä¸€ç›´æ²¡æœ‰ç ”ç©¶å½©ä¿¡çš„æŠ€æœ¯å®žçŽ°ï¼Œå¯¼è‡´åŽæœŸåœ¨å¼€å‘å½©ä¿¡åŠŸèƒ½æ—¶é‡åˆ°æŠ€æœ¯é—®é¢˜ã€‚å¦‚æžœèƒ½å¤Ÿæå‰å­¦ä¹ ç›¸å…³æŠ€æœ¯å°±èƒ½å¤Ÿæå‰é¢„æ”¯é¡¹ç›®çš„é£Žé™©ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨linuxç¨‹åºä¸­èŽ·å–å’Œè®¾ç½®çŽ¯å¢ƒå˜é‡]]></title>
      <url>%2Fpost%2Flinux_get_and_set_env_variable%2F</url>
      <content type="text"><![CDATA[shellä¸­çš„çŽ¯å¢ƒå˜é‡æŸ¥çœ‹çŽ¯å¢ƒå˜é‡ é€šè¿‡envå‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„çŽ¯å¢ƒå˜é‡ é€šè¿‡echo $çŽ¯å¢ƒå˜é‡åæ–¹å¼æ¥æŸ¥çœ‹å•ä¸ªçŽ¯å¢ƒå˜é‡è®¾ç½®çŽ¯å¢ƒå˜é‡exportå‘½ä»¤æ¥è®¾ç½®çŽ¯å¢ƒå˜é‡ åœ¨ç¨‹åºä¸­è¯¥å¦‚ä½•èŽ·å–å’Œè®¾ç½®çŽ¯å¢ƒå˜é‡å‘¢ï¼Ÿ é€šè¿‡mainå‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°é€šå¸¸å¤§å®¶æŽ¥è§¦æ¯”è¾ƒå¤šçš„æ˜¯ä¸¤ä¸ªå‚æ•°çš„mainå‡½æ•°ï¼Œå®žé™…ä¸Šè¿˜æœ‰ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå‚æ•°çš„mainå‡½æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºåŒ…å«äº†ç³»ç»Ÿçš„çŽ¯å¢ƒå˜é‡çš„äºŒçº§æŒ‡é’ˆã€‚ç”¨æ³•å¦‚ä¸‹ï¼š1234567891011#include &lt;stdio.h&gt;int main ( int argc, char *argv[], char *arge[])&#123; while (*arge) &#123; printf("%s\n", *arge); arge++; &#125; return 0;&#125; å®žä¾‹å°†ä¼šè¾“å‡ºè¯¥ç”¨æˆ·çš„æ‰€æœ‰çŽ¯å¢ƒå˜é‡ã€‚ é€šè¿‡å¤–éƒ¨çŽ¯å¢ƒå˜é‡environè¯¥å˜é‡å®šä¹‰åœ¨â€œunistd.hâ€å¤´æ–‡ä»¶ä¸­ï¼Œå®šä¹‰ä¸ºï¼šextern char **environ;ç”¨æ³•å¦‚ä¸‹ï¼š1234567891011121314#include &lt;stdio.h&gt;extern char **environ;int main ( int argc, char *argv[] )&#123; char **env = environ; while (*env) &#123; printf("%s\n", *env); env++; &#125; return 0;&#125; å®žä¾‹å°†ä¼šè¾“å‡ºè¯¥ç”¨æˆ·çš„æ‰€æœ‰çŽ¯å¢ƒå˜é‡ã€‚ é€šè¿‡ç³»ç»Ÿå‡½æ•°åœ¨Cè¯­è¨€çš„å¤´æ–‡ä»¶â€œstdlib.hâ€ä¸­å®šä¹‰äº†ä¸‰ä¸ªå’ŒçŽ¯å¢ƒå˜é‡ç›¸å…³çš„å‡½æ•°ï¼š123char *getenv(const char *name);int setenv(const char *name, const char *value, int overwrite);int unsetenv(const char *name); æ¯”è¾ƒç®€å•ï¼Œä¸å†ä¸¾ä¾‹ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[mmapå’Œmunmapå‡½æ•°çš„ç”¨æ³•]]></title>
      <url>%2Fpost%2Fmmap_and_munmap%2F</url>
      <content type="text"><![CDATA[åœ¨Linuxçš„å¤´æ–‡ä»¶sys/mman.hä¸­æä¾›äº†ä¸¤ä¸ªç”¨æ¥åˆ†é…å†…å­˜çš„å‡½æ•°ï¼šmmapå’Œmunmapï¼Œå‡½æ•°å®šä¹‰åŽŸåž‹å¦‚ä¸‹ï¼š12void *mmap(void *start, size_t length, int prot, int flags, int fd, off_t offset);int munmap(void *start, size_t length); mmapè¯´æ˜Žè¿”å›žå€¼ï¼šå†…å­˜æ˜ å°„åŽè¿”å›žè™šæ‹Ÿå†…å­˜çš„é¦–åœ°å€ã€‚å‚æ•°ï¼š startä¸ºæŒ‡å®šçš„æ˜ å°„çš„é¦–åœ°å€ï¼Œè¯¥åœ°å€åº”è¯¥æ²¡æœ‰æ˜ å°„è¿‡ï¼Œå¦‚æžœä¸º0åˆ™æœ‰ç³»ç»ŸæŒ‡å®šä½ç½®ã€‚ lengthä¸ºæ˜ å°„çš„ç©ºé—´å¤§å°ï¼ŒçœŸæ­£åˆ†é…ç©ºé—´å¤§å°ä¸º(length/pagesize+1)ã€‚ protä¸ºæ˜ å°„çš„æƒé™ï¼Œåˆ†ä¸ºå››ç§æœªæŒ‡å®šï¼ˆPROT_NONEï¼‰ã€è¯»ï¼ˆPROT_READï¼‰ã€å†™ï¼ˆPROT_WRITEï¼‰ã€æ‰§è¡Œï¼ˆPROT_EXECï¼‰ã€‚å¦‚æžœä¸ºPROT_WRITEï¼Œåˆ™ç›´æŽ¥å¯ä»¥PROT_READã€‚ flagsï¼šæ˜ å°„æ–¹å¼ï¼Œåˆ†ä¸ºå†…å­˜æ˜ å°„å’Œæ–‡ä»¶æ˜ å°„ã€‚å†…å­˜æ˜ å°„ï¼šåŒ¿åæ˜ å°„ã€‚å½“å€¼ä¸ºæ–‡ä»¶æ˜ å°„æ˜¯åŽé¢ä¸¤ä¸ªå‚æ•°æ‰æœ‰æ•ˆã€‚å¸¸ç”¨çš„å€¼æœ‰ï¼šMAP_ANONYMOUSã€MAP_SHAREDã€MAP_PRIVATEã€‚ fdï¼šæ˜ å°„çš„æ–‡ä»¶æè¿°ç¬¦ã€‚ offsetä¸ºä»Žæ–‡ä»¶çš„åç§»ä½ç½®å¼€å§‹æ˜ å°„ã€‚ munmapè¯´æ˜Žä»Žstartä½ç½®å¼€å§‹é‡Šæ”¾lengthä¸ªå­—èŠ‚çš„å†…å­˜ã€‚ åº”ç”¨ä¸¾ä¾‹1234567891011121314#include &lt;stdio.h&gt;#include &lt;sys/mman.h&gt;#include &lt;stdlib.h&gt;main()&#123; int *p = mmap(NULL, getpagesize(), PROT_READ | PROT_WRITE, MAP_ANONYMOUS | MAP_SHARED, 0, 0); munmap(p, getpagesize());&#125; å…¶ä¸­getpagesize()å‡½æ•°çš„ä½œç”¨ä¸ºèŽ·å–ä¸€ä¸ªé¡µçš„å¤§å°ï¼Œç³»ç»Ÿé»˜è®¤ä¸º4Kã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[linuxä¸­èŽ·å–é”™è¯¯ä¿¡æ¯çš„æ–¹å¼]]></title>
      <url>%2Fpost%2Flinux_get_error_of_function%2F</url>
      <content type="text"><![CDATA[å½“linuxä¸­çš„å‡½æ•°å†…éƒ¨å‡ºé”™æ—¶é€šå¸¸å‡½æ•°ä¼šè¿”å›ž-1ï¼Œå¹¶ä¸”å°†é”™è¯¯ç ä¿å­˜åˆ°å…¨å±€å˜é‡errnoä¸­ï¼Œç”¨æ¥è¡¨ç¤ºé”™è¯¯ä»£ç ã€‚errnoå…¨å±€å˜é‡åŒ…å«åœ¨å¤´æ–‡ä»¶errno.hæ–‡ä»¶ä¸­ã€‚ä¸‹é¢ç»™å‡ºä¸‰ç§æ‰“å°é”™è¯¯ä¿¡æ¯çš„æ–¹æ³•ã€‚ perrorå‡½æ•°åº”ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š123456789101112#include &lt;stdio.h&gt;int main(void)&#123; FILE *fp ; fp = fopen( "/root/noexitfile", "r+" ); if ( NULL == fp ) &#123; perror("error : "); &#125; return 0;&#125; è¾“å‡ºå¦‚ä¸‹ï¼šPermission denied strerrorå‡½æ•°strerrorå‡½æ•°åŽŸåž‹ä¸ºï¼šchar *strerror(int errnum);å°†å‚æ•°errnumè½¬æ¢ä¸ºå¯¹åº”çš„é”™è¯¯ç ã€‚åº”ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š123456789101112#include &lt;stdio.h&gt;int main(void)&#123; FILE *fp ; fp = fopen( "/root/noexitfile", "r+" ); if ( NULL == fp ) &#123; printf("%s\n", strerror(errno)); &#125; return 0;&#125; è¾“å‡ºå¦‚ä¸‹ï¼šPermission denied printfä¸­çš„%mæ‰“å°åº”ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š123456789101112#include &lt;stdio.h&gt;int main(void)&#123; FILE *fp ; fp = fopen( "/root/noexitfile", "r+" ); if ( NULL == fp ) &#123; printf("%m\n"); &#125; return 0;&#125; è¾“å‡ºå¦‚ä¸‹ï¼šPermission denied]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[sbrkå’Œbrkå‡½æ•°]]></title>
      <url>%2Fpost%2Fsbrk_and_brk%2F</url>
      <content type="text"><![CDATA[Linuxç³»ç»Ÿä¸­æä¾›äº†ä¸¤ä¸ªåœ¨å †ä¸­åˆ†é…ç©ºé—´çš„åº•å±‚å‡½æ•°ï¼Œå‡½æ•°åŽŸåž‹å¦‚ä¸‹ï¼š void sbrk(intptr_t increment);int brk(void end_data_segment); ä¸¤ä¸ªå‡½æ•°çš„ä½œç”¨å‡ä¸ºä»Žå †ä¸­åˆ†é…ç©ºé—´ï¼Œå¹¶ä¸”åœ¨å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆçš„å€¼é»˜è®¤ä¸ºNULLã€‚å¦‚æžœå†…éƒ¨æŒ‡é’ˆä¸ºNULLï¼Œåˆ™å¾—åˆ°ä¸€é¡µçš„ç©ºé—²åœ°å€ï¼Œç³»ç»Ÿé»˜è®¤ä¸º4Kå­—èŠ‚ã€‚æŒ‡é’ˆå‘åŽç§»åŠ¨å³ä¸ºåˆ†é…ç©ºé—´ï¼ŒæŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸ºé‡Šæ”¾ç©ºé—´ã€‚å½“å†…éƒ¨æŒ‡é’ˆçš„ä½ç½®ç§»åŠ¨åˆ°ä¸€ä¸ªé¡µçš„å¼€å§‹ä½ç½®æ—¶ï¼Œæ•´ä¸ªé¡µä¼šè¢«æ“ä½œç³»ç»Ÿå›žæ”¶ã€‚brkä¸ºç»å¯¹æ”¹å˜ä½ç½®ï¼Œsbrkä¸ºç›¸å¯¹æ”¹å˜ä½ç½®ã€‚ sbrkå‡½æ•°åœ¨sbrkå‡½æ•°ä¸­ï¼Œå‚æ•°incrementä¸ºè¦å¢žåŠ çš„å­—èŠ‚æ•°ï¼Œincrementå¯ä»¥ä¸ºè´Ÿæ•°ã€‚å½“incrementä¸ºè´Ÿæ•°æ—¶è¡¨ç¤ºé‡Šæ”¾ç©ºé—´ã€‚å½“increment==0æ—¶ï¼Œå†…éƒ¨æŒ‡é’ˆä½ç½®ä¸åŠ¨ã€‚å‡½æ•°è°ƒç”¨æˆåŠŸè¿”å›žå†…éƒ¨æŒ‡é’ˆæ”¹å˜å‰çš„å€¼ï¼Œå¤±è´¥è¿”å›ž(void *)-1ã€‚å‡½æ•°ä½¿ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š123456789101112131415161718192021222324#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;int main()&#123; int *p0 = sbrk(0); // æ‰“å°å †åœ°å€ printf("this site of p0 is : %d\n", p0); int *p1 = sbrk(1000); // è¿™é‡Œä»ç„¶æ‰“å°çš„æ˜¯ç¬¬ä¸€æ¬¡çš„å †åœ°å€ printf("this site of p1 is : %d\n", p1); int *p2 = sbrk(1); // æ‰“å°ç¬¬ä¸€æ¬¡å †åœ°å€+1000åŽçš„åœ°å€ printf("this site of p2 is : %d\n", p2); // å›žåˆ°åˆå§‹å †åœ°å€ï¼Œé‡Šæ”¾ç©ºé—´ sbrk(-1001); int *p3 = sbrk(0); // æ£€æŸ¥æ˜¯å¦å›žåˆ°åˆå§‹åœ°å€ printf("this site of p3 is : %d\n", p3);&#125; è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼šthis site of p0 is : 264622080this site of p1 is : 264622080this site of p2 is : 264623080this site of p3 is : 264622080 brkå‡½æ•°åœ¨brkå‡½æ•°ä¸­ï¼Œå‡½æ•°ä½œç”¨ä¸ºå°†å½“å‰çš„å†…éƒ¨æŒ‡é’ˆç§»åŠ¨åˆ°end_data_segmentä½ç½®ã€‚æˆåŠŸè¿”å›ž0ï¼Œå¤±è´¥è¿”å›ž-1ã€‚å‡½æ•°ä½¿ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š1234567891011121314151617#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;int main()&#123; int *p0 = sbrk(0); printf("this site of p0 is : %d\n", p0); brk(p0 + 1000); printf("this site is : %d\n", sbrk(0)); brk(p0 + 1001); printf("this site is : %d\n", sbrk(0)); brk(p0); printf("this site is : %d\n", sbrk(0));&#125; å‡½æ•°è¾“å‡ºå¦‚ä¸‹ï¼šthis site of p0 is : 206979072this site is : 206983072this site is : 206983076this site is : 206979072 é€‚ç”¨åœºæ™¯ï¼šå†…å­˜çš„ç®¡ç†æ–¹å¼æ¯”mallocå’Œfreeæ›´åŠ çµæ´»ï¼Œé€‚åˆç”³è¯·ä¸ç¡®å®šçš„å†…å­˜ç©ºé—´çš„æƒ…å†µï¼Œç‰¹åˆ«é€‚åˆåŒç±»åž‹çš„å¤§å—æ•°æ®ã€‚å¦‚æžœç”¨mallocåˆ™å¯èƒ½å­˜åœ¨ç”³è¯·å†…å­˜ç©ºé—´è¿‡å¤šæµªè´¹çš„æƒ…å†µï¼Œè¿‡å°‘æ—¶éœ€è¦é‡æ–°è°ƒç”¨reallocæ¥é‡æ–°ç”³è¯·å†…å­˜çš„æƒ…å†µã€‚é€Ÿåº¦æ¯”mallocå¿«ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[farboxä¸Žjekyllå¯¹æ¯”]]></title>
      <url>%2Fpost%2Ffarbox%E4%B8%8Ejekyll%E5%AF%B9%E6%AF%94%2F</url>
      <content type="text"><![CDATA[å‰ç«¯æ—¶é—´æŠ˜è…¾äº†ä¸€æ®µæ—¶é—´çš„Githubåšå®¢ï¼Œç»ˆäºŽæžæ˜Žç™½äº†jekyllï¼Œå¼€å§‹å†™äº†ä¸€ç¯‡åšå®¢å‘çŽ°é—®é¢˜æ¯”è¾ƒå¤šã€‚æ¯”å¦‚ä¸­æ–‡ç¼–ç é—®é¢˜ï¼ŒGithubå¯¹makedownçš„æ”¯æŒé—®é¢˜ï¼ŒGithubçš„æ–‡ç« åŒæ­¥é—®é¢˜ï¼Œç½‘é€Ÿé—®é¢˜ã€‚æ€»ä½“è€Œè¨€ï¼Œæ„Ÿè§‰ç”¨Githubæ¥å†™åšå®¢è¿˜ä¸æ˜¯éžå¸¸æ»¡æ„ã€‚ ä»Šå¤©ä¸‹åˆå¶ç„¶æƒ³èµ·äº†å‰æ®µæ—¶é—´çœ‹è¿‡faxboxçš„ä¸€ç¯‡æ–‡ç« ï¼Œä»Šå¤©ä¸‹è½½ä¸‹æ¥å°è¯•ï¼Œæžœç„¶éžå¸¸é…·ã€‚ä¼˜ç‚¹å¦‚ä¸‹ï¼š åšå®¢æ”¾åœ¨äº†Dropboxä¸ä¼šä¸¢å¤±ã€‚å½“ç„¶æ²¡æœ‰Githubé…·ï¼ŒGithubå¯ä»¥é€šè¿‡ç‰ˆæœ¬ç®¡ç†æ¥æŸ¥çœ‹åŽ†å²ç‰ˆæœ¬ã€‚è²Œä¼¼Dropboxæœ¬èº«æœ‰ç‰ˆæœ¬ç®¡ç†çš„åŠŸèƒ½ã€‚ å†™åšå®¢çš„æ–¹å¼ç®€æ·ã€‚Githubçš„jekyllè¿˜éœ€è¦åˆ©ç”¨rakeå‘½ä»¤æ¥åˆ›å»ºæ–‡ç« ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ–‡ç« çš„å¤´éƒ¨å«æœ‰YAMLæ ‡ç­¾ã€‚è€Œfaxboxç›´æŽ¥ç¼–è¾‘æ–‡æœ¬æ–‡ä»¶å³å¯ã€‚ æ–‡æœ¬ç¼–è¾‘å™¨ç»™åŠ›ã€‚å¯ä»¥é€šè¿‡å®žæ—¶é¢„è§ˆåŠŸèƒ½æŸ¥çœ‹makedownçš„è§£æžæƒ…å†µï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡åœ¨çº¿çš„makedownç¼–è¾‘å™¨stackeditæ¥ç¼–å†™makedownã€‚ ç½‘é€Ÿæ¯”Githubå¿«ã€‚æµ‹è¯•ä¸€ä¸‹æ„Ÿè§‰ç½‘é€Ÿè¿˜æ¯”è¾ƒå¿«ã€‚ å¯ä»¥ä¿®æ”¹æ¨¡æ¿ï¼Œforkæ¨¡æ¿çš„æ–¹å¼ç®€æ·æ›´é…·ã€‚ å¯¹ä¸­æ–‡çš„æ”¯æŒå¥½ã€‚å› ä¸ºæœ¬æ¥å°±æ˜¯æœ¬åœŸåŒ–çš„è½¯ä»¶å½“ç„¶å¯¹ä¸­æ–‡å…¨åŠ›æ”¯æŒã€‚ ä»£ç è¯­æ³•é«˜äº®ã€‚æµ‹è¯•äº†ä¸€ä¸‹é»˜è®¤çš„æ¨¡æ¿æ”¯æŒè¯­æ³•é«˜äº®ã€‚ è‡ªå¸¦çš„æ¨¡æ¿æ›´æ¼‚äº®ã€‚è‡ªå¸¦çš„æ¨¡ç‰ˆè™½ç„¶ä¸å¤šï¼Œä½†æ˜¯æœ‰è¯´æ˜Žæ˜¯é€‚åˆåšå®¢è¿˜æ˜¯ç›¸å†Œã€‚ ç½‘ç«™è‡ªå¸¦ç½‘ç«™åˆ†æžå·¥å…·ã€‚å¯ä»¥é€šè¿‡ç®€å•çš„æµè§ˆç½‘é¡µå°±å¯ä»¥çŸ¥é“ç½‘ç«™çš„è®¿é—®æƒ…å†µï¼Œè™½ç„¶farboxåœ¨è®¿é—®é‡è¾¾åˆ°1Wä¹‹åŽè¦æ”¶è´¹ï¼ŒæŒ‰ç…§ç›®å‰çš„ä»·æ ¼ï¼Œä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—æ¯”è¾ƒå€¼ï¼Œå¸Œæœ›farboxèƒ½å¤Ÿä¸€ç›´åšæŒåšä¸‹åŽ»ã€‚åšçš„å¥½æˆ‘æ„¿æ„ä»˜è´¹ã€‚ ç¼ºç‚¹ï¼š ç»è¿‡ä¸€ä¸‹åˆçš„äº†è§£ï¼Œæš‚æ—¶æ²¡æœ‰å‘çŽ°åšå®¢å¯ä»¥åˆ†ç±»çš„åŠŸèƒ½ï¼Œä¸è¿‡è¿™ä¸ªåŠŸèƒ½æˆ‘æš‚æ—¶å¯ä»¥ä¸éœ€è¦ã€‚ä»¥åŽå‡†å¤‡å…ˆå†™äº›åšå®¢åœ¨Githubå’ŒFaxboxä¸ŠåŒæ­¥æ›´æ–°ï¼Œä»¥ä¾¿å¤šæ¯”è¾ƒæ¯”è¾ƒè¿™ä¸¤ç§Geekçš„å†™åšå®¢æ–¹å¼ã€‚åŽæ¥å‘çŽ°æ˜¯æœ‰æ–‡ç« åˆ†ç±»åŠŸèƒ½çš„ï¼Œå…·ä½“æ“ä½œä¸ºå°†æ–‡ç« æ”¾å…¥ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­ï¼Œæ–‡ä»¶å¤¹çš„åå­—å³ä¸ºåˆ†ç±»çš„åå­—ï¼Œè¿™ç§æ–¹å¼æ¯”jekyllçš„YAMLè¯­æ³•æ–¹å¼è¦å¥½ç”¨ã€‚ æ„Ÿè§‰è¯„è®ºåŠŸèƒ½æœ‰ç‚¹é¸¡è‚‹ã€‚åšå®¢è¿˜æ²¡å†™å®Œæœ‰äº‹å·¥ä½œï¼Œå‡†å¤‡ç»­å†™æ—¶å‘çŽ°æœ‰äººç•™è¨€æŒ‡æ­£é”™è¯¯ï¼Œæƒ³å›žå¤è°¢è°¢ï¼Œå‘çŽ°æ— æ³•ç›´æŽ¥å›žå¤ã€‚ç”¨å¤šè¯´ä»£æ›¿ä¹‹ï¼Œæ–¹æ³•ä¸ºç›´æŽ¥å°†å¤šè¯´çš„jsè„šæœ¬å­˜å…¥æ–°å»ºçš„comment_js.mdæ–‡ä»¶ä¸­å³å¯ï¼Œéžå¸¸ç®€æ´ã€‚ Linuxä¸‹çš„ç”¨æˆ·ä¸å¤ªæ–¹ä¾¿ã€‚ç”±äºŽfarboxè½¯ä»¶ä»…æœ‰windowsç‰ˆå’Œmacç‰ˆï¼Œdropboxåœ¨linuxæœ‰ç›¸åº”ç‰ˆæœ¬ï¼Œåœ¨linuxä¸‹çš„ç”¨æˆ·ä¸èƒ½äº«å—åˆ°farboxç¼–è¾‘å·¥å…·å¸¦æ¥çš„æ–¹ä¾¿ã€‚ç›¸ååœ¨linuxä¸‹ç»“åˆgitå’Œvimæ¥ç¼–å†™åšå®¢å´æ¯”è¾ƒæ–¹ä¾¿ã€‚ PSï¼šGithubåšå®¢åœ°å€ï¼škuring.github.comFixboxåšå®¢åœ°å€ï¼škuring.faxbox.com]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[testçš„æ ‡é¢˜]]></title>
      <url>%2Fpost%2Ftest%2F</url>
      <content type="text"><![CDATA[h1test content h2]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åœ¨Linuxä¸Šæ­å»ºHBaseé›†ç¾¤çŽ¯å¢ƒ]]></title>
      <url>%2Fpost%2Fsetup_hbase%2F</url>
      <content type="text"><![CDATA[æœ¬æ–‡æ˜¯åœ¨å®‰è£…å®ŒæˆHadoopçš„åŸºç¡€ä¹‹ä¸Šè¿›è¡Œçš„ï¼ŒHadoopçš„å®‰è£…æˆ³è¿™é‡Œã€‚æœ¬æ–‡é‡‡ç”¨çš„Hadoopç‰ˆæœ¬ä¸º0.20.2ï¼ŒHBaseç‰ˆæœ¬ä¸º0.90.6ï¼ŒZooKeeperçš„ç‰ˆæœ¬ä¸º3.3.2ï¼ˆstableç‰ˆï¼‰ã€‚æœ¬æ–‡ä»ç„¶é‡‡ç”¨äº†Hadoopå®‰è£…çš„çŽ¯å¢ƒï¼Œæœºå™¨å¦‚ä¸‹ï¼š æœºå™¨å IPåœ°å€ ç”¨é€” Hadoopæ¨¡å— HBaseæ¨¡å— ZooKeeperæ¨¡å— server206 192.168.20.6 Master NameNodeã€JobTrackerã€SecondaryNameNode HMaster QuorumPeerMain ap1 192.168.20.36 Slave DataNodeã€TaskTracker HRegionServer QuorumPeerMain ap2 192.168.20.38 Slave DataNodeã€TaskTracker HRegionServer QuorumPeerMain å®‰è£…ZooKeeperç”±äºŽHBaseé»˜è®¤é›†æˆäº†ZooKeeperï¼Œå¯ä»¥ä¸ç”¨å•ç‹¬å®‰è£…ZooKeeperã€‚æœ¬æ–‡é‡‡ç”¨ç‹¬ç«‹å®‰è£…ZooKeeperçš„æ–¹å¼ã€‚1. å°†zookeeperè§£åŽ‹åˆ°/home/hadoopç›®å½•ä¸‹ã€‚2. å°†/home/hadoop/zookeeper-3.3.2/confç›®å½•ä¸‹çš„zoo_sample.cfgæ–‡ä»¶æ‹·è´ä¸€ä»½ï¼Œå‘½åä¸ºä¸ºâ€œzoo.cfgâ€ã€‚3. ä¿®æ”¹zoo.cfgæ–‡ä»¶ï¼Œä¿®æ”¹åŽå†…å®¹å¦‚ä¸‹ï¼š12345678910111213141516# The number of milliseconds of each ticktickTime=2000# The number of ticks that the initial # synchronization phase can takeinitLimit=10# The number of ticks that can pass between # sending a request and getting an acknowledgementsyncLimit=5# the directory where the snapshot is stored.dataDir=/home/hadoop/zookeeper-3.3.2/zookeeper_data# the port at which the clients will connectclientPort=2181dataLogDir=/home/hadoop/zookeeper-3.3.2/logsserver.1=192.168.20.6:2888:3888server.2=192.168.20.36:2888:3888server.3=192.168.20.38:2888:3888 å…¶ä¸­ï¼Œ2888ç«¯å£å·æ˜¯zookeeperæœåŠ¡ä¹‹é—´é€šä¿¡çš„ç«¯å£ï¼Œè€Œ3888æ˜¯zookeeperä¸Žå…¶ä»–åº”ç”¨ç¨‹åºé€šä¿¡çš„ç«¯å£ã€‚è¿™é‡Œä¿®æ”¹äº†dataDirå’ŒdataLogDirçš„å€¼ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šå¦‚æžœè¦ä¿®æ”¹dataDirçš„å€¼ä¸èƒ½å°†åŽŸæ¥çš„è¡Œåœ¨å‰é¢åŠ ä¸ªâ€œ#â€æ³¨é‡ŠæŽ‰åŽåœ¨åŽé¢å†å¢žåŠ ä¸€è¡Œï¼Œè¿™æ ·æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚å¯ä»¥å‚è€ƒbinç›®å½•ä¸‹çš„zkServer.shæ–‡ä»¶ä¸­çš„72è¡Œï¼Œå†…å®¹å¦‚ä¸‹ï¼š1ZOOPIDFILE=$(grep dataDir &quot;$ZOOCFG&quot; | sed -e &apos;s/.*=//&apos;)/zookeeper_server.pid è¿™é‡Œé€šè¿‡grepå’Œsedå‘½ä»¤æ¥èŽ·å–dataDirçš„å€¼ï¼Œå¯¹äºŽè¡Œå‰é¢æ·»åŠ â€œ#â€æ³¨é‡Šæ˜¯ä¸èµ·ä½œç”¨çš„ã€‚4. åˆ›å»ºzoo.cfgæ–‡ä»¶ä¸­çš„dataDirå’ŒdataLogDiræ‰€æŒ‡å®šçš„ç›®å½•ã€‚5. åœ¨dataDirç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶myidã€‚6. é€šè¿‡scpå‘½ä»¤å°†zookeeper-3.3.2ç›®å½•æ‹·è´åˆ°å…¶ä»–èŠ‚ç‚¹æœºä¸Šã€‚7. ä¿®æ”¹myidæ–‡ä»¶ï¼Œåœ¨å¯¹åº”çš„IPçš„æœºå™¨ä¸Šè¾“å…¥å¯¹åº”çš„ç¼–å·ï¼Œè¯¥ç¼–å·è¦å’Œzoo.cfgä¸­çš„ä¸€è‡´ã€‚æœ¬ä¾‹ä¸­åœ¨192.168.20.6ä¸Šæ–‡ä»¶å†…å®¹ä¸º1ï¼›åœ¨192.168.20.36ä¸Šæ–‡ä»¶å†…å®¹ä¸º2ï¼›åœ¨192.168.20.38ä¸Šæ–‡ä»¶å†…å®¹ä¸º3ã€‚è‡³æ­¤ï¼ºooï¼«eeperçš„å®‰è£…å·²ç»å®Œæˆã€‚ è¿è¡ŒZooKeeper1. åœ¨èŠ‚ç‚¹æœºä¸Šä¾æ¬¡æ‰§è¡Œ/home/hadoop/zookeeper-3.3.2/bin/zkServer.sh startè„šæœ¬ã€‚è¿è¡Œç¬¬ä¸€ä¸ªZooKeeperçš„æ—¶å€™ä¼šå› ç­‰å¾…å…¶ä»–èŠ‚ç‚¹è€Œå‡ºçŽ°åˆ·å±çŽ°è±¡ï¼Œç­‰å¯åŠ¨èµ·ç¬¬äºŒä¸ªèŠ‚ç‚¹ä¸Šçš„ZooKeeperåŽå°±æ­£å¸¸äº†ã€‚è¿è¡Œå®Œæˆä¹‹åŽè¯¥è„šæœ¬ä¼šå‡ºçŽ°åˆ·å±çŽ°è±¡ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰ç†ä¼šã€‚2. é€šè¿‡jpså‘½ä»¤æ¥æŸ¥çœ‹å„èŠ‚ç‚¹æœºä¸Šæ˜¯å¦å«æœ‰QuorumPeerMainè¿›ç¨‹ã€‚3. é€šè¿‡/home/hadoop/zookeeper-3.3.2/bin/zkServer.sh statuså‘½ä»¤æ¥æŸ¥çœ‹çŠ¶æ€ã€‚æœ¬ä¾‹ä¸­æœ‰ä¸‰ä¸ªèŠ‚ç‚¹æœºï¼Œå…¶ä¸­å¿…æœ‰ä¸€ä¸ªleaderï¼Œä¸¤ä¸ªfollowerå­˜åœ¨ã€‚4. åœ¨å„èŠ‚ç‚¹æœºä¸Šä¾æ¬¡æ‰§è¡Œ/home/hadoop/zookeeper-3.3.2/bin/zkServer.sh stopæ¥åœæ­¢ZooKeeperæœåŠ¡ã€‚ é…ç½®æ—¶é—´åŒæ­¥ntpæœåŠ¡HBaseåœ¨è¿è¡Œçš„æ—¶å€™å„ä¸ªèŠ‚ç‚¹ä¹‹é—´æ—¶é—´ä¸åŒæ­¥ä¼šå­˜åœ¨èŽ«åå…¶å¦™çš„é—®é¢˜ï¼Œè¿™é‡Œé€‰æ‹©ä»¥192.168.20.36æœºå™¨ä½œä¸ºæ—¶é—´åŒæ­¥æœåŠ¡å™¨ï¼Œå…¶ä»–æœºå™¨ä»Žè¯¥æœºå™¨åŒæ­¥æ—¶é—´ã€‚åœ¨192.168.20.36ä¸Šé€šè¿‡service ntpd startå‘½ä»¤æ¥å¯åŠ¨ntpæœåŠ¡ã€‚åœ¨å…¶ä»–æœºå™¨ä¸Šé…ç½®crontabå‘½ä»¤ï¼Œå¢žåŠ ä¸‹é¢ä¸€è¡Œï¼š10 */1 * * * /usr/sbin/ntpdate 192.168.20.36 &amp;&amp; /sbin/hwclock -w è¿™é‡Œé‡‡ç”¨ä¸€ä¸ªå°æ—¶åŒæ­¥ä¸€æ¬¡æ—¶é—´çš„æ–¹å¼ã€‚ å®‰è£…HBase1. åœ¨HMasteræœºå™¨ä¸Šå°†HBaseè§£åŽ‹åˆ°/home/hadoopç›®å½•ä¸‹ã€‚2. ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-env.shï¼Œä½¿export HBASE_MANAGES_ZK=falseã€‚å¦‚æžœæƒ³è¦HBaseä½¿ç”¨è‡ªå¸¦çš„ZooKeeperåˆ™ä½¿ç”¨è®¾ç½®ä¸ºtrueã€‚ä½¿export JAVA_HOME=/usr/java/jdk1.6.0_10æ¥æŒ‡å®šjavaçš„å®‰è£…è·¯å¾„ã€‚3. ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-site.xmlå¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031323334&lt;configuration&gt; &lt;property&gt; &lt;name&gt;hbase.rootdir&lt;/name&gt; &lt;value&gt;hdfs://server206:9000/hbase&lt;/value&gt; &lt;/property&gt;&lt;property&gt; &lt;name&gt;hbase.cluster.distributed&lt;/name&gt; &lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;hbase.master.port&lt;/name&gt; &lt;value&gt;60000&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt; &lt;value&gt;2181&lt;/value&gt; &lt;/property&gt;&lt;property&gt; &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt; &lt;value&gt;server206,ap1,ap2&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt; &lt;value&gt;/home/hadoop/zookeeper-3.3.2/zookeeper_data&lt;/value&gt; &lt;/property&gt;&lt;property&gt; &lt;name&gt;dfs.support.append&lt;/name&gt; &lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;hbase.regionserver.handler.count&lt;/name&gt; &lt;value&gt;100&lt;/value&gt;&lt;/property&gt; &lt;/configuration&gt; 4. ä¿®æ”¹regionserversï¼Œæ·»åŠ HRegionServeræ¨¡å—æ‰€è¿è¡Œæœºå™¨çš„ä¸»æœºåã€‚åœ¨æœ¬ä¾‹ä¸­å†…å®¹å¦‚ä¸‹ï¼š12ap1ap2 5. ä¸ºäº†ç¡®ä¿HBaseå’ŒHadoopçš„å…¼å®¹æ€§ï¼Œè¿™é‡Œå°†/home/hadoop/hadoop-0.20.2/hadoop-0.20.2-core.jaræ–‡ä»¶å¤åˆ¶åˆ°/home/hadoop/hbase-0.90.6/libç›®å½•ä¸‹ï¼Œå¹¶å°†åŽŸå…ˆçš„Hadoopçš„jaræ–‡ä»¶åˆ æŽ‰æˆ–é‡å‘½åä¸ºå…¶ä»–åŽç¼€çš„æ–‡ä»¶ã€‚6. å°†hbase-0.90.6æ–‡ä»¶å¤¹é€šè¿‡scpå‘½ä»¤å¤åˆ¶åˆ°å…¶ä»–èŠ‚ç‚¹æœºä¸Šã€‚ HBaseçš„å¯åŠ¨ åœ¨Hadoopçš„NameNodeæ‰€åœ¨çš„æœºå™¨ä¸Šä½¿ç”¨start-all.shè„šæœ¬æ¥å¯åŠ¨Hadoopé›†ç¾¤ã€‚ åœ¨å„ä¸ªèŠ‚ç‚¹æœºä¸Šè°ƒç”¨zkServer.shè„šæœ¬æ¥å¯åŠ¨ZooKeeperã€‚ åœ¨HMasteræ‰€åœ¨çš„æœºå™¨ä¸Šä½¿ç”¨start-hbase.shè„šæœ¬æ¥å¯åŠ¨HBaseé›†ç¾¤ã€‚ HBaseå¯åŠ¨åŽä¼šåœ¨HDFSè‡ªåŠ¨åˆ›å»º/hbaseçš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥é€šè¿‡hadoop fs -ls /hbaseå‘½ä»¤æ¥æŸ¥çœ‹ï¼Œè¯¥ç›®å½•ä¸éœ€è¦è‡ªåŠ¨åˆ›å»ºã€‚å¦‚æžœåœ¨å®‰è£…HBaseçš„è¿‡ç¨‹ä¸­å¤±è´¥éœ€è¦é‡æ–°å¯åŠ¨ï¼Œæœ€å¥½å°†æ­¤ç›®å½•ä»Žé›†ç¾¤ä¸­åˆ é™¤ï¼Œé€šè¿‡å‘½ä»¤hadoop fs -rmr /hbaseæ¥åˆ é™¤ã€‚ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯åœ¨hadoopé›†ç¾¤ä¸­hadoop fs -ls /hbaseç›®å½•å’Œhadoop fs -ls hbaseç›®å½•å¹¶éžä¸€ä¸ªç›®å½•ï¼Œé€šè¿‡hadoop fs -ls hbaseæŸ¥çœ‹åˆ°çš„ç›®å½•å®žé™…ä¸Šä¸º/user/hadoop/hbaseç›®å½•ã€‚ HBaseç®¡ç†ç•Œé¢Masterçš„ç•Œé¢ï¼šhttp://192.168.20.6:60010/master.jspRegionServerçš„ç•Œé¢ï¼šhttp://192.168.20.36:60030/regionserver.jspå’Œhttp://192.168.20.38:60030/regionserver.jsp å‚è€ƒèµ„æ–™ http://blog.csdn.net/gudaoqianfu/article/details/7327191 http://thomas0988.iteye.com/blog/1309867 ä¸‹è½½é“¾æŽ¥http://pan.baidu.com/share/link?shareid=1235031445&amp;uk=3506813023 æå–ç ï¼šv8ok]]></content>
    </entry>

    
  
  
</search>
